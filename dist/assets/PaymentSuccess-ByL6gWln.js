import{_ as C,u as T,r as m,o as M,s as N,b as V,d as l,e as i,f as s,l as q,x as P,t as n,p as d,g as I,w as R,h as S,i as g,F as E,q as F}from"./index-BeyCD7yF.js";const B={class:"payment-success-page"},O={class:"container py-5 mt-5"},$={class:"row justify-content-center"},D={class:"col-lg-8 col-md-10"},U={class:"success-card"},Z={class:"success-content text-center"},j={class:"order-info"},z={class:"order-code"},H={class:"value"},K={class:"order-total"},Q={class:"value"},G={class:"payment-method"},J={class:"value"},L={class:"next-steps"},X={class:"steps-list"},A={key:0,class:"step"},W={key:1,class:"step"},Y={key:2,class:"step"},ss={class:"action-buttons"},ts={key:0,class:"row justify-content-center mt-5"},ns={class:"col-lg-8"},os={class:"order-details-card"},as={class:"order-items"},es=["src","alt"],ls={class:"item-info"},is={class:"item-details"},rs={class:"item-total"},ds={class:"order-summary"},cs={class:"summary-row"},us={class:"summary-row"},ps={class:"summary-row total"},ms={__name:"PaymentSuccess",setup(hs){const f=V(),u=N(),{formatPrice:r,showNotification:h}=T(),p=m(""),v=m(0),c=m(""),e=m(null);M(()=>{if(u.query.orderCode)p.value=u.query.orderCode,v.value=parseInt(u.query.total)||0,c.value=u.query.paymentMethod||"cod";else{const o=localStorage.getItem("easymart-last-order");if(o){const t=JSON.parse(o);p.value=t.orderCode,v.value=t.summary?.total||0,c.value=t.customer?.paymentMethod||"cod",e.value=t}else h("Không tìm thấy thông tin đơn hàng","warning"),f.push("/")}});const y=o=>({cod:"Thanh toán khi nhận hàng (COD)",banking:"Chuyển khoản ngân hàng",qr:"Quét mã QR",momo:"Ví MoMo",vnpay:"VNPay",zalopay:"ZaloPay"})[o]||"Khác",b=()=>{h("Tính năng xem lịch sử đơn hàng đang được phát triển","info")},_=()=>{const o=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.origin)}`;window.open(o,"_blank","width=600,height=400")},k=()=>{const o=`Tôi vừa mua sắm thành công tại EasyMart! Mã đơn hàng: ${p.value}`,t=`https://twitter.com/intent/tweet?text=${encodeURIComponent(o)}&url=${encodeURIComponent(window.location.origin)}`;window.open(t,"_blank","width=600,height=400")},w=()=>{h("Tính năng chia sẻ Zalo đang được phát triển","info")};return(o,t)=>{const x=S("router-link");return i(),l("div",B,[s("div",O,[s("div",$,[s("div",D,[s("div",U,[t[18]||(t[18]=s("div",{class:"success-icon"},[s("div",{class:"checkmark-circle"},[s("i",{class:"fas fa-check"})])],-1)),s("div",Z,[t[15]||(t[15]=s("h1",{class:"success-title"},"Thanh toán thành công!",-1)),t[16]||(t[16]=s("p",{class:"success-subtitle"}," Cảm ơn bạn đã mua hàng tại EasyMart. Đơn hàng của bạn đã được xác nhận. ",-1)),s("div",j,[s("div",z,[t[0]||(t[0]=s("span",{class:"label"},"Mã đơn hàng:",-1)),s("span",H,n(p.value),1)]),s("div",K,[t[1]||(t[1]=s("span",{class:"label"},"Tổng tiền:",-1)),s("span",Q,n(d(r)(v.value)),1)]),s("div",G,[t[2]||(t[2]=s("span",{class:"label"},"Phương thức:",-1)),s("span",J,n(y(c.value)),1)])]),s("div",L,[t[8]||(t[8]=s("h5",null,"Bước tiếp theo:",-1)),s("div",X,[c.value==="cod"?(i(),l("div",A,t[3]||(t[3]=[s("i",{class:"fas fa-truck text-primary"},null,-1),s("span",null,"Chúng tôi sẽ giao hàng và bạn thanh toán khi nhận hàng",-1)]))):c.value==="banking"?(i(),l("div",W,t[4]||(t[4]=[s("i",{class:"fas fa-university text-primary"},null,-1),s("span",null,"Vui lòng chuyển khoản theo thông tin đã cung cấp",-1)]))):(i(),l("div",Y,t[5]||(t[5]=[s("i",{class:"fas fa-credit-card text-primary"},null,-1),s("span",null,"Thanh toán đã được xử lý thành công",-1)]))),t[6]||(t[6]=s("div",{class:"step"},[s("i",{class:"fas fa-box text-success"}),s("span",null,"Đơn hàng sẽ được chuẩn bị và đóng gói")],-1)),t[7]||(t[7]=s("div",{class:"step"},[s("i",{class:"fas fa-shipping-fast text-warning"}),s("span",null,"Giao hàng trong vòng 2-24 giờ")],-1))])]),t[17]||(t[17]=P('<div class="contact-info" data-v-6f17d219><p class="mb-2" data-v-6f17d219><i class="fas fa-phone text-primary me-2" data-v-6f17d219></i> Hotline hỗ trợ: <strong data-v-6f17d219>1900 1234</strong></p><p class="mb-0" data-v-6f17d219><i class="fas fa-envelope text-primary me-2" data-v-6f17d219></i> Email: <strong data-v-6f17d219>support@easymart.vn</strong></p></div>',1)),s("div",ss,[I(x,{to:"/",class:"btn btn-primary btn-lg me-3"},{default:R(()=>t[9]||(t[9]=[s("i",{class:"fas fa-home me-2"},null,-1),g(" Về trang chủ ")])),_:1,__:[9]}),s("button",{class:"btn btn-outline-primary btn-lg",onClick:b},t[10]||(t[10]=[s("i",{class:"fas fa-history me-2"},null,-1),g(" Xem đơn hàng ")]))]),s("div",{class:"social-share"},[t[14]||(t[14]=s("p",{class:"mb-3"},"Chia sẻ niềm vui mua sắm:",-1)),s("div",{class:"social-buttons"},[s("button",{class:"btn btn-facebook",onClick:_},t[11]||(t[11]=[s("i",{class:"fab fa-facebook-f"},null,-1)])),s("button",{class:"btn btn-twitter",onClick:k},t[12]||(t[12]=[s("i",{class:"fab fa-twitter"},null,-1)])),s("button",{class:"btn btn-zalo",onClick:w},t[13]||(t[13]=[s("i",{class:"fas fa-comment"},null,-1)]))])])])])])]),e.value?(i(),l("div",ts,[s("div",ns,[s("div",os,[t[22]||(t[22]=s("h5",{class:"card-title"},[s("i",{class:"fas fa-receipt me-2"}),g(" Chi tiết đơn hàng ")],-1)),s("div",as,[(i(!0),l(E,null,F(e.value.items,a=>(i(),l("div",{key:a.productId,class:"order-item"},[s("img",{src:a.product?.image,alt:a.product?.name,class:"item-image"},null,8,es),s("div",ls,[s("h6",null,n(a.product?.name),1),s("div",is,[s("span",null,n(d(r)(a.product?.price||0))+" x "+n(a.quantity),1),s("span",rs,n(d(r)((a.product?.price||0)*a.quantity)),1)])])]))),128))]),s("div",ds,[s("div",cs,[t[19]||(t[19]=s("span",null,"Tạm tính:",-1)),s("span",null,n(d(r)(e.value.summary?.subtotal||0)),1)]),s("div",us,[t[20]||(t[20]=s("span",null,"Phí vận chuyển:",-1)),s("span",null,n(e.value.summary?.shippingFee===0?"Miễn phí":d(r)(e.value.summary?.shippingFee||0)),1)]),s("div",ps,[t[21]||(t[21]=s("span",null,"Tổng cộng:",-1)),s("span",null,n(d(r)(e.value.summary?.total||0)),1)])])])])])):q("",!0)])])}}},gs=C(ms,[["__scopeId","data-v-6f17d219"]]);export{gs as default};
