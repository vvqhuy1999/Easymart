const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Promotions-C8Xf6VlC.js","assets/Promotions-BlNg8Auk.css","assets/Checkout-CvkkE2Ql.js","assets/Checkout-CmDUvNsV.css","assets/PaymentSuccess-DbBx7do9.js","assets/PaymentSuccess-BCbCYnIA.css","assets/Search-BGgBhgjC.js","assets/Search-0TRBME_e.css","assets/Categories-49ZtH4Vs.js","assets/Categories-B2JZZ1b3.css","assets/Category-D7Cb1Rds.js","assets/Category-D5oOeu2v.css","assets/About-B_PjhzrM.js","assets/About-DgzfHmDy.css","assets/Contact-dEO8ppdy.js","assets/Contact-DBVWMA8u.css","assets/Login-BiTwiVO3.js","assets/FacebookSignIn-CV6z5AIy.js","assets/FacebookSignIn-CFog5q6W.css","assets/Login-Br0MiDYh.css","assets/Register-7EovN3xV.js","assets/Register-m9ywLs9E.css","assets/ForgotPassword-Cl1qTntB.js","assets/ForgotPassword-t_7DdeHy.css","assets/Profile-T7unPZtW.js","assets/Profile-CwOIXYIF.css","assets/OAuth2Success-0O-4JiEt.js","assets/OAuth2Success-QxBzb51L.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Io(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ce={},mn=[],kt=()=>{},al=()=>!1,Os=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Po=e=>e.startsWith("onUpdate:"),De=Object.assign,Ro=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ll=Object.prototype.hasOwnProperty,_e=(e,t)=>ll.call(e,t),se=Array.isArray,gn=e=>is(e)==="[object Map]",En=e=>is(e)==="[object Set]",ar=e=>is(e)==="[object Date]",fe=e=>typeof e=="function",Ie=e=>typeof e=="string",Et=e=>typeof e=="symbol",ke=e=>e!==null&&typeof e=="object",hi=e=>(ke(e)||fe(e))&&fe(e.then)&&fe(e.catch),pi=Object.prototype.toString,is=e=>pi.call(e),cl=e=>is(e).slice(8,-1),mi=e=>is(e)==="[object Object]",Oo=e=>Ie(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Mn=Io(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ds=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ul=/-(\w)/g,it=Ds(e=>e.replace(ul,(t,n)=>n?n.toUpperCase():"")),dl=/\B([A-Z])/g,Jt=Ds(e=>e.replace(dl,"-$1").toLowerCase()),Ls=Ds(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qs=Ds(e=>e?`on${Ls(e)}`:""),Wt=(e,t)=>!Object.is(e,t),gs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},uo=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Cs=e=>{const t=parseFloat(e);return isNaN(t)?e:t},fl=e=>{const t=Ie(e)?Number(e):NaN;return isNaN(t)?e:t};let lr;const Ms=()=>lr||(lr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _n(e){if(se(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Ie(s)?gl(s):_n(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(Ie(e)||ke(e))return e}const hl=/;(?![^(]*\))/g,pl=/:([^]+)/,ml=/\/\*[^]*?\*\//g;function gl(e){const t={};return e.replace(ml,"").split(hl).forEach(n=>{if(n){const s=n.split(pl);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ye(e){let t="";if(Ie(e))t=e;else if(se(e))for(let n=0;n<e.length;n++){const s=ye(e[n]);s&&(t+=s+" ")}else if(ke(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const vl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yl=Io(vl);function gi(e){return!!e||e===""}function bl(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=ln(e[s],t[s]);return n}function ln(e,t){if(e===t)return!0;let n=ar(e),s=ar(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Et(e),s=Et(t),n||s)return e===t;if(n=se(e),s=se(t),n||s)return n&&s?bl(e,t):!1;if(n=ke(e),s=ke(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const i in e){const l=e.hasOwnProperty(i),c=t.hasOwnProperty(i);if(l&&!c||!l&&c||!ln(e[i],t[i]))return!1}}return String(e)===String(t)}function Do(e,t){return e.findIndex(n=>ln(n,t))}const vi=e=>!!(e&&e.__v_isRef===!0),G=e=>Ie(e)?e:e==null?"":se(e)||ke(e)&&(e.toString===pi||!fe(e.toString))?vi(e)?G(e.value):JSON.stringify(e,yi,2):String(e),yi=(e,t)=>vi(t)?yi(e,t.value):gn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[Js(s,r)+" =>"]=o,n),{})}:En(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Js(n))}:Et(t)?Js(t):ke(t)&&!se(t)&&!mi(t)?String(t):t,Js=(e,t="")=>{var n;return Et(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Je;class _l{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Je;try{return Je=this,t()}finally{Je=n}}}on(){++this._on===1&&(this.prevScope=Je,Je=this)}off(){this._on>0&&--this._on===0&&(Je=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function wl(){return Je}let Ee;const Xs=new WeakSet;class bi{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Je&&Je.active&&Je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Xs.has(this)&&(Xs.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wi(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cr(this),Ti(this);const t=Ee,n=at;Ee=this,at=!0;try{return this.fn()}finally{Ci(this),Ee=t,at=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ho(t);this.deps=this.depsTail=void 0,cr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Xs.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){fo(this)&&this.run()}get dirty(){return fo(this)}}let _i=0,Hn,Nn;function wi(e,t=!1){if(e.flags|=8,t){e.next=Nn,Nn=e;return}e.next=Hn,Hn=e}function Lo(){_i++}function Mo(){if(--_i>0)return;if(Nn){let t=Nn;for(Nn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Hn;){let t=Hn;for(Hn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ti(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ci(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),Ho(s),Tl(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function fo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ki(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ki(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===qn)||(e.globalVersion=qn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!fo(e))))return;e.flags|=2;const t=e.dep,n=Ee,s=at;Ee=e,at=!0;try{Ti(e);const o=e.fn(e._value);(t.version===0||Wt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ee=n,at=s,Ci(e),e.flags&=-3}}function Ho(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Ho(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Tl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let at=!0;const Si=[];function Mt(){Si.push(at),at=!1}function Ht(){const e=Si.pop();at=e===void 0?!0:e}function cr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ee;Ee=void 0;try{t()}finally{Ee=n}}}let qn=0;class Cl{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class No{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ee||!at||Ee===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ee)n=this.activeLink=new Cl(Ee,this),Ee.deps?(n.prevDep=Ee.depsTail,Ee.depsTail.nextDep=n,Ee.depsTail=n):Ee.deps=Ee.depsTail=n,Ei(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ee.depsTail,n.nextDep=void 0,Ee.depsTail.nextDep=n,Ee.depsTail=n,Ee.deps===n&&(Ee.deps=s)}return n}trigger(t){this.version++,qn++,this.notify(t)}notify(t){Lo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Mo()}}}function Ei(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Ei(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const ho=new WeakMap,rn=Symbol(""),po=Symbol(""),Wn=Symbol("");function Fe(e,t,n){if(at&&Ee){let s=ho.get(e);s||ho.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new No),o.map=s,o.key=n),o.track()}}function Pt(e,t,n,s,o,r){const i=ho.get(e);if(!i){qn++;return}const l=c=>{c&&c.trigger()};if(Lo(),t==="clear")i.forEach(l);else{const c=se(e),d=c&&Oo(n);if(c&&n==="length"){const u=Number(s);i.forEach((h,p)=>{(p==="length"||p===Wn||!Et(p)&&p>=u)&&l(h)})}else switch((n!==void 0||i.has(void 0))&&l(i.get(n)),d&&l(i.get(Wn)),t){case"add":c?d&&l(i.get("length")):(l(i.get(rn)),gn(e)&&l(i.get(po)));break;case"delete":c||(l(i.get(rn)),gn(e)&&l(i.get(po)));break;case"set":gn(e)&&l(i.get(rn));break}}Mo()}function fn(e){const t=ve(e);return t===e?t:(Fe(t,"iterate",Wn),st(e)?t:t.map(He))}function Hs(e){return Fe(e=ve(e),"iterate",Wn),e}const kl={__proto__:null,[Symbol.iterator](){return Zs(this,Symbol.iterator,He)},concat(...e){return fn(this).concat(...e.map(t=>se(t)?fn(t):t))},entries(){return Zs(this,"entries",e=>(e[1]=He(e[1]),e))},every(e,t){return xt(this,"every",e,t,void 0,arguments)},filter(e,t){return xt(this,"filter",e,t,n=>n.map(He),arguments)},find(e,t){return xt(this,"find",e,t,He,arguments)},findIndex(e,t){return xt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return xt(this,"findLast",e,t,He,arguments)},findLastIndex(e,t){return xt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return xt(this,"forEach",e,t,void 0,arguments)},includes(...e){return eo(this,"includes",e)},indexOf(...e){return eo(this,"indexOf",e)},join(e){return fn(this).join(e)},lastIndexOf(...e){return eo(this,"lastIndexOf",e)},map(e,t){return xt(this,"map",e,t,void 0,arguments)},pop(){return Pn(this,"pop")},push(...e){return Pn(this,"push",e)},reduce(e,...t){return ur(this,"reduce",e,t)},reduceRight(e,...t){return ur(this,"reduceRight",e,t)},shift(){return Pn(this,"shift")},some(e,t){return xt(this,"some",e,t,void 0,arguments)},splice(...e){return Pn(this,"splice",e)},toReversed(){return fn(this).toReversed()},toSorted(e){return fn(this).toSorted(e)},toSpliced(...e){return fn(this).toSpliced(...e)},unshift(...e){return Pn(this,"unshift",e)},values(){return Zs(this,"values",He)}};function Zs(e,t,n){const s=Hs(e),o=s[t]();return s!==e&&!st(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=n(r.value)),r}),o}const Sl=Array.prototype;function xt(e,t,n,s,o,r){const i=Hs(e),l=i!==e&&!st(e),c=i[t];if(c!==Sl[t]){const h=c.apply(e,r);return l?He(h):h}let d=n;i!==e&&(l?d=function(h,p){return n.call(this,He(h),p,e)}:n.length>2&&(d=function(h,p){return n.call(this,h,p,e)}));const u=c.call(i,d,s);return l&&o?o(u):u}function ur(e,t,n,s){const o=Hs(e);let r=n;return o!==e&&(st(e)?n.length>3&&(r=function(i,l,c){return n.call(this,i,l,c,e)}):r=function(i,l,c){return n.call(this,i,He(l),c,e)}),o[t](r,...s)}function eo(e,t,n){const s=ve(e);Fe(s,"iterate",Wn);const o=s[t](...n);return(o===-1||o===!1)&&Bo(n[0])?(n[0]=ve(n[0]),s[t](...n)):o}function Pn(e,t,n=[]){Mt(),Lo();const s=ve(e)[t].apply(e,n);return Mo(),Ht(),s}const El=Io("__proto__,__v_isRef,__isVue"),xi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Et));function xl(e){Et(e)||(e=String(e));const t=ve(this);return Fe(t,"has",e),t.hasOwnProperty(e)}class $i{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?Hl:Ri:r?Pi:Ii).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=se(t);if(!o){let c;if(i&&(c=kl[n]))return c;if(n==="hasOwnProperty")return xl}const l=Reflect.get(t,n,Ue(t)?t:s);return(Et(n)?xi.has(n):El(n))||(o||Fe(t,"get",n),r)?l:Ue(l)?i&&Oo(n)?l:l.value:ke(l)?o?Di(l):Dt(l):l}}class Ai extends $i{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=Yt(r);if(!st(s)&&!Yt(s)&&(r=ve(r),s=ve(s)),!se(t)&&Ue(r)&&!Ue(s))return c?!1:(r.value=s,!0)}const i=se(t)&&Oo(n)?Number(n)<t.length:_e(t,n),l=Reflect.set(t,n,s,Ue(t)?t:o);return t===ve(o)&&(i?Wt(s,r)&&Pt(t,"set",n,s):Pt(t,"add",n,s)),l}deleteProperty(t,n){const s=_e(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Pt(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!Et(n)||!xi.has(n))&&Fe(t,"has",n),s}ownKeys(t){return Fe(t,"iterate",se(t)?"length":rn),Reflect.ownKeys(t)}}class $l extends $i{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Al=new Ai,Il=new $l,Pl=new Ai(!0);const mo=e=>e,us=e=>Reflect.getPrototypeOf(e);function Rl(e,t,n){return function(...s){const o=this.__v_raw,r=ve(o),i=gn(r),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=o[e](...s),u=n?mo:t?ks:He;return!t&&Fe(r,"iterate",c?po:rn),{next(){const{value:h,done:p}=d.next();return p?{value:h,done:p}:{value:l?[u(h[0]),u(h[1])]:u(h),done:p}},[Symbol.iterator](){return this}}}}function ds(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Ol(e,t){const n={get(o){const r=this.__v_raw,i=ve(r),l=ve(o);e||(Wt(o,l)&&Fe(i,"get",o),Fe(i,"get",l));const{has:c}=us(i),d=t?mo:e?ks:He;if(c.call(i,o))return d(r.get(o));if(c.call(i,l))return d(r.get(l));r!==i&&r.get(o)},get size(){const o=this.__v_raw;return!e&&Fe(ve(o),"iterate",rn),Reflect.get(o,"size",o)},has(o){const r=this.__v_raw,i=ve(r),l=ve(o);return e||(Wt(o,l)&&Fe(i,"has",o),Fe(i,"has",l)),o===l?r.has(o):r.has(o)||r.has(l)},forEach(o,r){const i=this,l=i.__v_raw,c=ve(l),d=t?mo:e?ks:He;return!e&&Fe(c,"iterate",rn),l.forEach((u,h)=>o.call(r,d(u),d(h),i))}};return De(n,e?{add:ds("add"),set:ds("set"),delete:ds("delete"),clear:ds("clear")}:{add(o){!t&&!st(o)&&!Yt(o)&&(o=ve(o));const r=ve(this);return us(r).has.call(r,o)||(r.add(o),Pt(r,"add",o,o)),this},set(o,r){!t&&!st(r)&&!Yt(r)&&(r=ve(r));const i=ve(this),{has:l,get:c}=us(i);let d=l.call(i,o);d||(o=ve(o),d=l.call(i,o));const u=c.call(i,o);return i.set(o,r),d?Wt(r,u)&&Pt(i,"set",o,r):Pt(i,"add",o,r),this},delete(o){const r=ve(this),{has:i,get:l}=us(r);let c=i.call(r,o);c||(o=ve(o),c=i.call(r,o)),l&&l.call(r,o);const d=r.delete(o);return c&&Pt(r,"delete",o,void 0),d},clear(){const o=ve(this),r=o.size!==0,i=o.clear();return r&&Pt(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Rl(o,e,t)}),n}function Uo(e,t){const n=Ol(e,t);return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(_e(n,o)&&o in s?n:s,o,r)}const Dl={get:Uo(!1,!1)},Ll={get:Uo(!1,!0)},Ml={get:Uo(!0,!1)};const Ii=new WeakMap,Pi=new WeakMap,Ri=new WeakMap,Hl=new WeakMap;function Nl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ul(e){return e.__v_skip||!Object.isExtensible(e)?0:Nl(cl(e))}function Dt(e){return Yt(e)?e:Go(e,!1,Al,Dl,Ii)}function Oi(e){return Go(e,!1,Pl,Ll,Pi)}function Di(e){return Go(e,!0,Il,Ml,Ri)}function Go(e,t,n,s,o){if(!ke(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Ul(e);if(r===0)return e;const i=o.get(e);if(i)return i;const l=new Proxy(e,r===2?s:n);return o.set(e,l),l}function vn(e){return Yt(e)?vn(e.__v_raw):!!(e&&e.__v_isReactive)}function Yt(e){return!!(e&&e.__v_isReadonly)}function st(e){return!!(e&&e.__v_isShallow)}function Bo(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function Gl(e){return!_e(e,"__v_skip")&&Object.isExtensible(e)&&uo(e,"__v_skip",!0),e}const He=e=>ke(e)?Dt(e):e,ks=e=>ke(e)?Di(e):e;function Ue(e){return e?e.__v_isRef===!0:!1}function J(e){return Li(e,!1)}function Bl(e){return Li(e,!0)}function Li(e,t){return Ue(e)?e:new Fl(e,t)}class Fl{constructor(t,n){this.dep=new No,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ve(t),this._value=n?t:He(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||st(t)||Yt(t);t=s?t:ve(t),Wt(t,n)&&(this._rawValue=t,this._value=s?t:He(t),this.dep.trigger())}}function N(e){return Ue(e)?e.value:e}const Vl={get:(e,t,n)=>t==="__v_raw"?e:N(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Ue(o)&&!Ue(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Mi(e){return vn(e)?e:new Proxy(e,Vl)}class Kl{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new No(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ee!==this)return wi(this,!0),!0}get value(){const t=this.dep.track();return ki(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function jl(e,t,n=!1){let s,o;return fe(e)?s=e:(s=e.get,o=e.set),new Kl(s,o,n)}const fs={},Ss=new WeakMap;let tn;function ql(e,t=!1,n=tn){if(n){let s=Ss.get(n);s||Ss.set(n,s=[]),s.push(e)}}function Wl(e,t,n=Ce){const{immediate:s,deep:o,once:r,scheduler:i,augmentJob:l,call:c}=n,d=A=>o?A:st(A)||o===!1||o===0?Rt(A,1):Rt(A);let u,h,p,v,w=!1,b=!1;if(Ue(e)?(h=()=>e.value,w=st(e)):vn(e)?(h=()=>d(e),w=!0):se(e)?(b=!0,w=e.some(A=>vn(A)||st(A)),h=()=>e.map(A=>{if(Ue(A))return A.value;if(vn(A))return d(A);if(fe(A))return c?c(A,2):A()})):fe(e)?t?h=c?()=>c(e,2):e:h=()=>{if(p){Mt();try{p()}finally{Ht()}}const A=tn;tn=u;try{return c?c(e,3,[v]):e(v)}finally{tn=A}}:h=kt,t&&o){const A=h,V=o===!0?1/0:o;h=()=>Rt(A(),V)}const x=wl(),$=()=>{u.stop(),x&&x.active&&Ro(x.effects,u)};if(r&&t){const A=t;t=(...V)=>{A(...V),$()}}let S=b?new Array(e.length).fill(fs):fs;const L=A=>{if(!(!(u.flags&1)||!u.dirty&&!A))if(t){const V=u.run();if(o||w||(b?V.some((M,y)=>Wt(M,S[y])):Wt(V,S))){p&&p();const M=tn;tn=u;try{const y=[V,S===fs?void 0:b&&S[0]===fs?[]:S,v];S=V,c?c(t,3,y):t(...y)}finally{tn=M}}}else u.run()};return l&&l(L),u=new bi(h),u.scheduler=i?()=>i(L,!1):L,v=A=>ql(A,!1,u),p=u.onStop=()=>{const A=Ss.get(u);if(A){if(c)c(A,4);else for(const V of A)V();Ss.delete(u)}},t?s?L(!0):S=u.run():i?i(L.bind(null,!0),!0):u.run(),$.pause=u.pause.bind(u),$.resume=u.resume.bind(u),$.stop=$,$}function Rt(e,t=1/0,n){if(t<=0||!ke(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ue(e))Rt(e.value,t,n);else if(se(e))for(let s=0;s<e.length;s++)Rt(e[s],t,n);else if(En(e)||gn(e))e.forEach(s=>{Rt(s,t,n)});else if(mi(e)){for(const s in e)Rt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Rt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function as(e,t,n,s){try{return s?e(...s):e()}catch(o){Ns(o,t,n)}}function dt(e,t,n,s){if(fe(e)){const o=as(e,t,n,s);return o&&hi(o)&&o.catch(r=>{Ns(r,t,n)}),o}if(se(e)){const o=[];for(let r=0;r<e.length;r++)o.push(dt(e[r],t,n,s));return o}}function Ns(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||Ce;if(t){let l=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,c,d)===!1)return}l=l.parent}if(r){Mt(),as(r,null,10,[e,c,d]),Ht();return}}Yl(e,n,o,s,i)}function Yl(e,t,n,s=!0,o=!1){if(o)throw e;console.error(e)}const je=[];let Tt=-1;const yn=[];let Vt=null,hn=0;const Hi=Promise.resolve();let Es=null;function Yn(e){const t=Es||Hi;return e?t.then(this?e.bind(this):e):t}function zl(e){let t=Tt+1,n=je.length;for(;t<n;){const s=t+n>>>1,o=je[s],r=zn(o);r<e||r===e&&o.flags&2?t=s+1:n=s}return t}function Fo(e){if(!(e.flags&1)){const t=zn(e),n=je[je.length-1];!n||!(e.flags&2)&&t>=zn(n)?je.push(e):je.splice(zl(t),0,e),e.flags|=1,Ni()}}function Ni(){Es||(Es=Hi.then(Gi))}function Ql(e){se(e)?yn.push(...e):Vt&&e.id===-1?Vt.splice(hn+1,0,e):e.flags&1||(yn.push(e),e.flags|=1),Ni()}function dr(e,t,n=Tt+1){for(;n<je.length;n++){const s=je[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;je.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ui(e){if(yn.length){const t=[...new Set(yn)].sort((n,s)=>zn(n)-zn(s));if(yn.length=0,Vt){Vt.push(...t);return}for(Vt=t,hn=0;hn<Vt.length;hn++){const n=Vt[hn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Vt=null,hn=0}}const zn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Gi(e){try{for(Tt=0;Tt<je.length;Tt++){const t=je[Tt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),as(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Tt<je.length;Tt++){const t=je[Tt];t&&(t.flags&=-2)}Tt=-1,je.length=0,Ui(),Es=null,(je.length||yn.length)&&Gi()}}let Xe=null,Bi=null;function xs(e){const t=Xe;return Xe=e,Bi=e&&e.type.__scopeId||null,t}function Ae(e,t=Xe,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Sr(-1);const r=xs(t);let i;try{i=e(...o)}finally{xs(r),s._d&&Sr(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function lt(e,t){if(Xe===null)return e;const n=Vs(Xe),s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,l,c=Ce]=t[o];r&&(fe(r)&&(r={mounted:r,updated:r}),r.deep&&Rt(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:c}))}return e}function Xt(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let c=l.dir[s];c&&(Mt(),dt(c,n,8,[e.el,l,e,t]),Ht())}}const Fi=Symbol("_vte"),Vi=e=>e.__isTeleport,Un=e=>e&&(e.disabled||e.disabled===""),fr=e=>e&&(e.defer||e.defer===""),hr=e=>typeof SVGElement<"u"&&e instanceof SVGElement,pr=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,go=(e,t)=>{const n=e&&e.to;return Ie(n)?t?t(n):null:n},Ki={name:"Teleport",__isTeleport:!0,process(e,t,n,s,o,r,i,l,c,d){const{mc:u,pc:h,pbc:p,o:{insert:v,querySelector:w,createText:b,createComment:x}}=d,$=Un(t.props);let{shapeFlag:S,children:L,dynamicChildren:A}=t;if(e==null){const V=t.el=b(""),M=t.anchor=b("");v(V,n,s),v(M,n,s);const y=(R,C)=>{S&16&&(o&&o.isCE&&(o.ce._teleportTarget=R),u(L,R,C,o,r,i,l,c))},I=()=>{const R=t.target=go(t.props,w),C=qi(R,t,b,v);R&&(i!=="svg"&&hr(R)?i="svg":i!=="mathml"&&pr(R)&&(i="mathml"),$||(y(R,C),vs(t,!1)))};$&&(y(n,M),vs(t,!0)),fr(t.props)?(t.el.__isMounted=!1,Ke(()=>{I(),delete t.el.__isMounted},r)):I()}else{if(fr(t.props)&&e.el.__isMounted===!1){Ke(()=>{Ki.process(e,t,n,s,o,r,i,l,c,d)},r);return}t.el=e.el,t.targetStart=e.targetStart;const V=t.anchor=e.anchor,M=t.target=e.target,y=t.targetAnchor=e.targetAnchor,I=Un(e.props),R=I?n:M,C=I?V:y;if(i==="svg"||hr(M)?i="svg":(i==="mathml"||pr(M))&&(i="mathml"),A?(p(e.dynamicChildren,A,R,o,r,i,l),qo(e,t,!0)):c||h(e,t,R,C,o,r,i,l,!1),$)I?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):hs(t,n,V,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const T=t.target=go(t.props,w);T&&hs(t,T,null,d,0)}else I&&hs(t,M,y,d,1);vs(t,$)}},remove(e,t,n,{um:s,o:{remove:o}},r){const{shapeFlag:i,children:l,anchor:c,targetStart:d,targetAnchor:u,target:h,props:p}=e;if(h&&(o(d),o(u)),r&&o(c),i&16){const v=r||!Un(p);for(let w=0;w<l.length;w++){const b=l[w];s(b,t,n,v,!!b.dynamicChildren)}}},move:hs,hydrate:Jl};function hs(e,t,n,{o:{insert:s},m:o},r=2){r===0&&s(e.targetAnchor,t,n);const{el:i,anchor:l,shapeFlag:c,children:d,props:u}=e,h=r===2;if(h&&s(i,t,n),(!h||Un(u))&&c&16)for(let p=0;p<d.length;p++)o(d[p],t,n,2);h&&s(l,t,n)}function Jl(e,t,n,s,o,r,{o:{nextSibling:i,parentNode:l,querySelector:c,insert:d,createText:u}},h){const p=t.target=go(t.props,c);if(p){const v=Un(t.props),w=p._lpa||p.firstChild;if(t.shapeFlag&16)if(v)t.anchor=h(i(e),t,l(e),n,s,o,r),t.targetStart=w,t.targetAnchor=w&&i(w);else{t.anchor=i(e);let b=w;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,p._lpa=t.targetAnchor&&i(t.targetAnchor);break}}b=i(b)}t.targetAnchor||qi(p,t,u,d),h(w&&i(w),t,p,n,s,o,r)}vs(t,v)}return t.anchor&&i(t.anchor)}const ji=Ki;function vs(e,t){const n=e.ctx;if(n&&n.ut){let s,o;for(t?(s=e.el,o=e.anchor):(s=e.targetStart,o=e.targetAnchor);s&&s!==o;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function qi(e,t,n,s){const o=t.targetStart=n(""),r=t.targetAnchor=n("");return o[Fi]=r,e&&(s(o,e),s(r,e)),r}const Kt=Symbol("_leaveCb"),ps=Symbol("_enterCb");function Wi(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pt(()=>{e.isMounted=!0}),na(()=>{e.isUnmounting=!0}),e}const nt=[Function,Array],Yi={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:nt,onEnter:nt,onAfterEnter:nt,onEnterCancelled:nt,onBeforeLeave:nt,onLeave:nt,onAfterLeave:nt,onLeaveCancelled:nt,onBeforeAppear:nt,onAppear:nt,onAfterAppear:nt,onAppearCancelled:nt},zi=e=>{const t=e.subTree;return t.component?zi(t.component):t},Xl={name:"BaseTransition",props:Yi,setup(e,{slots:t}){const n=wa(),s=Wi();return()=>{const o=t.default&&Vo(t.default(),!0);if(!o||!o.length)return;const r=Qi(o),i=ve(e),{mode:l}=i;if(s.isLeaving)return to(r);const c=mr(r);if(!c)return to(r);let d=Qn(c,i,s,n,h=>d=h);c.type!==qe&&cn(c,d);let u=n.subTree&&mr(n.subTree);if(u&&u.type!==qe&&!sn(c,u)&&zi(n).type!==qe){let h=Qn(u,i,s,n);if(cn(u,h),l==="out-in"&&c.type!==qe)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,u=void 0},to(r);l==="in-out"&&c.type!==qe?h.delayLeave=(p,v,w)=>{const b=Ji(s,u);b[String(u.key)]=u,p[Kt]=()=>{v(),p[Kt]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{w(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function Qi(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==qe){t=n;break}}return t}const Zl=Xl;function Ji(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Qn(e,t,n,s,o){const{appear:r,mode:i,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:p,onLeave:v,onAfterLeave:w,onLeaveCancelled:b,onBeforeAppear:x,onAppear:$,onAfterAppear:S,onAppearCancelled:L}=t,A=String(e.key),V=Ji(n,e),M=(R,C)=>{R&&dt(R,s,9,C)},y=(R,C)=>{const T=C[1];M(R,C),se(R)?R.every(f=>f.length<=1)&&T():R.length<=1&&T()},I={mode:i,persisted:l,beforeEnter(R){let C=c;if(!n.isMounted)if(r)C=x||c;else return;R[Kt]&&R[Kt](!0);const T=V[A];T&&sn(e,T)&&T.el[Kt]&&T.el[Kt](),M(C,[R])},enter(R){let C=d,T=u,f=h;if(!n.isMounted)if(r)C=$||d,T=S||u,f=L||h;else return;let U=!1;const X=R[ps]=te=>{U||(U=!0,te?M(f,[R]):M(T,[R]),I.delayedLeave&&I.delayedLeave(),R[ps]=void 0)};C?y(C,[R,X]):X()},leave(R,C){const T=String(e.key);if(R[ps]&&R[ps](!0),n.isUnmounting)return C();M(p,[R]);let f=!1;const U=R[Kt]=X=>{f||(f=!0,C(),X?M(b,[R]):M(w,[R]),R[Kt]=void 0,V[T]===e&&delete V[T])};V[T]=e,v?y(v,[R,U]):U()},clone(R){const C=Qn(R,t,n,s,o);return o&&o(C),C}};return I}function to(e){if(Us(e))return e=zt(e),e.children=null,e}function mr(e){if(!Us(e))return Vi(e.type)&&e.children?Qi(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&fe(n.default))return n.default()}}function cn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,cn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Vo(e,t=!1,n){let s=[],o=0;for(let r=0;r<e.length;r++){let i=e[r];const l=n==null?i.key:String(n)+String(i.key!=null?i.key:r);i.type===he?(i.patchFlag&128&&o++,s=s.concat(Vo(i.children,t,l))):(t||i.type!==qe)&&s.push(l!=null?zt(i,{key:l}):i)}if(o>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Xi(e,t){return fe(e)?De({name:e.name},t,{setup:e}):e}function Zi(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Gn(e,t,n,s,o=!1){if(se(e)){e.forEach((w,b)=>Gn(w,t&&(se(t)?t[b]:t),n,s,o));return}if(Bn(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Gn(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Vs(s.component):s.el,i=o?null:r,{i:l,r:c}=e,d=t&&t.r,u=l.refs===Ce?l.refs={}:l.refs,h=l.setupState,p=ve(h),v=h===Ce?()=>!1:w=>_e(p,w);if(d!=null&&d!==c&&(Ie(d)?(u[d]=null,v(d)&&(h[d]=null)):Ue(d)&&(d.value=null)),fe(c))as(c,l,12,[i,u]);else{const w=Ie(c),b=Ue(c);if(w||b){const x=()=>{if(e.f){const $=w?v(c)?h[c]:u[c]:c.value;o?se($)&&Ro($,r):se($)?$.includes(r)||$.push(r):w?(u[c]=[r],v(c)&&(h[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else w?(u[c]=i,v(c)&&(h[c]=i)):b&&(c.value=i,e.k&&(u[e.k]=i))};i?(x.id=-1,Ke(x,n)):x()}}}Ms().requestIdleCallback;Ms().cancelIdleCallback;const Bn=e=>!!e.type.__asyncLoader,Us=e=>e.type.__isKeepAlive;function ec(e,t){ea(e,"a",t)}function tc(e,t){ea(e,"da",t)}function ea(e,t,n=Ne){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Gs(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Us(o.parent.vnode)&&nc(s,t,n,o),o=o.parent}}function nc(e,t,n,s){const o=Gs(t,e,s,!0);Ut(()=>{Ro(s[t],o)},n)}function Gs(e,t,n=Ne,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{Mt();const l=cs(n),c=dt(t,n,e,i);return l(),Ht(),c});return s?o.unshift(r):o.push(r),r}}const Nt=e=>(t,n=Ne)=>{(!Xn||e==="sp")&&Gs(e,(...s)=>t(...s),n)},sc=Nt("bm"),pt=Nt("m"),oc=Nt("bu"),ta=Nt("u"),na=Nt("bum"),Ut=Nt("um"),rc=Nt("sp"),ic=Nt("rtg"),ac=Nt("rtc");function lc(e,t=Ne){Gs("ec",e,t)}const cc="components";function dn(e,t){return dc(cc,e,!0,t)||e}const uc=Symbol.for("v-ndc");function dc(e,t,n=!0,s=!1){const o=Xe||Ne;if(o){const r=o.type;{const l=Jc(r,!1);if(l&&(l===t||l===it(t)||l===Ls(it(t))))return r}const i=gr(o[e]||r[e],t)||gr(o.appContext[e],t);return!i&&s?r:i}}function gr(e,t){return e&&(e[t]||e[it(t)]||e[Ls(it(t))])}function $e(e,t,n,s){let o;const r=n,i=se(e);if(i||Ie(e)){const l=i&&vn(e);let c=!1,d=!1;l&&(c=!st(e),d=Yt(e),e=Hs(e)),o=new Array(e.length);for(let u=0,h=e.length;u<h;u++)o[u]=t(c?d?ks(He(e[u])):He(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,r)}else if(ke(e))if(e[Symbol.iterator])o=Array.from(e,(l,c)=>t(l,c,void 0,r));else{const l=Object.keys(e);o=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const u=l[c];o[c]=t(e[u],u,c,r)}}else o=[];return o}const vo=e=>e?Ta(e)?Vs(e):vo(e.parent):null,Fn=De(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vo(e.parent),$root:e=>vo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>oa(e),$forceUpdate:e=>e.f||(e.f=()=>{Fo(e.update)}),$nextTick:e=>e.n||(e.n=Yn.bind(e.proxy)),$watch:e=>Rc.bind(e)}),no=(e,t)=>e!==Ce&&!e.__isScriptSetup&&_e(e,t),fc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const v=i[t];if(v!==void 0)switch(v){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(no(s,t))return i[t]=1,s[t];if(o!==Ce&&_e(o,t))return i[t]=2,o[t];if((d=e.propsOptions[0])&&_e(d,t))return i[t]=3,r[t];if(n!==Ce&&_e(n,t))return i[t]=4,n[t];yo&&(i[t]=0)}}const u=Fn[t];let h,p;if(u)return t==="$attrs"&&Fe(e.attrs,"get",""),u(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==Ce&&_e(n,t))return i[t]=4,n[t];if(p=c.config.globalProperties,_e(p,t))return p[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return no(o,t)?(o[t]=n,!0):s!==Ce&&_e(s,t)?(s[t]=n,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let l;return!!n[i]||e!==Ce&&_e(e,i)||no(t,i)||(l=r[0])&&_e(l,i)||_e(s,i)||_e(Fn,i)||_e(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:_e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function vr(e){return se(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let yo=!0;function hc(e){const t=oa(e),n=e.proxy,s=e.ctx;yo=!1,t.beforeCreate&&yr(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:c,inject:d,created:u,beforeMount:h,mounted:p,beforeUpdate:v,updated:w,activated:b,deactivated:x,beforeDestroy:$,beforeUnmount:S,destroyed:L,unmounted:A,render:V,renderTracked:M,renderTriggered:y,errorCaptured:I,serverPrefetch:R,expose:C,inheritAttrs:T,components:f,directives:U,filters:X}=t;if(d&&pc(d,s,null),i)for(const ce in i){const z=i[ce];fe(z)&&(s[ce]=z.bind(n))}if(o){const ce=o.call(n,n);ke(ce)&&(e.data=Dt(ce))}if(yo=!0,r)for(const ce in r){const z=r[ce],Ye=fe(z)?z.bind(n,n):fe(z.get)?z.get.bind(n,n):kt,gt=!fe(z)&&fe(z.set)?z.set.bind(n):kt,tt=Z({get:Ye,set:gt});Object.defineProperty(s,ce,{enumerable:!0,configurable:!0,get:()=>tt.value,set:Le=>tt.value=Le})}if(l)for(const ce in l)sa(l[ce],s,n,ce);if(c){const ce=fe(c)?c.call(n):c;Reflect.ownKeys(ce).forEach(z=>{ys(z,ce[z])})}u&&yr(u,e,"c");function me(ce,z){se(z)?z.forEach(Ye=>ce(Ye.bind(n))):z&&ce(z.bind(n))}if(me(sc,h),me(pt,p),me(oc,v),me(ta,w),me(ec,b),me(tc,x),me(lc,I),me(ac,M),me(ic,y),me(na,S),me(Ut,A),me(rc,R),se(C))if(C.length){const ce=e.exposed||(e.exposed={});C.forEach(z=>{Object.defineProperty(ce,z,{get:()=>n[z],set:Ye=>n[z]=Ye})})}else e.exposed||(e.exposed={});V&&e.render===kt&&(e.render=V),T!=null&&(e.inheritAttrs=T),f&&(e.components=f),U&&(e.directives=U),R&&Zi(e)}function pc(e,t,n=kt){se(e)&&(e=bo(e));for(const s in e){const o=e[s];let r;ke(o)?"default"in o?r=ct(o.from||s,o.default,!0):r=ct(o.from||s):r=ct(o),Ue(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function yr(e,t,n){dt(se(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function sa(e,t,n,s){let o=s.includes(".")?ga(n,s):()=>n[s];if(Ie(e)){const r=t[e];fe(r)&&ot(o,r)}else if(fe(e))ot(o,e.bind(n));else if(ke(e))if(se(e))e.forEach(r=>sa(r,t,n,s));else{const r=fe(e.handler)?e.handler.bind(n):t[e.handler];fe(r)&&ot(o,r,e)}}function oa(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let c;return l?c=l:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(d=>$s(c,d,i,!0)),$s(c,t,i)),ke(t)&&r.set(t,c),c}function $s(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&$s(e,r,n,!0),o&&o.forEach(i=>$s(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=mc[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const mc={data:br,props:_r,emits:_r,methods:Ln,computed:Ln,beforeCreate:Ve,created:Ve,beforeMount:Ve,mounted:Ve,beforeUpdate:Ve,updated:Ve,beforeDestroy:Ve,beforeUnmount:Ve,destroyed:Ve,unmounted:Ve,activated:Ve,deactivated:Ve,errorCaptured:Ve,serverPrefetch:Ve,components:Ln,directives:Ln,watch:vc,provide:br,inject:gc};function br(e,t){return t?e?function(){return De(fe(e)?e.call(this,this):e,fe(t)?t.call(this,this):t)}:t:e}function gc(e,t){return Ln(bo(e),bo(t))}function bo(e){if(se(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ve(e,t){return e?[...new Set([].concat(e,t))]:t}function Ln(e,t){return e?De(Object.create(null),e,t):t}function _r(e,t){return e?se(e)&&se(t)?[...new Set([...e,...t])]:De(Object.create(null),vr(e),vr(t??{})):t}function vc(e,t){if(!e)return t;if(!t)return e;const n=De(Object.create(null),e);for(const s in t)n[s]=Ve(e[s],t[s]);return n}function ra(){return{app:null,config:{isNativeTag:al,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yc=0;function bc(e,t){return function(s,o=null){fe(s)||(s=De({},s)),o!=null&&!ke(o)&&(o=null);const r=ra(),i=new WeakSet,l=[];let c=!1;const d=r.app={_uid:yc++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:Zc,get config(){return r.config},set config(u){},use(u,...h){return i.has(u)||(u&&fe(u.install)?(i.add(u),u.install(d,...h)):fe(u)&&(i.add(u),u(d,...h))),d},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),d},component(u,h){return h?(r.components[u]=h,d):r.components[u]},directive(u,h){return h?(r.directives[u]=h,d):r.directives[u]},mount(u,h,p){if(!c){const v=d._ceVNode||re(s,o);return v.appContext=r,p===!0?p="svg":p===!1&&(p=void 0),e(v,u,p),c=!0,d._container=u,u.__vue_app__=d,Vs(v.component)}},onUnmount(u){l.push(u)},unmount(){c&&(dt(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,h){return r.provides[u]=h,d},runWithContext(u){const h=bn;bn=d;try{return u()}finally{bn=h}}};return d}}let bn=null;function ys(e,t){if(Ne){let n=Ne.provides;const s=Ne.parent&&Ne.parent.provides;s===n&&(n=Ne.provides=Object.create(s)),n[e]=t}}function ct(e,t,n=!1){const s=Ne||Xe;if(s||bn){let o=bn?bn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&fe(t)?t.call(s&&s.proxy):t}}const ia={},aa=()=>Object.create(ia),la=e=>Object.getPrototypeOf(e)===ia;function _c(e,t,n,s=!1){const o={},r=aa();e.propsDefaults=Object.create(null),ca(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Oi(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function wc(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=ve(o),[c]=e.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let p=u[h];if(Bs(e.emitsOptions,p))continue;const v=t[p];if(c)if(_e(r,p))v!==r[p]&&(r[p]=v,d=!0);else{const w=it(p);o[w]=_o(c,l,w,v,e,!1)}else v!==r[p]&&(r[p]=v,d=!0)}}}else{ca(e,t,o,r)&&(d=!0);let u;for(const h in l)(!t||!_e(t,h)&&((u=Jt(h))===h||!_e(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(o[h]=_o(c,l,h,void 0,e,!0)):delete o[h]);if(r!==l)for(const h in r)(!t||!_e(t,h))&&(delete r[h],d=!0)}d&&Pt(e.attrs,"set","")}function ca(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(Mn(c))continue;const d=t[c];let u;o&&_e(o,u=it(c))?!r||!r.includes(u)?n[u]=d:(l||(l={}))[u]=d:Bs(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,i=!0)}if(r){const c=ve(n),d=l||Ce;for(let u=0;u<r.length;u++){const h=r[u];n[h]=_o(o,c,h,d[h],e,!_e(d,h))}}return i}function _o(e,t,n,s,o,r){const i=e[n];if(i!=null){const l=_e(i,"default");if(l&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&fe(c)){const{propsDefaults:d}=o;if(n in d)s=d[n];else{const u=cs(o);s=d[n]=c.call(null,t),u()}}else s=c;o.ce&&o.ce._setProp(n,s)}i[0]&&(r&&!l?s=!1:i[1]&&(s===""||s===Jt(n))&&(s=!0))}return s}const Tc=new WeakMap;function ua(e,t,n=!1){const s=n?Tc:t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},l=[];let c=!1;if(!fe(e)){const u=h=>{c=!0;const[p,v]=ua(h,t,!0);De(i,p),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return ke(e)&&s.set(e,mn),mn;if(se(r))for(let u=0;u<r.length;u++){const h=it(r[u]);wr(h)&&(i[h]=Ce)}else if(r)for(const u in r){const h=it(u);if(wr(h)){const p=r[u],v=i[h]=se(p)||fe(p)?{type:p}:De({},p),w=v.type;let b=!1,x=!0;if(se(w))for(let $=0;$<w.length;++$){const S=w[$],L=fe(S)&&S.name;if(L==="Boolean"){b=!0;break}else L==="String"&&(x=!1)}else b=fe(w)&&w.name==="Boolean";v[0]=b,v[1]=x,(b||_e(v,"default"))&&l.push(h)}}const d=[i,l];return ke(e)&&s.set(e,d),d}function wr(e){return e[0]!=="$"&&!Mn(e)}const Ko=e=>e[0]==="_"||e==="$stable",jo=e=>se(e)?e.map(Ct):[Ct(e)],Cc=(e,t,n)=>{if(t._n)return t;const s=Ae((...o)=>jo(t(...o)),n);return s._c=!1,s},da=(e,t,n)=>{const s=e._ctx;for(const o in e){if(Ko(o))continue;const r=e[o];if(fe(r))t[o]=Cc(o,r,s);else if(r!=null){const i=jo(r);t[o]=()=>i}}},fa=(e,t)=>{const n=jo(t);e.slots.default=()=>n},ha=(e,t,n)=>{for(const s in t)(n||!Ko(s))&&(e[s]=t[s])},kc=(e,t,n)=>{const s=e.slots=aa();if(e.vnode.shapeFlag&32){const o=t.__;o&&uo(s,"__",o,!0);const r=t._;r?(ha(s,t,n),n&&uo(s,"_",r,!0)):da(t,s)}else t&&fa(e,t)},Sc=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=Ce;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:ha(o,t,n):(r=!t.$stable,da(t,o)),i=t}else t&&(fa(e,t),i={default:1});if(r)for(const l in o)!Ko(l)&&i[l]==null&&delete o[l]},Ke=Uc;function Ec(e){return xc(e)}function xc(e,t){const n=Ms();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:l,createComment:c,setText:d,setElementText:u,parentNode:h,nextSibling:p,setScopeId:v=kt,insertStaticContent:w}=e,b=(m,g,_,O=null,H=null,D=null,q=void 0,j=null,K=!!g.dynamicChildren)=>{if(m===g)return;m&&!sn(m,g)&&(O=P(m),Le(m,H,D,!0),m=null),g.patchFlag===-2&&(K=!1,g.dynamicChildren=null);const{type:B,ref:oe,shapeFlag:Y}=g;switch(B){case Fs:x(m,g,_,O);break;case qe:$(m,g,_,O);break;case bs:m==null&&S(g,_,O,q);break;case he:f(m,g,_,O,H,D,q,j,K);break;default:Y&1?V(m,g,_,O,H,D,q,j,K):Y&6?U(m,g,_,O,H,D,q,j,K):(Y&64||Y&128)&&B.process(m,g,_,O,H,D,q,j,K,ee)}oe!=null&&H?Gn(oe,m&&m.ref,D,g||m,!g):oe==null&&m&&m.ref!=null&&Gn(m.ref,null,D,m,!0)},x=(m,g,_,O)=>{if(m==null)s(g.el=l(g.children),_,O);else{const H=g.el=m.el;g.children!==m.children&&d(H,g.children)}},$=(m,g,_,O)=>{m==null?s(g.el=c(g.children||""),_,O):g.el=m.el},S=(m,g,_,O)=>{[m.el,m.anchor]=w(m.children,g,_,O,m.el,m.anchor)},L=({el:m,anchor:g},_,O)=>{let H;for(;m&&m!==g;)H=p(m),s(m,_,O),m=H;s(g,_,O)},A=({el:m,anchor:g})=>{let _;for(;m&&m!==g;)_=p(m),o(m),m=_;o(g)},V=(m,g,_,O,H,D,q,j,K)=>{g.type==="svg"?q="svg":g.type==="math"&&(q="mathml"),m==null?M(g,_,O,H,D,q,j,K):R(m,g,H,D,q,j,K)},M=(m,g,_,O,H,D,q,j)=>{let K,B;const{props:oe,shapeFlag:Y,transition:ne,dirs:le}=m;if(K=m.el=i(m.type,D,oe&&oe.is,oe),Y&8?u(K,m.children):Y&16&&I(m.children,K,null,O,H,so(m,D),q,j),le&&Xt(m,null,O,"created"),y(K,m,m.scopeId,q,O),oe){for(const Se in oe)Se!=="value"&&!Mn(Se)&&r(K,Se,null,oe[Se],D,O);"value"in oe&&r(K,"value",null,oe.value,D),(B=oe.onVnodeBeforeMount)&&_t(B,O,m)}le&&Xt(m,null,O,"beforeMount");const ge=$c(H,ne);ge&&ne.beforeEnter(K),s(K,g,_),((B=oe&&oe.onVnodeMounted)||ge||le)&&Ke(()=>{B&&_t(B,O,m),ge&&ne.enter(K),le&&Xt(m,null,O,"mounted")},H)},y=(m,g,_,O,H)=>{if(_&&v(m,_),O)for(let D=0;D<O.length;D++)v(m,O[D]);if(H){let D=H.subTree;if(g===D||ya(D.type)&&(D.ssContent===g||D.ssFallback===g)){const q=H.vnode;y(m,q,q.scopeId,q.slotScopeIds,H.parent)}}},I=(m,g,_,O,H,D,q,j,K=0)=>{for(let B=K;B<m.length;B++){const oe=m[B]=j?jt(m[B]):Ct(m[B]);b(null,oe,g,_,O,H,D,q,j)}},R=(m,g,_,O,H,D,q)=>{const j=g.el=m.el;let{patchFlag:K,dynamicChildren:B,dirs:oe}=g;K|=m.patchFlag&16;const Y=m.props||Ce,ne=g.props||Ce;let le;if(_&&Zt(_,!1),(le=ne.onVnodeBeforeUpdate)&&_t(le,_,g,m),oe&&Xt(g,m,_,"beforeUpdate"),_&&Zt(_,!0),(Y.innerHTML&&ne.innerHTML==null||Y.textContent&&ne.textContent==null)&&u(j,""),B?C(m.dynamicChildren,B,j,_,O,so(g,H),D):q||z(m,g,j,null,_,O,so(g,H),D,!1),K>0){if(K&16)T(j,Y,ne,_,H);else if(K&2&&Y.class!==ne.class&&r(j,"class",null,ne.class,H),K&4&&r(j,"style",Y.style,ne.style,H),K&8){const ge=g.dynamicProps;for(let Se=0;Se<ge.length;Se++){const we=ge[Se],ze=Y[we],Qe=ne[we];(Qe!==ze||we==="value")&&r(j,we,ze,Qe,H,_)}}K&1&&m.children!==g.children&&u(j,g.children)}else!q&&B==null&&T(j,Y,ne,_,H);((le=ne.onVnodeUpdated)||oe)&&Ke(()=>{le&&_t(le,_,g,m),oe&&Xt(g,m,_,"updated")},O)},C=(m,g,_,O,H,D,q)=>{for(let j=0;j<g.length;j++){const K=m[j],B=g[j],oe=K.el&&(K.type===he||!sn(K,B)||K.shapeFlag&198)?h(K.el):_;b(K,B,oe,null,O,H,D,q,!0)}},T=(m,g,_,O,H)=>{if(g!==_){if(g!==Ce)for(const D in g)!Mn(D)&&!(D in _)&&r(m,D,g[D],null,H,O);for(const D in _){if(Mn(D))continue;const q=_[D],j=g[D];q!==j&&D!=="value"&&r(m,D,j,q,H,O)}"value"in _&&r(m,"value",g.value,_.value,H)}},f=(m,g,_,O,H,D,q,j,K)=>{const B=g.el=m?m.el:l(""),oe=g.anchor=m?m.anchor:l("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:le}=g;le&&(j=j?j.concat(le):le),m==null?(s(B,_,O),s(oe,_,O),I(g.children||[],_,oe,H,D,q,j,K)):Y>0&&Y&64&&ne&&m.dynamicChildren?(C(m.dynamicChildren,ne,_,H,D,q,j),(g.key!=null||H&&g===H.subTree)&&qo(m,g,!0)):z(m,g,_,oe,H,D,q,j,K)},U=(m,g,_,O,H,D,q,j,K)=>{g.slotScopeIds=j,m==null?g.shapeFlag&512?H.ctx.activate(g,_,O,q,K):X(g,_,O,H,D,q,K):te(m,g,K)},X=(m,g,_,O,H,D,q)=>{const j=m.component=qc(m,O,H);if(Us(m)&&(j.ctx.renderer=ee),Wc(j,!1,q),j.asyncDep){if(H&&H.registerDep(j,me,q),!m.el){const K=j.subTree=re(qe);$(null,K,g,_)}}else me(j,m,g,_,H,D,q)},te=(m,g,_)=>{const O=g.component=m.component;if(Hc(m,g,_))if(O.asyncDep&&!O.asyncResolved){ce(O,g,_);return}else O.next=g,O.update();else g.el=m.el,O.vnode=g},me=(m,g,_,O,H,D,q)=>{const j=()=>{if(m.isMounted){let{next:Y,bu:ne,u:le,parent:ge,vnode:Se}=m;{const yt=pa(m);if(yt){Y&&(Y.el=Se.el,ce(m,Y,q)),yt.asyncDep.then(()=>{m.isUnmounted||j()});return}}let we=Y,ze;Zt(m,!1),Y?(Y.el=Se.el,ce(m,Y,q)):Y=Se,ne&&gs(ne),(ze=Y.props&&Y.props.onVnodeBeforeUpdate)&&_t(ze,ge,Y,Se),Zt(m,!0);const Qe=Cr(m),vt=m.subTree;m.subTree=Qe,b(vt,Qe,h(vt.el),P(vt),m,H,D),Y.el=Qe.el,we===null&&Nc(m,Qe.el),le&&Ke(le,H),(ze=Y.props&&Y.props.onVnodeUpdated)&&Ke(()=>_t(ze,ge,Y,Se),H)}else{let Y;const{el:ne,props:le}=g,{bm:ge,m:Se,parent:we,root:ze,type:Qe}=m,vt=Bn(g);Zt(m,!1),ge&&gs(ge),!vt&&(Y=le&&le.onVnodeBeforeMount)&&_t(Y,we,g),Zt(m,!0);{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(Qe);const yt=m.subTree=Cr(m);b(null,yt,_,O,m,H,D),g.el=yt.el}if(Se&&Ke(Se,H),!vt&&(Y=le&&le.onVnodeMounted)){const yt=g;Ke(()=>_t(Y,we,yt),H)}(g.shapeFlag&256||we&&Bn(we.vnode)&&we.vnode.shapeFlag&256)&&m.a&&Ke(m.a,H),m.isMounted=!0,g=_=O=null}};m.scope.on();const K=m.effect=new bi(j);m.scope.off();const B=m.update=K.run.bind(K),oe=m.job=K.runIfDirty.bind(K);oe.i=m,oe.id=m.uid,K.scheduler=()=>Fo(oe),Zt(m,!0),B()},ce=(m,g,_)=>{g.component=m;const O=m.vnode.props;m.vnode=g,m.next=null,wc(m,g.props,O,_),Sc(m,g.children,_),Mt(),dr(m),Ht()},z=(m,g,_,O,H,D,q,j,K=!1)=>{const B=m&&m.children,oe=m?m.shapeFlag:0,Y=g.children,{patchFlag:ne,shapeFlag:le}=g;if(ne>0){if(ne&128){gt(B,Y,_,O,H,D,q,j,K);return}else if(ne&256){Ye(B,Y,_,O,H,D,q,j,K);return}}le&8?(oe&16&&Re(B,H,D),Y!==B&&u(_,Y)):oe&16?le&16?gt(B,Y,_,O,H,D,q,j,K):Re(B,H,D,!0):(oe&8&&u(_,""),le&16&&I(Y,_,O,H,D,q,j,K))},Ye=(m,g,_,O,H,D,q,j,K)=>{m=m||mn,g=g||mn;const B=m.length,oe=g.length,Y=Math.min(B,oe);let ne;for(ne=0;ne<Y;ne++){const le=g[ne]=K?jt(g[ne]):Ct(g[ne]);b(m[ne],le,_,null,H,D,q,j,K)}B>oe?Re(m,H,D,!0,!1,Y):I(g,_,O,H,D,q,j,K,Y)},gt=(m,g,_,O,H,D,q,j,K)=>{let B=0;const oe=g.length;let Y=m.length-1,ne=oe-1;for(;B<=Y&&B<=ne;){const le=m[B],ge=g[B]=K?jt(g[B]):Ct(g[B]);if(sn(le,ge))b(le,ge,_,null,H,D,q,j,K);else break;B++}for(;B<=Y&&B<=ne;){const le=m[Y],ge=g[ne]=K?jt(g[ne]):Ct(g[ne]);if(sn(le,ge))b(le,ge,_,null,H,D,q,j,K);else break;Y--,ne--}if(B>Y){if(B<=ne){const le=ne+1,ge=le<oe?g[le].el:O;for(;B<=ne;)b(null,g[B]=K?jt(g[B]):Ct(g[B]),_,ge,H,D,q,j,K),B++}}else if(B>ne)for(;B<=Y;)Le(m[B],H,D,!0),B++;else{const le=B,ge=B,Se=new Map;for(B=ge;B<=ne;B++){const Ze=g[B]=K?jt(g[B]):Ct(g[B]);Ze.key!=null&&Se.set(Ze.key,B)}let we,ze=0;const Qe=ne-ge+1;let vt=!1,yt=0;const In=new Array(Qe);for(B=0;B<Qe;B++)In[B]=0;for(B=le;B<=Y;B++){const Ze=m[B];if(ze>=Qe){Le(Ze,H,D,!0);continue}let bt;if(Ze.key!=null)bt=Se.get(Ze.key);else for(we=ge;we<=ne;we++)if(In[we-ge]===0&&sn(Ze,g[we])){bt=we;break}bt===void 0?Le(Ze,H,D,!0):(In[bt-ge]=B+1,bt>=yt?yt=bt:vt=!0,b(Ze,g[bt],_,null,H,D,q,j,K),ze++)}const rr=vt?Ac(In):mn;for(we=rr.length-1,B=Qe-1;B>=0;B--){const Ze=ge+B,bt=g[Ze],ir=Ze+1<oe?g[Ze+1].el:O;In[B]===0?b(null,bt,_,ir,H,D,q,j,K):vt&&(we<0||B!==rr[we]?tt(bt,_,ir,2):we--)}}},tt=(m,g,_,O,H=null)=>{const{el:D,type:q,transition:j,children:K,shapeFlag:B}=m;if(B&6){tt(m.component.subTree,g,_,O);return}if(B&128){m.suspense.move(g,_,O);return}if(B&64){q.move(m,g,_,ee);return}if(q===he){s(D,g,_);for(let Y=0;Y<K.length;Y++)tt(K[Y],g,_,O);s(m.anchor,g,_);return}if(q===bs){L(m,g,_);return}if(O!==2&&B&1&&j)if(O===0)j.beforeEnter(D),s(D,g,_),Ke(()=>j.enter(D),H);else{const{leave:Y,delayLeave:ne,afterLeave:le}=j,ge=()=>{m.ctx.isUnmounted?o(D):s(D,g,_)},Se=()=>{Y(D,()=>{ge(),le&&le()})};ne?ne(D,ge,Se):Se()}else s(D,g,_)},Le=(m,g,_,O=!1,H=!1)=>{const{type:D,props:q,ref:j,children:K,dynamicChildren:B,shapeFlag:oe,patchFlag:Y,dirs:ne,cacheIndex:le}=m;if(Y===-2&&(H=!1),j!=null&&(Mt(),Gn(j,null,_,m,!0),Ht()),le!=null&&(g.renderCache[le]=void 0),oe&256){g.ctx.deactivate(m);return}const ge=oe&1&&ne,Se=!Bn(m);let we;if(Se&&(we=q&&q.onVnodeBeforeUnmount)&&_t(we,g,m),oe&6)de(m.component,_,O);else{if(oe&128){m.suspense.unmount(_,O);return}ge&&Xt(m,null,g,"beforeUnmount"),oe&64?m.type.remove(m,g,_,ee,O):B&&!B.hasOnce&&(D!==he||Y>0&&Y&64)?Re(B,g,_,!1,!0):(D===he&&Y&384||!H&&oe&16)&&Re(K,g,_),O&&ue(m)}(Se&&(we=q&&q.onVnodeUnmounted)||ge)&&Ke(()=>{we&&_t(we,g,m),ge&&Xt(m,null,g,"unmounted")},_)},ue=m=>{const{type:g,el:_,anchor:O,transition:H}=m;if(g===he){ie(_,O);return}if(g===bs){A(m);return}const D=()=>{o(_),H&&!H.persisted&&H.afterLeave&&H.afterLeave()};if(m.shapeFlag&1&&H&&!H.persisted){const{leave:q,delayLeave:j}=H,K=()=>q(_,D);j?j(m.el,D,K):K()}else D()},ie=(m,g)=>{let _;for(;m!==g;)_=p(m),o(m),m=_;o(g)},de=(m,g,_)=>{const{bum:O,scope:H,job:D,subTree:q,um:j,m:K,a:B,parent:oe,slots:{__:Y}}=m;Tr(K),Tr(B),O&&gs(O),oe&&se(Y)&&Y.forEach(ne=>{oe.renderCache[ne]=void 0}),H.stop(),D&&(D.flags|=8,Le(q,m,g,_)),j&&Ke(j,g),Ke(()=>{m.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&m.asyncDep&&!m.asyncResolved&&m.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Re=(m,g,_,O=!1,H=!1,D=0)=>{for(let q=D;q<m.length;q++)Le(m[q],g,_,O,H)},P=m=>{if(m.shapeFlag&6)return P(m.component.subTree);if(m.shapeFlag&128)return m.suspense.next();const g=p(m.anchor||m.el),_=g&&g[Fi];return _?p(_):g};let Q=!1;const W=(m,g,_)=>{m==null?g._vnode&&Le(g._vnode,null,null,!0):b(g._vnode||null,m,g,null,null,null,_),g._vnode=m,Q||(Q=!0,dr(),Ui(),Q=!1)},ee={p:b,um:Le,m:tt,r:ue,mt:X,mc:I,pc:z,pbc:C,n:P,o:e};return{render:W,hydrate:void 0,createApp:bc(W)}}function so({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Zt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function $c(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function qo(e,t,n=!1){const s=e.children,o=t.children;if(se(s)&&se(o))for(let r=0;r<s.length;r++){const i=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=jt(o[r]),l.el=i.el),!n&&l.patchFlag!==-2&&qo(i,l)),l.type===Fs&&(l.el=i.el),l.type===qe&&!l.el&&(l.el=i.el)}}function Ac(e){const t=e.slice(),n=[0];let s,o,r,i,l;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<d?r=l+1:i=l;d<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function pa(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:pa(t)}function Tr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ic=Symbol.for("v-scx"),Pc=()=>ct(Ic);function ot(e,t,n){return ma(e,t,n)}function ma(e,t,n=Ce){const{immediate:s,deep:o,flush:r,once:i}=n,l=De({},n),c=t&&s||!t&&r!=="post";let d;if(Xn){if(r==="sync"){const v=Pc();d=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=kt,v.resume=kt,v.pause=kt,v}}const u=Ne;l.call=(v,w,b)=>dt(v,u,w,b);let h=!1;r==="post"?l.scheduler=v=>{Ke(v,u&&u.suspense)}:r!=="sync"&&(h=!0,l.scheduler=(v,w)=>{w?v():Fo(v)}),l.augmentJob=v=>{t&&(v.flags|=4),h&&(v.flags|=2,u&&(v.id=u.uid,v.i=u))};const p=Wl(e,t,l);return Xn&&(d?d.push(p):c&&p()),p}function Rc(e,t,n){const s=this.proxy,o=Ie(e)?e.includes(".")?ga(s,e):()=>s[e]:e.bind(s,s);let r;fe(t)?r=t:(r=t.handler,n=t);const i=cs(this),l=ma(o,r.bind(s),n);return i(),l}function ga(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const Oc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${it(t)}Modifiers`]||e[`${Jt(t)}Modifiers`];function Dc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ce;let o=n;const r=t.startsWith("update:"),i=r&&Oc(s,t.slice(7));i&&(i.trim&&(o=n.map(u=>Ie(u)?u.trim():u)),i.number&&(o=n.map(Cs)));let l,c=s[l=Qs(t)]||s[l=Qs(it(t))];!c&&r&&(c=s[l=Qs(Jt(t))]),c&&dt(c,e,6,o);const d=s[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,dt(d,e,6,o)}}function va(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!fe(e)){const c=d=>{const u=va(d,t,!0);u&&(l=!0,De(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(ke(e)&&s.set(e,null),null):(se(r)?r.forEach(c=>i[c]=null):De(i,r),ke(e)&&s.set(e,i),i)}function Bs(e,t){return!e||!Os(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,Jt(t))||_e(e,t))}function Cr(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[r],slots:i,attrs:l,emit:c,render:d,renderCache:u,props:h,data:p,setupState:v,ctx:w,inheritAttrs:b}=e,x=xs(e);let $,S;try{if(n.shapeFlag&4){const A=o||s,V=A;$=Ct(d.call(V,A,u,h,v,p,w)),S=l}else{const A=t;$=Ct(A.length>1?A(h,{attrs:l,slots:i,emit:c}):A(h,null)),S=t.props?l:Lc(l)}}catch(A){Vn.length=0,Ns(A,e,1),$=re(qe)}let L=$;if(S&&b!==!1){const A=Object.keys(S),{shapeFlag:V}=L;A.length&&V&7&&(r&&A.some(Po)&&(S=Mc(S,r)),L=zt(L,S,!1,!0))}return n.dirs&&(L=zt(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&cn(L,n.transition),$=L,xs(x),$}const Lc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Os(n))&&((t||(t={}))[n]=e[n]);return t},Mc=(e,t)=>{const n={};for(const s in e)(!Po(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Hc(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:l,patchFlag:c}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?kr(s,i,d):!!i;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const p=u[h];if(i[p]!==s[p]&&!Bs(d,p))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?kr(s,i,d):!0:!!i;return!1}function kr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!Bs(n,r))return!0}return!1}function Nc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const ya=e=>e.__isSuspense;function Uc(e,t){t&&t.pendingBranch?se(e)?t.effects.push(...e):t.effects.push(e):Ql(e)}const he=Symbol.for("v-fgt"),Fs=Symbol.for("v-txt"),qe=Symbol.for("v-cmt"),bs=Symbol.for("v-stc"),Vn=[];let et=null;function k(e=!1){Vn.push(et=e?null:[])}function Gc(){Vn.pop(),et=Vn[Vn.length-1]||null}let Jn=1;function Sr(e,t=!1){Jn+=e,e<0&&et&&t&&(et.hasOnce=!0)}function ba(e){return e.dynamicChildren=Jn>0?et||mn:null,Gc(),Jn>0&&et&&et.push(e),e}function E(e,t,n,s,o,r){return ba(a(e,t,n,s,o,r,!0))}function ls(e,t,n,s,o){return ba(re(e,t,n,s,o,!0))}function As(e){return e?e.__v_isVNode===!0:!1}function sn(e,t){return e.type===t.type&&e.key===t.key}const _a=({key:e})=>e??null,_s=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ie(e)||Ue(e)||fe(e)?{i:Xe,r:e,k:t,f:!!n}:e:null);function a(e,t=null,n=null,s=0,o=null,r=e===he?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&_a(t),ref:t&&_s(t),scopeId:Bi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Xe};return l?(Wo(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=Ie(n)?8:16),Jn>0&&!i&&et&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&et.push(c),c}const re=Bc;function Bc(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===uc)&&(e=qe),As(e)){const l=zt(e,t,!0);return n&&Wo(l,n),Jn>0&&!r&&et&&(l.shapeFlag&6?et[et.indexOf(e)]=l:et.push(l)),l.patchFlag=-2,l}if(Xc(e)&&(e=e.__vccOpts),t){t=Fc(t);let{class:l,style:c}=t;l&&!Ie(l)&&(t.class=ye(l)),ke(c)&&(Bo(c)&&!se(c)&&(c=De({},c)),t.style=_n(c))}const i=Ie(e)?1:ya(e)?128:Vi(e)?64:ke(e)?4:fe(e)?2:0;return a(e,t,n,s,o,i,r,!0)}function Fc(e){return e?Bo(e)||la(e)?De({},e):e:null}function zt(e,t,n=!1,s=!1){const{props:o,ref:r,patchFlag:i,children:l,transition:c}=e,d=t?Vc(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&_a(d),ref:t&&t.ref?n&&r?se(r)?r.concat(_s(t)):[r,_s(t)]:_s(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==he?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zt(e.ssContent),ssFallback:e.ssFallback&&zt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&cn(u,c.clone(u)),u}function F(e=" ",t=0){return re(Fs,null,e,t)}function Lt(e,t){const n=re(bs,null,e);return n.staticCount=t,n}function ae(e="",t=!1){return t?(k(),ls(qe,null,e)):re(qe,null,e)}function Ct(e){return e==null||typeof e=="boolean"?re(qe):se(e)?re(he,null,e.slice()):As(e)?jt(e):re(Fs,null,String(e))}function jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zt(e)}function Wo(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(se(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Wo(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!la(t)?t._ctx=Xe:o===3&&Xe&&(Xe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else fe(t)?(t={default:t,_ctx:Xe},n=32):(t=String(t),s&64?(n=16,t=[F(t)]):n=8);e.children=t,e.shapeFlag|=n}function Vc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=ye([t.class,s.class]));else if(o==="style")t.style=_n([t.style,s.style]);else if(Os(o)){const r=t[o],i=s[o];i&&r!==i&&!(se(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function _t(e,t,n,s=null){dt(e,t,7,[n,s])}const Kc=ra();let jc=0;function qc(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Kc,r={uid:jc++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _l(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ua(s,o),emitsOptions:va(s,o),emit:null,emitted:null,propsDefaults:Ce,inheritAttrs:s.inheritAttrs,ctx:Ce,data:Ce,props:Ce,attrs:Ce,slots:Ce,refs:Ce,setupState:Ce,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Dc.bind(null,r),e.ce&&e.ce(r),r}let Ne=null;const wa=()=>Ne||Xe;let Is,wo;{const e=Ms(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};Is=t("__VUE_INSTANCE_SETTERS__",n=>Ne=n),wo=t("__VUE_SSR_SETTERS__",n=>Xn=n)}const cs=e=>{const t=Ne;return Is(e),e.scope.on(),()=>{e.scope.off(),Is(t)}},Er=()=>{Ne&&Ne.scope.off(),Is(null)};function Ta(e){return e.vnode.shapeFlag&4}let Xn=!1;function Wc(e,t=!1,n=!1){t&&wo(t);const{props:s,children:o}=e.vnode,r=Ta(e);_c(e,s,r,t),kc(e,o,n||t);const i=r?Yc(e,t):void 0;return t&&wo(!1),i}function Yc(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,fc);const{setup:s}=n;if(s){Mt();const o=e.setupContext=s.length>1?Qc(e):null,r=cs(e),i=as(s,e,0,[e.props,o]),l=hi(i);if(Ht(),r(),(l||e.sp)&&!Bn(e)&&Zi(e),l){if(i.then(Er,Er),t)return i.then(c=>{xr(e,c)}).catch(c=>{Ns(c,e,0)});e.asyncDep=i}else xr(e,i)}else Ca(e)}function xr(e,t,n){fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ke(t)&&(e.setupState=Mi(t)),Ca(e)}function Ca(e,t,n){const s=e.type;e.render||(e.render=s.render||kt);{const o=cs(e);Mt();try{hc(e)}finally{Ht(),o()}}}const zc={get(e,t){return Fe(e,"get",""),e[t]}};function Qc(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,zc),slots:e.slots,emit:e.emit,expose:t}}function Vs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Mi(Gl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Fn)return Fn[n](e)},has(t,n){return n in t||n in Fn}})):e.proxy}function Jc(e,t=!0){return fe(e)?e.displayName||e.name:e.name||t&&e.__name}function Xc(e){return fe(e)&&"__vccOpts"in e}const Z=(e,t)=>jl(e,t,Xn);function Yo(e,t,n){const s=arguments.length;return s===2?ke(t)&&!se(t)?As(t)?re(e,null,[t]):re(e,t):re(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&As(n)&&(n=[n]),re(e,t,n))}const Zc="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let To;const $r=typeof window<"u"&&window.trustedTypes;if($r)try{To=$r.createPolicy("vue",{createHTML:e=>e})}catch{}const ka=To?e=>To.createHTML(e):e=>e,eu="http://www.w3.org/2000/svg",tu="http://www.w3.org/1998/Math/MathML",At=typeof document<"u"?document:null,Ar=At&&At.createElement("template"),nu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?At.createElementNS(eu,e):t==="mathml"?At.createElementNS(tu,e):n?At.createElement(e,{is:n}):At.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>At.createTextNode(e),createComment:e=>At.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>At.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Ar.innerHTML=ka(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Ar.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gt="transition",Rn="animation",wn=Symbol("_vtc"),Sa={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ea=De({},Yi,Sa),su=e=>(e.displayName="Transition",e.props=Ea,e),Ks=su((e,{slots:t})=>Yo(Zl,xa(e),t)),en=(e,t=[])=>{se(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ir=e=>e?se(e)?e.some(t=>t.length>1):e.length>1:!1;function xa(e){const t={};for(const f in e)f in Sa||(t[f]=e[f]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:d=i,appearToClass:u=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,w=ou(o),b=w&&w[0],x=w&&w[1],{onBeforeEnter:$,onEnter:S,onEnterCancelled:L,onLeave:A,onLeaveCancelled:V,onBeforeAppear:M=$,onAppear:y=S,onAppearCancelled:I=L}=t,R=(f,U,X,te)=>{f._enterCancelled=te,Ft(f,U?u:l),Ft(f,U?d:i),X&&X()},C=(f,U)=>{f._isLeaving=!1,Ft(f,h),Ft(f,v),Ft(f,p),U&&U()},T=f=>(U,X)=>{const te=f?y:S,me=()=>R(U,f,X);en(te,[U,me]),Pr(()=>{Ft(U,f?c:r),wt(U,f?u:l),Ir(te)||Rr(U,s,b,me)})};return De(t,{onBeforeEnter(f){en($,[f]),wt(f,r),wt(f,i)},onBeforeAppear(f){en(M,[f]),wt(f,c),wt(f,d)},onEnter:T(!1),onAppear:T(!0),onLeave(f,U){f._isLeaving=!0;const X=()=>C(f,U);wt(f,h),f._enterCancelled?(wt(f,p),Co()):(Co(),wt(f,p)),Pr(()=>{f._isLeaving&&(Ft(f,h),wt(f,v),Ir(A)||Rr(f,s,x,X))}),en(A,[f,X])},onEnterCancelled(f){R(f,!1,void 0,!0),en(L,[f])},onAppearCancelled(f){R(f,!0,void 0,!0),en(I,[f])},onLeaveCancelled(f){C(f),en(V,[f])}})}function ou(e){if(e==null)return null;if(ke(e))return[oo(e.enter),oo(e.leave)];{const t=oo(e);return[t,t]}}function oo(e){return fl(e)}function wt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[wn]||(e[wn]=new Set)).add(t)}function Ft(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[wn];n&&(n.delete(t),n.size||(e[wn]=void 0))}function Pr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ru=0;function Rr(e,t,n,s){const o=e._endId=++ru,r=()=>{o===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:i,timeout:l,propCount:c}=$a(e,t);if(!i)return s();const d=i+"end";let u=0;const h=()=>{e.removeEventListener(d,p),r()},p=v=>{v.target===e&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},l+1),e.addEventListener(d,p)}function $a(e,t){const n=window.getComputedStyle(e),s=w=>(n[w]||"").split(", "),o=s(`${Gt}Delay`),r=s(`${Gt}Duration`),i=Or(o,r),l=s(`${Rn}Delay`),c=s(`${Rn}Duration`),d=Or(l,c);let u=null,h=0,p=0;t===Gt?i>0&&(u=Gt,h=i,p=r.length):t===Rn?d>0&&(u=Rn,h=d,p=c.length):(h=Math.max(i,d),u=h>0?i>d?Gt:Rn:null,p=u?u===Gt?r.length:c.length:0);const v=u===Gt&&/\b(transform|all)(,|$)/.test(s(`${Gt}Property`).toString());return{type:u,timeout:h,propCount:p,hasTransform:v}}function Or(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Dr(n)+Dr(e[s])))}function Dr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Co(){return document.body.offsetHeight}function iu(e,t,n){const s=e[wn];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ps=Symbol("_vod"),Aa=Symbol("_vsh"),Zn={beforeMount(e,{value:t},{transition:n}){e[Ps]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):On(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),On(e,!0),s.enter(e)):s.leave(e,()=>{On(e,!1)}):On(e,t))},beforeUnmount(e,{value:t}){On(e,t)}};function On(e,t){e.style.display=t?e[Ps]:"none",e[Aa]=!t}const au=Symbol(""),lu=/(^|;)\s*display\s*:/;function cu(e,t,n){const s=e.style,o=Ie(n);let r=!1;if(n&&!o){if(t)if(Ie(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&ws(s,l,"")}else for(const i in t)n[i]==null&&ws(s,i,"");for(const i in n)i==="display"&&(r=!0),ws(s,i,n[i])}else if(o){if(t!==n){const i=s[au];i&&(n+=";"+i),s.cssText=n,r=lu.test(n)}}else t&&e.removeAttribute("style");Ps in e&&(e[Ps]=r?s.display:"",e[Aa]&&(s.display="none"))}const Lr=/\s*!important$/;function ws(e,t,n){if(se(n))n.forEach(s=>ws(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=uu(e,t);Lr.test(n)?e.setProperty(Jt(s),n.replace(Lr,""),"important"):e[s]=n}}const Mr=["Webkit","Moz","ms"],ro={};function uu(e,t){const n=ro[t];if(n)return n;let s=it(t);if(s!=="filter"&&s in e)return ro[t]=s;s=Ls(s);for(let o=0;o<Mr.length;o++){const r=Mr[o]+s;if(r in e)return ro[t]=r}return t}const Hr="http://www.w3.org/1999/xlink";function Nr(e,t,n,s,o,r=yl(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Hr,t.slice(6,t.length)):e.setAttributeNS(Hr,t,n):n==null||r&&!gi(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Et(n)?String(n):n)}function Ur(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?ka(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=gi(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(o||t)}function Ot(e,t,n,s){e.addEventListener(t,n,s)}function du(e,t,n,s){e.removeEventListener(t,n,s)}const Gr=Symbol("_vei");function fu(e,t,n,s,o=null){const r=e[Gr]||(e[Gr]={}),i=r[t];if(s&&i)i.value=s;else{const[l,c]=hu(t);if(s){const d=r[t]=gu(s,o);Ot(e,l,d,c)}else i&&(du(e,l,i,c),r[t]=void 0)}}const Br=/(?:Once|Passive|Capture)$/;function hu(e){let t;if(Br.test(e)){t={};let s;for(;s=e.match(Br);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jt(e.slice(2)),t]}let io=0;const pu=Promise.resolve(),mu=()=>io||(pu.then(()=>io=0),io=Date.now());function gu(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;dt(vu(s,n.value),t,5,[s])};return n.value=e,n.attached=mu(),n}function vu(e,t){if(se(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Fr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,yu=(e,t,n,s,o,r)=>{const i=o==="svg";t==="class"?iu(e,s,i):t==="style"?cu(e,n,s):Os(t)?Po(t)||fu(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):bu(e,t,s,i))?(Ur(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Nr(e,t,s,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ie(s))?Ur(e,it(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Nr(e,t,s,i))};function bu(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Fr(t)&&fe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Fr(t)&&Ie(n)?!1:t in e}const Ia=new WeakMap,Pa=new WeakMap,Rs=Symbol("_moveCb"),Vr=Symbol("_enterCb"),_u=e=>(delete e.props.mode,e),wu=_u({name:"TransitionGroup",props:De({},Ea,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=wa(),s=Wi();let o,r;return ta(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!Eu(o[0].el,n.vnode.el,i)){o=[];return}o.forEach(Cu),o.forEach(ku);const l=o.filter(Su);Co(),l.forEach(c=>{const d=c.el,u=d.style;wt(d,i),u.transform=u.webkitTransform=u.transitionDuration="";const h=d[Rs]=p=>{p&&p.target!==d||(!p||/transform$/.test(p.propertyName))&&(d.removeEventListener("transitionend",h),d[Rs]=null,Ft(d,i))};d.addEventListener("transitionend",h)}),o=[]}),()=>{const i=ve(e),l=xa(i);let c=i.tag||he;if(o=[],r)for(let d=0;d<r.length;d++){const u=r[d];u.el&&u.el instanceof Element&&(o.push(u),cn(u,Qn(u,l,s,n)),Ia.set(u,u.el.getBoundingClientRect()))}r=t.default?Vo(t.default()):[];for(let d=0;d<r.length;d++){const u=r[d];u.key!=null&&cn(u,Qn(u,l,s,n))}return re(c,null,r)}}}),Tu=wu;function Cu(e){const t=e.el;t[Rs]&&t[Rs](),t[Vr]&&t[Vr]()}function ku(e){Pa.set(e,e.el.getBoundingClientRect())}function Su(e){const t=Ia.get(e),n=Pa.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${o}px)`,r.transitionDuration="0s",e}}function Eu(e,t,n){const s=e.cloneNode(),o=e[wn];o&&o.forEach(l=>{l.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:i}=$a(s);return r.removeChild(s),i}const Qt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return se(t)?n=>gs(t,n):t};function xu(e){e.target.composing=!0}function Kr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const rt=Symbol("_assign"),Tn={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[rt]=Qt(o);const r=s||o.props&&o.props.type==="number";Ot(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=Cs(l)),e[rt](l)}),n&&Ot(e,"change",()=>{e.value=e.value.trim()}),t||(Ot(e,"compositionstart",xu),Ot(e,"compositionend",Kr),Ot(e,"change",Kr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:o,number:r}},i){if(e[rt]=Qt(i),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?Cs(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||o&&e.value.trim()===c)||(e.value=c))}},Ra={deep:!0,created(e,t,n){e[rt]=Qt(n),Ot(e,"change",()=>{const s=e._modelValue,o=Cn(e),r=e.checked,i=e[rt];if(se(s)){const l=Do(s,o),c=l!==-1;if(r&&!c)i(s.concat(o));else if(!r&&c){const d=[...s];d.splice(l,1),i(d)}}else if(En(s)){const l=new Set(s);r?l.add(o):l.delete(o),i(l)}else i(Da(e,r))})},mounted:jr,beforeUpdate(e,t,n){e[rt]=Qt(n),jr(e,t,n)}};function jr(e,{value:t,oldValue:n},s){e._modelValue=t;let o;if(se(t))o=Do(t,s.props.value)>-1;else if(En(t))o=t.has(s.props.value);else{if(t===n)return;o=ln(t,Da(e,!0))}e.checked!==o&&(e.checked=o)}const $u={created(e,{value:t},n){e.checked=ln(t,n.props.value),e[rt]=Qt(n),Ot(e,"change",()=>{e[rt](Cn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[rt]=Qt(s),t!==n&&(e.checked=ln(t,s.props.value))}},Oa={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=En(t);Ot(e,"change",()=>{const r=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?Cs(Cn(i)):Cn(i));e[rt](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,Yn(()=>{e._assigning=!1})}),e[rt]=Qt(s)},mounted(e,{value:t}){qr(e,t)},beforeUpdate(e,t,n){e[rt]=Qt(n)},updated(e,{value:t}){e._assigning||qr(e,t)}};function qr(e,t){const n=e.multiple,s=se(t);if(!(n&&!s&&!En(t))){for(let o=0,r=e.options.length;o<r;o++){const i=e.options[o],l=Cn(i);if(n)if(s){const c=typeof l;c==="string"||c==="number"?i.selected=t.some(d=>String(d)===String(l)):i.selected=Do(t,l)>-1}else i.selected=t.has(l);else if(ln(Cn(i),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Cn(e){return"_value"in e?e._value:e.value}function Da(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const e0={created(e,t,n){ms(e,t,n,null,"created")},mounted(e,t,n){ms(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){ms(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){ms(e,t,n,s,"updated")}};function Au(e,t){switch(e){case"SELECT":return Oa;case"TEXTAREA":return Tn;default:switch(t){case"checkbox":return Ra;case"radio":return $u;default:return Tn}}}function ms(e,t,n,s,o){const i=Au(e.tagName,n.props&&n.props.type)[o];i&&i(e,t,n,s)}const Iu=["ctrl","shift","alt","meta"],Pu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Iu.some(n=>e[`${n}Key`]&&!t.includes(n))},Me=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...r)=>{for(let i=0;i<t.length;i++){const l=Pu[t[i]];if(l&&l(o,t))return}return e(o,...r)})},Ru={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ou=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=Jt(o.key);if(t.some(i=>i===r||Ru[i]===r))return e(o)})},Du=De({patchProp:yu},nu);let Wr;function Lu(){return Wr||(Wr=Ec(Du))}const Mu=(...e)=>{const t=Lu().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Nu(s);if(!o)return;const r=t._component;!fe(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=n(o,!1,Hu(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function Hu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Nu(e){return Ie(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const pn=typeof document<"u";function La(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Uu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&La(e.default)}const be=Object.assign;function ao(e,t){const n={};for(const s in t){const o=t[s];n[s]=ft(o)?o.map(e):e(o)}return n}const Kn=()=>{},ft=Array.isArray,Ma=/#/g,Gu=/&/g,Bu=/\//g,Fu=/=/g,Vu=/\?/g,Ha=/\+/g,Ku=/%5B/g,ju=/%5D/g,Na=/%5E/g,qu=/%60/g,Ua=/%7B/g,Wu=/%7C/g,Ga=/%7D/g,Yu=/%20/g;function zo(e){return encodeURI(""+e).replace(Wu,"|").replace(Ku,"[").replace(ju,"]")}function zu(e){return zo(e).replace(Ua,"{").replace(Ga,"}").replace(Na,"^")}function ko(e){return zo(e).replace(Ha,"%2B").replace(Yu,"+").replace(Ma,"%23").replace(Gu,"%26").replace(qu,"`").replace(Ua,"{").replace(Ga,"}").replace(Na,"^")}function Qu(e){return ko(e).replace(Fu,"%3D")}function Ju(e){return zo(e).replace(Ma,"%23").replace(Vu,"%3F")}function Xu(e){return e==null?"":Ju(e).replace(Bu,"%2F")}function es(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Zu=/\/$/,ed=e=>e.replace(Zu,"");function lo(e,t,n="/"){let s,o={},r="",i="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=od(s??t,n),{fullPath:s+(r&&"?")+r+i,path:s,query:o,hash:es(i)}}function td(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Yr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function nd(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&kn(t.matched[s],n.matched[o])&&Ba(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function kn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ba(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!sd(e[n],t[n]))return!1;return!0}function sd(e,t){return ft(e)?zr(e,t):ft(t)?zr(t,e):e===t}function zr(e,t){return ft(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function od(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i).join("/")}const Bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ts;(function(e){e.pop="pop",e.push="push"})(ts||(ts={}));var jn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(jn||(jn={}));function rd(e){if(!e)if(pn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),ed(e)}const id=/^[^#]+#/;function ad(e,t){return e.replace(id,"#")+t}function ld(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const js=()=>({left:window.scrollX,top:window.scrollY});function cd(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=ld(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Qr(e,t){return(history.state?history.state.position-t:-1)+e}const So=new Map;function ud(e,t){So.set(e,t)}function dd(e){const t=So.get(e);return So.delete(e),t}let fd=()=>location.protocol+"//"+location.host;function Fa(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),Yr(c,"")}return Yr(n,e)+s+o}function hd(e,t,n,s){let o=[],r=[],i=null;const l=({state:p})=>{const v=Fa(e,location),w=n.value,b=t.value;let x=0;if(p){if(n.value=v,t.value=p,i&&i===w){i=null;return}x=b?p.position-b.position:0}else s(v);o.forEach($=>{$(n.value,w,{delta:x,type:ts.pop,direction:x?x>0?jn.forward:jn.back:jn.unknown})})};function c(){i=n.value}function d(p){o.push(p);const v=()=>{const w=o.indexOf(p);w>-1&&o.splice(w,1)};return r.push(v),v}function u(){const{history:p}=window;p.state&&p.replaceState(be({},p.state,{scroll:js()}),"")}function h(){for(const p of r)p();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:h}}function Jr(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?js():null}}function pd(e){const{history:t,location:n}=window,s={value:Fa(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const h=e.indexOf("#"),p=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:fd()+e+c;try{t[u?"replaceState":"pushState"](d,"",p),o.value=d}catch(v){console.error(v),n[u?"replace":"assign"](p)}}function i(c,d){const u=be({},t.state,Jr(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,u,!0),s.value=c}function l(c,d){const u=be({},o.value,t.state,{forward:c,scroll:js()});r(u.current,u,!0);const h=be({},Jr(s.value,c,null),{position:u.position+1},d);r(c,h,!1),s.value=c}return{location:s,state:o,push:l,replace:i}}function md(e){e=rd(e);const t=pd(e),n=hd(e,t.state,t.location,t.replace);function s(r,i=!0){i||n.pauseListeners(),history.go(r)}const o=be({location:"",base:e,go:s,createHref:ad.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function gd(e){return typeof e=="string"||e&&typeof e=="object"}function Va(e){return typeof e=="string"||typeof e=="symbol"}const Ka=Symbol("");var Xr;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Xr||(Xr={}));function Sn(e,t){return be(new Error,{type:e,[Ka]:!0},t)}function $t(e,t){return e instanceof Error&&Ka in e&&(t==null||!!(e.type&t))}const Zr="[^/]+?",vd={sensitive:!1,strict:!1,start:!0,end:!0},yd=/[.+*?^${}()[\]/\\]/g;function bd(e,t){const n=be({},vd,t),s=[];let o=n.start?"^":"";const r=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const p=d[h];let v=40+(n.sensitive?.25:0);if(p.type===0)h||(o+="/"),o+=p.value.replace(yd,"\\$&"),v+=40;else if(p.type===1){const{value:w,repeatable:b,optional:x,regexp:$}=p;r.push({name:w,repeatable:b,optional:x});const S=$||Zr;if(S!==Zr){v+=10;try{new RegExp(`(${S})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${w}" (${S}): `+A.message)}}let L=b?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;h||(L=x&&d.length<2?`(?:/${L})`:"/"+L),x&&(L+="?"),o+=L,v+=20,x&&(v+=-8),b&&(v+=-20),S===".*"&&(v+=-50)}u.push(v)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function l(d){const u=d.match(i),h={};if(!u)return null;for(let p=1;p<u.length;p++){const v=u[p]||"",w=r[p-1];h[w.name]=v&&w.repeatable?v.split("/"):v}return h}function c(d){let u="",h=!1;for(const p of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const v of p)if(v.type===0)u+=v.value;else if(v.type===1){const{value:w,repeatable:b,optional:x}=v,$=w in d?d[w]:"";if(ft($)&&!b)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const S=ft($)?$.join("/"):$;if(!S)if(x)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);u+=S}}return u||"/"}return{re:i,score:s,keys:r,parse:l,stringify:c}}function _d(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function ja(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=_d(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(ei(s))return 1;if(ei(o))return-1}return o.length-s.length}function ei(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const wd={type:0,value:""},Td=/[a-zA-Z0-9_]/;function Cd(e){if(!e)return[[]];if(e==="/")return[[wd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,s=n;const o=[];let r;function i(){r&&o.push(r),r=[]}let l=0,c,d="",u="";function h(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function p(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&h(),i()):c===":"?(h(),n=1):p();break;case 4:p(),n=s;break;case 1:c==="("?n=2:Td.test(c)?p():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),i(),o}function kd(e,t,n){const s=bd(Cd(e.path),n),o=be(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Sd(e,t){const n=[],s=new Map;t=oi({strict:!1,end:!0,sensitive:!1},t);function o(h){return s.get(h)}function r(h,p,v){const w=!v,b=ni(h);b.aliasOf=v&&v.record;const x=oi(t,h),$=[b];if("alias"in h){const A=typeof h.alias=="string"?[h.alias]:h.alias;for(const V of A)$.push(ni(be({},b,{components:v?v.record.components:b.components,path:V,aliasOf:v?v.record:b})))}let S,L;for(const A of $){const{path:V}=A;if(p&&V[0]!=="/"){const M=p.record.path,y=M[M.length-1]==="/"?"":"/";A.path=p.record.path+(V&&y+V)}if(S=kd(A,p,x),v?v.alias.push(S):(L=L||S,L!==S&&L.alias.push(S),w&&h.name&&!si(S)&&i(h.name)),qa(S)&&c(S),b.children){const M=b.children;for(let y=0;y<M.length;y++)r(M[y],S,v&&v.children[y])}v=v||S}return L?()=>{i(L)}:Kn}function i(h){if(Va(h)){const p=s.get(h);p&&(s.delete(h),n.splice(n.indexOf(p),1),p.children.forEach(i),p.alias.forEach(i))}else{const p=n.indexOf(h);p>-1&&(n.splice(p,1),h.record.name&&s.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function l(){return n}function c(h){const p=$d(h,n);n.splice(p,0,h),h.record.name&&!si(h)&&s.set(h.record.name,h)}function d(h,p){let v,w={},b,x;if("name"in h&&h.name){if(v=s.get(h.name),!v)throw Sn(1,{location:h});x=v.record.name,w=be(ti(p.params,v.keys.filter(L=>!L.optional).concat(v.parent?v.parent.keys.filter(L=>L.optional):[]).map(L=>L.name)),h.params&&ti(h.params,v.keys.map(L=>L.name))),b=v.stringify(w)}else if(h.path!=null)b=h.path,v=n.find(L=>L.re.test(b)),v&&(w=v.parse(b),x=v.record.name);else{if(v=p.name?s.get(p.name):n.find(L=>L.re.test(p.path)),!v)throw Sn(1,{location:h,currentLocation:p});x=v.record.name,w=be({},p.params,h.params),b=v.stringify(w)}const $=[];let S=v;for(;S;)$.unshift(S.record),S=S.parent;return{name:x,path:b,params:w,matched:$,meta:xd($)}}e.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:i,clearRoutes:u,getRoutes:l,getRecordMatcher:o}}function ti(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ni(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Ed(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Ed(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function si(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function xd(e){return e.reduce((t,n)=>be(t,n.meta),{})}function oi(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function $d(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;ja(e,t[r])<0?s=r:n=r+1}const o=Ad(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function Ad(e){let t=e;for(;t=t.parent;)if(qa(t)&&ja(e,t)===0)return t}function qa({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Id(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(Ha," "),i=r.indexOf("="),l=es(i<0?r:r.slice(0,i)),c=i<0?null:es(r.slice(i+1));if(l in t){let d=t[l];ft(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function ri(e){let t="";for(let n in e){const s=e[n];if(n=Qu(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(ft(s)?s.map(r=>r&&ko(r)):[s&&ko(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function Pd(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=ft(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Rd=Symbol(""),ii=Symbol(""),qs=Symbol(""),Qo=Symbol(""),Eo=Symbol("");function Dn(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function qt(e,t,n,s,o,r=i=>i()){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const d=p=>{p===!1?c(Sn(4,{from:n,to:t})):p instanceof Error?c(p):gd(p)?c(Sn(2,{from:t,to:p})):(i&&s.enterCallbacks[o]===i&&typeof p=="function"&&i.push(p),l())},u=r(()=>e.call(s&&s.instances[o],t,n,d));let h=Promise.resolve(u);e.length<3&&(h=h.then(d)),h.catch(p=>c(p))})}function co(e,t,n,s,o=r=>r()){const r=[];for(const i of e)for(const l in i.components){let c=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(La(c)){const u=(c.__vccOpts||c)[t];u&&r.push(qt(u,n,s,i,l,o))}else{let d=c();r.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${i.path}"`);const h=Uu(u)?u.default:u;i.mods[l]=u,i.components[l]=h;const v=(h.__vccOpts||h)[t];return v&&qt(v,n,s,i,l,o)()}))}}return r}function ai(e){const t=ct(qs),n=ct(Qo),s=Z(()=>{const c=N(e.to);return t.resolve(c)}),o=Z(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],h=n.matched;if(!u||!h.length)return-1;const p=h.findIndex(kn.bind(null,u));if(p>-1)return p;const v=li(c[d-2]);return d>1&&li(u)===v&&h[h.length-1].path!==v?h.findIndex(kn.bind(null,c[d-2])):p}),r=Z(()=>o.value>-1&&Hd(n.params,s.value.params)),i=Z(()=>o.value>-1&&o.value===n.matched.length-1&&Ba(n.params,s.value.params));function l(c={}){if(Md(c)){const d=t[N(e.replace)?"replace":"push"](N(e.to)).catch(Kn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:Z(()=>s.value.href),isActive:r,isExactActive:i,navigate:l}}function Od(e){return e.length===1?e[0]:e}const Dd=Xi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ai,setup(e,{slots:t}){const n=Dt(ai(e)),{options:s}=ct(qs),o=Z(()=>({[ci(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ci(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&Od(t.default(n));return e.custom?r:Yo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Ld=Dd;function Md(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Hd(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!ft(o)||o.length!==s.length||s.some((r,i)=>r!==o[i]))return!1}return!0}function li(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ci=(e,t,n)=>e??t??n,Nd=Xi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ct(Eo),o=Z(()=>e.route||s.value),r=ct(ii,0),i=Z(()=>{let d=N(r);const{matched:u}=o.value;let h;for(;(h=u[d])&&!h.components;)d++;return d}),l=Z(()=>o.value.matched[i.value]);ys(ii,Z(()=>i.value+1)),ys(Rd,l),ys(Eo,o);const c=J();return ot(()=>[c.value,l.value,e.name],([d,u,h],[p,v,w])=>{u&&(u.instances[h]=d,v&&v!==u&&d&&d===p&&(u.leaveGuards.size||(u.leaveGuards=v.leaveGuards),u.updateGuards.size||(u.updateGuards=v.updateGuards))),d&&u&&(!v||!kn(u,v)||!p)&&(u.enterCallbacks[h]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,h=l.value,p=h&&h.components[u];if(!p)return ui(n.default,{Component:p,route:d});const v=h.props[u],w=v?v===!0?d.params:typeof v=="function"?v(d):v:null,x=Yo(p,be({},w,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return ui(n.default,{Component:x,route:d})||x}}});function ui(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Ud=Nd;function Gd(e){const t=Sd(e.routes,e),n=e.parseQuery||Id,s=e.stringifyQuery||ri,o=e.history,r=Dn(),i=Dn(),l=Dn(),c=Bl(Bt);let d=Bt;pn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ao.bind(null,P=>""+P),h=ao.bind(null,Xu),p=ao.bind(null,es);function v(P,Q){let W,ee;return Va(P)?(W=t.getRecordMatcher(P),ee=Q):ee=P,t.addRoute(ee,W)}function w(P){const Q=t.getRecordMatcher(P);Q&&t.removeRoute(Q)}function b(){return t.getRoutes().map(P=>P.record)}function x(P){return!!t.getRecordMatcher(P)}function $(P,Q){if(Q=be({},Q||c.value),typeof P=="string"){const _=lo(n,P,Q.path),O=t.resolve({path:_.path},Q),H=o.createHref(_.fullPath);return be(_,O,{params:p(O.params),hash:es(_.hash),redirectedFrom:void 0,href:H})}let W;if(P.path!=null)W=be({},P,{path:lo(n,P.path,Q.path).path});else{const _=be({},P.params);for(const O in _)_[O]==null&&delete _[O];W=be({},P,{params:h(_)}),Q.params=h(Q.params)}const ee=t.resolve(W,Q),Te=P.hash||"";ee.params=u(p(ee.params));const m=td(s,be({},P,{hash:zu(Te),path:ee.path})),g=o.createHref(m);return be({fullPath:m,hash:Te,query:s===ri?Pd(P.query):P.query||{}},ee,{redirectedFrom:void 0,href:g})}function S(P){return typeof P=="string"?lo(n,P,c.value.path):be({},P)}function L(P,Q){if(d!==P)return Sn(8,{from:Q,to:P})}function A(P){return y(P)}function V(P){return A(be(S(P),{replace:!0}))}function M(P){const Q=P.matched[P.matched.length-1];if(Q&&Q.redirect){const{redirect:W}=Q;let ee=typeof W=="function"?W(P):W;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=S(ee):{path:ee},ee.params={}),be({query:P.query,hash:P.hash,params:ee.path!=null?{}:P.params},ee)}}function y(P,Q){const W=d=$(P),ee=c.value,Te=P.state,m=P.force,g=P.replace===!0,_=M(W);if(_)return y(be(S(_),{state:typeof _=="object"?be({},Te,_.state):Te,force:m,replace:g}),Q||W);const O=W;O.redirectedFrom=Q;let H;return!m&&nd(s,ee,W)&&(H=Sn(16,{to:O,from:ee}),tt(ee,ee,!0,!1)),(H?Promise.resolve(H):C(O,ee)).catch(D=>$t(D)?$t(D,2)?D:gt(D):z(D,O,ee)).then(D=>{if(D){if($t(D,2))return y(be({replace:g},S(D.to),{state:typeof D.to=="object"?be({},Te,D.to.state):Te,force:m}),Q||O)}else D=f(O,ee,!0,g,Te);return T(O,ee,D),D})}function I(P,Q){const W=L(P,Q);return W?Promise.reject(W):Promise.resolve()}function R(P){const Q=ie.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(P):P()}function C(P,Q){let W;const[ee,Te,m]=Bd(P,Q);W=co(ee.reverse(),"beforeRouteLeave",P,Q);for(const _ of ee)_.leaveGuards.forEach(O=>{W.push(qt(O,P,Q))});const g=I.bind(null,P,Q);return W.push(g),Re(W).then(()=>{W=[];for(const _ of r.list())W.push(qt(_,P,Q));return W.push(g),Re(W)}).then(()=>{W=co(Te,"beforeRouteUpdate",P,Q);for(const _ of Te)_.updateGuards.forEach(O=>{W.push(qt(O,P,Q))});return W.push(g),Re(W)}).then(()=>{W=[];for(const _ of m)if(_.beforeEnter)if(ft(_.beforeEnter))for(const O of _.beforeEnter)W.push(qt(O,P,Q));else W.push(qt(_.beforeEnter,P,Q));return W.push(g),Re(W)}).then(()=>(P.matched.forEach(_=>_.enterCallbacks={}),W=co(m,"beforeRouteEnter",P,Q,R),W.push(g),Re(W))).then(()=>{W=[];for(const _ of i.list())W.push(qt(_,P,Q));return W.push(g),Re(W)}).catch(_=>$t(_,8)?_:Promise.reject(_))}function T(P,Q,W){l.list().forEach(ee=>R(()=>ee(P,Q,W)))}function f(P,Q,W,ee,Te){const m=L(P,Q);if(m)return m;const g=Q===Bt,_=pn?history.state:{};W&&(ee||g?o.replace(P.fullPath,be({scroll:g&&_&&_.scroll},Te)):o.push(P.fullPath,Te)),c.value=P,tt(P,Q,W,g),gt()}let U;function X(){U||(U=o.listen((P,Q,W)=>{if(!de.listening)return;const ee=$(P),Te=M(ee);if(Te){y(be(Te,{replace:!0,force:!0}),ee).catch(Kn);return}d=ee;const m=c.value;pn&&ud(Qr(m.fullPath,W.delta),js()),C(ee,m).catch(g=>$t(g,12)?g:$t(g,2)?(y(be(S(g.to),{force:!0}),ee).then(_=>{$t(_,20)&&!W.delta&&W.type===ts.pop&&o.go(-1,!1)}).catch(Kn),Promise.reject()):(W.delta&&o.go(-W.delta,!1),z(g,ee,m))).then(g=>{g=g||f(ee,m,!1),g&&(W.delta&&!$t(g,8)?o.go(-W.delta,!1):W.type===ts.pop&&$t(g,20)&&o.go(-1,!1)),T(ee,m,g)}).catch(Kn)}))}let te=Dn(),me=Dn(),ce;function z(P,Q,W){gt(P);const ee=me.list();return ee.length?ee.forEach(Te=>Te(P,Q,W)):console.error(P),Promise.reject(P)}function Ye(){return ce&&c.value!==Bt?Promise.resolve():new Promise((P,Q)=>{te.add([P,Q])})}function gt(P){return ce||(ce=!P,X(),te.list().forEach(([Q,W])=>P?W(P):Q()),te.reset()),P}function tt(P,Q,W,ee){const{scrollBehavior:Te}=e;if(!pn||!Te)return Promise.resolve();const m=!W&&dd(Qr(P.fullPath,0))||(ee||!W)&&history.state&&history.state.scroll||null;return Yn().then(()=>Te(P,Q,m)).then(g=>g&&cd(g)).catch(g=>z(g,P,Q))}const Le=P=>o.go(P);let ue;const ie=new Set,de={currentRoute:c,listening:!0,addRoute:v,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:x,getRoutes:b,resolve:$,options:e,push:A,replace:V,go:Le,back:()=>Le(-1),forward:()=>Le(1),beforeEach:r.add,beforeResolve:i.add,afterEach:l.add,onError:me.add,isReady:Ye,install(P){const Q=this;P.component("RouterLink",Ld),P.component("RouterView",Ud),P.config.globalProperties.$router=Q,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>N(c)}),pn&&!ue&&c.value===Bt&&(ue=!0,A(o.location).catch(Te=>{}));const W={};for(const Te in Bt)Object.defineProperty(W,Te,{get:()=>c.value[Te],enumerable:!0});P.provide(qs,Q),P.provide(Qo,Oi(W)),P.provide(Eo,c);const ee=P.unmount;ie.add(P),P.unmount=function(){ie.delete(P),ie.size<1&&(d=Bt,U&&U(),U=null,c.value=Bt,ue=!1,ce=!1),ee()}}};function Re(P){return P.reduce((Q,W)=>Q.then(()=>R(W)),Promise.resolve())}return de}function Bd(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const l=t.matched[i];l&&(e.matched.find(d=>kn(d,l))?s.push(l):n.push(l));const c=e.matched[i];c&&(t.matched.find(d=>kn(d,c))||o.push(c))}return[n,s,o]}function xn(){return ct(qs)}function Fd(e){return ct(Qo)}const pe={BASE_URL:"http://localhost:8080",AUTH:{LOGIN:"/api/auth/log-in",LOGOUT:"/api/auth/log-out",STATUS:"/api/auth/status",VALIDATE_TOKEN:"/api/auth/validate-token"},PASSWORD_RESET:{SEND_OTP:"/api/forgot-password/send-otp",VERIFY_OTP:"/api/forgot-password/verify-otp",RESET_PASSWORD:"/api/forgot-password/reset-password"},USER:{REGISTER:"/api/khachhang/register",GET_BY_ID:"/api/nguoidung/{maNguoiDung}",GET_BY_EMAIL:"/api/nguoidung/email/{email}",UPDATE:"/api/nguoidung/{maNguoiDung}",DELETE:"/api/nguoidung/{maNguoiDung}",CHECK_EMAIL:"/api/nguoidung/check-email/{email}",CHECK_ID:"/api/nguoidung/check-id/{maNguoiDung}"},OAUTH2:{GET_JWT_TOKEN:"/api/oauth2/get-jwt-token",USER_INFO:"/api/oauth2/user-info",SUCCESS:"/api/oauth2/success",FAILURE:"/api/oauth2/failure",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",TEST_CONFIG:"/api/oauth2/test-config",LOGOUT_DEPRECATED:"/api/oauth2/logout"},AUTHORIZATION:{GOOGLE:"/oauth2/authorization/google",FACEBOOK:"/oauth2/authorization/facebook"}},Vd=e=>`${pe.BASE_URL}${e}`,It="http://localhost:8080",Oe={OAUTH2:{TEST_CONFIG:"/api/oauth2/test-config",USER_INFO:"/api/oauth2/user-info",ANALYZE:"/api/oauth2/analyze",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",GET_TOKEN:"/api/oauth2/get-token",GOOGLE_CALLBACK:"/api/oauth2/callback/google",GOOGLE_REGISTER:"/api/oauth2/register/google"},CATEGORIES:{LIST:"/api/loaisanpham",BY_ID:e=>`/api/loaisanpham/${e}`},PRODUCTS:{LIST:"/api/sanpham",BY_ID:e=>`/api/sanpham/${e}`,BY_CATEGORY:e=>`/api/sanpham/category/${e}`,BY_CATEGORY_ACTIVE:e=>`/api/sanpham/category/${e}/active`},CART:{BY_CUSTOMER:e=>`/api/giohang/by-khachhang/${e}`,CREATE:"/api/giohang",BY_ID:e=>`/api/giohang/${e}`,UPDATE_STATUS:e=>`/api/giohang/${e}/status`,CLEAR_ITEMS:e=>`/api/giohang/${e}/items`,WITH_ITEMS_BY_ID:e=>`/api/giohang/${e}/with-items`,BY_CUSTOMER_WITH_ITEMS:e=>`/api/giohang/by-khachhang/${e}/with-items`,SYNC:"/api/giohang/sync"},CART_ITEMS:{BY_CART:e=>`/api/chitietgiohang/by-giohang/${e}`,ADD:"/api/chitietgiohang",UPDATE_QTY:e=>`/api/chitietgiohang/${e}/quantity`,REMOVE:e=>`/api/chitietgiohang/${e}`},IMAGES:{PRODUCT_LIST:e=>`/api/hinhanh/product/${e}`,SERVE_IMAGE:e=>`/api/upload/serve-image/${e}`,PRODUCT_IMAGES:e=>[`/api/upload/serve-image/${e}_main.jfif`,`/api/upload/serve-image/${e}_main1.jfif`,`/api/upload/serve-image/${e}_main2.jfif`]}},Jo="easymart-token",Kd=7,jd=(e,t,n=7,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let i=`${e}=${t||""}${r}; path=/`;s&&(i+="; Secure"),o&&(i+="; HttpOnly"),i+="; SameSite=Strict",document.cookie=i},qd=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},Wd=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},Yd=e=>{{const t=window.location.protocol==="https:";jd(Jo,e,Kd,t,!1)}},ht=()=>{let e=null;return e=qd(Jo),e},zd=()=>{Wd(Jo)},Qd="modulepreload",Jd=function(e){return"/"+e},di={},Be=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=c(n.map(d=>{if(d=Jd(d),d in di)return;di[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Qd,u||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((v,w)=>{p.addEventListener("load",v),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},Xd=(e,t,n=7,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let i=`${e}=${t||""}${r}; path=/`;s&&(i+="; Secure"),o&&(i+="; HttpOnly"),i+="; SameSite=Strict",document.cookie=i},Zd=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},ef=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},Xo=(e,t)=>{Xd(e,t,7,!1,!1)},mt=e=>Zd(e),Zo=e=>{ef(e)},Pe=J(null),tf=Z(()=>!!Pe.value),Wa=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);Pe.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error loading user data:",t),localStorage.removeItem("easymart-user"),Pe.value=null}},ns=e=>{const t={id:e.id,name:e.name,avatar:e.avatar,role:e.role,loginMethod:e.loginMethod,displayName:e.name||e.email?.split("@")[0]||"User"};localStorage.setItem("easymart-user",JSON.stringify(t)),Pe.value=e,e.triggerEvent!==!1&&window.dispatchEvent(new CustomEvent("user-updated",{detail:t}))},Ws=e=>{try{if(!e)return null;const t=JSON.parse(atob(e.split(".")[1]));return{email:t.sub,issuer:t.iss,role:t.role,exp:t.exp,iat:t.iat,raw:t}}catch(t){return console.error("Error decoding token:",t),null}},Ys=e=>{try{if(!e)return!1;const t=Ws(e);if(!t)return!1;const n=Math.floor(Date.now()/1e3);return t.exp>n}catch{return!1}},nf=()=>{const e=mt("easymart-token");if(!e||!Ys(e)){Zo("easymart-token"),localStorage.removeItem("easymart-user"),Pe.value=null;return}const t=Ws(e);if(t){const n={id:null,email:t.email,name:t.email.split("@")[0],role:t.role,loginMethod:"token",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.email.split("@")[0])}&background=28a745&color=fff`,tokenInfo:{issuer:t.issuer,exp:new Date(t.exp*1e3),iat:new Date(t.iat*1e3)}};Pe.value=n,console.log("🔐 User initialized from token:",n),console.log("🔍 Token payload:",t.raw),setTimeout(async()=>{try{console.log("🔄 Fetching complete user info in background..."),await Qa()}catch(s){console.warn("⚠️ Could not fetch complete user info in background:",s)}},1e3)}},sf=()=>{const e=mt("easymart-token");if(console.log("🔍 Current token:",e),e){const t=Ws(e);if(console.log("📋 Decoded token:",t),console.log("✅ Token valid:",Ys(e)),t&&t.exp){const n=new Date(t.exp*1e3),s=new Date;console.log("⏰ Token expires:",n),console.log("🕐 Current time:",s),console.log("⏱️ Time until expiry:",Math.round((n-s)/1e3/60),"minutes")}}else console.log("❌ No token found")},Ya=async e=>{try{if(!e)return!1;const t=await fetch(`${pe.BASE_URL}/api/auth/validate-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({token:e})});if(!t.ok)return!1;const n=await t.json();if(n&&n.result&&n.result.valid===!0){const s=Pe.value;return(!s||!s.id||s.email!==n.result.username)&&await za(n.result),!0}else return!1}catch(t){return console.error("❌ Error validating token:",t),!1}},za=async e=>{try{const{username:t,role:n,expiration:s}=e,o=await er(t);if(o&&o.success&&o.user){const r={id:o.user.maNguoiDung||o.user.id,email:t,name:o.user.tenNguoiDung||o.user.hoTen||t.split("@")[0],phone:o.user.soDienThoai||o.user.sdt||"",address:o.user.diaChi||"",role:n,avatar:o.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(o.user.tenNguoiDung||t.split("@")[0])}&background=28a745&color=fff`,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};Pe.value=r,localStorage.setItem("easymart-user",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("user-updated",{detail:r}))}else{const r={id:null,email:t,name:t.split("@")[0],role:n,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};Pe.value=r,localStorage.setItem("easymart-user",JSON.stringify(r))}}catch(t){console.error("❌ Error updating user from validation:",t)}},of=async()=>{const e=mt("easymart-token");if(!e)return;if(!Ys(e)){await xo("Token đã hết hạn");return}await Ya(e)||await xo("Phiên đăng nhập không hợp lệ")},xo=async e=>{console.log("🚪 Performing auto-logout:",e),Zo("easymart-token"),localStorage.removeItem("easymart-user"),Pe.value=null,alert(`${e}. Bạn sẽ được chuyển về trang đăng nhập.`),window.location.href="/login"},Qa=async()=>{const e=Pe.value;if(!e)return console.warn("⚠️ No user logged in"),null;if(e.id)return console.log("✅ User already has complete info:",e.id),e;if(e.email){console.log("🔍 Fetching user ID for:",e.email);try{const t=await er(e.email);if(t&&t.success&&t.user){const n={...e,id:t.user.maNguoiDung||t.user.id,name:t.user.tenNguoiDung||t.user.hoTen||e.name,phone:t.user.soDienThoai||t.user.sdt||e.phone||"",address:t.user.diaChi||e.address||""};return Pe.value=n,localStorage.setItem("easymart-user",JSON.stringify(n)),console.log("✅ User info completed with ID:",n.id),n}}catch(t){console.error("❌ Error fetching complete user info:",t)}}return console.warn("⚠️ Could not complete user info"),e},rf=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);Pe.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error reloading user data:",t),localStorage.removeItem("easymart-user"),Pe.value=null}},af=async()=>{try{const e=mt("easymart-token");if(!e)return null;const t=await Ge(pe.USER.GET_BY_ID,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(t&&t.result)return Pe.value=t.result,ns(t.result),t.result}catch(e){return console.error("Error fetching full user data:",e),null}},Ts=async()=>{try{const e=mt("easymart-token");if(!e)throw new Error("Không có token xác thực");console.log("🔍 Validating token for profile access..."),console.log("📡 Step 1: Calling validate-token API...");const t=await Ge(pe.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})});if(console.log("📥 Validate token response:",t),!t?.result?.valid)throw new Error("Token không hợp lệ hoặc đã hết hạn");const{username:n,role:s,expiration:o}=t.result;console.log("✅ Token validated:",{username:n,role:s,expiration:o}),console.log("📡 Step 2: Calling GET_BY_EMAIL API...");const r=pe.USER.GET_BY_EMAIL.replace("{email}",n);console.log("🔗 Email endpoint:",r);const i=await Ge(r,{method:"GET"});console.log("📥 User response:",i);let l=null;if(i?.result)l=i.result;else if(i?.data)l=i.data;else if(i?.maNguoiDung)l=i;else throw console.error("❌ Unexpected user response format:",i),new Error("Response format không đúng từ API người dùng");const{maNguoiDung:c,vaiTro:d}=l;if(console.log("👤 User info retrieved:",{maNguoiDung:c,vaiTro:d}),!c)throw new Error("Không tìm thấy mã người dùng trong response");console.log("📡 Step 3: Calling customer API..."),console.log("📡 Step 3: Calling customer API...");let u=null,h=null;const p=[`/api/khachhang/by-nguoidung/${c}`,`/api/khachhang/${c}`,`/api/nguoidung/${c}`];for(let b=0;b<p.length;b++){const x=p[b];console.log(`🔗 Trying endpoint ${b+1}: ${x}`);try{const $=`${pe.BASE_URL}${x}`;if(console.log(`🔗 Full URL: ${$}`),h=await fetch($,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),console.log(`📡 Response ${b+1} status:`,h.status),console.log(`📡 Response ${b+1} redirected:`,h.redirected),h.ok){const S=h.headers.get("content-type");if(console.log(`📡 Response ${b+1} Content-Type:`,S),S&&S.includes("application/json")){const L=await h.json();if(console.log(`✅ Endpoint ${b+1} success:`,L),L?.hoTen)console.log("✅ Response có hoTen - format customer data"),u={hoTen:L.hoTen,soDienThoai:L.sdt,ngaySinh:L.ngaySinh,diaChi:L.diaChi,ngayTao:L.ngayDangKy,tongDonHang:0,tongChiTieu:0,maKH:L.maKH,diemTichLuy:L.diemTichLuy,loaiKhachHang:L.loaiKhachHang,nguoiDung:L.nguoiDung,sdt:L.sdt};else if(L?.token){console.log("⚠️ Response chỉ có token - cần xử lý khác cho Google OAuth2 user");try{console.log("🔄 Gọi API /api/nguoidung để lấy customer info...");const A=await fetch(`${pe.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(A.ok){const V=await A.json();console.log("✅ Customer info từ /api/nguoidung:",V),u={hoTen:V.tenNguoiDung||n.split("@")[0],soDienThoai:V.soDienThoai||"",ngaySinh:V.ngaySinh||null,diaChi:V.diaChi||"",ngayTao:V.ngayTao||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:V.maNguoiDung,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:V.soDienThoai||""}}else{console.log("❌ Không thể lấy customer info từ /api/nguoidung");continue}}catch(A){console.log("❌ Lỗi khi gọi /api/nguoidung:",A.message);continue}}else if(L?.result)u=L.result;else if(L?.data)u=L.data;else if(console.log("⚠️ Response không có hoTen, token, result, data - có thể là Google OAuth2 user"),n.includes("@gmail.com")||n.includes("@fpt.edu.vn")){console.log("🔍 Detected Google OAuth2 user, calling /api/nguoidung...");try{console.log("🔄 Gọi API /api/nguoidung để lấy customer info...");const V=await fetch(`${pe.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(V.ok){const M=await V.json();console.log("✅ Customer info từ /api/nguoidung:",M);let y="",I="";M.soDienThoai?y=M.soDienThoai:M.sdt?y=M.sdt:M.phone?y=M.phone:M.dienThoai&&(y=M.dienThoai),M.diaChi?I=M.diaChi:M.address?I=M.address:M.diaChiChiTiet&&(I=M.diaChiChiTiet),u={hoTen:M.tenNguoiDung||M.hoTen||n.split("@")[0],soDienThoai:y,ngaySinh:M.ngaySinh||null,diaChi:I,ngayTao:M.ngayTao||M.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:M.maNguoiDung||M.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:y}}else{console.log("❌ Không thể lấy customer info từ /api/nguoidung");continue}}catch(V){console.log("❌ Lỗi khi gọi /api/nguoidung:",V.message);continue}}else{console.log(`⚠️ Endpoint ${b+1} response format không xác định:`,L);continue}console.log(`✅ Found working endpoint: ${x}`);break}else{const L=await h.text();console.log(`⚠️ Endpoint ${b+1} returned non-JSON:`,L.substring(0,200));continue}}else if(h.redirected)if(console.log(`⚠️ Endpoint ${b+1} was redirected - trying /api/nguoidung directly...`),n.includes("@gmail.com")||n.includes("@fpt.edu.vn"))try{const L=await fetch(`${pe.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(L.ok){const A=await L.json();console.log("✅ Direct call to /api/nguoidung successful");let V=A.soDienThoai||A.sdt||A.phone||A.dienThoai||"",M=A.diaChi||A.address||A.diaChiChiTiet||"";u={hoTen:A.tenNguoiDung||A.hoTen||n.split("@")[0],soDienThoai:V,ngaySinh:A.ngaySinh||null,diaChi:M,ngayTao:A.ngayTao||A.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:A.maNguoiDung||A.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:V},console.log("✅ Found working solution: direct call to /api/nguoidung");break}else{console.log("❌ Direct call to /api/nguoidung failed with status:",L.status);continue}}catch(L){console.log("❌ Error in direct call to /api/nguoidung:",L.message);continue}else{console.log(`⚠️ Endpoint ${b+1} failed with status:`,h.status);continue}else{console.log(`⚠️ Endpoint ${b+1} failed with status:`,h.status);continue}}catch($){console.log(`❌ Endpoint ${b+1} error:`,$.message);continue}}if(!u)if(console.log("⚠️ No working customer endpoint found, creating basic data"),n.includes("@gmail.com")||n.includes("@fpt.edu.vn")){console.log("🔍 Fallback: Creating OAuth2 user data structure");try{console.log("🔄 Fallback: Thử gọi /api/nguoidung một lần nữa...");const x=await fetch(`${pe.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(x.ok){const $=await x.json();console.log("✅ Fallback: Customer info từ /api/nguoidung");let S=$.soDienThoai||$.sdt||$.phone||$.dienThoai||"",L=$.diaChi||$.address||$.diaChiChiTiet||"";u={hoTen:$.tenNguoiDung||$.hoTen||n.split("@")[0],soDienThoai:S,ngaySinh:$.ngaySinh||null,diaChi:L,ngayTao:$.ngayTao||$.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:$.maNguoiDung||$.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:S}}else console.log("❌ Fallback: Không thể lấy customer info từ /api/nguoidung"),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:""}}catch(x){console.log("❌ Fallback: Lỗi khi gọi /api/nguoidung:",x.message),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:""}}}else u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:""};console.log("🏪 Final customer data:",u);const v=u.loaiKhachHang==="OAuth2 User",w={id:c,name:u.hoTen||n.split("@")[0],email:n,phone:u.soDienThoai||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(u.hoTen||n.split("@")[0])}&background=007bff&color=fff`,joinDate:u.ngayTao||new Date().toISOString().split("T")[0],totalOrders:u.tongDonHang||0,totalSpent:u.tongChiTieu||0,role:d===3?"CUSTOMER":"USER",loginMethod:v?"google":"traditional",customerInfo:u,userRole:d,userCode:c};return Pe.value=w,ns({...w,triggerEvent:!1}),console.log("✅ Profile validation completed successfully"),{success:!0,user:w}}catch(e){return console.error("❌ Profile validation failed:",e),(e.message.includes("Token không hợp lệ")||e.message.includes("Không có token"))&&Za(),{success:!1,error:e.message}}},lf=async e=>{try{const t=mt("easymart-token");if(!t)throw new Error("Không có token xác thực");const n=await Ts();if(!n.success)throw new Error(n.error);const{userCode:s}=Pe.value,o=`${pe.BASE_URL}/api/khachhang/by-nguoidung/${s}`;console.log("🔗 Update customer endpoint:",o),console.log("📤 Update data being sent:",e);const r=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const i=await r.json();if(console.log("📥 Update response:",i),i?.success||i?.result?.success||i?.message?.includes("thành công"))return console.log("✅ Update successful, refreshing user data..."),await Ts(),{success:!0,message:"Cập nhật profile thành công!"};if(console.log("⚠️ Update response format unexpected:",i),r.ok)return console.log("✅ Update successful (status 200), refreshing user data..."),await Ts(),{success:!0,message:"Cập nhật profile thành công!"};throw new Error(i?.message||i?.error||"Cập nhật profile thất bại")}catch(t){return console.error("❌ Update profile failed:",t),{success:!1,error:t.message}}},Ge=async(e,t={})=>{try{const n=await fetch(Vd(e),{headers:{"Content-Type":"application/json",...t.headers},...t});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("API call error:",n),n}},cf=async(e,t)=>{try{if(e==="demo@easymart.vn"){const n={id:"DEMO_USER",name:"Demo User",email:e,phone:"0123456789",avatar:"https://ui-avatars.com/api/?name=Demo+User&background=007bff&color=fff",joinDate:new Date().toISOString().split("T")[0],totalOrders:5,totalSpent:15e5,role:"USER",loginMethod:"traditional"};return ns(n),{success:!0,user:n}}try{const n=await Ge(pe.AUTH.LOGIN,{method:"POST",body:JSON.stringify({email:e,matKhau:t})});if(n&&n.result&&n.result.authenticated){const s=n.result;s.token&&Xo("easymart-token",s.token);const o={id:"USER_"+Date.now(),name:e.split("@")[0],email:e,phone:"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.split("@")[0])}&background=007bff&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"};ns(o);try{const r=await Be(()=>Promise.resolve().then(()=>sr),void 0);if(r&&typeof r.useCart=="function"){const{syncLocalCartToDBViaEndpoint:i,persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=r.useCart();if(i?!(await i())?.success&&l&&await l():l&&await l(),c){const u=mt("easymart-token"),h="cart-merged-for-token";u&&sessionStorage.getItem(h)!==u&&(!await c()&&d&&await d(),sessionStorage.setItem(h,u))}}}catch(r){console.warn("Cart merge after login failed (non-blocking):",r?.message||r)}return{success:!0,user:o,message:s.message}}else return{success:!1,error:n?.result?.message||"Email hoặc mật khẩu không đúng"}}catch(n){return console.error("Login API error:",n),{success:!1,error:"Đăng nhập thất bại. Vui lòng kiểm tra lại thông tin."}}}catch(n){return console.error("Login error:",n),{success:!1,error:"Đăng nhập thất bại. Vui lòng thử lại."}}},uf=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"Đang chuyển hướng tới Google OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Google credential payload:",t),{success:!1,error:"Vui lòng sử dụng OAuth2 flow mới"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google login error:",t),{success:!1,error:"Đăng nhập với Google thất bại. Vui lòng thử lại."}}},df=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"Đang chuyển hướng tới Facebook OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Facebook credential payload:",t),{success:!1,error:"Vui lòng sử dụng OAuth2 flow mới"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook login error:",t),{success:!1,error:"Đăng nhập với Facebook thất bại. Vui lòng thử lại."}}},ff=async(e,t,n="",s,o,r="")=>{try{if(s!==o)return{success:!1,error:"Mật khẩu không khớp!"};if(n&&n.trim()&&!/^[0-9]{10,11}$/.test(n))return{success:!1,error:"Số điện thoại phải có 10-11 chữ số!"};try{const c=await Xa(t);if(c&&c.exists)return{success:!1,error:"Email đã tồn tại trong hệ thống!"}}catch(c){console.warn("Email check failed, proceeding anyway:",c)}const i={email:t,matKhau:s,hoTen:e,sdt:n||"",diaChi:r||""};console.log("📤 Sending register data:",i);const l=await Ge(pe.USER.REGISTER,{method:"POST",body:JSON.stringify(i)});if(console.log("📥 Received register response:",l),l&&l.login_info&&l.login_info.email){const c=l.login_info;return{success:!0,user:{id:"CUSTOMER_"+Date.now(),name:e,email:c.email,phone:n||"",address:r||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=28a745&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"},message:c.message||"Đăng ký thành công! Vui lòng đăng nhập để tiếp tục."}}else return{success:!1,error:"Đăng ký thất bại - Không nhận được thông tin xác nhận từ server"}}catch(i){return console.error("Register error:",i),{success:!1,error:"Đăng ký thất bại. Vui lòng thử lại."}}},hf=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"Đang chuyển hướng tới Google OAuth2..."}:e.credential?(console.log("Legacy Google register credential"),{success:!1,error:"Vui lòng sử dụng OAuth2 flow mới"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google register error:",t),{success:!1,error:"Đăng ký với Google thất bại. Vui lòng thử lại."}}},pf=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"Đang chuyển hướng tới Facebook OAuth2..."}:e.credential?(console.log("Legacy Facebook register credential"),{success:!1,error:"Vui lòng sử dụng OAuth2 flow mới"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook register error:",t),{success:!1,error:"Đăng ký với Facebook thất bại. Vui lòng thử lại."}}},mf=async()=>{try{const e=await Ge(pe.OAUTH2.GET_JWT_TOKEN);if(e.success)return Xo("easymart-token",e.result.jwt_token),e.result;throw new Error(e.message||"Không thể lấy JWT token")}catch(e){throw console.error("Get JWT token error:",e),e}},gf=async()=>{try{const e=mt("easymart-token");if(!e)throw new Error("Không có token xác thực");const t=await Ge(pe.OAUTH2.USER_INFO,{headers:{Authorization:`Bearer ${e}`}});if(t.success)return t.result;throw new Error(t.message||"Không thể lấy thông tin user")}catch(e){throw console.error("Get user info error:",e),e}},vf=async()=>{try{return await Ge(pe.OAUTH2.TEST_CONFIG)}catch(e){throw console.error("Test OAuth2 config error:",e),e}},Ja=async e=>{try{return await Ge(`${pe.OAUTH2.CHECK_EMAIL}?email=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check email duplicate error:",t),t}},Xa=async e=>{try{const t=pe.USER.CHECK_EMAIL.replace("{email}",encodeURIComponent(e));return await Ge(t)}catch(t){throw console.error("Check user email exists error:",t),t}},er=async e=>{try{const t=pe.USER.GET_BY_EMAIL.replace("{email}",encodeURIComponent(e));return await Ge(t)}catch(t){throw console.error("Get user by email error:",t),t}},yf=async e=>{try{return await Ge(`${pe.OAUTH2.CHECK_SUB}?sub=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check OAuth2 sub error:",t),t}},bf=async()=>{try{const e=mt("easymart-token");return e?await Ge(pe.AUTH.STATUS,{method:"GET",headers:{Authorization:`Bearer ${e}`}}):{success:!1,error:"No token found"}}catch(e){return console.error("Check auth status error:",e),{success:!1,error:"Failed to check auth status"}}},_f=async e=>{try{return await Ge(pe.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})})}catch(t){return console.error("Validate token error:",t),{success:!1,error:"Token validation failed"}}},wf=async()=>{try{const e=mt("easymart-token"),t=localStorage.getItem("easymart-user");if(e&&t){const r=JSON.parse(t);try{const i=await Be(()=>Promise.resolve().then(()=>sr),void 0);if(i&&typeof i.useCart=="function"){const{persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=i.useCart();if(l&&await l(),c){const u="cart-merged-for-token";sessionStorage.getItem(u)!==e&&(!await c()&&d&&await d(),sessionStorage.setItem(u,e))}}}catch(i){console.warn("Cart merge after OAuth2 login failed (non-blocking):",i?.message||i)}return{success:!0,user:r}}const n=new URLSearchParams(window.location.search),s=n.get("code"),o=n.get("error");if(o)return console.error("OAuth2 error:",o),{success:!1,error:`OAuth2 lỗi: ${o}`};if(s){console.log("Legacy OAuth2 callback with code:",s);try{const r=await Ge(pe.OAUTH2.USER_INFO),i=await Ge(pe.OAUTH2.GET_JWT_TOKEN);if(r.success&&i.success){const l=r.result,c=i.result,d=l.email||c.user_email,u=await Ja(d);if(u.success&&u.result.exists){const h={id:l.maNguoiDung||c.user_info?.maNguoiDung||"OAUTH_USER",name:l.tenNguoiDung||c.user_info?.tenNguoiDung||"OAuth User",email:d,phone:l.soDienThoai||c.user_info?.soDienThoai||"",avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||"OAuth User")}&background=007bff&color=fff`,joinDate:l.ngayTao||new Date().toISOString().split("T")[0],totalOrders:l.tongDonHang||0,totalSpent:l.tongChiTieu||0,role:l.vaiTro||c.user_role||"USER",loginMethod:"google",sub:l.sub||c.user_info?.sub};return Xo("easymart-token",c.jwt_token),ns(h),{success:!0,user:h}}else return{success:!1,needsRegistration:!0,error:"Tài khoản chưa tồn tại. Vui lòng đăng ký trước.",userInfo:{name:l.tenNguoiDung||c.user_info?.tenNguoiDung||"OAuth User",email:d,avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||"OAuth User")}&background=007bff&color=fff`}}}}catch(r){return console.error("Failed to get user info from APIs:",r),{success:!1,error:"Không thể lấy thông tin user từ backend"}}}return null}catch(e){return console.error("OAuth2 callback error:",e),{success:!1,error:"Xử lý OAuth2 callback thất bại"}}},Za=async()=>{try{try{const t=await Be(()=>Promise.resolve().then(()=>sr),void 0);if(t&&typeof t.useCart=="function"){const{persistLocalToBackendAndClear:n,clearCart:s}=t.useCart();n&&await n(),s&&await s();try{window.dispatchEvent(new CustomEvent("cart-updated",{detail:{action:"cleared"}}))}catch{}}}catch(t){console.warn("Persist cart on logout failed (non-blocking):",t?.message||t)}try{localStorage.removeItem("easymart-cart"),localStorage.removeItem("easymart-selected-items"),localStorage.removeItem("easymart-redirect-after-login")}catch{}const e=mt("easymart-token");if(e)try{await Ge(pe.AUTH.LOGOUT,{method:"POST",headers:{Authorization:`Bearer ${e}`}})}catch(t){console.warn("Logout API call failed:",t)}return localStorage.removeItem("easymart-user"),Zo("easymart-token"),localStorage.removeItem("easymart-user-email"),localStorage.removeItem("easymart-user-role"),localStorage.removeItem("easymart-user-id"),sessionStorage.removeItem("oauth2-frontend-redirect"),sessionStorage.removeItem("google-credential"),sessionStorage.removeItem("oauth2-login-mode"),sessionStorage.removeItem("google-user-info"),sessionStorage.removeItem("pending-oauth-user-info"),sessionStorage.removeItem("pending-google-credential"),sessionStorage.removeItem("pending-facebook-credential"),Pe.value=null,{success:!0}}catch(e){return console.error("Logout error:",e),localStorage.clear(),sessionStorage.clear(),Pe.value=null,{success:!1,error:"Đăng xuất có lỗi, nhưng đã xóa dữ liệu local"}}};Wa();function ss(){return{user:Pe,isLoggedIn:tf,login:cf,loginWithGoogle:uf,loginWithFacebook:df,register:ff,registerWithGoogle:hf,registerWithFacebook:pf,logout:Za,loadUser:Wa,forceReloadUser:rf,getJWTToken:mf,getUserInfo:gf,testOAuth2Config:vf,checkEmailDuplicate:Ja,checkUserEmailExists:Xa,getUserByEmail:er,checkOAuth2Sub:yf,checkAuthStatus:bf,validateToken:_f,handleOAuth2Callback:wf,fetchFullUserData:af,validateProfileAccess:Ts,updateCustomerProfile:lf,decodeToken:Ws,isTokenValid:Ys,initUserFromToken:nf,debugCurrentToken:sf,checkTokenValidity:Ya,autoLogoutIfInvalid:of,performAutoLogout:xo,updateUserFromValidation:za,ensureUserComplete:Qa}}const xe=J([]),$n=J(null),tr=J(!1),el=()=>{const e=localStorage.getItem("easymart-cart");e?xe.value=JSON.parse(e):(xe.value=[],ut())},ut=()=>{localStorage.setItem("easymart-cart",JSON.stringify(xe.value))},St=()=>{const e=ht();return e?{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"}},tl=e=>xe.value.find(t=>t.productId===e),Tf=Z(()=>xe.value.reduce((e,t)=>e+t.quantity,0)),Cf=Z(()=>xe.value.reduce((e,t)=>e+(t.product?.price||0)*t.quantity,0)),{user:nn,ensureUserComplete:kf,validateProfileAccess:Sf}=ss(),Ef=async()=>{try{const n=await fetch(`${pe.BASE_URL}/api/giohang/current-user`,{headers:St()});if(n.ok){const o=(await n.json().catch(()=>null))?.maKH||null;try{console.log("[CART][RESOLVE_KH] source=current-user maKH=",o)}catch{}if(o)return o}}catch{}if(!nn.value)return null;if(nn.value?.customerInfo?.maKH){try{console.log("[CART][RESOLVE_KH] source=customerInfo maKH=",nn.value.customerInfo.maKH)}catch{}return nn.value.customerInfo.maKH}const e=await kf().catch(()=>nn.value);if(!e?.customerInfo?.maKH)try{await Sf()}catch{}const t=nn.value?.customerInfo?.maKH||null;try{console.log("[CART][RESOLVE_KH] userId=",e?.id,"maKH=",t)}catch{}return t},un=async()=>{try{const e=await Ef();if(!e)return null;const t=`${pe.BASE_URL}${Oe.CART.BY_CUSTOMER(e)}`;try{console.log("[CART][GET_CART_BY_KH][REQ]",t)}catch{}const n=await fetch(t,{method:"GET",headers:St()});if(n.ok){const i=await n.json().catch(()=>null),l=i?.result||i?.data||i;if(l?.maGH){try{console.log("[CART][GET_CART_BY_KH][OK] maKH=",e,"maGH=",l.maGH)}catch{}return l}}else{try{console.warn("[CART][GET_CART_BY_KH][FAIL] status=",n.status)}catch{}return null}const s=`${pe.BASE_URL}${Oe.CART.CREATE}`;try{console.log("[CART][CREATE_CART][REQ#1]",s)}catch{}let o=await fetch(s,{method:"POST",headers:St(),body:JSON.stringify({})});if(!o.ok){try{console.warn("[CART][CREATE_CART][FALLBACK#2] status=",o.status)}catch{}o=await fetch(s,{method:"POST",headers:St(),body:JSON.stringify({khachHang:{maKH:e},trangThai:0,ghiChu:"Đang chọn hàng"})})}if(!o.ok){try{console.error("[CART][CREATE_CART][FAIL] status=",o.status)}catch{}return null}const r=await o.json().catch(()=>null);try{console.log("[CART][CREATE_CART][OK] maGH=",r?.maGH||r?.result?.maGH)}catch{}return r?.result||r?.data||r}catch{return null}},os=async e=>{try{const t=`${pe.BASE_URL}${Oe.CART_ITEMS.BY_CART(e)}`;try{console.log("[CART][PULL_ITEMS][REQ]",t)}catch{}const n=await fetch(t,{headers:St()});if(!n.ok){try{console.error("[CART][PULL_ITEMS][FAIL] status=",n.status)}catch{}return[]}const s=await n.json().catch(()=>[]),o=s?.result||s?.data||s||[];try{console.log("[CART][PULL_ITEMS][OK] maGH=",e,"count=",(o||[]).length)}catch{}return o.filter(r=>!r.isDeleted).map(r=>({productId:r.sanPham?.maSP||r.maSP||r.productId,quantity:r.soLuong||r.quantity||1,maCTGH:r.maCTGH}))}catch{return[]}},xf=(e,t)=>{const n=new Map,s=o=>{for(const r of o){const i=String(r.productId),c=(n.get(i)?.quantity||0)+(r.quantity||1);n.set(i,{productId:r.productId,quantity:c})}};return s(e||[]),s(t||[]),Array.from(n.values())},$f=async()=>{if(!ht())return;const t=await un();if(!t?.maGH)return;$n.value=t.maGH;const n=await os(t.maGH),s=JSON.parse(localStorage.getItem("easymart-cart")||"[]"),o=xf(s,n);xe.value=o,ut(),tr.value=!0},Af=async()=>{await nl()},an=async()=>{if(!ht())return!1;let t=await un();if(!t?.maGH)return!1;$n.value=t.maGH;let n=[];try{const s=`${pe.BASE_URL}${Oe.CART.WITH_ITEMS_BY_ID(t.maGH)}`;try{console.log("[CART][WITH_ITEMS][REQ]",s)}catch{}const o=await fetch(s,{headers:St()});if(o.ok){const r=await o.json(),i=r?.items||r?.chiTietGioHang||[];try{console.log("[GIOHANG][WITH_ITEMS] maGH=",t.maGH,"itemsCount=",i.length)}catch{}n=(i||[]).map(l=>({productId:l.sanPham?.maSP||l.maSP||l.productId,quantity:l.soLuong||l.quantity||1,maCTGH:l.maCTGH}))}else try{console.warn("[CART][WITH_ITEMS][FAIL] status=",o.status)}catch{}}catch{}return n.length||(n=await os(t.maGH)),Array.isArray(n)?(xe.value=n,ut(),tr.value=!0,!0):!1},nl=async()=>{if(!ht())return;const t=JSON.parse(localStorage.getItem("easymart-cart")||"[]");if(!Array.isArray(t)||t.length===0){try{console.log("[GIOHANG][PERSIST_LOGOUT] skip: no local items")}catch{}xe.value=[],ut();return}const n=await un();if(!n?.maGH)return;const s=n.maGH;try{console.log("[GIOHANG][PERSIST_LOGOUT] maGH=",s,"itemsCount=",t.length)}catch{}try{const i=await nr();if(i&&i.maGH){console.log("[GIOHANG][PERSIST_LOGOUT] Sync successful, using maGH:",i.maGH),$n.value=i.maGH,(!i.items||i.items.length===0)&&(console.warn("[GIOHANG][PERSIST_LOGOUT] Sync returned empty items, trying fallback..."),await rs(i.maGH)),xe.value=[],ut();return}}catch(i){console.error("[GIOHANG][PERSIST_LOGOUT] Sync error:",i)}const o=await os(s),r=new Map(o.map(i=>[String(i.productId),i]));for(const i of t)try{const l=r.get(String(i.productId));if(l&&l.maCTGH){const c=(l.quantity||l.soLuong||0)+(i.quantity||1);await fetch(`${pe.BASE_URL}${Oe.CART_ITEMS.UPDATE_QTY(l.maCTGH)}`,{method:"PUT",headers:St(),body:JSON.stringify({soLuong:c})})}else{const c=`${pe.BASE_URL}${Oe.CART_ITEMS.ADD}`,d=St();let u=0;try{const w=await fetch(`${pe.BASE_URL}${Oe.PRODUCTS.BY_ID(i.productId)}`);if(w.ok){const b=await w.json();u=b.giaHienTai||b.giaBan||b.price||0}}catch{}const h=new Date().toISOString(),p={gioHang:{maGH:s},sanPham:{maSP:i.productId},soLuong:i.quantity};u>0&&(p.donGiaHienTai=u);let v=await fetch(c,{method:"POST",headers:d,body:JSON.stringify(p)});if(!v.ok){const w={maGH:s,maSP:i.productId,soLuong:i.quantity};u>0&&(w.donGiaHienTai=u),v=await fetch(c,{method:"POST",headers:d,body:JSON.stringify(w)})}if(!v.ok)try{const w=await v.text();console.error("[GIOHANG][ADD_ITEM][500]",v.status,w)}catch{}}}catch{}xe.value=[],ut()},nr=async()=>{try{const e=xe.value.filter(s=>s.product&&s.product.trangThai===0);if(e.length===0)return console.log("[CART][SYNC] No active items to sync"),null;const t={items:e.map(s=>({maSP:s.productId,soLuong:s.quantity}))};console.log("[CART][SYNC] Syncing items:",t);const n=await fetch(`${pe.BASE_URL}${Oe.CART.SYNC}`,{method:"POST",headers:St(),body:JSON.stringify(t)});if(n.ok){const s=await n.json();return console.log("[CART][SYNC][SUCCESS]",s),{maGH:s.maGH,items:s.items||[]}}else{const s=await n.json();throw console.error("[CART][SYNC][ERROR]",n.status,s),new Error(`Sync failed: ${s.message}`)}}catch(e){return console.error("[CART][SYNC][EXCEPTION]",e),null}},If=async(e,t=1,n=null)=>{try{console.log("[CART][ADD_LOCAL] productId=",e,"quantity=",t)}catch{}let s=!0;try{if(n)typeof n.trangThai<"u"?s=n.trangThai===0:typeof n.isActive<"u"?s=!!n.isActive:s=!0;else{const i=await fetch(`${pe.BASE_URL}${Oe.PRODUCTS.BY_ID(e)}`);if(i.ok){const l=await i.json();typeof l.trangThai<"u"?s=l.trangThai===0:typeof l.isActive<"u"&&(s=!!l.isActive)}}}catch{}const o=!s,r=tl(e);return r?(r.quantity+=t,o&&(r.inactive=!0)):xe.value.push({productId:e,quantity:t,product:n,inactive:o}),ut(),!0},sl=async e=>{const t=xe.value.findIndex(n=>n.productId===e);t!==-1&&(xe.value.splice(t,1),ut())},Pf=async(e,t)=>{const n=tl(e);n&&(t<=0?await sl(e):(n.quantity=t,ut()))},Rf=async()=>{xe.value=[],ut()},Of=e=>xe.value.map(t=>{const n=e.find(s=>s.id===t.productId);return{...t,product:n||t.product}}).filter(t=>t.product),Df=e=>xe.value.reduce((t,n)=>{const s=e.find(o=>o.id===n.productId);return t+(s?s.price*n.quantity:0)},0);el();ot(nn,async(e,t)=>{const n=ht();if(e&&!t&&n){try{console.log("[GIOHANG][AUTH_WATCH] login detected, syncing cart...")}catch{}if(xe.value.length===0){console.log("[GIOHANG][AUTH_WATCH] Local cart empty, just reloading backend"),await an();return}const s=await nr();if(s&&s.maGH)console.log("[GIOHANG][AUTH_WATCH] Sync successful, using maGH:",s.maGH),$n.value=s.maGH,(!s.items||s.items.length===0)&&(console.warn("[GIOHANG][AUTH_WATCH] Sync returned empty items, trying fallback..."),await rs(s.maGH)),await an();else{console.log("[GIOHANG][AUTH_WATCH] Sync failed, using fallback strategy");const o=await un();o&&(await rs(o),await an())}}});const rs=async e=>{try{console.log("[GIOHANG][FALLBACK] Adding items to cart:",e);for(const t of xe.value)if(t.product&&t.product.trangThai===0)try{const n={gioHang:{maGH:e},sanPham:{maSP:t.productId},soLuong:t.quantity,donGiaHienTai:t.product.giaHienTai||0};console.log("[GIOHANG][FALLBACK] Adding item:",n);const s=await fetch(`${pe.BASE_URL}${Oe.CART_ITEMS.ADD}`,{method:"POST",headers:St(),body:JSON.stringify(n)});if(s.ok)console.log("[GIOHANG][FALLBACK] Item added successfully");else{const o=await s.json();console.error("[GIOHANG][FALLBACK] Failed to add item:",s.status,o)}}catch(n){console.error("[GIOHANG][FALLBACK] Exception adding item:",n)}else console.log("[GIOHANG][FALLBACK] Skipping inactive item:",t.productId)}catch(t){console.error("[GIOHANG][FALLBACK] Error in fallback persist:",t)}};(async()=>{if(ht()){try{console.log("[GIOHANG][INIT] token present, syncing cart...")}catch{}if(xe.value.length===0){console.log("[GIOHANG][INIT] Local cart empty, just reloading backend"),await an();return}const t=await nr();if(t&&t.maGH)console.log("[GIOHANG][INIT] Sync successful, using maGH:",t.maGH),$n.value=t.maGH,(!t.items||t.items.length===0)&&(console.warn("[GIOHANG][INIT] Sync returned empty items, trying fallback..."),await rs(t.maGH)),await an();else{console.log("[GIOHANG][INIT] Sync failed, using fallback strategy");const n=await un();n&&(await rs(n),await an())}}})();function zs(){return{cart:xe,backendCartId:$n,backendReady:tr,cartCount:Tf,cartTotal:Cf,addToCart:If,removeFromCart:sl,updateCartQuantity:Pf,clearCart:Rf,getCartItemsWithProducts:Of,getCartTotal:Df,loadCart:el,saveCart:ut,mergeWithBackendOnLogin:$f,persistLocalToBackendAndClear:nl,reloadCartFromBackend:an,getLocalCartSnapshot:()=>({count:xe.value.length,items:xe.value.map(e=>({productId:e.productId,quantity:e.quantity}))}),getBackendCartSnapshot:async()=>{if(!ht())return{maGH:null,items:[]};const t=await un();if(!t?.maGH)return{maGH:null,items:[]};const n=await os(t.maGH);return{maGH:t.maGH,items:n}},compareLocalAndBackend:async()=>{const e={count:xe.value.length,items:xe.value.map(c=>({productId:c.productId,quantity:c.quantity}))},t=ht();let n={maGH:null,items:[]};if(t){const c=await un();if(c?.maGH){const d=await os(c.maGH);n={maGH:c.maGH,items:d}}}const s=c=>{const d=new Map;for(const u of c){const h=String(u.productId);d.set(h,(d.get(h)||0)+(u.quantity||0))}return d},o=s(e.items),r=s(n.items),i=new Set([...o.keys(),...r.keys()]),l=[];for(const c of i){const d=o.get(c)||0,u=r.get(c)||0;l.push({productId:c,localQty:d,backendQty:u,equal:d===u})}return{local:e,backend:n,diff:l}}}}const sr=Object.freeze(Object.defineProperty({__proto__:null,persistCartOnLogout:Af,useCart:zs},Symbol.toStringTag,{value:"Module"})),Lf={à:"a",á:"a",ạ:"a",ả:"a",ã:"a",â:"a",ầ:"a",ấ:"a",ậ:"a",ẩ:"a",ẫ:"a",ă:"a",ằ:"a",ắ:"a",ặ:"a",ẳ:"a",ẵ:"a",è:"e",é:"e",ẹ:"e",ẻ:"e",ẽ:"e",ê:"e",ề:"e",ế:"e",ệ:"e",ể:"e",ễ:"e",ì:"i",í:"i",ị:"i",ỉ:"i",ĩ:"i",ò:"o",ó:"o",ọ:"o",ỏ:"o",õ:"o",ô:"o",ồ:"o",ố:"o",ộ:"o",ổ:"o",ỗ:"o",ơ:"o",ờ:"o",ớ:"o",ợ:"o",ở:"o",ỡ:"o",ù:"u",ú:"u",ụ:"u",ủ:"u",ũ:"u",ư:"u",ừ:"u",ứ:"u",ự:"u",ử:"u",ữ:"u",ỳ:"y",ý:"y",ỵ:"y",ỷ:"y",ỹ:"y",đ:"d",À:"A",Á:"A",Ạ:"A",Ả:"A",Ã:"A",Â:"A",Ầ:"A",Ấ:"A",Ậ:"A",Ẩ:"A",Ẫ:"A",Ă:"A",Ằ:"A",Ắ:"A",Ặ:"A",Ẳ:"A",Ẵ:"A",È:"E",É:"E",Ẹ:"E",Ẻ:"E",Ẽ:"E",Ê:"E",Ề:"E",Ế:"E",Ệ:"E",Ể:"E",Ễ:"E",Ì:"I",Í:"I",Ị:"I",Ỉ:"I",Ĩ:"I",Ò:"O",Ó:"O",Ọ:"O",Ỏ:"O",Õ:"O",Ô:"O",Ồ:"O",Ố:"O",Ộ:"O",Ổ:"O",Ỗ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ợ:"O",Ở:"O",Ỡ:"O",Ù:"U",Ú:"U",Ụ:"U",Ủ:"U",Ũ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ự:"U",Ử:"U",Ữ:"U",Ỳ:"Y",Ý:"Y",Ỵ:"Y",Ỷ:"Y",Ỹ:"Y",Đ:"D"};function Mf(e){return!e||typeof e!="string"?"":e.split("").map(t=>Lf[t]||t).join("")}function $o(e){return!e||typeof e!="string"?"":Mf(e.toLowerCase().trim())}function Ao(e,t){if(!e||!t)return!1;const n=$o(e),s=$o(t);return n.includes(s)}function Hf(e,t,n){return!e||!Array.isArray(e)||!t||!n||!Array.isArray(n)?e||[]:$o(t)?e.filter(o=>n.some(r=>{const i=o[r];return i?Ao(i,t):!1})):e}class on{static async getAllCategories(){try{const t=await fetch(`${It}${Oe.CATEGORIES.LIST}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).map(s=>({id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:on.getCategoryIcon(s.tenLoai),color:on.getCategoryColor(s.tenLoai)}))}catch(t){return console.error("Error fetching categories:",t),on.getDefaultCategories()}}static async getCategoryById(t){try{const n=await fetch(`${It}${Oe.CATEGORIES.BY_ID(t)}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();return{id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:on.getCategoryIcon(s.tenLoai),color:on.getCategoryColor(s.tenLoai)}}catch(n){return console.error(`Error fetching category ${t}:`,n),null}}static getCategoryIcon(t){if(!t)return"fas fa-tags";const n={"tươi sống":"fas fa-leaf","rau củ":"fas fa-carrot",thịt:"fas fa-drumstick-bite",cá:"fas fa-fish","trái cây":"fas fa-apple-alt","đông lạnh":"fas fa-snowflake",kem:"fas fa-ice-cream","đóng hộp":"fas fa-box",hộp:"fas fa-box",lon:"fas fa-cube","đồ uống":"fas fa-tint",nước:"fas fa-tint",sữa:"fas fa-wine-bottle",trà:"fas fa-mug-hot","cà phê":"fas fa-coffee",sữa:"fas fa-baby","em bé":"fas fa-baby","trẻ em":"fas fa-child","gia vị":"fas fa-pepper-hot","dầu ăn":"fas fa-oil-can","nước mắm":"fas fa-flask",muối:"fas fa-cube","hóa phẩm":"fas fa-soap","tẩy rửa":"fas fa-broom",giặt:"fas fa-tshirt","vệ sinh":"fas fa-spray-can"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("ăn")||s.includes("thực phẩm")?"fas fa-utensils":s.includes("đồ")?"fas fa-shopping-basket":"fas fa-tags"}static getCategoryColor(t){if(!t)return"primary";const n={"tươi sống":"success","rau củ":"success",thịt:"danger",cá:"info","trái cây":"success","đông lạnh":"info",kem:"info","đóng hộp":"warning",hộp:"warning",lon:"warning","đồ uống":"primary",nước:"primary",sữa:"info",trà:"success","cà phê":"dark",sữa:"info","em bé":"info","trẻ em":"info","gia vị":"danger","dầu ăn":"warning","nước mắm":"danger",muối:"light","hóa phẩm":"success","tẩy rửa":"success",giặt:"info","vệ sinh":"success"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("ăn")||s.includes("thực phẩm")?"success":(s.includes("đồ"),"primary")}static getDefaultCategories(){return[{id:"LSP001",name:"Tươi sống",icon:"fas fa-leaf",color:"success",description:"Các loại rau củ quả tươi"},{id:"LSP002",name:"Đông lạnh",icon:"fas fa-snowflake",color:"info",description:"Thực phẩm đông lạnh"},{id:"LSP003",name:"Đồ đóng hộp",icon:"fas fa-box",color:"warning",description:"Thực phẩm đóng hộp"},{id:"LSP004",name:"Đồ uống",icon:"fas fa-tint",color:"primary",description:"Các loại nước giải khát"},{id:"LSP005",name:"Sữa & em bé",icon:"fas fa-baby",color:"info",description:"Sản phẩm cho trẻ em"},{id:"LSP006",name:"Gia vị & Dầu ăn",icon:"fas fa-pepper-hot",color:"danger",description:"Gia vị và dầu ăn"},{id:"LSP007",name:"Hóa phẩm & Tẩy rửa",icon:"fas fa-soap",color:"success",description:"Sản phẩm vệ sinh"}]}}function An(){const e=J([]),t=J([]),n=J([]),s=J(""),o=J(null),r=J({hours:0,minutes:0,seconds:0}),i=J(!1),{addToCart:l}=zs(),c=[{id:1,name:"Tươi Sống",icon:"fas fa-leaf",color:"success"},{id:2,name:"Đông lạnh",icon:"fas fa-snowflake",color:"info"},{id:3,name:"Đồ đóng hộp",icon:"fas fa-can-food",color:"warning"},{id:4,name:"Đồ Uống",icon:"fas fa-tint",color:"primary"},{id:5,name:"Sữa & Em bé",icon:"fas fa-baby",color:"info"},{id:6,name:"Gia Vị & Dầu Ăn",icon:"fas fa-pepper-hot",color:"danger"},{id:7,name:"Hóa Phẩm & Tẩy Rửa",icon:"fas fa-soap",color:"success"}],d=[{id:1,title:"OMO Giảm 20%",description:"Áp dụng cho tất cả sản phẩm OMO",code:"OMO20"},{id:2,title:"Nước giặt Ariel -15%",description:"Đơn hàng từ 150k",code:"ARIEL15"},{id:3,title:"Snack Combo - Giảm 10%",description:"Mua 2 tặng 1",code:"SNACK10"},{id:4,title:"Giảm 25k cho đơn hàng > 300k",description:"Áp dụng tất cả sản phẩm",code:"SAVE25K"}],u=Z(()=>e.value.filter(y=>y.isFlashSale)),h=Z(()=>s.value.trim().length<2?[]:Hf(e.value,s.value,["name","description"]).slice(0,5)),p=async y=>{try{const I=await fetch(`${It}${Oe.PRODUCTS.BY_CATEGORY_ACTIVE(y)}`);if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const C=(await I.json()).map(f=>({id:f.maSP||f.id,name:f.tenSP||f.name,price:f.giaHienTai||f.giaBan||f.price,originalPrice:f.giaGoc||f.originalPrice,categoryId:f.loaiSanPham?.maLoaiSP||f.categoryId,categoryName:f.loaiSanPham?.tenLoai||f.categoryName,image:`${It}${Oe.IMAGES.SERVE_IMAGE(f.maSP+"_main.jfif")}`,images:Oe.IMAGES.PRODUCT_IMAGES(f.maSP).map(X=>`${It}${X}`),description:f.moTa||f.description,isFlashSale:f.isFlashSale||!1,isActive:f.isActive!==!1,stock:f.trongLuong||f.stock||0,unit:f.donViTinh||f.unit||"cái",rating:f.danhGia||f.rating||4.5,reviews:f.danhGia||f.reviews||[]}));return await M(C)}catch(I){return console.error(`Failed to get products for category ${y} from API:`,I),[]}},v=y=>t.value.find(I=>I.id===y),w=y=>{const I=Number(y),R=Number.isFinite(I)?I:0;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R)},b=(y,I="success")=>{o.value={message:y,type:I},setTimeout(()=>{o.value=null},3e3)},x=y=>{b(`Đã lưu mã khuyến mãi: ${y}`,"success")},$=()=>{const y=new Date().getTime(),I=new Date;I.setHours(24,0,0,0);const R=I.getTime()-y;r.value={hours:Math.floor(R%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(R%(1e3*60*60)/(1e3*60)),seconds:Math.floor(R%(1e3*60)/1e3)}},S=()=>{$(),setInterval($,1e3)},L=async()=>{n.value=d,S(),await Promise.all([A(),V()])},A=async()=>{try{i.value=!0;const y=await on.getAllCategories();t.value=y}catch(y){console.error("Failed to load categories from API, using defaults:",y),t.value=c}finally{i.value=!1}},V=async()=>{try{const y=await fetch(`${It}${Oe.PRODUCTS.LIST}`);if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);const R=(await y.json()).map(C=>({id:C.maSP||C.id,name:C.tenSP||C.name,price:C.giaHienTai||C.giaBan||C.price,originalPrice:C.giaGoc||C.originalPrice,categoryId:C.loaiSanPham?.maLoaiSP||C.categoryId,categoryName:C.loaiSanPham?.tenLoai||C.categoryName,image:`${It}${Oe.IMAGES.SERVE_IMAGE(C.maSP+"_main.jfif")}`,images:Oe.IMAGES.PRODUCT_IMAGES(C.maSP).map(f=>`${It}${f}`),description:C.moTa||C.description,isFlashSale:C.isFlashSale||!1,isActive:C.isActive!==!1,stock:C.trongLuong||C.stock||0,unit:C.donViTinh||C.unit||"cái",rating:C.danhGia||C.rating||4.5,reviews:C.danhGia||C.reviews||[]}));e.value=await M(R)}catch(y){console.error("Failed to load products from API:",y),e.value=[]}},M=async y=>await Promise.all(y.map(async R=>{const C=Number(R.price);if(Number.isFinite(C)&&C>0)return R;try{const T=await fetch(`${It}${Oe.PRODUCTS.BY_ID(R.id)}`);if(T.ok){const f=await T.json(),U=f.giaHienTai||f.giaBan||f.price||0;return{...R,price:U}}}catch{}return R}));return pt(()=>{L()}),{products:e,categories:t,coupons:n,searchQuery:s,notification:o,countdown:r,isLoadingCategories:i,flashSaleProducts:u,searchResults:h,getProductsByCategory:p,getCategoryById:v,formatPrice:w,showNotification:b,addToCart:l,saveCoupon:x,initializeData:L,loadCategories:A,loadProducts:V}}const We=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Nf={class:"d-flex align-items-center justify-content-center rounded-circle me-3 bg-white bg-opacity-20",style:{width:"40px",height:"40px"}},Uf={class:"flex-grow-1"},Gf={class:"fw-medium lh-sm"},Bf={key:0,class:"mt-2 rounded-pill overflow-hidden bg-white bg-opacity-30",style:{height:"3px"}},Ff={__name:"Notification",props:{message:{type:String,required:!0},type:{type:String,default:"success",validator:e=>["success","warning","danger","info"].includes(e)},duration:{type:Number,default:4e3},showProgress:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,o=J(100);let r=null,i=null;const l=Z(()=>{const h={success:"fas fa-check-circle",warning:"fas fa-exclamation-triangle",danger:"fas fa-times-circle",info:"fas fa-info-circle"};return h[n.type]||h.success}),c=()=>{d(),s("close")},d=()=>{r&&(clearInterval(r),r=null),i&&(clearTimeout(i),i=null)},u=()=>{if(!n.showProgress)return;const h=100/(n.duration/50);r=setInterval(()=>{o.value=Math.max(0,o.value-h)},50)};return pt(()=>{u(),i=setTimeout(()=>{c()},n.duration)}),Ut(()=>{d()}),(h,p)=>(k(),ls(ji,{to:"body"},[re(Ks,{name:"notification","enter-active-class":"animate__animated animate__slideInRight animate__faster","leave-active-class":"animate__animated animate__slideOutRight animate__faster"},{default:Ae(()=>[a("div",{class:ye(["position-fixed top-0 end-0 m-3 shadow-lg rounded-3 border-0 notification-alert d-flex align-items-center",`alert-${e.type}`]),style:{"z-index":"9999","min-width":"350px","max-width":"450px","backdrop-filter":"blur(10px)"},role:"alert"},[a("div",Nf,[a("i",{class:ye(`${l.value} fs-5`)},null,2)]),a("div",Uf,[a("div",Gf,G(e.message),1),e.showProgress?(k(),E("div",Bf,[a("div",{class:"h-100 bg-white bg-opacity-80 rounded-pill",style:_n([{transition:"width 0.05s linear"},{width:o.value+"%"}])},null,4)])):ae("",!0)]),a("button",{type:"button",class:"btn-close ms-3 opacity-75 hover-scale",onClick:c,"aria-label":"Đóng"})],2)]),_:1})]))}},Vf=We(Ff,[["__scopeId","data-v-604ad691"]]),Kf={class:"search-container"},jf={class:"search-icon"},qf={class:"fas fa-search"},Wf={class:"spinner-border spinner-border-sm",role:"status"},Yf=["placeholder","value"],zf={class:"search-actions"},Qf={key:0,class:"quick-search"},Jf={class:"dropdown-section"},Xf={class:"recent-searches"},Zf=["onClick"],eh={class:"dropdown-section"},th={class:"popular-keywords"},nh=["onClick"],sh={key:1,class:"search-results"},oh={key:0,class:"no-results"},rh={key:1,class:"search-suggestions"},ih={class:"suggestion-items"},ah=["onClick"],lh={key:2,class:"product-results"},ch={class:"results-header"},uh={class:"section-title"},dh={class:"product-list"},fh=["onClick"],hh={class:"product-image"},ph=["src","alt"],mh={key:0,class:"product-badge"},gh={class:"product-info"},vh={class:"product-name"},yh={class:"product-price"},bh={key:0,class:"original-price"},_h={class:"current-price"},wh={class:"product-meta"},Th={class:"product-rating"},Ch={key:0,class:"out-of-stock-label"},kh={class:"product-actions"},Sh=["onClick","disabled"],Eh={key:3,class:"category-results"},xh={class:"category-list"},$h=["onClick"],Ah={class:"product-count"},Ih={__name:"SearchDropdown",props:{searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart","view-product","view-category"],setup(e,{emit:t}){const n=xn(),s=e,o=t,r=J(null),i=J(!1),l=J(!1),c=J(-1),d=J(0),u=J(null),h=["Tìm kiếm sản phẩm... (có thể tìm không dấu)","Rau củ quả tươi ngon...","Thịt cá hải sản...","Sữa và các sản phẩm từ sữa...","Bánh kẹo đồ uống..."],p=Dt(["Rau xanh organic","Thịt bò úc","Sữa tươi"]),v=Dt(["Rau organic","Thịt tươi","Hải sản","Trái cây","Sữa tươi","Bánh mì","Đồ uống","Gia vị"]),w=Z(()=>h[d.value]),b=Z(()=>s.searchQuery.length<2?[]:v.filter(ue=>Ao(ue,s.searchQuery)&&ue.toLowerCase()!==s.searchQuery.toLowerCase()).slice(0,3)),x=Z(()=>s.searchResults.slice(0,5)),$=Z(()=>s.searchQuery.length<2?[]:[{id:1,name:"Rau củ quả",icon:"fas fa-carrot",color:"success",productCount:24},{id:2,name:"Thịt cá",icon:"fas fa-fish",color:"danger",productCount:15},{id:3,name:"Sữa",icon:"fas fa-glass-whiskey",color:"info",productCount:8}].filter(ue=>Ao(ue.name,s.searchQuery))),S=Z(()=>window.innerWidth<=768),L=ue=>{const ie=ue.target.value;o("update-search",ie),ie.length>=2&&(l.value=!0,clearTimeout(u.value),u.value=setTimeout(()=>{l.value=!1},500)),i.value=!0,c.value=-1},A=()=>{i.value=!0},V=()=>{setTimeout(()=>{i.value=!1},200)},M=()=>{i.value=!1},y=()=>{r.value?.focus()},I=()=>{o("update-search",""),y()},R=()=>{s.searchQuery.trim()&&(C(s.searchQuery),i.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}}))},C=ue=>{const ie=ue.trim();ie&&!p.includes(ie)&&(p.unshift(ie),p.length>5&&p.pop())},T=ue=>{o("update-search",ue),y()},f=ue=>{o("update-search",ue),y()},U=ue=>{o("update-search",ue),C(ue),y()},X=ue=>{C(s.searchQuery),i.value=!1,o("view-product",ue.id)},te=ue=>{i.value=!1,o("view-category",ue.id)},me=ue=>{o("add-to-cart",ue)},ce=()=>{C(s.searchQuery),i.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}})},z=ue=>(!s.searchQuery||s.searchQuery.length<2,ue),Ye=ue=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ue),gt=ue=>{if(!i.value)return;const ie=b.value.length+x.value.length;switch(ue.key){case"ArrowDown":ue.preventDefault(),c.value=Math.min(c.value+1,ie-1);break;case"ArrowUp":ue.preventDefault(),c.value=Math.max(c.value-1,-1);break;case"Enter":if(ue.preventDefault(),c.value>=0)if(c.value<b.value.length)U(b.value[c.value]);else{const de=c.value-b.value.length;X(x.value[de])}else R();break;case"Escape":ue.preventDefault(),i.value=!1,r.value?.blur();break}},tt=()=>{d.value=(d.value+1)%h.length};let Le=null;return pt(()=>{Le=setInterval(tt,3e3),document.addEventListener("click",ue=>{ue.target.closest(".search-container")||(i.value=!1)})}),Ut(()=>{Le&&clearInterval(Le)}),ot(()=>s.searchQuery,ue=>{ue.length===0&&(l.value=!1)}),(ue,ie)=>(k(),E("div",Kf,[a("div",{class:"search-wrapper",onClick:y},[a("div",jf,[lt(a("i",qf,null,512),[[Zn,!l.value]]),lt(a("div",Wf,ie[1]||(ie[1]=[a("span",{class:"visually-hidden"},"Đang tìm kiếm...",-1)]),512),[[Zn,l.value]])]),a("input",{ref_key:"searchInput",ref:r,type:"text",class:"form-control search-input",placeholder:w.value,value:e.searchQuery,onInput:L,onFocus:A,onBlur:V,onKeydown:gt,autocomplete:"off",spellcheck:"false"},null,40,Yf),a("div",zf,[e.searchQuery.length>0?(k(),E("button",{key:0,class:"btn btn-sm clear-btn",onClick:I,type:"button",title:"Xóa tìm kiếm"},ie[2]||(ie[2]=[a("i",{class:"fas fa-times"},null,-1)]))):ae("",!0),a("button",{class:"btn btn-primary search-btn",onClick:R,type:"button",title:"Tìm kiếm"},ie[3]||(ie[3]=[a("i",{class:"fas fa-search"},null,-1)]))])]),re(Ks,{name:"dropdown"},{default:Ae(()=>[i.value?(k(),E("div",{key:0,class:"search-dropdown",onMousedown:ie[0]||(ie[0]=Me(()=>{},["prevent"]))},[e.searchQuery.length===0?(k(),E("div",Qf,[a("div",Jf,[ie[5]||(ie[5]=a("h6",{class:"section-title"},[a("i",{class:"fas fa-history text-muted me-2"}),F("Tìm kiếm gần đây ")],-1)),a("div",Xf,[(k(!0),E(he,null,$e(p,de=>(k(),E("button",{key:de,class:"btn btn-sm btn-outline-secondary recent-search-item",onClick:Re=>T(de)},[ie[4]||(ie[4]=a("i",{class:"fas fa-history me-2"},null,-1)),F(G(de),1)],8,Zf))),128))])]),a("div",eh,[ie[6]||(ie[6]=a("h6",{class:"section-title"},[a("i",{class:"fas fa-fire text-danger me-2"}),F("Từ khóa phổ biến ")],-1)),a("div",th,[(k(!0),E(he,null,$e(v,de=>(k(),E("button",{key:de,class:"btn btn-sm btn-outline-primary popular-keyword",onClick:Re=>f(de)},G(de),9,nh))),128))])])])):(k(),E("div",sh,[e.searchResults.length===0&&!l.value?(k(),E("div",oh,ie[7]||(ie[7]=[a("div",{class:"no-results-content"},[a("i",{class:"fas fa-search-minus text-muted"}),a("h6",null,"Không tìm thấy kết quả"),a("p",null,"Thử tìm kiếm với từ khóa khác")],-1)]))):ae("",!0),b.value.length>0?(k(),E("div",rh,[ie[9]||(ie[9]=a("h6",{class:"section-title"},[a("i",{class:"fas fa-lightbulb text-warning me-2"}),F("Gợi ý tìm kiếm ")],-1)),a("div",ih,[(k(!0),E(he,null,$e(b.value,(de,Re)=>(k(),E("button",{key:de,class:ye(["suggestion-item",{active:c.value===Re}]),onClick:P=>U(de)},[ie[8]||(ie[8]=a("i",{class:"fas fa-search me-2"},null,-1)),F(G(de),1)],10,ah))),128))])])):ae("",!0),e.searchResults.length>0?(k(),E("div",lh,[a("div",ch,[a("h6",uh,[ie[10]||(ie[10]=a("i",{class:"fas fa-box text-primary me-2"},null,-1)),F(" Sản phẩm ("+G(e.searchResults.length)+") ",1)]),a("button",{class:"btn btn-sm btn-outline-primary view-all-btn",onClick:ce}," Xem tất cả ")]),a("div",dh,[(k(!0),E(he,null,$e(x.value,(de,Re)=>(k(),E("div",{key:de.id,class:ye(["product-item",{active:c.value===b.value.length+Re,"out-of-stock":de.stock===0||de.inStock===!1}]),onClick:P=>X(de)},[a("div",hh,[a("img",{src:de.image,alt:de.name,loading:"lazy"},null,8,ph),de.discount?(k(),E("div",mh," -"+G(de.discount)+"% ",1)):ae("",!0)]),a("div",gh,[a("h6",vh,G(z(de.name)),1),a("div",yh,[de.originalPrice?(k(),E("span",bh,G(Ye(de.originalPrice)),1)):ae("",!0),a("span",_h,G(Ye(de.price)),1)]),a("div",wh,[a("div",Th,[ie[11]||(ie[11]=a("i",{class:"fas fa-star text-warning"},null,-1)),a("span",null,G(de.rating||4.5),1)]),de.stock===0||de.inStock===!1?(k(),E("div",Ch," Hết hàng ")):ae("",!0)])]),a("div",kh,[a("button",{class:"btn btn-sm btn-primary quick-add-btn",onClick:Me(P=>me(de.id),["stop"]),disabled:de.stock===0||de.inStock===!1,title:"Thêm vào giỏ hàng"},ie[12]||(ie[12]=[a("i",{class:"fas fa-cart-plus"},null,-1)]),8,Sh)])],10,fh))),128))])])):ae("",!0),$.value.length>0?(k(),E("div",Eh,[ie[13]||(ie[13]=a("h6",{class:"section-title"},[a("i",{class:"fas fa-layer-group text-success me-2"}),F("Danh mục ")],-1)),a("div",xh,[(k(!0),E(he,null,$e($.value,de=>(k(),E("button",{key:de.id,class:"category-item",onClick:Re=>te(de)},[a("i",{class:ye(`${de.icon} text-${de.color} me-2`)},null,2),F(" "+G(de.name)+" ",1),a("span",Ah,"("+G(de.productCount)+")",1)],8,$h))),128))])])):ae("",!0)])),ie[14]||(ie[14]=a("div",{class:"search-footer"},[a("div",{class:"search-tips"},[a("small",{class:"text-muted"},[a("i",{class:"fas fa-keyboard me-1"}),F(" Enter để tìm kiếm, ↑↓ để điều hướng, Esc để đóng ")])])],-1))],32)):ae("",!0)]),_:1}),i.value&&S.value?(k(),E("div",{key:0,class:"search-overlay",onClick:M})):ae("",!0)]))}},Ph=We(Ih,[["__scopeId","data-v-5509d394"]]),Rh={class:"cart-dropdown"},Oh={class:"nav-link px-3 py-2 rounded-pill position-relative cart-icon-wrapper"},Dh={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-count",style:{"font-size":"0.7rem"}},Lh={class:"card shadow-lg border-0",style:{width:"350px"}},Mh={class:"card-header bg-primary text-white d-flex justify-content-between align-items-center"},Hh={class:"mb-0"},Nh={class:"d-flex align-items-center"},Uh={class:"form-check me-3"},Gh=["checked"],Bh={class:"card-body p-0",style:{"max-height":"400px","overflow-y":"auto"}},Fh={key:0,class:"text-center p-4"},Vh={key:1},Kh={class:"form-check me-2"},jh=["checked","onChange","id"],qh={class:"flex-shrink-0 me-3"},Wh=["src","alt"],Yh={class:"flex-grow-1"},zh={class:"mb-1 text-truncate",style:{"max-width":"180px"}},Qh={class:"d-flex justify-content-between align-items-center"},Jh={class:"text-primary fw-bold"},Xh={class:"quantity-controls d-flex align-items-center"},Zh=["onClick","disabled"],ep={class:"mx-2 fw-bold"},tp=["onClick"],np={class:"d-flex justify-content-between align-items-center mt-1"},sp={class:"text-muted"},op=["onClick"],rp={key:0,class:"card-footer bg-light"},ip={class:"d-flex justify-content-between align-items-center mb-2"},ap={class:"text-muted"},lp={class:"text-primary"},cp={class:"d-grid gap-2"},up=["disabled"],dp={__name:"CartDropdown",setup(e){const{cart:t,cartCount:n,removeFromCart:s,updateCartQuantity:o}=zs(),{products:r,formatPrice:i,showNotification:l}=An(),c=J(!1),d=J(new Set);let u=null;const h=Z(()=>t.value.map(y=>{const I=r.value.find(R=>R.id===y.productId);return{...y,product:I||y.product}}).filter(y=>y.product));Z(()=>h.value.reduce((y,I)=>y+(I.product?.price||0)*I.quantity,0));const p=Z(()=>h.value.filter(y=>d.value.has(y.productId))),v=Z(()=>p.value.reduce((y,I)=>y+(I.product?.price||0)*I.quantity,0)),w=Z(()=>h.value.length>0&&h.value.every(y=>d.value.has(y.productId))),b=()=>{c.value=!c.value},x=()=>{u&&clearTimeout(u),u=setTimeout(()=>{c.value=!1},200)},$=()=>{u&&(clearTimeout(u),u=null),c.value=!0},S=(y,I)=>{I<=0?L(y):o(y,I)},L=y=>{const I=h.value.find(R=>R.productId===y);I&&(s(y),l(`Đã xóa ${I.product.name} khỏi giỏ hàng!`,"info"))},A=()=>{if(d.value.size===0){l("Vui lòng chọn sản phẩm để thanh toán!","warning");return}c.value=!1;const y=Array.from(d.value);localStorage.setItem("easymart-selected-items",JSON.stringify(y)),window.location.href="/checkout"},V=y=>{d.value.has(y)?d.value.delete(y):d.value.add(y)},M=()=>{w.value?d.value.clear():h.value.forEach(y=>{d.value.add(y.productId)})};return Ut(()=>{u&&clearTimeout(u)}),(y,I)=>{const R=dn("router-link");return k(),E("div",Rh,[a("div",{class:"cart-trigger position-relative",onClick:b,onMouseenter:$,onMouseleave:x},[a("div",Oh,[I[2]||(I[2]=a("i",{class:"fas fa-shopping-bag fs-5"},null,-1)),a("span",Dh,G(N(n)),1)]),I[3]||(I[3]=a("i",{class:"fas fa-chevron-down ms-1 text-muted",style:{"font-size":"0.7rem"}},null,-1))],32),lt(a("div",{class:"cart-dropdown-content position-absolute",onMouseenter:$,onMouseleave:x},[a("div",Lh,[a("div",Mh,[a("h6",Hh,[I[4]||(I[4]=a("i",{class:"fas fa-shopping-cart me-2"},null,-1)),F("Giỏ hàng ("+G(N(n))+") ",1)]),a("div",Nh,[a("div",Uh,[a("input",{class:"form-check-input",type:"checkbox",checked:w.value,onChange:M,id:"selectAllDropdown"},null,40,Gh),I[5]||(I[5]=a("label",{class:"form-check-label text-white small",for:"selectAllDropdown"}," Tất cả ",-1))]),a("button",{class:"btn btn-sm btn-outline-light",onClick:I[0]||(I[0]=C=>c.value=!1)},I[6]||(I[6]=[a("i",{class:"fas fa-times"},null,-1)]))])]),a("div",Bh,[h.value.length===0?(k(),E("div",Fh,I[7]||(I[7]=[a("i",{class:"fas fa-shopping-cart text-muted fs-1 mb-3"},null,-1),a("p",{class:"text-muted mb-0"},"Giỏ hàng trống",-1),a("small",{class:"text-muted"},"Thêm sản phẩm để bắt đầu mua sắm",-1)]))):(k(),E("div",Vh,[(k(!0),E(he,null,$e(h.value,C=>(k(),E("div",{key:C.productId,class:"cart-item d-flex align-items-center p-3 border-bottom"},[a("div",Kh,[a("input",{class:"form-check-input",type:"checkbox",checked:d.value.has(C.productId),onChange:T=>V(C.productId),id:`dropdown-item-${C.productId}`},null,40,jh)]),a("div",qh,[a("img",{src:C.product?.image||"https://via.placeholder.com/60",alt:C.product?.name||"Product",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,Wh)]),a("div",Yh,[a("h6",zh,G(C.product?.name||"Sản phẩm"),1),a("div",Qh,[a("span",Jh,G(N(i)(C.product?.price||0)),1),a("div",Xh,[a("button",{class:"btn btn-sm btn-outline-secondary",onClick:T=>S(C.productId,C.quantity-1),disabled:C.quantity<=1},I[8]||(I[8]=[a("i",{class:"fas fa-minus"},null,-1)]),8,Zh),a("span",ep,G(C.quantity),1),a("button",{class:"btn btn-sm btn-outline-secondary",onClick:T=>S(C.productId,C.quantity+1)},I[9]||(I[9]=[a("i",{class:"fas fa-plus"},null,-1)]),8,tp)])]),a("div",np,[a("small",sp," Tổng: "+G(N(i)((C.product?.price||0)*C.quantity)),1),a("button",{class:"btn btn-sm btn-outline-danger",onClick:T=>L(C.productId)},I[10]||(I[10]=[a("i",{class:"fas fa-trash"},null,-1)]),8,op)])])]))),128))]))]),h.value.length>0?(k(),E("div",rp,[a("div",ip,[a("small",ap,"Đã chọn: "+G(d.value.size)+"/"+G(h.value.length)+" sản phẩm",1),a("strong",lp,G(N(i)(v.value)),1)]),a("div",cp,[re(R,{to:"/cart",class:"btn btn-outline-primary btn-sm",onClick:I[1]||(I[1]=C=>c.value=!1)},{default:Ae(()=>I[11]||(I[11]=[a("i",{class:"fas fa-shopping-cart me-2"},null,-1),F("Xem giỏ hàng ")])),_:1,__:[11]}),a("button",{class:"btn btn-primary btn-sm",onClick:A,disabled:d.value.size===0},[I[12]||(I[12]=a("i",{class:"fas fa-credit-card me-2"},null,-1)),F("Thanh toán ("+G(d.value.size)+") ",1)],8,up)])])):ae("",!0)])],544),[[Zn,c.value]])])}}},fp=We(dp,[["__scopeId","data-v-8d4d668b"]]),hp={class:"navbar navbar-expand-lg navbar-light main-nav shadow-sm py-3"},pp={class:"container"},mp={class:"flex-grow-1 mx-4"},gp={class:"collapse navbar-collapse",id:"navbarNav"},vp={class:"navbar-nav ms-auto align-items-center"},yp=["aria-expanded"],bp={class:"nav-item"},_p={class:"dropdown-item-text text-center mb-2"},wp={class:"fw-bold"},Tp={class:"small text-muted"},Cp={__name:"Header",props:{categories:{type:Array,required:!0},searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart"],setup(e,{emit:t}){const{user:n,isLoggedIn:s,logout:o}=ss(),r=xn(),i=J(!1),l=J(!1),c=J(!1),d=J(!0),u=J(0),h=J("up"),p=J(null),v=J(null),w=()=>{p.value&&(clearTimeout(p.value),p.value=null),i.value=!0,l.value=!1,Yn(()=>{const T=document.getElementById("category-trigger"),f=document.querySelector(".category-dropdown");if(T&&f){const U=T.getBoundingClientRect();f.style.top=`${U.bottom+8}px`,f.style.left=`${U.left}px`,f.style.right="auto"}})},b=()=>{p.value=setTimeout(()=>{i.value=!1},200)},x=()=>{p.value&&(clearTimeout(p.value),p.value=null)},$=()=>{v.value&&(clearTimeout(v.value),v.value=null),l.value=!0,i.value=!1,Yn(()=>{const T=document.getElementById("account-trigger"),f=document.querySelector(".account-dropdown");if(T&&f){const U=T.getBoundingClientRect();f.style.top=`${U.bottom+8}px`,f.style.left=`${U.left}px`,f.style.right="auto"}})},S=()=>{v.value=setTimeout(()=>{l.value=!1},200)},L=()=>{v.value&&(clearTimeout(v.value),v.value=null)},A=T=>{!T.target.closest(".dropdown")&&!T.target.closest(".cart-dropdown")&&(i.value=!1,l.value=!1)},V=()=>{const T=window.scrollY;c.value=T>50,T>u.value?h.value="down":h.value="up",T<10?d.value=!0:h.value==="down"&&T>100?(d.value=!1,i.value=!1,l.value=!1):h.value==="up"&&(d.value=!0),M(),u.value=T},M=()=>{if(i.value){const T=document.getElementById("category-trigger"),f=document.querySelector(".category-dropdown");if(T&&f){const U=T.getBoundingClientRect();f.style.top=`${U.bottom+8}px`,f.style.left=`${U.left}px`,f.style.right="auto"}}if(l.value){const T=document.getElementById("account-trigger"),f=document.querySelector(".account-dropdown");if(T&&f){const U=T.getBoundingClientRect();f.style.top=`${U.bottom+8}px`,f.style.left=`${U.left}px`,f.style.right="auto"}}},y=()=>{M()};let I=null;const R=()=>{I===null&&(I=setTimeout(()=>{V(),I=null},10))},C=async()=>{try{const T=await o();l.value=!1,T.success||console.warn("Logout warning:",T.error),r.push("/")}catch(T){console.error("Logout error:",T),r.push("/")}};return pt(()=>{document.addEventListener("click",A),window.addEventListener("scroll",R,{passive:!0}),window.addEventListener("resize",y,{passive:!0});const T=()=>{};window.addEventListener("user-updated",T),V()}),Ut(()=>{document.removeEventListener("click",A),window.removeEventListener("scroll",R),window.removeEventListener("resize",y),window.removeEventListener("user-updated",handleUserUpdated),p.value&&clearTimeout(p.value),v.value&&clearTimeout(v.value),I!==null&&(clearTimeout(I),I=null)}),(T,f)=>{const U=dn("router-link");return k(),E(he,null,[a("header",{class:ye(["header-container fixed-top",{"header-scrolled":c.value,"header-visible":d.value,"header-hidden":!d.value}])},[a("div",{class:ye(["top-bar py-2 border-bottom",{"top-bar-hidden":!d.value}])},f[3]||(f[3]=[Lt('<div class="container" data-v-fae11b65><div class="row align-items-center" data-v-fae11b65><div class="col-md-6" data-v-fae11b65><small class="text-muted" data-v-fae11b65><i class="fas fa-phone-alt text-primary me-2" data-v-fae11b65></i>Hotline: 1900 1234 | <i class="fas fa-envelope text-primary ms-3 me-2" data-v-fae11b65></i>cskh@easymart.vn </small></div><div class="col-md-6 text-end" data-v-fae11b65><small class="text-muted" data-v-fae11b65><i class="fas fa-truck text-primary me-2" data-v-fae11b65></i>Miễn phí vận chuyển đơn hàng từ 200k </small></div></div></div>',1)]),2),a("nav",hp,[a("div",pp,[re(U,{to:"/",class:"navbar-brand fw-bold text-primary fs-4"},{default:Ae(()=>f[4]||(f[4]=[a("i",{class:"fas fa-shopping-cart me-2"},null,-1),F("EasyMart ")])),_:1,__:[4]}),a("div",mp,[re(Ph,{searchQuery:e.searchQuery,searchResults:e.searchResults,onUpdateSearch:f[0]||(f[0]=X=>T.$emit("update-search",X)),onAddToCart:f[1]||(f[1]=X=>T.$emit("add-to-cart",X))},null,8,["searchQuery","searchResults"])]),f[7]||(f[7]=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[a("span",{class:"navbar-toggler-icon"})],-1)),a("div",gp,[a("ul",vp,[a("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:w,onMouseleave:b},[re(U,{to:"/categories",class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",role:"button","aria-expanded":i.value,id:"category-trigger"},{default:Ae(()=>f[5]||(f[5]=[a("i",{class:"fas fa-th-large me-2"},null,-1),F("Danh mục ")])),_:1,__:[5]},8,["aria-expanded"])],32),a("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:$,onMouseleave:S},[a("a",{class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",href:"#",role:"button","aria-expanded":l.value,id:"account-trigger"},f[6]||(f[6]=[a("i",{class:"fas fa-user me-2"},null,-1),F("Tài khoản ")]),8,yp)],32),a("li",bp,[re(fp)])])])])])],2),(k(),ls(ji,{to:"body"},[i.value?(k(),E("ul",{key:0,class:ye(["dropdown-menu dropdown-menu-end category-dropdown",{show:i.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:x,onMouseleave:b},[(k(!0),E(he,null,$e(e.categories,X=>(k(),E("li",{key:X.id},[re(U,{to:{name:"Category",params:{id:X.id}},class:"dropdown-item rounded-2 mx-2 my-1",onClick:f[2]||(f[2]=te=>i.value=!1)},{default:Ae(()=>[a("i",{class:ye(`${X.icon} text-${X.color} me-3`)},null,2),F(G(X.name),1)]),_:2},1032,["to"])]))),128))],34)):ae("",!0),l.value?(k(),E("ul",{key:1,class:ye(["dropdown-menu dropdown-menu-end account-dropdown",{show:l.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:L,onMouseleave:S},[N(s)?(k(),E(he,{key:0},[a("li",_p,[f[8]||(f[8]=a("i",{class:"fas fa-user-circle fa-2x text-primary mb-2"},null,-1)),a("div",wp,G(N(n)?.name||"Tài khoản của bạn"),1),a("div",Tp,G(N(n)?.email),1)]),a("li",null,[re(U,{to:"/profile",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ae(()=>f[9]||(f[9]=[a("i",{class:"fas fa-user me-3 text-primary"},null,-1),F("Thông tin tài khoản")])),_:1,__:[9]})]),a("li",null,[re(U,{to:"/orders",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ae(()=>f[10]||(f[10]=[a("i",{class:"fas fa-box me-3 text-success"},null,-1),F("Đơn hàng của tôi")])),_:1,__:[10]})]),a("li",null,[re(U,{to:"/wishlist",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ae(()=>f[11]||(f[11]=[a("i",{class:"fas fa-heart me-3 text-danger"},null,-1),F("Sản phẩm yêu thích")])),_:1,__:[11]})]),f[13]||(f[13]=a("li",null,[a("hr",{class:"dropdown-divider"})],-1)),a("li",null,[a("a",{href:"#",class:"dropdown-item rounded-2 mx-2 my-1 text-danger",onClick:Me(C,["prevent"])},f[12]||(f[12]=[a("i",{class:"fas fa-sign-out-alt me-3"},null,-1),F("Đăng xuất")]))])],64)):(k(),E(he,{key:1},[a("li",null,[re(U,{to:"/login",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ae(()=>f[14]||(f[14]=[a("i",{class:"fas fa-sign-in-alt text-primary me-3"},null,-1),F("Đăng nhập")])),_:1,__:[14]})]),a("li",null,[re(U,{to:"/register",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ae(()=>f[15]||(f[15]=[a("i",{class:"fas fa-user-plus text-primary me-3"},null,-1),F("Đăng ký")])),_:1,__:[15]})])],64))],34)):ae("",!0)]))],64)}}},kp=We(Cp,[["__scopeId","data-v-fae11b65"]]),Sp={class:"main-footer"},Ep={class:"footer-content"},xp={class:"container"},$p={class:"newsletter-section"},Ap={class:"row align-items-center"},Ip={class:"col-lg-6"},Pp={class:"newsletter-form"},Rp={class:"input-group"},Op=["disabled"],Dp={key:0,class:"fas fa-paper-plane"},Lp={key:1,class:"spinner-border spinner-border-sm",role:"status"},Mp={class:"footer-main"},Hp={class:"row g-4"},Np={class:"col-lg-2 col-md-6"},Up={class:"footer-section"},Gp={class:"footer-links"},Bp=["href","onClick"],Fp={class:"col-lg-2 col-md-6"},Vp={class:"footer-section"},Kp={class:"footer-links"},jp=["href","onClick"],qp={class:"col-lg-3 col-md-12"},Wp={class:"footer-section"},Yp={class:"social-links"},zp=["href","title","onClick"],Qp={class:"app-download"},Jp={class:"download-buttons"},Xp={class:"footer-bottom"},Zp={class:"row align-items-center"},em={class:"col-md-6"},tm={class:"copyright"},nm={class:"copyright-text"},sm={class:"legal-links"},om={class:"col-md-6"},rm={class:"footer-stats"},im={class:"stat-item"},am={class:"stat-item"},lm={class:"stat-item"},cm={__name:"Footer",setup(e){const t=J(""),n=J(!1),s=J(""),o=J(""),r=J(!1),i=Z(()=>new Date().getFullYear()),l=Z(()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value)),c=Z(()=>o.value==="success"?"fas fa-check-circle":"fas fa-exclamation-circle"),d=Dt([{name:"Giới thiệu EasyMart",url:"/about",icon:"fas fa-info-circle"},{name:"Danh sách cửa hàng",url:"/stores",icon:"fas fa-store"},{name:"Tin tức & Sự kiện",url:"/news",icon:"fas fa-newspaper"},{name:"Tuyển dụng",url:"/careers",icon:"fas fa-briefcase"},{name:"Nhà đầu tư",url:"/investors",icon:"fas fa-chart-line"}]),u=Dt([{name:"Trung tâm trợ giúp",url:"/help",icon:"fas fa-question-circle"},{name:"Chính sách đổi trả",url:"/return-policy",icon:"fas fa-undo-alt"},{name:"Phương thức thanh toán",url:"/payment",icon:"fas fa-credit-card"},{name:"Vận chuyển & Giao hàng",url:"/shipping",icon:"fas fa-shipping-fast"},{name:"Khiếu nại & Góp ý",url:"/feedback",icon:"fas fa-comment-dots"}]),h=Dt([{name:"Facebook",url:"https://facebook.com/easymart",icon:"fab fa-facebook"},{name:"Instagram",url:"https://instagram.com/easymart",icon:"fab fa-instagram"},{name:"YouTube",url:"https://youtube.com/easymart",icon:"fab fa-youtube"},{name:"TikTok",url:"https://tiktok.com/@easymart",icon:"fab fa-tiktok"},{name:"Zalo",url:"https://zalo.me/easymart",icon:"fas fa-comments"}]),p=J(125e3),v=J(35e4),w=J(4.8),b=async()=>{if(!(!l.value||n.value)){n.value=!0,s.value="";try{await new Promise(R=>setTimeout(R,1500)),o.value="success",s.value="Đăng ký thành công! Kiểm tra email để xác nhận.",t.value="",setTimeout(()=>{s.value=""},5e3)}catch{o.value="error",s.value="Có lỗi xảy ra. Vui lòng thử lại sau.",setTimeout(()=>{s.value=""},3e3)}finally{n.value=!1}}},x=R=>{console.log(`Navigating to: ${R.name}`)},$=R=>{console.log(`Opening ${R.name}`),window.open(R.url,"_blank")},S=R=>{console.log(`Downloading ${R} app`)},L=()=>{console.log("Show privacy policy")},A=()=>{console.log("Show terms of service")},V=()=>{console.log("Show cookie policy")},M=R=>new Intl.NumberFormat("vi-VN").format(R),y=()=>{window.scrollTo({top:0,behavior:"smooth"})},I=()=>{r.value=window.scrollY>300};return pt(()=>{window.addEventListener("scroll",I)}),Ut(()=>{window.removeEventListener("scroll",I)}),(R,C)=>(k(),E("footer",Sp,[a("div",Ep,[a("div",xp,[a("div",$p,[a("div",Ap,[C[4]||(C[4]=a("div",{class:"col-lg-6"},[a("div",{class:"newsletter-content"},[a("h4",{class:"newsletter-title"},"Đăng ký nhận tin khuyến mãi"),a("p",{class:"newsletter-subtitle"}," Nhận ngay thông tin về các chương trình ưu đãi mới nhất từ EasyMart ")])],-1)),a("div",Ip,[a("div",Pp,[a("div",Rp,[lt(a("input",{type:"email",class:"form-control newsletter-input",placeholder:"Nhập email của bạn...","onUpdate:modelValue":C[0]||(C[0]=T=>t.value=T),onKeyup:Ou(b,["enter"])},null,544),[[Tn,t.value]]),a("button",{class:"btn btn-primary newsletter-btn",onClick:b,disabled:n.value||!l.value},[n.value?(k(),E("div",Lp,C[3]||(C[3]=[a("span",{class:"visually-hidden"},"Loading...",-1)]))):(k(),E("i",Dp)),F(" "+G(n.value?"Đang đăng ký...":"Đăng ký"),1)],8,Op)]),s.value?(k(),E("div",{key:0,class:ye(["subscription-message",o.value])},[a("i",{class:ye(c.value)},null,2),F(" "+G(s.value),1)],2)):ae("",!0)])])])]),a("div",Mp,[a("div",Hp,[C[12]||(C[12]=Lt('<div class="col-lg-3 col-md-6" data-v-f5f693fb><div class="footer-section" data-v-f5f693fb><div class="company-info" data-v-f5f693fb><div class="footer-logo" data-v-f5f693fb><i class="fas fa-shopping-cart logo-icon" data-v-f5f693fb></i><span class="logo-text" data-v-f5f693fb>EasyMart</span></div><p class="company-description" data-v-f5f693fb> Công Ty Cổ Phần Dịch Vụ Thương Mại Tổng Hợp EasyMart - Mang đến những sản phẩm chất lượng, dịch vụ tận tâm. </p><div class="company-certifications" data-v-f5f693fb><div class="cert-item" data-v-f5f693fb><i class="fas fa-certificate text-warning" data-v-f5f693fb></i><span data-v-f5f693fb>Chứng nhận ISO 9001</span></div><div class="cert-item" data-v-f5f693fb><i class="fas fa-shield-alt text-success" data-v-f5f693fb></i><span data-v-f5f693fb>An toàn thực phẩm</span></div></div></div></div></div>',1)),a("div",Np,[a("div",Up,[C[5]||(C[5]=a("h6",{class:"footer-title"},"Về Chúng Tôi",-1)),a("ul",Gp,[(k(!0),E(he,null,$e(d,T=>(k(),E("li",{key:T.name,class:"footer-link-item"},[a("a",{href:T.url,class:"footer-link",onClick:Me(f=>x(T),["prevent"])},[a("i",{class:ye(`${T.icon} me-2`)},null,2),F(G(T.name),1)],8,Bp)]))),128))])])]),a("div",Fp,[a("div",Vp,[C[6]||(C[6]=a("h6",{class:"footer-title"},"Hỗ Trợ Khách Hàng",-1)),a("ul",Kp,[(k(!0),E(he,null,$e(u,T=>(k(),E("li",{key:T.name,class:"footer-link-item"},[a("a",{href:T.url,class:"footer-link",onClick:Me(f=>x(T),["prevent"])},[a("i",{class:ye(`${T.icon} me-2`)},null,2),F(G(T.name),1)],8,jp)]))),128))])])]),C[13]||(C[13]=Lt('<div class="col-lg-2 col-md-6" data-v-f5f693fb><div class="footer-section" data-v-f5f693fb><h6 class="footer-title" data-v-f5f693fb>Liên Hệ</h6><div class="contact-info" data-v-f5f693fb><div class="contact-item" data-v-f5f693fb><i class="fas fa-map-marker-alt text-primary" data-v-f5f693fb></i><div class="contact-details" data-v-f5f693fb><strong data-v-f5f693fb>Địa chỉ:</strong><span data-v-f5f693fb>123 Đường ABC, Quận XYZ, TP.HCM</span></div></div><div class="contact-item" data-v-f5f693fb><i class="fas fa-phone-alt text-success" data-v-f5f693fb></i><div class="contact-details" data-v-f5f693fb><strong data-v-f5f693fb>Hotline:</strong><a href="tel:19001234" data-v-f5f693fb>1900 1234</a></div></div><div class="contact-item" data-v-f5f693fb><i class="fas fa-envelope text-info" data-v-f5f693fb></i><div class="contact-details" data-v-f5f693fb><strong data-v-f5f693fb>Email:</strong><a href="mailto:cskh@easymart.vn" data-v-f5f693fb>cskh@easymart.vn</a></div></div></div></div></div>',1)),a("div",qp,[a("div",Wp,[C[10]||(C[10]=a("h6",{class:"footer-title"},"Kết Nối Với Chúng Tôi",-1)),a("div",Yp,[(k(!0),E(he,null,$e(h,T=>(k(),E("a",{key:T.name,href:T.url,class:"social-link",title:T.name,onClick:Me(f=>$(T),["prevent"])},[a("i",{class:ye(T.icon)},null,2)],8,zp))),128))]),a("div",Qp,[C[9]||(C[9]=a("h6",{class:"download-title"},"Tải Ứng Dụng",-1)),a("div",Jp,[a("a",{href:"#",class:"download-btn",onClick:C[1]||(C[1]=Me(T=>S("ios"),["prevent"]))},C[7]||(C[7]=[a("i",{class:"fab fa-apple"},null,-1),a("div",{class:"download-text"},[a("small",null,"Download on the"),a("strong",null,"App Store")],-1)])),a("a",{href:"#",class:"download-btn",onClick:C[2]||(C[2]=Me(T=>S("android"),["prevent"]))},C[8]||(C[8]=[a("i",{class:"fab fa-google-play"},null,-1),a("div",{class:"download-text"},[a("small",null,"Get it on"),a("strong",null,"Google Play")],-1)]))])]),C[11]||(C[11]=Lt('<div class="payment-methods" data-v-f5f693fb><h6 class="payment-title" data-v-f5f693fb>Phương Thức Thanh Toán</h6><div class="payment-icons" data-v-f5f693fb><i class="fab fa-cc-visa payment-icon" title="Visa" data-v-f5f693fb></i><i class="fab fa-cc-mastercard payment-icon" title="Mastercard" data-v-f5f693fb></i><i class="fas fa-money-bill-wave payment-icon" title="Tiền mặt" data-v-f5f693fb></i><i class="fas fa-mobile-alt payment-icon" title="Mobile Banking" data-v-f5f693fb></i></div></div>',1))])])])]),a("div",Xp,[a("div",Zp,[a("div",em,[a("div",tm,[a("p",nm," © "+G(i.value)+" EasyMart. Tất cả các quyền được bảo lưu. ",1),a("div",sm,[a("a",{href:"#",onClick:Me(L,["prevent"])},"Chính sách bảo mật"),C[14]||(C[14]=a("span",{class:"separator"},"|",-1)),a("a",{href:"#",onClick:Me(A,["prevent"])},"Điều khoản sử dụng"),C[15]||(C[15]=a("span",{class:"separator"},"|",-1)),a("a",{href:"#",onClick:Me(V,["prevent"])},"Chính sách Cookie")])])]),a("div",om,[a("div",rm,[a("div",im,[C[16]||(C[16]=a("i",{class:"fas fa-users text-primary"},null,-1)),a("span",null,G(M(p.value))+"+ khách hàng",1)]),a("div",am,[C[17]||(C[17]=a("i",{class:"fas fa-shopping-bag text-success"},null,-1)),a("span",null,G(M(v.value))+"+ đơn hàng",1)]),a("div",lm,[C[18]||(C[18]=a("i",{class:"fas fa-star text-warning"},null,-1)),a("span",null,G(w.value)+"/5 sao",1)])])])])])])]),re(Ks,{name:"fade"},{default:Ae(()=>[r.value?(k(),E("button",{key:0,class:"back-to-top-btn",onClick:y,title:"Lên đầu trang"},C[19]||(C[19]=[a("i",{class:"fas fa-arrow-up"},null,-1)]))):ae("",!0)]),_:1})]))}},um=We(cm,[["__scopeId","data-v-f5f693fb"]]),dm={id:"app",class:"bg-white"},fm={class:"router-view-container"},hm={__name:"App",setup(e){const{notification:t,categories:n,searchQuery:s,searchResults:o,addToCart:r}=An();return xn(),(i,l)=>{const c=dn("router-view");return k(),E("div",dm,[N(t)?(k(),ls(Vf,{key:0,message:N(t).message,type:N(t).type},null,8,["message","type"])):ae("",!0),re(kp,{categories:N(n),searchQuery:N(s),searchResults:N(o),onUpdateSearch:l[0]||(l[0]=d=>s.value=d),onAddToCart:N(r)},null,8,["categories","searchQuery","searchResults","onAddToCart"]),a("div",fm,[re(c)]),re(um)])}}},pm={class:"hero-fullscreen mb-4"},mm={id:"heroCarousel",class:"carousel slide carousel-fade hero-carousel-animated","data-bs-ride":"carousel","data-bs-interval":"4000"},gm={class:"carousel-indicators"},vm=["data-bs-slide-to"],ym={class:"carousel-inner overflow-hidden"},bm=["src","alt"],_m={class:"carousel-caption animated-caption"},wm={class:"bg-dark bg-opacity-50 rounded-3 p-4"},Tm={class:"fw-bold"},Cm={class:"mb-0"},km={__name:"HeroCarousel",setup(e){const t=[{image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Sản phẩm tươi ngon mỗi ngày",description:"Chất lượng hàng đầu - Giá cả cạnh tranh"},{image:"https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Mua sắm tiện lợi",description:"Giao hàng tận nơi - Thanh toán đa dạng"},{image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Khuyến mãi hấp dẫn",description:"Tiết kiệm lên đến 50% cho các sản phẩm chọn lọc"}];return(n,s)=>(k(),E("div",pm,[a("div",mm,[a("div",gm,[(k(),E(he,null,$e(t,(o,r)=>a("button",{key:r,type:"button","data-bs-target":"#heroCarousel","data-bs-slide-to":r,class:ye({active:r===0})},null,10,vm)),64))]),a("div",ym,[(k(),E(he,null,$e(t,(o,r)=>a("div",{key:r,class:ye(["carousel-item animated-slide",{active:r===0}])},[a("img",{src:o.image,class:"d-block w-100 carousel-image",style:{height:"400px","object-fit":"cover"},alt:o.title},null,8,bm),a("div",_m,[a("div",wm,[a("h3",Tm,G(o.title),1),a("p",Cm,G(o.description),1)])])],2)),64))]),s[0]||(s[0]=Lt('<button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev" data-v-28b5e961><div class="bg-primary rounded-circle p-3" data-v-28b5e961><span class="carousel-control-prev-icon" data-v-28b5e961></span></div></button><button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next" data-v-28b5e961><div class="bg-primary rounded-circle p-3" data-v-28b5e961><span class="carousel-control-next-icon" data-v-28b5e961></span></div></button>',2))])]))}},Sm=We(km,[["__scopeId","data-v-28b5e961"]]),Em={class:"position-relative overflow-hidden",style:{height:"200px"}},xm=["src","alt"],$m={class:"position-absolute top-0 start-0 end-0 bottom-0 d-flex flex-column justify-content-between p-3 product-overlay"},Am={class:"d-flex flex-wrap gap-2"},Im={key:0,class:"badge bg-danger rounded-pill"},Pm={key:1,class:"badge bg-success rounded-pill"},Rm={key:2,class:"badge bg-warning rounded-pill"},Om={class:"d-flex justify-content-center gap-2 quick-actions"},Dm=["title"],Lm=["title"],Mm=["title"],Hm={class:"card-body d-flex flex-column"},Nm={class:"d-flex align-items-center justify-content-between mb-2"},Um={class:"d-flex gap-1"},Gm={class:"text-muted"},Bm={class:"card-title fw-semibold text-dark mb-3 lh-sm",style:{height:"2.8rem",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},Fm={class:"mb-auto"},Vm={key:0,class:"text-muted text-decoration-line-through me-2",style:{"font-size":"0.875rem"}},Km={class:"fw-bold text-primary fs-5"},jm={class:"mt-3"},qm=["disabled"],Wm={key:0,class:"fas fa-cart-plus me-2"},Ym={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},zm={__name:"ProductCard",props:{product:{type:Object,required:!0},formatPrice:{type:Function,required:!0}},emits:["add-to-cart","view-detail","add-to-wishlist"],setup(e,{emit:t}){const n=e,s=t,o=J(!1),r=Z(()=>n.product.originalPrice?Math.round((1-n.product.price/n.product.originalPrice)*100):0),i=Z(()=>n.product.isNew||Math.random()>.7),l=Z(()=>n.product.isBestSeller||Math.random()>.8),c=Z(()=>Math.floor(Math.random()*100)+10),d=b=>{const x=Number(b);return Number.isFinite(x)?x:0},u=Z(()=>{const b=d(n.product.price),x=d(n.product.giaHienTai);return b>0?b:x>0?x:0});ot(()=>n.product,()=>{},{immediate:!1,deep:!1});const h=async()=>{o.value=!0;try{await new Promise(b=>setTimeout(b,500)),s("add-to-cart",n.product.id)}finally{o.value=!1}},p=()=>{s("view-detail",n.product.id)},v=()=>{s("add-to-wishlist",n.product.id)},w=()=>{p()};return(b,x)=>(k(),E("div",{class:"card h-100 shadow-sm border-0 position-relative overflow-hidden product-card",onClick:w},[a("div",Em,[a("img",{src:e.product.image,class:"card-img-top w-100 h-100 object-fit-cover",alt:e.product.name,loading:"lazy"},null,8,xm),a("div",$m,[a("div",Am,[r.value>0?(k(),E("span",Im," -"+G(r.value)+"% ",1)):ae("",!0),i.value?(k(),E("span",Pm," Mới ")):ae("",!0),l.value?(k(),E("span",Rm," Bán chạy ")):ae("",!0)]),a("div",Om,[a("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Me(h,["stop"]),title:"Thêm "+e.product.name+" vào giỏ hàng",style:{width:"40px",height:"40px"}},x[0]||(x[0]=[a("i",{class:"fas fa-cart-plus"},null,-1)]),8,Dm),a("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Me(p,["stop"]),title:"Xem chi tiết "+e.product.name,style:{width:"40px",height:"40px"}},x[1]||(x[1]=[a("i",{class:"fas fa-eye"},null,-1)]),8,Lm),a("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Me(v,["stop"]),title:"Thêm "+e.product.name+" vào yêu thích",style:{width:"40px",height:"40px"}},x[2]||(x[2]=[a("i",{class:"fas fa-heart"},null,-1)]),8,Mm)])])]),a("div",Hm,[a("div",Nm,[a("div",Um,[(k(),E(he,null,$e(5,$=>a("i",{key:$,class:ye(["fas fa-star",$<=e.product.rating?"text-warning":"text-muted"]),style:{"font-size":"0.875rem"}},null,2)),64))]),a("small",Gm,"("+G(e.product.reviewCount||c.value)+")",1)]),a("h6",Bm,G(e.product.name),1),a("div",Fm,[e.product.originalPrice?(k(),E("span",Vm,G(e.formatPrice(d(e.product.originalPrice))),1)):ae("",!0),a("span",Km,G(e.formatPrice(u.value)),1)]),a("div",jm,[a("button",{class:"btn btn-primary w-100 fw-semibold rounded-3 py-2",onClick:Me(h,["stop"]),disabled:o.value},[o.value?(k(),E("div",Ym,x[3]||(x[3]=[a("span",{class:"visually-hidden"},"Loading...",-1)]))):(k(),E("i",Wm)),F(" "+G(o.value?"Đang thêm...":"Thêm giỏ hàng"),1)],8,qm)])])]))}},ol=We(zm,[["__scopeId","data-v-2d5b1e32"]]),Qm=["id"],Jm={class:"container"},Xm={class:"d-flex flex-column flex-md-row align-items-center justify-content-between mb-4 p-4 bg-light rounded-4 shadow-sm"},Zm={class:"d-flex align-items-center gap-4 mb-3 mb-md-0"},eg={class:"bg-white rounded-4 p-3 shadow-sm border",style:{width:"90px",height:"90px",display:"flex","align-items":"center","justify-content":"center"}},tg={class:"fw-bold text-dark mb-2 fs-2"},ng={key:0,class:"text-muted mb-3 fs-6"},sg={class:"d-flex flex-wrap gap-3"},og={class:"badge bg-primary bg-opacity-10 text-primary p-2 rounded-pill"},rg={class:"badge bg-warning bg-opacity-10 text-warning p-2 rounded-pill"},ig={key:0,class:"badge bg-danger p-2 rounded-pill"},ag={class:"d-flex align-items-center gap-3"},lg={class:"mt-4 mb-5"},cg={key:0,class:"text-center py-5"},ug={key:1},dg={key:2,class:"text-center py-5"},fg={class:"text-center mt-5 p-4 bg-light bg-opacity-50 rounded-4 border"},hg={key:0,class:"d-flex flex-column align-items-center gap-3 py-4"},pg={key:1},mg={key:0,class:"d-flex justify-content-center align-items-center gap-3 flex-wrap"},gg={key:1,class:"mt-3"},vg={key:2,class:"text-muted"},yg={class:"mt-3"},bg={key:0,class:"mt-5 pt-4 border-top"},_g={class:"row g-3"},wg={class:"d-flex align-items-center gap-3 p-3 bg-white rounded-3 shadow-sm border feature-item"},Tg={class:"fw-semibold text-dark"},Cg={__name:"CategorySection",props:{category:{type:Object,required:!0},products:{type:Array,required:!0},isLoadingProducts:{type:Boolean,default:!1},formatPrice:{type:Function,required:!0},initialDisplayCount:{type:Number,default:8}},emits:["add-to-cart","view-product","add-to-wishlist","show-more","show-all","load-products"],setup(e,{emit:t}){const n=e,s=t,o=J("default"),r=J(n.initialDisplayCount),i=J(!1),l=J(!1),c=Z(()=>{let M=[...n.products].map(y=>({...y,price:Number.isFinite(Number(y.price))&&Number(y.price)>0?Number(y.price):Number(y.giaHienTai)||0}));switch(o.value){case"name":return M.sort((y,I)=>y.name.localeCompare(I.name,"vi"));case"price-low":return M.sort((y,I)=>y.price-I.price);case"price-high":return M.sort((y,I)=>I.price-y.price);case"newest":return M.sort((y,I)=>new Date(I.createdAt||Date.now())-new Date(y.createdAt||Date.now()));case"popular":return M.sort((y,I)=>(I.popularity||0)-(y.popularity||0));default:return M}}),d=Z(()=>c.value.slice(0,r.value)),u=Z(()=>r.value<n.products.length),h=Z(()=>n.products.length-r.value),p=Z(()=>n.products.length===0?0:n.products.reduce((y,I)=>y+(I.rating||4.5),0)/n.products.length),v=Z(()=>n.products.some(M=>M.isNew||Math.random()>.8)),w=()=>({primary:"#0d6efd",success:"#198754",danger:"#dc3545",warning:"#ffc107",info:"#0dcaf0",secondary:"#6c757d"})[n.category.color]||"#0d6efd",b=()=>{},x=async()=>{i.value=!0,l.value=!0,await new Promise(M=>setTimeout(M,1e3)),r.value=Math.min(r.value+n.initialDisplayCount,n.products.length),i.value=!1,l.value=!1,s("show-more",{categoryId:n.category.id,displayCount:r.value})},$=()=>{r.value=n.products.length,s("show-all",{categoryId:n.category.id,totalProducts:n.products.length})},S=()=>{r.value=n.initialDisplayCount,document.getElementById(`category-${n.category.id}`)?.scrollIntoView({behavior:"smooth",block:"start"})},L=M=>{s("add-to-cart",M)},A=M=>{s("view-product",M)},V=M=>{s("add-to-wishlist",M)};return ot(()=>n.category.id,()=>{r.value=n.initialDisplayCount,o.value="default"}),(M,y)=>{const I=dn("router-link");return e.products.length>0?(k(),E("section",{key:0,class:"py-5 my-4",id:`category-${e.category.id}`},[a("div",Jm,[a("div",Xm,[a("div",Zm,[a("div",eg,[a("i",{class:ye(`${e.category.icon} fs-1`),style:_n({color:w()})},null,6)]),a("div",null,[a("h2",tg,G(e.category.name),1),e.category.description?(k(),E("p",ng,G(e.category.description),1)):ae("",!0),a("div",sg,[a("span",og,[y[2]||(y[2]=a("i",{class:"fas fa-box me-2"},null,-1)),F(" "+G(e.products.length)+" sản phẩm ",1)]),a("span",rg,[y[3]||(y[3]=a("i",{class:"fas fa-star me-2"},null,-1)),F(" "+G(p.value.toFixed(1))+" sao ",1)]),v.value?(k(),E("span",ig,y[4]||(y[4]=[a("i",{class:"fas fa-sparkles me-2"},null,-1),F(" Có sản phẩm mới ")]))):ae("",!0)])])]),a("div",ag,[y[6]||(y[6]=a("div",{class:"bg-primary bg-opacity-10 border border-primary border-opacity-25 rounded-3 px-3 py-2"},[a("span",{class:"text-primary fw-semibold small"},[a("i",{class:"fas fa-th me-2"}),F(" Hiển thị dạng lưới ")])],-1)),a("div",null,[lt(a("select",{"onUpdate:modelValue":y[0]||(y[0]=R=>o.value=R),class:"form-select form-select-sm rounded-3 border-primary border-opacity-25 fw-semibold",onChange:b,style:{"min-width":"160px"}},y[5]||(y[5]=[Lt('<option value="default" data-v-996cfb6f>Mặc định</option><option value="name" data-v-996cfb6f>Tên A-Z</option><option value="price-low" data-v-996cfb6f>Giá thấp - cao</option><option value="price-high" data-v-996cfb6f>Giá cao - thấp</option><option value="newest" data-v-996cfb6f>Mới nhất</option><option value="popular" data-v-996cfb6f>Phổ biến</option>',6)]),544),[[Oa,o.value]])])])]),a("div",lg,[e.isLoadingProducts?(k(),E("div",cg,y[7]||(y[7]=[a("div",{class:"spinner-border text-primary",role:"status"},[a("span",{class:"visually-hidden"},"Đang tải sản phẩm...")],-1),a("p",{class:"text-muted mt-3"},"Đang tải sản phẩm trong danh mục...",-1)]))):e.products.length>0?(k(),E("div",ug,[re(Tu,{name:"products",tag:"div",class:"row g-3"},{default:Ae(()=>[(k(!0),E(he,null,$e(d.value,(R,C)=>(k(),E("div",{key:R.id,class:ye(["col-12","col-sm-6","col-md-4","col-lg-3","product-item"]),style:_n({animationDelay:`${C*.1}s`})},[re(ol,{product:R,formatPrice:e.formatPrice,onAddToCart:L,onViewDetail:A,onAddToWishlist:V},null,8,["product","formatPrice"])],4))),128))]),_:1})])):(k(),E("div",dg,[y[9]||(y[9]=a("div",{class:"empty-icon mb-4"},[a("i",{class:"fas fa-box-open fa-4x text-muted"})],-1)),y[10]||(y[10]=a("h4",{class:"text-muted mb-3"},"Chưa có sản phẩm nào",-1)),y[11]||(y[11]=a("p",{class:"text-muted mb-4"},"Danh mục này chưa có sản phẩm nào được thêm vào",-1)),a("button",{class:"btn btn-primary",onClick:y[1]||(y[1]=R=>s("load-products",e.category.id))},y[8]||(y[8]=[a("i",{class:"fas fa-refresh me-2"},null,-1),F("Tải lại sản phẩm ")]))]))]),a("div",fg,[i.value?(k(),E("div",hg,y[12]||(y[12]=[a("div",{class:"spinner-border text-primary",role:"status"},[a("span",{class:"visually-hidden"},"Đang tải...")],-1),a("p",{class:"text-muted fw-semibold mb-0 fs-6"},"Đang tải thêm sản phẩm...",-1)]))):(k(),E("div",pg,[u.value?(k(),E("div",mg,[a("button",{class:"btn btn-primary fw-bold px-4 py-2 rounded-3",onClick:x},[y[13]||(y[13]=a("i",{class:"fas fa-plus me-2"},null,-1)),F("Xem thêm "+G(h.value)+" sản phẩm ",1)]),a("button",{class:"btn btn-outline-primary fw-bold px-4 py-2 rounded-3",onClick:$},y[14]||(y[14]=[a("i",{class:"fas fa-expand me-2"},null,-1),F("Hiển thị tất cả ")])),re(I,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Ae(()=>y[15]||(y[15]=[a("i",{class:"fas fa-arrow-right me-2"},null,-1),F("Xem trang danh mục ")])),_:1,__:[15]},8,["to"])])):d.value.length>e.initialDisplayCount?(k(),E("div",gg,[a("button",{class:"btn btn-outline-secondary fw-semibold px-4 py-2 rounded-3",onClick:S},y[16]||(y[16]=[a("i",{class:"fas fa-compress me-2"},null,-1),F("Thu gọn ")])),re(I,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3 ms-2"},{default:Ae(()=>y[17]||(y[17]=[a("i",{class:"fas fa-arrow-right me-2"},null,-1),F("Xem trang danh mục ")])),_:1,__:[17]},8,["to"])])):(k(),E("div",vg,[y[19]||(y[19]=a("i",{class:"fas fa-check-circle text-success me-2"},null,-1)),y[20]||(y[20]=F(" Đã hiển thị tất cả sản phẩm trong danh mục ")),a("div",yg,[re(I,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Ae(()=>y[18]||(y[18]=[a("i",{class:"fas fa-arrow-right me-2"},null,-1),F("Xem trang danh mục ")])),_:1,__:[18]},8,["to"])])]))]))]),M.categoryFeatures&&M.categoryFeatures.length>0?(k(),E("div",bg,[y[21]||(y[21]=a("h5",{class:"fw-bold text-dark text-center mb-4"},"Đặc điểm danh mục",-1)),a("div",_g,[(k(!0),E(he,null,$e(M.categoryFeatures,R=>(k(),E("div",{key:R.id,class:"col-md-6 col-lg-4"},[a("div",wg,[a("i",{class:ye(`${R.icon} fs-4 text-primary`)},null,2),a("span",Tg,G(R.text),1)])]))),128))])])):ae("",!0)])],8,Qm)):ae("",!0)}}},kg=We(Cg,[["__scopeId","data-v-996cfb6f"]]),Sg={class:"coupon-button-widget"},Eg={class:"coupon-text"},xg={class:"coupon-count"},$g={class:"coupon-modal-body"},Ag={class:"coupon-list"},Ig={class:"coupon-item-left"},Pg={class:"coupon-discount"},Rg={class:"discount-value"},Og={class:"discount-unit"},Dg={class:"coupon-item-right"},Lg={class:"coupon-info"},Mg={class:"coupon-title"},Hg={class:"coupon-description"},Ng={class:"coupon-details"},Ug={class:"coupon-code"},Gg={class:"code-value"},Bg={class:"coupon-expiry"},Fg=["onClick","disabled"],Vg={class:"text-center mt-4"},Kg={__name:"CouponButtonWidget",props:{showOnScroll:{type:Boolean,default:!0},scrollThreshold:{type:Number,default:300}},emits:["coupon-copied"],setup(e,{emit:t}){const n=e,s=t,o=J(!1),r=J(!1),i=J(new Set),l=J([{id:1,code:"SAVE10",title:"Giảm 10%",description:"Giảm 10% cho đơn hàng từ 200k",discount:"10",unit:"%",type:"percentage",expiry:"2024-12-31",minOrderValue:2e5,maxDiscount:5e4},{id:2,code:"FREESHIP",title:"Miễn phí vận chuyển",description:"Miễn phí ship cho đơn từ 150k",discount:"Free",unit:"Ship",type:"shipping",expiry:"2024-12-31",minOrderValue:15e4,maxDiscount:3e4},{id:3,code:"FRESH50",title:"Giảm 50K",description:"Giảm 50K cho đơn hàng từ 300k",discount:"50K",unit:"",type:"fixed",expiry:"2024-12-31",minOrderValue:3e5,maxDiscount:5e4}]),c=()=>{r.value=!r.value},d=()=>{r.value=!1},u=()=>{n.showOnScroll&&(o.value=window.scrollY>n.scrollThreshold)},h=v=>{const w=new Date(v),b=new Date,x=w.getTime()-b.getTime(),$=Math.ceil(x/(1e3*60*60*24));return $<0?"Đã hết hạn":$===0?"Hết hạn hôm nay":$===1?"Hết hạn ngày mai":$<7?`Còn ${$} ngày`:w.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})},p=async v=>{try{await navigator.clipboard.writeText(v.code),i.value.add(v.code),setTimeout(()=>{i.value.delete(v.code)},3e3),s("coupon-copied",v.code)}catch{const b=document.createElement("textarea");b.value=v.code,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),i.value.add(v.code),setTimeout(()=>{i.value.delete(v.code)},3e3),s("coupon-copied",v.code)}};return pt(()=>{n.showOnScroll?(window.addEventListener("scroll",u),u()):o.value=!0}),Ut(()=>{n.showOnScroll&&window.removeEventListener("scroll",u)}),(v,w)=>{const b=dn("router-link");return k(),E("div",Sg,[a("div",{class:ye(["floating-coupon-btn",{show:o.value}]),onClick:c,title:"Xem mã khuyến mãi"},[w[2]||(w[2]=a("div",{class:"coupon-icon"},[a("i",{class:"fas fa-ticket-alt"})],-1)),a("div",Eg,[w[1]||(w[1]=a("div",{class:"coupon-label"},"Mã giảm giá",-1)),a("div",xg,G(l.value.length)+" mã",1)]),w[3]||(w[3]=a("div",{class:"coupon-pulse"},null,-1))],2),r.value?(k(),E("div",{key:0,class:"coupon-modal-overlay",onClick:d},[a("div",{class:"coupon-modal",onClick:w[0]||(w[0]=Me(()=>{},["stop"]))},[a("div",{class:"coupon-modal-header"},[w[5]||(w[5]=a("h5",{class:"modal-title"},[a("i",{class:"fas fa-gift me-2"}),F(" Mã Khuyến Mãi Có Sẵn ")],-1)),a("button",{type:"button",class:"btn-close-custom",onClick:d},w[4]||(w[4]=[a("i",{class:"fas fa-times"},null,-1)]))]),a("div",$g,[a("div",Ag,[(k(!0),E(he,null,$e(l.value,x=>(k(),E("div",{key:x.code,class:ye(["coupon-item",`coupon-${x.type}`])},[a("div",Ig,[a("div",Pg,[a("span",Rg,G(x.discount),1),a("span",Og,G(x.unit),1)])]),a("div",Dg,[a("div",Lg,[a("h6",Mg,G(x.title),1),a("p",Hg,G(x.description),1),a("div",Ng,[a("div",Ug,[w[6]||(w[6]=a("span",{class:"code-label"},"Mã:",-1)),a("span",Gg,G(x.code),1)]),a("div",Bg,[w[7]||(w[7]=a("i",{class:"fas fa-clock"},null,-1)),a("span",null,G(h(x.expiry)),1)])])]),a("button",{class:"btn coupon-copy-btn",onClick:$=>p(x),disabled:i.value.has(x.code)},[a("i",{class:ye([i.value.has(x.code)?"fas fa-check":"fas fa-copy","me-2"])},null,2),F(" "+G(i.value.has(x.code)?"Đã copy":"Copy mã"),1)],8,Fg)])],2))),128))]),a("div",Vg,[re(b,{to:"/promotions",class:"btn btn-outline-primary",onClick:d},{default:Ae(()=>w[8]||(w[8]=[a("i",{class:"fas fa-plus me-2"},null,-1),F(" Xem tất cả mã khuyến mãi ")])),_:1,__:[8]})])])])])):ae("",!0)])}}},rl=We(Kg,[["__scopeId","data-v-1a4edbb6"]]),jg={id:"productCategories"},qg={key:0,class:"text-center py-5"},Wg={__name:"Home",setup(e){const t=xn(),n=J(!1),{categories:s,getProductsByCategory:o,formatPrice:r,addToCart:i,isLoadingCategories:l}=An(),c=J({}),d=J({}),u=b=>{t.push({name:"ProductDetail",params:{id:b}})},h=async b=>{if(c.value[b])return c.value[b];try{d.value[b]=!0;const x=await o(b);return c.value[b]=x,x}catch(x){return console.error(`Failed to load products for category ${b}:`,x),[]}finally{d.value[b]=!1}},p=()=>{t.push({name:"Promotions"})},v=b=>{},w=()=>{const b=window.scrollY;n.value=b>300};return pt(()=>{window.addEventListener("scroll",w),w(),ot(s,async b=>{if(b.length>0){const x=b.slice(0,3);for(const $ of x)await h($.id)}},{immediate:!0})}),Ut(()=>{window.removeEventListener("scroll",w)}),(b,x)=>(k(),E("div",null,[re(Sm),a("div",jg,[N(l)?(k(),E("div",qg,x[0]||(x[0]=[a("div",{class:"spinner-border text-primary",role:"status"},[a("span",{class:"visually-hidden"},"Đang tải danh mục...")],-1),a("p",{class:"text-muted mt-3"},"Đang tải danh mục sản phẩm...",-1)]))):(k(!0),E(he,{key:1},$e(N(s),$=>(k(),ls(kg,{key:$.id,category:$,products:c.value[$.id]||[],isLoadingProducts:d.value[$.id],formatPrice:N(r),onAddToCart:N(i),onViewProduct:u,onLoadProducts:h},null,8,["category","products","isLoadingProducts","formatPrice","onAddToCart"]))),128))]),re(rl,{"show-on-scroll":!0,"scroll-threshold":300,onCouponCopied:v}),re(Ks,{name:"fade"},{default:Ae(()=>[n.value?(k(),E("button",{key:0,class:"promotion-btn",onClick:p,title:"Xem khuyến mãi"},x[1]||(x[1]=[a("i",{class:"fas fa-gift"},null,-1)]))):ae("",!0)]),_:1})]))}},Yg=We(Wg,[["__scopeId","data-v-5b3a3dba"]]);function zg(e){const{products:t,categories:n,addToCart:s,formatPrice:o,showNotification:r}=An(),i=J(null),l=J({}),c=J([]),d=J([]),u=J(1),h=J(0),p=J("description"),v=J(!1),w=Z(()=>i.value?l.value[i.value.id]||{description:"Sản phẩm chất lượng cao, được chọn lọc kỹ càng để đảm bảo tươi ngon và an toàn cho sức khỏe. Được nuôi trồng theo quy trình khép kín, đảm bảo vệ sinh an toàn thực phẩm.",nutrition:"Giàu protein, ít chất béo, cung cấp các vitamin và khoáng chất thiết yếu cho cơ thể. Đặc biệt tốt cho việc phát triển cơ bắp và duy trì sức khỏe tổng thể.",storage:"Bảo quản trong tủ lạnh từ 0-4°C, sử dụng trong vòng 2-3 ngày sau khi mở gói",origin:"Việt Nam - Đồng bằng sông Cửu Long"}:null),b=Z(()=>i.value?i.value.reviews||c.value[i.value.id]||[{id:1,name:"Nguyễn Văn A",rating:5,content:"Sản phẩm rất tốt, tươi ngon! Chất lượng vượt mong đợi, sẽ tiếp tục ủng hộ.",date:"2025-01-01"},{id:2,name:"Trần Thị B",rating:4,content:"Chất lượng ổn, sẽ mua lại. Giá cả hợp lý, giao hàng nhanh.",date:"2025-01-02"},{id:3,name:"Lê Văn C",rating:5,content:"Tuyệt vời! Gia đình tôi rất hài lòng với sản phẩm này.",date:"2025-01-03"}]:[]),x=Z(()=>{if(!i.value)return[];if(i.value?.images&&i.value.images.length>0)return i.value.images.map((me,ce)=>({id:ce+1,url:me,alt:ce===0?"Hình chính":`Góc nhìn ${ce+1}`,isMain:ce===0}));const te=i.value?.image||"https://via.placeholder.com/800x600?text=No+Image";return d.value[i.value.id]||[{id:1,url:te,alt:"Hình chính",isMain:!0},{id:2,url:te,alt:"Góc nhìn 2",isMain:!1},{id:3,url:te,alt:"Góc nhìn 3",isMain:!1}]}),$=Z(()=>b.value.length===0?0:b.value.reduce((te,me)=>te+me.rating,0)/b.value.length),S=Z(()=>!i.value||!i.value.originalPrice?0:Math.round((1-i.value.price/i.value.originalPrice)*100)),L=Z(()=>i.value?t.value.filter(te=>te.categoryId===i.value.categoryId&&te.id!==i.value.id).slice(0,4):[]),A=Z(()=>i.value?n.value.find(te=>te.id===i.value.categoryId):null),V=Z(()=>{const te=[{name:"Trang chủ",href:"#",icon:"fas fa-home"}];return A.value&&te.push({name:A.value.name,href:`#category-${A.value.id}`}),i.value&&te.push({name:i.value.name,active:!0}),te}),M=async te=>{console.log("🚀 loadProduct called with ID:",te),console.log("🚀 Current products.value:",t.value),v.value=!0;try{const me=`http://localhost:8080/api/sanpham/${te}`;console.log("🌐 Calling API:",me);const ce=await fetch(me);if(console.log("📡 API Response status:",ce.status),console.log("📡 API Response ok:",ce.ok),!ce.ok)throw new Error(`HTTP error! status: ${ce.status}`);const z=await ce.json();console.log("📦 API Response data:",z);const Ye={id:z.maSP||z.id,name:z.tenSP||z.name,price:z.giaHienTai||z.giaBan||z.price,originalPrice:z.giaGoc||z.originalPrice,categoryId:z.loaiSanPham?.maLoaiSP||z.categoryId,categoryName:z.loaiSanPham?.tenLoai||z.categoryName,image:`http://localhost:8080/api/upload/serve-image/${z.maSP}_main.jfif`,images:[`http://localhost:8080/api/upload/serve-image/${z.maSP}_main.jfif`,`http://localhost:8080/api/upload/serve-image/${z.maSP}_main1.jfif`,`http://localhost:8080/api/upload/serve-image/${z.maSP}_main2.jfif`],description:z.moTa||z.description,isFlashSale:z.isFlashSale||!1,isActive:z.isActive!==!1,stock:z.trongLuong||z.stock||0,unit:z.donViTinh||z.unit||"cái",rating:z.danhGia||z.rating||4.5,reviews:z.danhGia||z.reviews||[],weight:z.trongLuong||null,weightUnit:z.donViTinh||null,shelfLifeDays:z.hanSuDung||null};i.value=Ye,h.value=0,u.value=1}catch(me){console.error(`❌ Failed to load product ${te} from API:`,me);const ce=t.value.find(z=>z.id===te||z.id===String(te)||z.id===parseInt(te));ce?(i.value=ce,h.value=0,u.value=1):(console.error("❌ Product not found in local data either"),i.value=null)}finally{v.value=!1}},y=te=>{const me=Math.max(1,Math.min(10,u.value+te));u.value=me},I=te=>{h.value=te},R=()=>{i.value&&s(i.value.id,u.value)},C=()=>{if(!i.value){r("Không tìm thấy sản phẩm!","error");return}if(!JSON.parse(localStorage.getItem("easymart-user")||"null")){R(),localStorage.setItem("easymart-selected-items",JSON.stringify([i.value.id])),localStorage.setItem("easymart-redirect-after-login","/checkout"),r("Vui lòng đăng nhập để tiến hành thanh toán!","warning"),setTimeout(()=>{window.location.href="/login"},800);return}R(),localStorage.setItem("easymart-selected-items",JSON.stringify([i.value.id])),r("Chuyển đến trang thanh toán...","info"),setTimeout(()=>{window.location.href="/checkout"},800)},T=()=>{r("Đã thêm vào danh sách yêu thích!","success")},f=()=>{navigator.share&&i.value?navigator.share({title:i.value.name,text:`Xem sản phẩm tuyệt vời này tại EasyMart: ${i.value.name}`,url:window.location.href}).catch(()=>{te()}):te();function te(){navigator.clipboard.writeText(window.location.href).then(()=>{r("Đã copy link sản phẩm!","info")})}},U=()=>{r("Tính năng so sánh sẽ có trong phiên bản tiếp theo!","info")},X=te=>{p.value=te};return pt(()=>{e&&M(e)}),{currentProduct:i,quantity:u,selectedImageIndex:h,activeTab:p,isLoading:v,currentProductDetail:w,currentReviews:b,currentImages:x,averageRating:$,discountPercentage:S,relatedProducts:L,currentCategory:A,breadcrumbs:V,loadProduct:M,changeQuantity:y,changeMainImage:I,addToCartWithQuantity:R,buyNow:C,addToWishlist:T,shareProduct:f,compareProduct:U,setActiveTab:X,formatPrice:o,addToCart:s}}const Qg={class:"product-reviews"},Jg={class:"row"},Xg={class:"col-lg-10 mx-auto"},Zg={class:"mb-4 text-center"},ev={class:"d-flex justify-content-center align-items-center mb-3"},tv={class:"text-muted"},nv={class:"row g-4"},sv={class:"card mb-3 border-primary"},ov={class:"card-body"},rv={class:"d-flex justify-content-between align-items-start mb-2"},iv={class:"card-title mb-0 text-primary"},av={class:"text-muted"},lv={class:"text-warning mb-2"},cv={class:"card-text"},uv={key:0,class:"text-center text-muted py-5"},dv={__name:"ProductReviews",props:{product:{type:Object,required:!0},reviews:{type:Array,required:!1}},setup(e){const t=e,n=Z(()=>(console.log("🔍 ProductReviews - Props reviews:",t.reviews),console.log("🔍 ProductReviews - Reviews length:",t.reviews?.length||0),t.reviews||[]));return(s,o)=>(k(),E("div",Qg,[a("div",Jg,[a("div",Xg,[a("div",Zg,[o[2]||(o[2]=a("h5",{class:"text-primary mb-3"},"Đánh giá từ khách hàng",-1)),a("div",ev,[o[1]||(o[1]=Lt('<div class="text-warning fs-3 me-3" data-v-bc63e91b><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star-half-alt" data-v-bc63e91b></i></div>',1)),a("div",null,[o[0]||(o[0]=a("div",{class:"fs-4 fw-bold text-primary"},"4.5/5",-1)),a("small",tv,"("+G(n.value.length)+" đánh giá)",1)])])]),a("div",nv,[(k(!0),E(he,null,$e(n.value,r=>(k(),E("div",{class:"col-12",key:r.id},[a("div",sv,[a("div",ov,[a("div",rv,[a("h6",iv,G(r.name),1),a("small",av,G(r.date),1)]),a("div",lv,[(k(!0),E(he,null,$e(r.rating,i=>(k(),E("i",{key:i,class:"fas fa-star"}))),128)),(k(!0),E(he,null,$e(5-r.rating,i=>(k(),E("i",{key:i+r.rating,class:"far fa-star"}))),128))]),a("p",cv,G(r.content),1)])])]))),128))]),n.value.length===0?(k(),E("div",uv,o[3]||(o[3]=[a("i",{class:"fas fa-info-circle fa-2x mb-3"},null,-1),a("div",null,"Chưa có đánh giá nào cho sản phẩm này.",-1)]))):ae("",!0)])])]))}},fv=We(dv,[["__scopeId","data-v-bc63e91b"]]),hv={class:"write-review-section"},pv={key:0,class:"text-center mb-4"},mv={key:1,class:"text-center mb-4"},gv={key:2,class:"card shadow-sm border-0 mb-4"},vv={class:"card-body"},yv={class:"d-flex align-items-center mb-3 p-3 bg-light rounded"},bv=["src","alt"],_v={class:"mb-0"},wv={class:"text-muted"},Tv={class:"mb-3"},Cv={class:"rating-input d-flex align-items-center gap-3"},kv={class:"star-rating"},Sv=["onClick","onMouseover"],Ev={class:"text-muted"},xv={class:"mb-3"},$v={class:"form-text"},Av={class:"mb-3"},Iv={class:"mb-4"},Pv={class:"form-check"},Rv={class:"d-flex gap-2"},Ov=["disabled"],Dv={key:0,class:"fas fa-paper-plane me-2"},Lv={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},Mv=["disabled"],Hv={key:3,class:"alert alert-success alert-dismissible fade show",role:"alert"},Nv={__name:"WriteReview",props:{product:{type:Object,required:!0}},emits:["review-submitted"],setup(e,{emit:t}){const n=t,{user:s,isLoggedIn:o}=ss(),r=J(!1),i=J(0),l=J(0),c=J(""),d=J(""),u=J(!1),h=J(!1),p=J(!1),v=Z(()=>{switch(l.value||i.value){case 1:return"Rất tệ";case 2:return"Tệ";case 3:return"Bình thường";case 4:return"Tốt";case 5:return"Tuyệt vời";default:return"Chọn số sao"}}),w=async()=>{if(!(i.value===0||c.value.trim().length<10)){h.value=!0;try{await new Promise(S=>setTimeout(S,1500));const $={id:Date.now(),name:s.value.name,email:s.value.email,avatar:s.value.avatar,rating:i.value,title:d.value.trim()||null,content:c.value.trim(),wouldRecommend:u.value,date:new Date().toISOString().split("T")[0],isVerifiedPurchase:!0};n("review-submitted",$),p.value=!0,x(),setTimeout(()=>{p.value=!1},5e3)}catch($){console.error("Error submitting review:",$)}finally{h.value=!1}}},b=()=>{x()},x=()=>{r.value=!1,i.value=0,l.value=0,c.value="",d.value="",u.value=!1};return($,S)=>{const L=dn("router-link");return k(),E("div",hv,[!N(o)&&!r.value?(k(),E("div",pv,[S[7]||(S[7]=a("div",{class:"alert alert-info"},[a("i",{class:"fas fa-info-circle me-2"}),a("strong",null,"Bạn cần đăng nhập để viết đánh giá")],-1)),re(L,{to:"/login",class:"btn btn-primary"},{default:Ae(()=>S[6]||(S[6]=[a("i",{class:"fas fa-sign-in-alt me-2"},null,-1),F("Đăng nhập ngay ")])),_:1,__:[6]})])):N(o)&&!r.value?(k(),E("div",mv,[a("button",{class:"btn btn-success btn-lg",onClick:S[0]||(S[0]=A=>r.value=!0)},S[8]||(S[8]=[a("i",{class:"fas fa-pen me-2"},null,-1),F("Viết đánh giá ")]))])):ae("",!0),r.value&&N(o)?(k(),E("div",gv,[S[14]||(S[14]=a("div",{class:"card-header bg-primary text-white"},[a("h5",{class:"mb-0"},[a("i",{class:"fas fa-star me-2"}),F("Viết đánh giá cho sản phẩm này ")])],-1)),a("div",vv,[a("form",{onSubmit:Me(w,["prevent"])},[a("div",yv,[a("img",{src:N(s).avatar,class:"rounded-circle me-3",width:"50",height:"50",alt:N(s).name},null,8,bv),a("div",null,[a("h6",_v,G(N(s).name),1),a("small",wv,G(N(s).email),1)])]),a("div",Tv,[S[9]||(S[9]=a("label",{class:"form-label fw-semibold"},"Đánh giá của bạn *",-1)),a("div",Cv,[a("div",kv,[(k(),E(he,null,$e(5,A=>a("i",{key:A,class:ye(["fas fa-star star-clickable",A<=i.value?"text-warning":"text-muted"]),onClick:V=>i.value=A,onMouseover:V=>l.value=A,onMouseleave:S[1]||(S[1]=V=>l.value=0),style:{cursor:"pointer","font-size":"1.5rem","margin-right":"0.25rem"}},null,42,Sv)),64))]),a("span",Ev,G(v.value),1)])]),a("div",xv,[S[10]||(S[10]=a("label",{for:"reviewContent",class:"form-label fw-semibold"},"Nội dung đánh giá *",-1)),lt(a("textarea",{"onUpdate:modelValue":S[2]||(S[2]=A=>c.value=A),class:"form-control",id:"reviewContent",rows:"4",required:"",placeholder:"Chia sẻ trải nghiệm của bạn về sản phẩm này...",maxlength:"500"},null,512),[[Tn,c.value]]),a("div",$v,G(c.value.length)+"/500 ký tự",1)]),a("div",Av,[S[11]||(S[11]=a("label",{for:"reviewTitle",class:"form-label fw-semibold"},"Tiêu đề đánh giá (tùy chọn)",-1)),lt(a("input",{"onUpdate:modelValue":S[3]||(S[3]=A=>d.value=A),type:"text",class:"form-control",id:"reviewTitle",placeholder:"Ví dụ: Sản phẩm tuyệt vời!",maxlength:"100"},null,512),[[Tn,d.value]])]),a("div",Iv,[a("div",Pv,[lt(a("input",{"onUpdate:modelValue":S[4]||(S[4]=A=>u.value=A),class:"form-check-input",type:"checkbox",id:"wouldRecommend"},null,512),[[Ra,u.value]]),S[12]||(S[12]=a("label",{class:"form-check-label",for:"wouldRecommend"},[a("i",{class:"fas fa-thumbs-up me-2"}),F("Tôi sẽ giới thiệu sản phẩm này cho bạn bè ")],-1))])]),a("div",Rv,[a("button",{type:"submit",class:"btn btn-success",disabled:h.value||i.value===0||c.value.trim().length<10},[h.value?ae("",!0):(k(),E("i",Dv)),h.value?(k(),E("span",Lv)):ae("",!0),F(" "+G(h.value?"Đang gửi...":"Gửi đánh giá"),1)],8,Ov),a("button",{type:"button",class:"btn btn-outline-secondary",onClick:b,disabled:h.value},S[13]||(S[13]=[a("i",{class:"fas fa-times me-2"},null,-1),F("Hủy ")]),8,Mv)])],32)])])):ae("",!0),p.value?(k(),E("div",Hv,[S[15]||(S[15]=a("i",{class:"fas fa-check-circle me-2"},null,-1)),S[16]||(S[16]=a("strong",null,"Cảm ơn bạn!",-1)),S[17]||(S[17]=F(" Đánh giá của bạn đã được gửi thành công. ")),a("button",{type:"button",class:"btn-close",onClick:S[5]||(S[5]=A=>p.value=!1)})])):ae("",!0)])}}},Uv=We(Nv,[["__scopeId","data-v-d2a00896"]]),Gv={id:"productDetail",class:"bg-white"},Bv={class:"container mt-4"},Fv={"aria-label":"breadcrumb"},Vv={class:"breadcrumb mb-0"},Kv={class:"breadcrumb-item"},jv={key:0,class:"breadcrumb-item"},qv=["href"],Wv={key:1,class:"breadcrumb-item active"},Yv={class:"container my-5"},zv={key:0,class:"row"},Qv={key:1,class:"row"},Jv={class:"col-12 text-center"},Xv={class:"debug-info mt-4 p-3 bg-light rounded text-start"},Zv={key:2,class:"row animate-fade-in"},ey={class:"col-lg-6"},ty={class:"position-relative"},ny=["src","alt"],sy={class:"row g-2 mt-3"},oy={class:"product-thumbnail-container"},ry=["src","onClick","alt"],iy={class:"col-lg-6"},ay={class:"ps-lg-4"},ly={class:"fs-2 fw-bold text-dark mb-3"},cy={class:"mb-3"},uy={key:0,class:"feature-badge"},dy={class:"d-flex align-items-center mb-3"},fy={class:"text-warning me-3"},hy={class:"text-muted ms-3"},py={class:"mb-4"},my={key:0,class:"discount-badge"},gy={class:"d-flex align-items-baseline"},vy={key:0,class:"original-price"},yy={class:"detail-price"},by={key:1,class:"text-muted"},_y={class:"stock-info mb-4"},wy={class:"row"},Ty={class:"col-6"},Cy={class:"text-center"},ky={class:"mt-2"},Sy={class:"small text-muted"},Ey={class:"row g-3 mb-4"},xy={class:"col-md-4"},$y={class:"quantity-selector d-flex"},Ay={class:"col-md-8"},Iy={class:"d-flex gap-2"},Py={class:"row g-2 mt-3"},Ry={class:"col-4"},Oy={class:"col-4"},Dy={class:"col-4"},Ly={key:0,class:"container my-5"},My={class:"nav nav-pills product-tabs justify-content-center mb-4",role:"tablist"},Hy={class:"nav-item",role:"presentation"},Ny={class:"nav-item",role:"presentation"},Uy={class:"tab-content",style:{"min-height":"400px",background:"white","border-radius":"10px",padding:"20px"}},Gy={class:"tab-pane",style:{display:"block"}},By={class:"row"},Fy={class:"col-lg-8 mx-auto"},Vy={class:"card border-0 shadow-sm rounded-4"},Ky={class:"card-body p-5"},jy={class:"text-primary mb-4"},qy={class:"lead"},Wy={class:"mt-4"},Yy={class:"list-unstyled small mb-0"},zy={key:0},Qy={key:0},Jy={key:1},Xy={key:2},Zy={class:"tab-pane",style:{display:"block",width:"100%"}},eb={key:1,class:"container my-5"},tb={class:"row g-4"},nb={__name:"ProductDetail",props:{productId:{type:[Number,String],required:!0}},emits:["go-home","view-product"],setup(e,{emit:t}){const n=e,{products:s,addToCart:o,formatPrice:r,showNotification:i}=An(),{currentProduct:l,quantity:c,selectedImageIndex:d,activeTab:u,currentReviews:h,currentImages:p,discountPercentage:v,relatedProducts:w,currentCategory:b,isLoading:x,loadProduct:$,changeQuantity:S,addToCartWithQuantity:L,buyNow:A,addToWishlist:V,shareProduct:M,compareProduct:y}=zg(n.productId),I=Z(()=>l.value?.description||"Sản phẩm chất lượng cao, được chọn lọc kỹ càng để đảm bảo tươi ngon và an toàn cho sức khỏe. Được nuôi trồng theo quy trình khép kín, đảm bảo vệ sinh an toàn thực phẩm."),R=T=>{console.log("🎉 New review submitted:",T),l.value&&l.value.reviews&&l.value.reviews.unshift(T),i("Cảm ơn bạn đã đánh giá sản phẩm!","success")};ot(()=>n.productId,async T=>{console.log("🔄 ProductDetail - ProductId changed to:",T),console.log("🔄 ProductDetail - currentProduct before load:",l.value),T&&(await $(T),console.log("🔄 ProductDetail - currentProduct after load:",l.value))},{immediate:!0}),ot(h,T=>{console.log("🔄 ProductDetail - currentReviews changed:",T),console.log("🔄 ProductDetail - currentReviews length:",T?.length||0)},{immediate:!0}),ot(u,T=>{console.log("🔄 ProductDetail - activeTab changed to:",T)},{immediate:!0}),pt(async()=>{console.log("🚀 ProductDetail - Component mounted with productId:",n.productId),console.log("🚀 ProductDetail - currentProduct on mount:",l.value),n.productId&&(await $(n.productId),console.log("🚀 ProductDetail - currentProduct after mount load:",l.value))});const C=T=>{i(`Đã copy mã khuyến mãi: ${T}`,"success")};return(T,f)=>(k(),E("div",Gv,[a("div",Bv,[a("nav",Fv,[a("ol",Vv,[a("li",Kv,[a("a",{href:"#",onClick:f[0]||(f[0]=Me(U=>T.$emit("go-home"),["prevent"])),class:"text-decoration-none"},f[13]||(f[13]=[a("i",{class:"fas fa-home me-1"},null,-1),F("Trang chủ ")]))]),N(b)?(k(),E("li",jv,[a("a",{href:`#category-${N(b).id}`,class:"text-decoration-none"},G(N(b).name),9,qv)])):ae("",!0),N(l)?(k(),E("li",Wv,G(N(l).name),1)):ae("",!0)])])]),a("div",Yv,[!N(l)&&N(x)?(k(),E("div",zv,f[14]||(f[14]=[a("div",{class:"col-12 text-center py-5"},[a("div",{class:"spinner-border text-primary",role:"status"},[a("span",{class:"visually-hidden"},"Đang tải sản phẩm...")]),a("p",{class:"text-muted mt-3"},"Đang tải thông tin sản phẩm...")],-1)]))):N(l)?(k(),E("div",Zv,[a("div",ey,[a("div",ty,[a("img",{src:N(p)[N(d)]?.url||N(l).image,class:"w-100 product-image-main shadow-product",alt:N(l).name},null,8,ny),f[24]||(f[24]=a("div",{class:"position-absolute top-0 end-0 m-3 bg-dark bg-opacity-75 text-white p-2 rounded"},[a("i",{class:"fas fa-search-plus me-1"}),F("Zoom ")],-1))]),a("div",sy,[(k(!0),E(he,null,$e(N(p),(U,X)=>(k(),E("div",{key:X,class:"col-3"},[a("div",oy,[a("img",{src:U.url,class:ye(["w-100 product-thumbnail",{active:X===N(d)}]),onClick:te=>d.value=X,alt:U.alt},null,10,ry)])]))),128))])]),a("div",iy,[a("div",ay,[a("h1",ly,G(N(l).name),1),a("div",cy,[f[25]||(f[25]=a("span",{class:"feature-badge"},"Tươi sống",-1)),f[26]||(f[26]=a("span",{class:"feature-badge"},"Chất lượng cao",-1)),f[27]||(f[27]=a("span",{class:"feature-badge"},"An toàn",-1)),N(l).originalPrice?(k(),E("span",uy,"Giảm giá")):ae("",!0)]),a("div",dy,[a("div",fy,[(k(),E(he,null,$e(5,U=>a("i",{key:U,class:"fas fa-star"})),64)),f[28]||(f[28]=a("span",{class:"text-dark ms-2 fw-semibold"},"4.8",-1))]),f[30]||(f[30]=a("span",{class:"text-muted"},"|",-1)),a("span",hy,[f[29]||(f[29]=a("i",{class:"fas fa-shopping-cart me-1"},null,-1)),F(G(Math.floor(Math.random()*500)+100)+" đã bán ",1)])]),a("div",py,[N(v)>0?(k(),E("div",my," -"+G(N(v))+"% GIẢM GIÁ ",1)):ae("",!0),a("div",gy,[N(l).originalPrice?(k(),E("span",vy,G(N(r)(N(l).originalPrice)),1)):ae("",!0),a("span",yy,G(N(r)(N(l).price)),1)]),N(l).originalPrice?(k(),E("small",by," Tiết kiệm: "+G(N(r)(N(l).originalPrice-N(l).price)),1)):ae("",!0)]),a("div",_y,[a("div",wy,[a("div",Ty,[a("div",Cy,[f[32]||(f[32]=a("i",{class:"fas fa-check-circle text-success fs-4"},null,-1)),a("div",ky,[f[31]||(f[31]=a("strong",{class:"text-success"},"Còn hàng",-1)),a("div",Sy,"Còn "+G(Math.floor(Math.random()*50)+20)+" sản phẩm",1)])])]),f[33]||(f[33]=Lt('<div class="col-6" data-v-9ec8c2e5><div class="text-center" data-v-9ec8c2e5><i class="fas fa-shield-alt text-primary fs-4" data-v-9ec8c2e5></i><div class="mt-2" data-v-9ec8c2e5><strong class="text-primary" data-v-9ec8c2e5>Chất lượng</strong><div class="small text-muted" data-v-9ec8c2e5>Đảm bảo tươi ngon</div></div></div></div>',1))])]),a("div",Ey,[a("div",xy,[f[36]||(f[36]=a("label",{class:"form-label fw-semibold"},"Số lượng:",-1)),a("div",$y,[a("button",{class:"quantity-btn",onClick:f[2]||(f[2]=U=>N(S)(-1))},f[34]||(f[34]=[a("i",{class:"fas fa-minus"},null,-1)])),lt(a("input",{type:"number",class:"form-control quantity-input","onUpdate:modelValue":f[3]||(f[3]=U=>Ue(c)?c.value=U:null),min:"1",max:"10"},null,512),[[Tn,N(c)]]),a("button",{class:"quantity-btn",onClick:f[4]||(f[4]=U=>N(S)(1))},f[35]||(f[35]=[a("i",{class:"fas fa-plus"},null,-1)]))])]),a("div",Ay,[f[39]||(f[39]=a("label",{class:"form-label fw-semibold"},"Hành động:",-1)),a("div",Iy,[a("button",{class:"btn add-to-cart-btn text-white flex-fill",onClick:f[5]||(f[5]=(...U)=>N(L)&&N(L)(...U))},f[37]||(f[37]=[a("i",{class:"fas fa-cart-plus me-2"},null,-1),F("Thêm vào giỏ ")])),a("button",{class:"btn buy-now-btn text-white flex-fill",onClick:f[6]||(f[6]=(...U)=>N(A)&&N(A)(...U))},f[38]||(f[38]=[a("i",{class:"fas fa-bolt me-2"},null,-1),F("Mua ngay ")]))])])]),f[43]||(f[43]=Lt('<div class="delivery-info p-3" data-v-9ec8c2e5><h6 class="fw-bold text-success mb-3" data-v-9ec8c2e5><i class="fas fa-shipping-fast me-2" data-v-9ec8c2e5></i>Thông tin giao hàng </h6><div class="row g-3" data-v-9ec8c2e5><div class="col-md-6" data-v-9ec8c2e5><div class="d-flex align-items-center" data-v-9ec8c2e5><i class="fas fa-clock text-success me-3" data-v-9ec8c2e5></i><div data-v-9ec8c2e5><strong data-v-9ec8c2e5>Giao hàng nhanh</strong><div class="small text-muted" data-v-9ec8c2e5>Trong 2 giờ</div></div></div></div><div class="col-md-6" data-v-9ec8c2e5><div class="d-flex align-items-center" data-v-9ec8c2e5><i class="fas fa-truck text-success me-3" data-v-9ec8c2e5></i><div data-v-9ec8c2e5><strong data-v-9ec8c2e5>Miễn phí ship</strong><div class="small text-muted" data-v-9ec8c2e5>Đơn từ 200k</div></div></div></div></div></div>',1)),a("div",Py,[a("div",Ry,[a("button",{class:"btn btn-outline-primary w-100 rounded-pill",onClick:f[7]||(f[7]=(...U)=>N(V)&&N(V)(...U))},f[40]||(f[40]=[a("i",{class:"fas fa-heart me-1"},null,-1),F("Yêu thích ")]))]),a("div",Oy,[a("button",{class:"btn btn-outline-secondary w-100 rounded-pill",onClick:f[8]||(f[8]=(...U)=>N(M)&&N(M)(...U))},f[41]||(f[41]=[a("i",{class:"fas fa-share-alt me-1"},null,-1),F("Chia sẻ ")]))]),a("div",Dy,[a("button",{class:"btn btn-outline-info w-100 rounded-pill",onClick:f[9]||(f[9]=(...U)=>N(y)&&N(y)(...U))},f[42]||(f[42]=[a("i",{class:"fas fa-balance-scale me-1"},null,-1),F("So sánh ")]))])])])])])):(k(),E("div",Qv,[a("div",Jv,[f[22]||(f[22]=a("h3",null,"Không tìm thấy sản phẩm",-1)),f[23]||(f[23]=a("p",{class:"text-muted"},"Sản phẩm bạn tìm kiếm không tồn tại.",-1)),a("div",Xv,[f[20]||(f[20]=a("h6",{class:"text-muted"},"Debug Info:",-1)),a("p",null,[f[15]||(f[15]=a("strong",null,"Product ID:",-1)),F(" "+G(n.productId),1)]),a("p",null,[f[16]||(f[16]=a("strong",null,"Current Product:",-1)),F(" "+G(N(l)),1)]),a("p",null,[f[17]||(f[17]=a("strong",null,"Is Loading:",-1)),F(" "+G(N(x)),1)]),a("p",null,[f[18]||(f[18]=a("strong",null,"Products Count:",-1)),F(" "+G(N(s).length),1)]),a("p",null,[f[19]||(f[19]=a("strong",null,"Available Product IDs:",-1)),F(" "+G(N(s).map(U=>U.id).join(", ")),1)])]),a("button",{class:"btn btn-primary mt-3",onClick:f[1]||(f[1]=U=>T.$emit("go-home"))},f[21]||(f[21]=[a("i",{class:"fas fa-home me-2"},null,-1),F("Về trang chủ ")]))])]))]),N(l)?(k(),E("div",Ly,[a("ul",My,[a("li",Hy,[a("button",{class:ye(["nav-link",{active:N(u)==="description"}]),onClick:f[10]||(f[10]=U=>u.value="description")},f[44]||(f[44]=[a("i",{class:"fas fa-info-circle me-2"},null,-1),F("Mô tả sản phẩm ")]),2)]),a("li",Ny,[a("button",{class:ye(["nav-link",{active:N(u)==="reviews"}]),onClick:f[11]||(f[11]=U=>u.value="reviews")},f[45]||(f[45]=[a("i",{class:"fas fa-star me-2"},null,-1),F("Đánh giá ")]),2)])]),a("div",Uy,[lt(a("div",Gy,[a("div",By,[a("div",Fy,[a("div",Vy,[a("div",Ky,[a("h5",jy,[f[46]||(f[46]=a("i",{class:"fas fa-info-circle me-2"},null,-1)),F("Về sản phẩm "+G(N(l).name),1)]),a("p",qy,G(I.value),1),f[55]||(f[55]=a("div",{class:"feature-highlight"},[a("h6",{class:"text-primary mb-2"},[a("i",{class:"fas fa-certificate me-2"}),F("Cam kết chất lượng ")]),a("p",{class:"mb-0"}," Chúng tôi cam kết 100% sản phẩm tươi ngon, an toàn. Nếu không hài lòng, hoàn tiền trong 24h. ")],-1)),a("div",Wy,[f[54]||(f[54]=a("h6",{class:"text-primary mb-3"},[a("i",{class:"fas fa-list-ul me-2"}),F("Thông số sản phẩm ")],-1)),a("ul",Yy,[N(l).weight?(k(),E("li",zy,[f[47]||(f[47]=a("i",{class:"fas fa-weight-hanging text-muted me-2"},null,-1)),f[48]||(f[48]=F(" Trọng lượng: ")),a("strong",null,G(N(l).weight),1),f[49]||(f[49]=F()),N(l).weightUnit?(k(),E("span",Qy,G(N(l).weightUnit),1)):ae("",!0)])):ae("",!0),N(l).weightUnit&&!N(l).weight?(k(),E("li",Jy,[f[50]||(f[50]=a("i",{class:"fas fa-balance-scale text-muted me-2"},null,-1)),f[51]||(f[51]=F(" Đơn vị tính: ")),a("strong",null,G(N(l).weightUnit),1)])):ae("",!0),N(l).shelfLifeDays?(k(),E("li",Xy,[f[52]||(f[52]=a("i",{class:"fas fa-hourglass-half text-muted me-2"},null,-1)),f[53]||(f[53]=F(" Hạn sử dụng: ")),a("strong",null,G(N(l).shelfLifeDays)+" ngày",1)])):ae("",!0)])])])])])])],512),[[Zn,N(u)==="description"]]),lt(a("div",Zy,[re(Uv,{product:N(l),onReviewSubmitted:R},null,8,["product"]),re(fv,{product:N(l),reviews:N(h)},null,8,["product","reviews"])],512),[[Zn,N(u)==="reviews"]])])])):ae("",!0),N(w).length>0?(k(),E("div",eb,[f[56]||(f[56]=a("h3",{class:"section-title fs-2 fw-bold text-dark mb-4"},[a("i",{class:"fas fa-heart text-danger me-3"}),F("Sản phẩm liên quan ")],-1)),a("div",tb,[(k(!0),E(he,null,$e(N(w),U=>(k(),E("div",{key:U.id,class:"col-lg-3 col-md-4 col-sm-6"},[re(ol,{product:U,formatPrice:N(r),onAddToCart:N(o),onViewDetail:f[12]||(f[12]=X=>T.$emit("view-product",X))},null,8,["product","formatPrice","onAddToCart"])]))),128))])])):ae("",!0),re(rl,{"show-on-scroll":!0,"scroll-threshold":300,onCouponCopied:C})]))}},sb=We(nb,[["__scopeId","data-v-9ec8c2e5"]]),ob={__name:"ProductDetail",setup(e){const t=xn(),n=Fd(),s=Z(()=>n.params.id),o=()=>{t.push({name:"Home"})},r=i=>{t.push({name:"ProductDetail",params:{id:i}})};return(i,l)=>(k(),E("div",null,[re(sb,{productId:s.value,onGoHome:o,onViewProduct:r},null,8,["productId"])]))}},rb=We(ob,[["__scopeId","data-v-c7a5e618"]]),ib={class:"cart-page"},ab={class:"container py-5 mt-5"},lb={"aria-label":"breadcrumb",class:"mb-4"},cb={class:"breadcrumb"},ub={class:"breadcrumb-item"},db={key:0,class:"row"},fb={class:"col-lg-8"},hb={class:"card"},pb={class:"card-body"},mb={class:"table-responsive"},gb={class:"table align-middle"},vb={class:"table-light"},yb={width:"50"},bb={class:"form-check"},_b=["checked"],wb={class:"form-check"},Tb=["checked","onChange","id"],Cb={class:"d-flex align-items-center"},kb=["src","alt","onClick"],Sb=["onClick"],Eb={class:"text-muted"},xb={class:"fw-bold text-danger"},$b={class:"quantity-controls"},Ab=["onClick","disabled"],Ib={class:"quantity-display"},Pb=["onClick"],Rb={class:"fw-bold text-danger fs-6"},Ob=["onClick"],Db={class:"col-lg-4"},Lb={class:"card sticky-top",style:{top:"100px"}},Mb={class:"card-body"},Hb={class:"order-summary"},Nb={class:"d-flex justify-content-between mb-2"},Ub={class:"d-flex justify-content-between mb-2"},Gb={key:0,class:"small text-success mb-2"},Bb={key:1,class:"small text-muted mb-2"},Fb={class:"d-flex justify-content-between mb-3"},Vb={class:"text-danger fs-5"},Kb=["disabled"],jb={key:1,class:"row"},qb={class:"col-12"},Wb={class:"empty-cart text-center py-5"},Yb={__name:"Cart",setup(e){const t=xn(),{formatPrice:n,getCategoryById:s,products:o,showNotification:r}=An(),{cart:i,cartCount:l,removeFromCart:c,updateCartQuantity:d}=zs(),u=J(new Set),h=Z(()=>i.value.map(T=>{const f=o.value.find(U=>U.id===T.productId);return{...T,product:f}}).filter(T=>T.product)),p=Z(()=>h.value.reduce((T,f)=>T+(f.product?.price||0)*f.quantity,0)),v=Z(()=>p.value>=2e5?0:3e4);Z(()=>p.value+v.value),Z(()=>h.value.reduce((T,f)=>T+f.quantity,0));const w=Z(()=>h.value.filter(T=>u.value.has(T.productId))),b=Z(()=>w.value.reduce((T,f)=>T+(f.product?.price||0)*f.quantity,0)),x=Z(()=>b.value>=2e5?0:3e4),$=Z(()=>b.value+x.value),S=Z(()=>w.value.reduce((T,f)=>T+f.quantity,0)),L=Z(()=>h.value.length>0&&h.value.every(T=>u.value.has(T.productId))),A=T=>{t.push({name:"ProductDetail",params:{id:T}})},V=T=>{const f=s(T);return f?f.name:"Không xác định"},M=(T,f)=>{if(f<=0){const U=h.value.find(X=>X.productId===T);y(T,U?.product?.name||"Sản phẩm")}else d(T,f)},y=(T,f)=>{confirm(`Bạn có chắc muốn xóa "${f}" khỏi giỏ hàng?`)&&(c(T),u.value.delete(T),r(`Đã xóa ${f} khỏi giỏ hàng!`,"info"))},I=()=>{if(u.value.size===0){r("Vui lòng chọn sản phẩm để thanh toán!","warning");return}if(!JSON.parse(localStorage.getItem("easymart-user")||"null")){const U=Array.from(u.value);localStorage.setItem("easymart-selected-items",JSON.stringify(U)),localStorage.setItem("easymart-redirect-after-login","/checkout"),r("Vui lòng đăng nhập để tiến hành thanh toán!","warning"),t.push("/login");return}const f=Array.from(u.value);localStorage.setItem("easymart-selected-items",JSON.stringify(f)),t.push("/checkout")},R=T=>{u.value.has(T)?u.value.delete(T):u.value.add(T)},C=()=>{L.value?u.value.clear():h.value.forEach(T=>{u.value.add(T.productId)})};return(T,f)=>{const U=dn("router-link");return k(),E("div",ib,[a("div",ab,[a("nav",lb,[a("ol",cb,[a("li",ub,[re(U,{to:"/",class:"text-decoration-none"},{default:Ae(()=>f[0]||(f[0]=[a("i",{class:"fas fa-home"},null,-1),F(" Trang chủ ")])),_:1,__:[0]})]),f[1]||(f[1]=a("li",{class:"breadcrumb-item active","aria-current":"page"},[a("i",{class:"fas fa-shopping-cart"}),F(" Giỏ hàng ")],-1))])]),f[23]||(f[23]=a("h2",{class:"mb-4"},[a("i",{class:"fas fa-shopping-cart text-primary me-2"}),F(" Giỏ hàng của bạn ")],-1)),N(i).length>0?(k(),E("div",db,[a("div",fb,[a("div",hb,[a("div",pb,[a("div",mb,[a("table",gb,[a("thead",vb,[a("tr",null,[a("th",yb,[a("div",bb,[a("input",{class:"form-check-input",type:"checkbox",checked:L.value,onChange:C,id:"selectAll"},null,40,_b),f[2]||(f[2]=a("label",{class:"form-check-label",for:"selectAll"}," Tất cả ",-1))])]),f[3]||(f[3]=a("th",null,"Sản phẩm",-1)),f[4]||(f[4]=a("th",null,"Đơn giá",-1)),f[5]||(f[5]=a("th",null,"Số lượng",-1)),f[6]||(f[6]=a("th",null,"Thành tiền",-1)),f[7]||(f[7]=a("th",null,null,-1))])]),a("tbody",null,[(k(!0),E(he,null,$e(h.value,X=>(k(),E("tr",{key:X.productId},[a("td",null,[a("div",wb,[a("input",{class:"form-check-input",type:"checkbox",checked:u.value.has(X.productId),onChange:te=>R(X.productId),id:`item-${X.productId}`},null,40,Tb)])]),a("td",null,[a("div",Cb,[a("img",{src:X.product?.image,alt:X.product?.name,class:"cart-item-image me-3",onClick:te=>A(X.productId)},null,8,kb),a("div",null,[a("h6",{class:"mb-1 product-name",onClick:te=>A(X.productId)},G(X.product?.name),9,Sb),a("small",Eb," Danh mục: "+G(V(X.product?.categoryId)),1)])])]),a("td",null,[a("span",xb,G(N(n)(X.product?.price||0)),1)]),a("td",null,[a("div",$b,[a("button",{class:"btn btn-outline-secondary btn-sm",onClick:te=>M(X.productId,X.quantity-1),disabled:X.quantity<=1},f[8]||(f[8]=[a("i",{class:"fas fa-minus"},null,-1)]),8,Ab),a("span",Ib,G(X.quantity),1),a("button",{class:"btn btn-outline-secondary btn-sm",onClick:te=>M(X.productId,X.quantity+1)},f[9]||(f[9]=[a("i",{class:"fas fa-plus"},null,-1)]),8,Pb)])]),a("td",null,[a("span",Rb,G(N(n)((X.product?.price||0)*X.quantity)),1)]),a("td",null,[a("button",{class:"btn btn-outline-danger btn-sm",onClick:te=>y(X.productId,X.product?.name),title:"Xóa sản phẩm"},f[10]||(f[10]=[a("i",{class:"fas fa-trash"},null,-1)]),8,Ob)])]))),128))])])])])])]),a("div",Db,[a("div",Lb,[f[18]||(f[18]=a("div",{class:"card-header bg-primary text-white"},[a("h5",{class:"mb-0"},[a("i",{class:"fas fa-receipt me-2"}),F(" Tổng kết đơn hàng ")])],-1)),a("div",Mb,[a("div",Hb,[a("div",Nb,[a("span",null,"Đã chọn ("+G(S.value)+" sản phẩm):",1),a("span",null,G(N(n)(b.value)),1)]),a("div",Ub,[f[11]||(f[11]=a("span",null,"Phí vận chuyển:",-1)),a("span",{class:ye(x.value===0?"text-success":"")},G(x.value===0?"Miễn phí":N(n)(x.value)),3)]),x.value===0?(k(),E("div",Gb,f[12]||(f[12]=[a("i",{class:"fas fa-check-circle me-1"},null,-1),F(" Bạn được miễn phí vận chuyển! ")]))):b.value>0?(k(),E("div",Bb,[f[13]||(f[13]=a("i",{class:"fas fa-info-circle me-1"},null,-1)),F(" Mua thêm "+G(N(n)(2e5-b.value))+" để được miễn phí ship ",1)])):ae("",!0),f[17]||(f[17]=a("hr",null,null,-1)),a("div",Fb,[f[14]||(f[14]=a("strong",{class:"fs-5"},"Tổng cộng:",-1)),a("strong",Vb,G(N(n)($.value)),1)]),a("button",{class:"btn btn-primary w-100 mb-2 py-2",onClick:I,disabled:u.value.size===0},f[15]||(f[15]=[a("i",{class:"fas fa-credit-card me-2"},null,-1),F(" Tiến hành thanh toán ")]),8,Kb),re(U,{to:"/",class:"btn btn-outline-secondary w-100"},{default:Ae(()=>f[16]||(f[16]=[a("i",{class:"fas fa-arrow-left me-2"},null,-1),F(" Tiếp tục mua sắm ")])),_:1,__:[16]})])])])])])):(k(),E("div",jb,[a("div",qb,[a("div",Wb,[f[20]||(f[20]=a("div",{class:"empty-cart-icon mb-4"},[a("i",{class:"fas fa-shopping-cart fa-5x text-muted"})],-1)),f[21]||(f[21]=a("h3",{class:"text-muted mb-3"},"Giỏ hàng trống",-1)),f[22]||(f[22]=a("p",{class:"text-muted mb-4"},"Bạn chưa có sản phẩm nào trong giỏ hàng",-1)),re(U,{to:"/",class:"btn btn-primary btn-lg"},{default:Ae(()=>f[19]||(f[19]=[a("i",{class:"fas fa-shopping-bag me-2"},null,-1),F(" Bắt đầu mua sắm ")])),_:1,__:[19]})])])]))])])}}},zb=We(Yb,[["__scopeId","data-v-800633f4"]]),Qb=[{path:"/",name:"Home",component:Yg,meta:{title:"EasyMart - Siêu thị thực phẩm online",description:"Mua sắm thực phẩm tươi sống, hàng hóa chất lượng cao với giá tốt nhất"}},{path:"/promotions",name:"Promotions",component:()=>Be(()=>import("./Promotions-C8Xf6VlC.js"),__vite__mapDeps([0,1])),meta:{title:"Khuyến mãi - EasyMart",description:"Khám phá các ưu đãi và mã giảm giá hấp dẫn tại EasyMart"}},{path:"/product/:id",name:"ProductDetail",component:rb,props:!0,meta:{title:"Chi tiết sản phẩm - EasyMart",description:"Xem chi tiết sản phẩm với thông tin đầy đủ, hình ảnh chất lượng cao"}},{path:"/cart",name:"Cart",component:zb,meta:{title:"Giỏ hàng - EasyMart",description:"Xem và quản lý sản phẩm trong giỏ hàng của bạn"}},{path:"/checkout",name:"Checkout",component:()=>Be(()=>import("./Checkout-CvkkE2Ql.js"),__vite__mapDeps([2,3])),meta:{title:"Thanh toán - EasyMart",description:"Tiến hành thanh toán đơn hàng"}},{path:"/payment-success",name:"PaymentSuccess",component:()=>Be(()=>import("./PaymentSuccess-DbBx7do9.js"),__vite__mapDeps([4,5])),meta:{title:"Thanh toán thành công - EasyMart",description:"Xác nhận đơn hàng đã được thanh toán thành công"}},{path:"/search",name:"Search",component:()=>Be(()=>import("./Search-BGgBhgjC.js"),__vite__mapDeps([6,7])),meta:{title:"Tìm kiếm sản phẩm - EasyMart",description:"Tìm kiếm và khám phá hàng nghìn sản phẩm chất lượng tại EasyMart"}},{path:"/categories",name:"Categories",component:()=>Be(()=>import("./Categories-49ZtH4Vs.js"),__vite__mapDeps([8,9])),meta:{title:"Danh mục sản phẩm - EasyMart",description:"Khám phá tất cả danh mục sản phẩm tại EasyMart"}},{path:"/category/:id",name:"Category",component:()=>Be(()=>import("./Category-D7Cb1Rds.js"),__vite__mapDeps([10,11])),props:!0,meta:{title:"Danh mục sản phẩm - EasyMart",description:"Xem tất cả sản phẩm trong danh mục"}},{path:"/about",name:"About",component:()=>Be(()=>import("./About-B_PjhzrM.js"),__vite__mapDeps([12,13])),meta:{title:"Giới thiệu - EasyMart",description:"Thông tin về EasyMart - Siêu thị thực phẩm online uy tín"}},{path:"/contact",name:"Contact",component:()=>Be(()=>import("./Contact-dEO8ppdy.js"),__vite__mapDeps([14,15])),meta:{title:"Liên hệ - EasyMart",description:"Thông tin liên hệ và hỗ trợ khách hàng"}},{path:"/login",name:"Login",component:()=>Be(()=>import("./Login-BiTwiVO3.js"),__vite__mapDeps([16,17,18,19])),meta:{title:"Đăng nhập - EasyMart",description:"Đăng nhập vào tài khoản EasyMart của bạn"}},{path:"/register",name:"Register",component:()=>Be(()=>import("./Register-7EovN3xV.js"),__vite__mapDeps([20,17,18,21])),meta:{title:"Đăng ký - EasyMart",description:"Tạo tài khoản mới tại EasyMart"}},{path:"/forgot-password",name:"ForgotPassword",component:()=>Be(()=>import("./ForgotPassword-Cl1qTntB.js"),__vite__mapDeps([22,23])),meta:{title:"Quên mật khẩu - EasyMart",description:"Đặt lại mật khẩu tài khoản EasyMart của bạn"}},{path:"/profile",name:"Profile",component:()=>Be(()=>import("./Profile-T7unPZtW.js"),__vite__mapDeps([24,25])),meta:{title:"Hồ sơ cá nhân - EasyMart",description:"Quản lý thông tin cá nhân và tài khoản EasyMart"}},{path:"/oauth2/success",name:"OAuth2Success",component:()=>Be(()=>import("./OAuth2Success-0O-4JiEt.js"),__vite__mapDeps([26,27])),meta:{title:"Đăng nhập thành công - EasyMart",description:"Đang xử lý đăng nhập OAuth2..."}},{path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/"}],or=Gd({history:md(),routes:Qb,scrollBehavior(e,t,n){return n||{top:0}}});or.beforeEach((e,t,n)=>{if(e.meta.title&&(document.title=e.meta.title),e.meta.description){const o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content",e.meta.description)}if(["Checkout","PaymentSuccess"].includes(e.name)&&!JSON.parse(localStorage.getItem("easymart-user")||"null")){localStorage.setItem("easymart-redirect-after-login",e.fullPath),n({name:"Login"});return}n()});or.afterEach(()=>{});async function Jb(e,t={}){const n=ht();if(!n)throw new Error("No JWT token found. Please login again.");const s={headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",...t.headers}},o=e.startsWith("http")?e:`${pe.BASE_URL}${e}`;try{const r=await fetch(o,{...t,...s,headers:{...s.headers,...t.headers}});if(!r.ok){if(r.status===401){console.warn("JWT token expired or invalid"),zd(),localStorage.removeItem("easymart-user"),window.location.href="/login";return}const i=await r.json().catch(()=>null);throw new Error(i?.message||`API call failed: ${r.statusText}`)}return await r.json()}catch(r){throw console.error("API call error:",r),r}}function Xb(){const e=ht();if(!e)return!1;try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3);return t.exp>n}catch(t){return console.error("Error validating token:",t),!1}}async function fi(){const e=ht();if(e)try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3),s=t.exp-n;if(s<300&&s>0){console.log("Token expiring soon, attempting refresh...");const o=await Jb("/api/oauth2/get-jwt-token");o.success&&o.result.jwt_token&&(Yd(o.result.jwt_token),console.log("✅ Token refreshed successfully"))}}catch(t){console.error("Auto-refresh failed:",t)}}function Zb(){return fi(),setInterval(fi,6e4)}const il=Mu(hm);il.use(or);Xb()&&(console.log("Starting JWT token auto-refresh..."),Zb());typeof window<"u"&&(setInterval(async()=>{const{autoLogoutIfInvalid:e}=ss();await e()},3e4),window.addEventListener("focus",async()=>{const{autoLogoutIfInvalid:e}=ss();await e()}),console.log("🔐 Auto-logout checking enabled (30s interval + on focus)"));il.mount("#app");export{ot as A,Oa as B,Ou as C,Yn as D,Ao as E,he as F,rl as G,It as H,Oe as I,Dt as J,ss as K,e0 as L,Ra as M,Vd as N,pe as O,ol as P,Zn as Q,Yd as R,We as _,a,Lt as b,E as c,ae as d,$e as e,ye as f,F as g,pt as h,re as i,Ae as j,dn as k,N as l,xn as m,_n as n,k as o,zs as p,Z as q,J as r,lt as s,G as t,An as u,Tn as v,Me as w,$u as x,Fd as y,Hf as z};
