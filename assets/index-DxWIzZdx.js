const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Promotions-zqHO_MWo.js","assets/Promotions-BlNg8Auk.css","assets/Checkout-_Zdshevy.js","assets/Checkout-DlIt-p9A.css","assets/PaymentSuccess-D04cZlWP.js","assets/PaymentSuccess-BCbCYnIA.css","assets/Search-eHzv9Ene.js","assets/Search-0TRBME_e.css","assets/Categories-BX9dsJtV.js","assets/Categories-B2JZZ1b3.css","assets/Category-1Cte8-H1.js","assets/Category-D5oOeu2v.css","assets/About-DFTeLKT6.js","assets/About-eoiSrOrX.css","assets/Contact-DppKItTJ.js","assets/Contact-Dko7EUlx.css","assets/Login-Iby2OdTt.js","assets/FacebookSignIn-BqYSpPXM.js","assets/FacebookSignIn-BGU_Fz4z.css","assets/Login-Br0MiDYh.css","assets/Register-CQDTMChg.js","assets/Register-m9ywLs9E.css","assets/ForgotPassword-BZ9zMZ6g.js","assets/ForgotPassword-ka-IWcgV.css","assets/Profile-Cozh117v.js","assets/Profile-CwOIXYIF.css","assets/Orders-CyXzjsBY.js","assets/Orders-2erxfyWT.css","assets/OAuth2Success-Bbtn4eQK.js","assets/OAuth2Success-BtngB-lt.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Lo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Re={},pn=[],St=()=>{},bl=()=>!1,Ds=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),No=e=>e.startsWith("onUpdate:"),Me=Object.assign,Uo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},wl=Object.prototype.hasOwnProperty,Ee=(e,t)=>wl.call(e,t),ue=Array.isArray,mn=e=>as(e)==="[object Map]",In=e=>as(e)==="[object Set]",gr=e=>as(e)==="[object Date]",pe=e=>typeof e=="function",Ue=e=>typeof e=="string",Et=e=>typeof e=="symbol",Oe=e=>e!==null&&typeof e=="object",_a=e=>(Oe(e)||pe(e))&&pe(e.then)&&pe(e.catch),Ca=Object.prototype.toString,as=e=>Ca.call(e),Tl=e=>as(e).slice(8,-1),Sa=e=>as(e)==="[object Object]",Ho=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Un=Lo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ls=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_l=/-(\w)/g,lt=Ls(e=>e.replace(_l,(t,n)=>n?n.toUpperCase():"")),Cl=/\B([A-Z])/g,Xt=Ls(e=>e.replace(Cl,"-$1").toLowerCase()),Ns=Ls(e=>e.charAt(0).toUpperCase()+e.slice(1)),Zs=Ls(e=>e?`on${Ns(e)}`:""),Yt=(e,t)=>!Object.is(e,t),vs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},po=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Ss=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Sl=e=>{const t=Ue(e)?Number(e):NaN;return isNaN(t)?e:t};let pr;const Us=()=>pr||(pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wn(e){if(ue(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Ue(s)?$l(s):wn(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(Ue(e)||Oe(e))return e}const kl=/;(?![^(]*\))/g,El=/:([^]+)/,Al=/\/\*[^]*?\*\//g;function $l(e){const t={};return e.replace(Al,"").split(kl).forEach(n=>{if(n){const s=n.split(El);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ye(e){let t="";if(Ue(e))t=e;else if(ue(e))for(let n=0;n<e.length;n++){const s=ye(e[n]);s&&(t+=s+" ")}else if(Oe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Il="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xl=Lo(Il);function ka(e){return!!e||e===""}function Rl(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=ln(e[s],t[s]);return n}function ln(e,t){if(e===t)return!0;let n=gr(e),s=gr(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=Et(e),s=Et(t),n||s)return e===t;if(n=ue(e),s=ue(t),n||s)return n&&s?Rl(e,t):!1;if(n=Oe(e),s=Oe(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!ln(e[a],t[a]))return!1}}return String(e)===String(t)}function Mo(e,t){return e.findIndex(n=>ln(n,t))}const Ea=e=>!!(e&&e.__v_isRef===!0),G=e=>Ue(e)?e:e==null?"":ue(e)||Oe(e)&&(e.toString===Ca||!pe(e.toString))?Ea(e)?G(e.value):JSON.stringify(e,Aa,2):String(e),Aa=(e,t)=>Ea(t)?Aa(e,t.value):mn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[eo(s,r)+" =>"]=o,n),{})}:In(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>eo(n))}:Et(t)?eo(t):Oe(t)&&!ue(t)&&!Sa(t)?String(t):t,eo=(e,t="")=>{var n;return Et(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let et;class Ol{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=et,!t&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=et;try{return et=this,t()}finally{et=n}}}on(){++this._on===1&&(this.prevScope=et,et=this)}off(){this._on>0&&--this._on===0&&(et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Pl(){return et}let De;const to=new WeakSet;class $a{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,et&&et.active&&et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,to.has(this)&&(to.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mr(this),Ra(this);const t=De,n=dt;De=this,dt=!0;try{return this.fn()}finally{Oa(this),De=t,dt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fo(t);this.deps=this.depsTail=void 0,mr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?to.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){mo(this)&&this.run()}get dirty(){return mo(this)}}let Ia=0,Hn,Mn;function xa(e,t=!1){if(e.flags|=8,t){e.next=Mn,Mn=e;return}e.next=Hn,Hn=e}function Bo(){Ia++}function Ko(){if(--Ia>0)return;if(Mn){let t=Mn;for(Mn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Hn;){let t=Hn;for(Hn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ra(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Oa(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),Fo(s),Dl(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function mo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Pa(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Pa(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Yn)||(e.globalVersion=Yn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!mo(e))))return;e.flags|=2;const t=e.dep,n=De,s=dt;De=e,dt=!0;try{Ra(e);const o=e.fn(e._value);(t.version===0||Yt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{De=n,dt=s,Oa(e),e.flags&=-3}}function Fo(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Fo(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Dl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let dt=!0;const Da=[];function Nt(){Da.push(dt),dt=!1}function Ut(){const e=Da.pop();dt=e===void 0?!0:e}function mr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=De;De=void 0;try{t()}finally{De=n}}}let Yn=0;class Ll{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!De||!dt||De===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==De)n=this.activeLink=new Ll(De,this),De.deps?(n.prevDep=De.depsTail,De.depsTail.nextDep=n,De.depsTail=n):De.deps=De.depsTail=n,La(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=De.depsTail,n.nextDep=void 0,De.depsTail.nextDep=n,De.depsTail=n,De.deps===n&&(De.deps=s)}return n}trigger(t){this.version++,Yn++,this.notify(t)}notify(t){Bo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ko()}}}function La(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)La(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const vo=new WeakMap,an=Symbol(""),yo=Symbol(""),Wn=Symbol("");function qe(e,t,n){if(dt&&De){let s=vo.get(e);s||vo.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new Vo),o.map=s,o.key=n),o.track()}}function Rt(e,t,n,s,o,r){const a=vo.get(e);if(!a){Yn++;return}const l=c=>{c&&c.trigger()};if(Bo(),t==="clear")a.forEach(l);else{const c=ue(e),d=c&&Ho(n);if(c&&n==="length"){const u=Number(s);a.forEach((f,h)=>{(h==="length"||h===Wn||!Et(h)&&h>=u)&&l(f)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),d&&l(a.get(Wn)),t){case"add":c?d&&l(a.get("length")):(l(a.get(an)),mn(e)&&l(a.get(yo)));break;case"delete":c||(l(a.get(an)),mn(e)&&l(a.get(yo)));break;case"set":mn(e)&&l(a.get(an));break}}Ko()}function fn(e){const t=_e(e);return t===e?t:(qe(t,"iterate",Wn),at(e)?t:t.map(Fe))}function Hs(e){return qe(e=_e(e),"iterate",Wn),e}const Nl={__proto__:null,[Symbol.iterator](){return no(this,Symbol.iterator,Fe)},concat(...e){return fn(this).concat(...e.map(t=>ue(t)?fn(t):t))},entries(){return no(this,"entries",e=>(e[1]=Fe(e[1]),e))},every(e,t){return At(this,"every",e,t,void 0,arguments)},filter(e,t){return At(this,"filter",e,t,n=>n.map(Fe),arguments)},find(e,t){return At(this,"find",e,t,Fe,arguments)},findIndex(e,t){return At(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return At(this,"findLast",e,t,Fe,arguments)},findLastIndex(e,t){return At(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return At(this,"forEach",e,t,void 0,arguments)},includes(...e){return so(this,"includes",e)},indexOf(...e){return so(this,"indexOf",e)},join(e){return fn(this).join(e)},lastIndexOf(...e){return so(this,"lastIndexOf",e)},map(e,t){return At(this,"map",e,t,void 0,arguments)},pop(){return On(this,"pop")},push(...e){return On(this,"push",e)},reduce(e,...t){return vr(this,"reduce",e,t)},reduceRight(e,...t){return vr(this,"reduceRight",e,t)},shift(){return On(this,"shift")},some(e,t){return At(this,"some",e,t,void 0,arguments)},splice(...e){return On(this,"splice",e)},toReversed(){return fn(this).toReversed()},toSorted(e){return fn(this).toSorted(e)},toSpliced(...e){return fn(this).toSpliced(...e)},unshift(...e){return On(this,"unshift",e)},values(){return no(this,"values",Fe)}};function no(e,t,n){const s=Hs(e),o=s[t]();return s!==e&&!at(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=n(r.value)),r}),o}const Ul=Array.prototype;function At(e,t,n,s,o,r){const a=Hs(e),l=a!==e&&!at(e),c=a[t];if(c!==Ul[t]){const f=c.apply(e,r);return l?Fe(f):f}let d=n;a!==e&&(l?d=function(f,h){return n.call(this,Fe(f),h,e)}:n.length>2&&(d=function(f,h){return n.call(this,f,h,e)}));const u=c.call(a,d,s);return l&&o?o(u):u}function vr(e,t,n,s){const o=Hs(e);let r=n;return o!==e&&(at(e)?n.length>3&&(r=function(a,l,c){return n.call(this,a,l,c,e)}):r=function(a,l,c){return n.call(this,a,Fe(l),c,e)}),o[t](r,...s)}function so(e,t,n){const s=_e(e);qe(s,"iterate",Wn);const o=s[t](...n);return(o===-1||o===!1)&&qo(n[0])?(n[0]=_e(n[0]),s[t](...n)):o}function On(e,t,n=[]){Nt(),Bo();const s=_e(e)[t].apply(e,n);return Ko(),Ut(),s}const Hl=Lo("__proto__,__v_isRef,__isVue"),Na=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Et));function Ml(e){Et(e)||(e=String(e));const t=_e(this);return qe(t,"has",e),t.hasOwnProperty(e)}class Ua{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?zl:Ka:r?Ba:Ma).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=ue(t);if(!o){let c;if(a&&(c=Nl[n]))return c;if(n==="hasOwnProperty")return Ml}const l=Reflect.get(t,n,Ge(t)?t:s);return(Et(n)?Na.has(n):Hl(n))||(o||qe(t,"get",n),r)?l:Ge(l)?a&&Ho(n)?l:l.value:Oe(l)?o?Va(l):Dt(l):l}}class Ha extends Ua{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=Wt(r);if(!at(s)&&!Wt(s)&&(r=_e(r),s=_e(s)),!ue(t)&&Ge(r)&&!Ge(s))return c?!1:(r.value=s,!0)}const a=ue(t)&&Ho(n)?Number(n)<t.length:Ee(t,n),l=Reflect.set(t,n,s,Ge(t)?t:o);return t===_e(o)&&(a?Yt(s,r)&&Rt(t,"set",n,s):Rt(t,"add",n,s)),l}deleteProperty(t,n){const s=Ee(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Rt(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!Et(n)||!Na.has(n))&&qe(t,"has",n),s}ownKeys(t){return qe(t,"iterate",ue(t)?"length":an),Reflect.ownKeys(t)}}class Bl extends Ua{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Kl=new Ha,Fl=new Bl,Vl=new Ha(!0);const bo=e=>e,ds=e=>Reflect.getPrototypeOf(e);function Gl(e,t,n){return function(...s){const o=this.__v_raw,r=_e(o),a=mn(r),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,d=o[e](...s),u=n?bo:t?ks:Fe;return!t&&qe(r,"iterate",c?yo:an),{next(){const{value:f,done:h}=d.next();return h?{value:f,done:h}:{value:l?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function jl(e,t){const n={get(o){const r=this.__v_raw,a=_e(r),l=_e(o);e||(Yt(o,l)&&qe(a,"get",o),qe(a,"get",l));const{has:c}=ds(a),d=t?bo:e?ks:Fe;if(c.call(a,o))return d(r.get(o));if(c.call(a,l))return d(r.get(l));r!==a&&r.get(o)},get size(){const o=this.__v_raw;return!e&&qe(_e(o),"iterate",an),Reflect.get(o,"size",o)},has(o){const r=this.__v_raw,a=_e(r),l=_e(o);return e||(Yt(o,l)&&qe(a,"has",o),qe(a,"has",l)),o===l?r.has(o):r.has(o)||r.has(l)},forEach(o,r){const a=this,l=a.__v_raw,c=_e(l),d=t?bo:e?ks:Fe;return!e&&qe(c,"iterate",an),l.forEach((u,f)=>o.call(r,d(u),d(f),a))}};return Me(n,e?{add:fs("add"),set:fs("set"),delete:fs("delete"),clear:fs("clear")}:{add(o){!t&&!at(o)&&!Wt(o)&&(o=_e(o));const r=_e(this);return ds(r).has.call(r,o)||(r.add(o),Rt(r,"add",o,o)),this},set(o,r){!t&&!at(r)&&!Wt(r)&&(r=_e(r));const a=_e(this),{has:l,get:c}=ds(a);let d=l.call(a,o);d||(o=_e(o),d=l.call(a,o));const u=c.call(a,o);return a.set(o,r),d?Yt(r,u)&&Rt(a,"set",o,r):Rt(a,"add",o,r),this},delete(o){const r=_e(this),{has:a,get:l}=ds(r);let c=a.call(r,o);c||(o=_e(o),c=a.call(r,o)),l&&l.call(r,o);const d=r.delete(o);return c&&Rt(r,"delete",o,void 0),d},clear(){const o=_e(this),r=o.size!==0,a=o.clear();return r&&Rt(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Gl(o,e,t)}),n}function Go(e,t){const n=jl(e,t);return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(Ee(n,o)&&o in s?n:s,o,r)}const ql={get:Go(!1,!1)},Yl={get:Go(!1,!0)},Wl={get:Go(!0,!1)};const Ma=new WeakMap,Ba=new WeakMap,Ka=new WeakMap,zl=new WeakMap;function Ql(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jl(e){return e.__v_skip||!Object.isExtensible(e)?0:Ql(Tl(e))}function Dt(e){return Wt(e)?e:jo(e,!1,Kl,ql,Ma)}function Fa(e){return jo(e,!1,Vl,Yl,Ba)}function Va(e){return jo(e,!0,Fl,Wl,Ka)}function jo(e,t,n,s,o){if(!Oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Jl(e);if(r===0)return e;const a=o.get(e);if(a)return a;const l=new Proxy(e,r===2?s:n);return o.set(e,l),l}function vn(e){return Wt(e)?vn(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function at(e){return!!(e&&e.__v_isShallow)}function qo(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function Xl(e){return!Ee(e,"__v_skip")&&Object.isExtensible(e)&&po(e,"__v_skip",!0),e}const Fe=e=>Oe(e)?Dt(e):e,ks=e=>Oe(e)?Va(e):e;function Ge(e){return e?e.__v_isRef===!0:!1}function J(e){return Ga(e,!1)}function Zl(e){return Ga(e,!0)}function Ga(e,t){return Ge(e)?e:new ec(e,t)}class ec{constructor(t,n){this.dep=new Vo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:_e(t),this._value=n?t:Fe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||at(t)||Wt(t);t=s?t:_e(t),Yt(t,n)&&(this._rawValue=t,this._value=s?t:Fe(t),this.dep.trigger())}}function K(e){return Ge(e)?e.value:e}const tc={get:(e,t,n)=>t==="__v_raw"?e:K(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Ge(o)&&!Ge(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function ja(e){return vn(e)?e:new Proxy(e,tc)}class nc{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Vo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return xa(this,!0),!0}get value(){const t=this.dep.track();return Pa(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function sc(e,t,n=!1){let s,o;return pe(e)?s=e:(s=e.get,o=e.set),new nc(s,o,n)}const hs={},Es=new WeakMap;let nn;function oc(e,t=!1,n=nn){if(n){let s=Es.get(n);s||Es.set(n,s=[]),s.push(e)}}function rc(e,t,n=Re){const{immediate:s,deep:o,once:r,scheduler:a,augmentJob:l,call:c}=n,d=C=>o?C:at(C)||o===!1||o===0?Ot(C,1):Ot(C);let u,f,h,g,w=!1,y=!1;if(Ge(e)?(f=()=>e.value,w=at(e)):vn(e)?(f=()=>d(e),w=!0):ue(e)?(y=!0,w=e.some(C=>vn(C)||at(C)),f=()=>e.map(C=>{if(Ge(C))return C.value;if(vn(C))return d(C);if(pe(C))return c?c(C,2):C()})):pe(e)?t?f=c?()=>c(e,2):e:f=()=>{if(h){Nt();try{h()}finally{Ut()}}const C=nn;nn=u;try{return c?c(e,3,[g]):e(g)}finally{nn=C}}:f=St,t&&o){const C=f,U=o===!0?1/0:o;f=()=>Ot(C(),U)}const O=Pl(),x=()=>{u.stop(),O&&O.active&&Uo(O.effects,u)};if(r&&t){const C=t;t=(...U)=>{C(...U),x()}}let T=y?new Array(e.length).fill(hs):hs;const b=C=>{if(!(!(u.flags&1)||!u.dirty&&!C))if(t){const U=u.run();if(o||w||(y?U.some((D,_)=>Yt(D,T[_])):Yt(U,T))){h&&h();const D=nn;nn=u;try{const _=[U,T===hs?void 0:y&&T[0]===hs?[]:T,g];T=U,c?c(t,3,_):t(..._)}finally{nn=D}}}else u.run()};return l&&l(b),u=new $a(f),u.scheduler=a?()=>a(b,!1):b,g=C=>oc(C,!1,u),h=u.onStop=()=>{const C=Es.get(u);if(C){if(c)c(C,4);else for(const U of C)U();Es.delete(u)}},t?s?b(!0):T=u.run():a?a(b.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function Ot(e,t=1/0,n){if(t<=0||!Oe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ge(e))Ot(e.value,t,n);else if(ue(e))for(let s=0;s<e.length;s++)Ot(e[s],t,n);else if(In(e)||mn(e))e.forEach(s=>{Ot(s,t,n)});else if(Sa(e)){for(const s in e)Ot(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Ot(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function is(e,t,n,s){try{return s?e(...s):e()}catch(o){Ms(o,t,n)}}function gt(e,t,n,s){if(pe(e)){const o=is(e,t,n,s);return o&&_a(o)&&o.catch(r=>{Ms(r,t,n)}),o}if(ue(e)){const o=[];for(let r=0;r<e.length;r++)o.push(gt(e[r],t,n,s));return o}}function Ms(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Re;if(t){let l=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,c,d)===!1)return}l=l.parent}if(r){Nt(),is(r,null,10,[e,c,d]),Ut();return}}ac(e,n,o,s,a)}function ac(e,t,n,s=!0,o=!1){if(o)throw e;console.error(e)}const ze=[];let _t=-1;const yn=[];let Vt=null,hn=0;const qa=Promise.resolve();let As=null;function zn(e){const t=As||qa;return e?t.then(this?e.bind(this):e):t}function ic(e){let t=_t+1,n=ze.length;for(;t<n;){const s=t+n>>>1,o=ze[s],r=Qn(o);r<e||r===e&&o.flags&2?t=s+1:n=s}return t}function Yo(e){if(!(e.flags&1)){const t=Qn(e),n=ze[ze.length-1];!n||!(e.flags&2)&&t>=Qn(n)?ze.push(e):ze.splice(ic(t),0,e),e.flags|=1,Ya()}}function Ya(){As||(As=qa.then(za))}function lc(e){ue(e)?yn.push(...e):Vt&&e.id===-1?Vt.splice(hn+1,0,e):e.flags&1||(yn.push(e),e.flags|=1),Ya()}function yr(e,t,n=_t+1){for(;n<ze.length;n++){const s=ze[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;ze.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Wa(e){if(yn.length){const t=[...new Set(yn)].sort((n,s)=>Qn(n)-Qn(s));if(yn.length=0,Vt){Vt.push(...t);return}for(Vt=t,hn=0;hn<Vt.length;hn++){const n=Vt[hn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Vt=null,hn=0}}const Qn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function za(e){try{for(_t=0;_t<ze.length;_t++){const t=ze[_t];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),is(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;_t<ze.length;_t++){const t=ze[_t];t&&(t.flags&=-2)}_t=-1,ze.length=0,Wa(),As=null,(ze.length||yn.length)&&za()}}let tt=null,Qa=null;function $s(e){const t=tt;return tt=e,Qa=e&&e.type.__scopeId||null,t}function Ne(e,t=tt,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Or(-1);const r=$s(t);let a;try{a=e(...o)}finally{$s(r),s._d&&Or(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function ft(e,t){if(tt===null)return e;const n=Gs(tt),s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,a,l,c=Re]=t[o];r&&(pe(r)&&(r={mounted:r,updated:r}),r.deep&&Ot(a),s.push({dir:r,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Zt(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];r&&(l.oldValue=r[a].value);let c=l.dir[s];c&&(Nt(),gt(c,n,8,[e.el,l,e,t]),Ut())}}const Ja=Symbol("_vte"),Xa=e=>e.__isTeleport,Bn=e=>e&&(e.disabled||e.disabled===""),br=e=>e&&(e.defer||e.defer===""),wr=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Tr=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,wo=(e,t)=>{const n=e&&e.to;return Ue(n)?t?t(n):null:n},Za={name:"Teleport",__isTeleport:!0,process(e,t,n,s,o,r,a,l,c,d){const{mc:u,pc:f,pbc:h,o:{insert:g,querySelector:w,createText:y,createComment:O}}=d,x=Bn(t.props);let{shapeFlag:T,children:b,dynamicChildren:C}=t;if(e==null){const U=t.el=y(""),D=t.anchor=y("");g(U,n,s),g(D,n,s);const _=(L,R)=>{T&16&&(o&&o.isCE&&(o.ce._teleportTarget=L),u(b,L,R,o,r,a,l,c))},V=()=>{const L=t.target=wo(t.props,w),R=ti(L,t,y,g);L&&(a!=="svg"&&wr(L)?a="svg":a!=="mathml"&&Tr(L)&&(a="mathml"),x||(_(L,R),ys(t,!1)))};x&&(_(n,D),ys(t,!0)),br(t.props)?(t.el.__isMounted=!1,We(()=>{V(),delete t.el.__isMounted},r)):V()}else{if(br(t.props)&&e.el.__isMounted===!1){We(()=>{Za.process(e,t,n,s,o,r,a,l,c,d)},r);return}t.el=e.el,t.targetStart=e.targetStart;const U=t.anchor=e.anchor,D=t.target=e.target,_=t.targetAnchor=e.targetAnchor,V=Bn(e.props),L=V?n:D,R=V?U:_;if(a==="svg"||wr(D)?a="svg":(a==="mathml"||Tr(D))&&(a="mathml"),C?(h(e.dynamicChildren,C,L,o,r,a,l),Jo(e,t,!0)):c||f(e,t,L,R,o,r,a,l,!1),x)V?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gs(t,n,U,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const P=t.target=wo(t.props,w);P&&gs(t,P,null,d,0)}else V&&gs(t,D,_,d,1);ys(t,x)}},remove(e,t,n,{um:s,o:{remove:o}},r){const{shapeFlag:a,children:l,anchor:c,targetStart:d,targetAnchor:u,target:f,props:h}=e;if(f&&(o(d),o(u)),r&&o(c),a&16){const g=r||!Bn(h);for(let w=0;w<l.length;w++){const y=l[w];s(y,t,n,g,!!y.dynamicChildren)}}},move:gs,hydrate:cc};function gs(e,t,n,{o:{insert:s},m:o},r=2){r===0&&s(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:c,children:d,props:u}=e,f=r===2;if(f&&s(a,t,n),(!f||Bn(u))&&c&16)for(let h=0;h<d.length;h++)o(d[h],t,n,2);f&&s(l,t,n)}function cc(e,t,n,s,o,r,{o:{nextSibling:a,parentNode:l,querySelector:c,insert:d,createText:u}},f){const h=t.target=wo(t.props,c);if(h){const g=Bn(t.props),w=h._lpa||h.firstChild;if(t.shapeFlag&16)if(g)t.anchor=f(a(e),t,l(e),n,s,o,r),t.targetStart=w,t.targetAnchor=w&&a(w);else{t.anchor=a(e);let y=w;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")t.targetStart=y;else if(y.data==="teleport anchor"){t.targetAnchor=y,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}}y=a(y)}t.targetAnchor||ti(h,t,u,d),f(w&&a(w),t,h,n,s,o,r)}ys(t,g)}return t.anchor&&a(t.anchor)}const ei=Za;function ys(e,t){const n=e.ctx;if(n&&n.ut){let s,o;for(t?(s=e.el,o=e.anchor):(s=e.targetStart,o=e.targetAnchor);s&&s!==o;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function ti(e,t,n,s){const o=t.targetStart=n(""),r=t.targetAnchor=n("");return o[Ja]=r,e&&(s(o,e),s(r,e)),r}const Gt=Symbol("_leaveCb"),ps=Symbol("_enterCb");function ni(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ct(()=>{e.isMounted=!0}),di(()=>{e.isUnmounting=!0}),e}const rt=[Function,Array],si={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rt,onEnter:rt,onAfterEnter:rt,onEnterCancelled:rt,onBeforeLeave:rt,onLeave:rt,onAfterLeave:rt,onLeaveCancelled:rt,onBeforeAppear:rt,onAppear:rt,onAfterAppear:rt,onAppearCancelled:rt},oi=e=>{const t=e.subTree;return t.component?oi(t.component):t},uc={name:"BaseTransition",props:si,setup(e,{slots:t}){const n=xi(),s=ni();return()=>{const o=t.default&&Wo(t.default(),!0);if(!o||!o.length)return;const r=ri(o),a=_e(e),{mode:l}=a;if(s.isLeaving)return oo(r);const c=_r(r);if(!c)return oo(r);let d=Jn(c,a,s,n,f=>d=f);c.type!==Qe&&cn(c,d);let u=n.subTree&&_r(n.subTree);if(u&&u.type!==Qe&&!on(c,u)&&oi(n).type!==Qe){let f=Jn(u,a,s,n);if(cn(u,f),l==="out-in"&&c.type!==Qe)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},oo(r);l==="in-out"&&c.type!==Qe?f.delayLeave=(h,g,w)=>{const y=ai(s,u);y[String(u.key)]=u,h[Gt]=()=>{g(),h[Gt]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{w(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function ri(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Qe){t=n;break}}return t}const dc=uc;function ai(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Jn(e,t,n,s,o){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:g,onAfterLeave:w,onLeaveCancelled:y,onBeforeAppear:O,onAppear:x,onAfterAppear:T,onAppearCancelled:b}=t,C=String(e.key),U=ai(n,e),D=(L,R)=>{L&&gt(L,s,9,R)},_=(L,R)=>{const P=R[1];D(L,R),ue(L)?L.every(v=>v.length<=1)&&P():L.length<=1&&P()},V={mode:a,persisted:l,beforeEnter(L){let R=c;if(!n.isMounted)if(r)R=O||c;else return;L[Gt]&&L[Gt](!0);const P=U[C];P&&on(e,P)&&P.el[Gt]&&P.el[Gt](),D(R,[L])},enter(L){let R=d,P=u,v=f;if(!n.isMounted)if(r)R=x||d,P=T||u,v=b||f;else return;let $=!1;const F=L[ps]=E=>{$||($=!0,E?D(v,[L]):D(P,[L]),V.delayedLeave&&V.delayedLeave(),L[ps]=void 0)};R?_(R,[L,F]):F()},leave(L,R){const P=String(e.key);if(L[ps]&&L[ps](!0),n.isUnmounting)return R();D(h,[L]);let v=!1;const $=L[Gt]=F=>{v||(v=!0,R(),F?D(y,[L]):D(w,[L]),L[Gt]=void 0,U[P]===e&&delete U[P])};U[P]=e,g?_(g,[L,$]):$()},clone(L){const R=Jn(L,t,n,s,o);return o&&o(R),R}};return V}function oo(e){if(Bs(e))return e=zt(e),e.children=null,e}function _r(e){if(!Bs(e))return Xa(e.type)&&e.children?ri(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&pe(n.default))return n.default()}}function cn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,cn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Wo(e,t=!1,n){let s=[],o=0;for(let r=0;r<e.length;r++){let a=e[r];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===ve?(a.patchFlag&128&&o++,s=s.concat(Wo(a.children,t,l))):(t||a.type!==Qe)&&s.push(l!=null?zt(a,{key:l}):a)}if(o>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ii(e,t){return pe(e)?Me({name:e.name},t,{setup:e}):e}function li(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Kn(e,t,n,s,o=!1){if(ue(e)){e.forEach((w,y)=>Kn(w,t&&(ue(t)?t[y]:t),n,s,o));return}if(Fn(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Kn(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Gs(s.component):s.el,a=o?null:r,{i:l,r:c}=e,d=t&&t.r,u=l.refs===Re?l.refs={}:l.refs,f=l.setupState,h=_e(f),g=f===Re?()=>!1:w=>Ee(h,w);if(d!=null&&d!==c&&(Ue(d)?(u[d]=null,g(d)&&(f[d]=null)):Ge(d)&&(d.value=null)),pe(c))is(c,l,12,[a,u]);else{const w=Ue(c),y=Ge(c);if(w||y){const O=()=>{if(e.f){const x=w?g(c)?f[c]:u[c]:c.value;o?ue(x)&&Uo(x,r):ue(x)?x.includes(r)||x.push(r):w?(u[c]=[r],g(c)&&(f[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else w?(u[c]=a,g(c)&&(f[c]=a)):y&&(c.value=a,e.k&&(u[e.k]=a))};a?(O.id=-1,We(O,n)):O()}}}Us().requestIdleCallback;Us().cancelIdleCallback;const Fn=e=>!!e.type.__asyncLoader,Bs=e=>e.type.__isKeepAlive;function fc(e,t){ci(e,"a",t)}function hc(e,t){ci(e,"da",t)}function ci(e,t,n=Ve){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ks(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Bs(o.parent.vnode)&&gc(s,t,n,o),o=o.parent}}function gc(e,t,n,s){const o=Ks(t,e,s,!0);Mt(()=>{Uo(s[t],o)},n)}function Ks(e,t,n=Ve,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...a)=>{Nt();const l=cs(n),c=gt(t,n,e,a);return l(),Ut(),c});return s?o.unshift(r):o.push(r),r}}const Ht=e=>(t,n=Ve)=>{(!Zn||e==="sp")&&Ks(e,(...s)=>t(...s),n)},pc=Ht("bm"),ct=Ht("m"),mc=Ht("bu"),ui=Ht("u"),di=Ht("bum"),Mt=Ht("um"),vc=Ht("sp"),yc=Ht("rtg"),bc=Ht("rtc");function wc(e,t=Ve){Ks("ec",e,t)}const Tc="components";function un(e,t){return Cc(Tc,e,!0,t)||e}const _c=Symbol.for("v-ndc");function Cc(e,t,n=!0,s=!1){const o=tt||Ve;if(o){const r=o.type;{const l=cu(r,!1);if(l&&(l===t||l===lt(t)||l===Ns(lt(t))))return r}const a=Cr(o[e]||r[e],t)||Cr(o.appContext[e],t);return!a&&s?r:a}}function Cr(e,t){return e&&(e[t]||e[lt(t)]||e[Ns(lt(t))])}function Le(e,t,n,s){let o;const r=n,a=ue(e);if(a||Ue(e)){const l=a&&vn(e);let c=!1,d=!1;l&&(c=!at(e),d=Wt(e),e=Hs(e)),o=new Array(e.length);for(let u=0,f=e.length;u<f;u++)o[u]=t(c?d?ks(Fe(e[u])):Fe(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,r)}else if(Oe(e))if(e[Symbol.iterator])o=Array.from(e,(l,c)=>t(l,c,void 0,r));else{const l=Object.keys(e);o=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const u=l[c];o[c]=t(e[u],u,c,r)}}else o=[];return o}const To=e=>e?Ri(e)?Gs(e):To(e.parent):null,Vn=Me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>To(e.parent),$root:e=>To(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>hi(e),$forceUpdate:e=>e.f||(e.f=()=>{Yo(e.update)}),$nextTick:e=>e.n||(e.n=zn.bind(e.proxy)),$watch:e=>Gc.bind(e)}),ro=(e,t)=>e!==Re&&!e.__isScriptSetup&&Ee(e,t),Sc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:r,accessCache:a,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const g=a[t];if(g!==void 0)switch(g){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(ro(s,t))return a[t]=1,s[t];if(o!==Re&&Ee(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Ee(d,t))return a[t]=3,r[t];if(n!==Re&&Ee(n,t))return a[t]=4,n[t];_o&&(a[t]=0)}}const u=Vn[t];let f,h;if(u)return t==="$attrs"&&qe(e.attrs,"get",""),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==Re&&Ee(n,t))return a[t]=4,n[t];if(h=c.config.globalProperties,Ee(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return ro(o,t)?(o[t]=n,!0):s!==Re&&Ee(s,t)?(s[t]=n,!0):Ee(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},a){let l;return!!n[a]||e!==Re&&Ee(e,a)||ro(t,a)||(l=r[0])&&Ee(l,a)||Ee(s,a)||Ee(Vn,a)||Ee(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ee(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Sr(e){return ue(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let _o=!0;function kc(e){const t=hi(e),n=e.proxy,s=e.ctx;_o=!1,t.beforeCreate&&kr(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:a,watch:l,provide:c,inject:d,created:u,beforeMount:f,mounted:h,beforeUpdate:g,updated:w,activated:y,deactivated:O,beforeDestroy:x,beforeUnmount:T,destroyed:b,unmounted:C,render:U,renderTracked:D,renderTriggered:_,errorCaptured:V,serverPrefetch:L,expose:R,inheritAttrs:P,components:v,directives:$,filters:F}=t;if(d&&Ec(d,s,null),a)for(const W in a){const Y=a[W];pe(Y)&&(s[W]=Y.bind(n))}if(o){const W=o.call(n,n);Oe(W)&&(e.data=Dt(W))}if(_o=!0,r)for(const W in r){const Y=r[W],Ae=pe(Y)?Y.bind(n,n):pe(Y.get)?Y.get.bind(n,n):St,Te=!pe(Y)&&pe(Y.set)?Y.set.bind(n):St,Ce=ee({get:Ae,set:Te});Object.defineProperty(s,W,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:re=>Ce.value=re})}if(l)for(const W in l)fi(l[W],s,n,W);if(c){const W=pe(c)?c.call(n):c;Reflect.ownKeys(W).forEach(Y=>{bs(Y,W[Y])})}u&&kr(u,e,"c");function ae(W,Y){ue(Y)?Y.forEach(Ae=>W(Ae.bind(n))):Y&&W(Y.bind(n))}if(ae(pc,f),ae(ct,h),ae(mc,g),ae(ui,w),ae(fc,y),ae(hc,O),ae(wc,V),ae(bc,D),ae(yc,_),ae(di,T),ae(Mt,C),ae(vc,L),ue(R))if(R.length){const W=e.exposed||(e.exposed={});R.forEach(Y=>{Object.defineProperty(W,Y,{get:()=>n[Y],set:Ae=>n[Y]=Ae})})}else e.exposed||(e.exposed={});U&&e.render===St&&(e.render=U),P!=null&&(e.inheritAttrs=P),v&&(e.components=v),$&&(e.directives=$),L&&li(e)}function Ec(e,t,n=St){ue(e)&&(e=Co(e));for(const s in e){const o=e[s];let r;Oe(o)?"default"in o?r=ht(o.from||s,o.default,!0):r=ht(o.from||s):r=ht(o),Ge(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[s]=r}}function kr(e,t,n){gt(ue(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function fi(e,t,n,s){let o=s.includes(".")?ki(n,s):()=>n[s];if(Ue(e)){const r=t[e];pe(r)&&st(o,r)}else if(pe(e))st(o,e.bind(n));else if(Oe(e))if(ue(e))e.forEach(r=>fi(r,t,n,s));else{const r=pe(e.handler)?e.handler.bind(n):t[e.handler];pe(r)&&st(o,r,e)}}function hi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,l=r.get(t);let c;return l?c=l:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(d=>Is(c,d,a,!0)),Is(c,t,a)),Oe(t)&&r.set(t,c),c}function Is(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&Is(e,r,n,!0),o&&o.forEach(a=>Is(e,a,n,!0));for(const a in t)if(!(s&&a==="expose")){const l=Ac[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Ac={data:Er,props:Ar,emits:Ar,methods:Nn,computed:Nn,beforeCreate:Ye,created:Ye,beforeMount:Ye,mounted:Ye,beforeUpdate:Ye,updated:Ye,beforeDestroy:Ye,beforeUnmount:Ye,destroyed:Ye,unmounted:Ye,activated:Ye,deactivated:Ye,errorCaptured:Ye,serverPrefetch:Ye,components:Nn,directives:Nn,watch:Ic,provide:Er,inject:$c};function Er(e,t){return t?e?function(){return Me(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function $c(e,t){return Nn(Co(e),Co(t))}function Co(e){if(ue(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ye(e,t){return e?[...new Set([].concat(e,t))]:t}function Nn(e,t){return e?Me(Object.create(null),e,t):t}function Ar(e,t){return e?ue(e)&&ue(t)?[...new Set([...e,...t])]:Me(Object.create(null),Sr(e),Sr(t??{})):t}function Ic(e,t){if(!e)return t;if(!t)return e;const n=Me(Object.create(null),e);for(const s in t)n[s]=Ye(e[s],t[s]);return n}function gi(){return{app:null,config:{isNativeTag:bl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xc=0;function Rc(e,t){return function(s,o=null){pe(s)||(s=Me({},s)),o!=null&&!Oe(o)&&(o=null);const r=gi(),a=new WeakSet,l=[];let c=!1;const d=r.app={_uid:xc++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:du,get config(){return r.config},set config(u){},use(u,...f){return a.has(u)||(u&&pe(u.install)?(a.add(u),u.install(d,...f)):pe(u)&&(a.add(u),u(d,...f))),d},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),d},component(u,f){return f?(r.components[u]=f,d):r.components[u]},directive(u,f){return f?(r.directives[u]=f,d):r.directives[u]},mount(u,f,h){if(!c){const g=d._ceVNode||fe(s,o);return g.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),e(g,u,h),c=!0,d._container=u,u.__vue_app__=d,Gs(g.component)}},onUnmount(u){l.push(u)},unmount(){c&&(gt(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,f){return r.provides[u]=f,d},runWithContext(u){const f=bn;bn=d;try{return u()}finally{bn=f}}};return d}}let bn=null;function bs(e,t){if(Ve){let n=Ve.provides;const s=Ve.parent&&Ve.parent.provides;s===n&&(n=Ve.provides=Object.create(s)),n[e]=t}}function ht(e,t,n=!1){const s=Ve||tt;if(s||bn){let o=bn?bn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&pe(t)?t.call(s&&s.proxy):t}}const pi={},mi=()=>Object.create(pi),vi=e=>Object.getPrototypeOf(e)===pi;function Oc(e,t,n,s=!1){const o={},r=mi();e.propsDefaults=Object.create(null),yi(e,t,o,r);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=s?o:Fa(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Pc(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:a}}=e,l=_e(o),[c]=e.propsOptions;let d=!1;if((s||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Fs(e.emitsOptions,h))continue;const g=t[h];if(c)if(Ee(r,h))g!==r[h]&&(r[h]=g,d=!0);else{const w=lt(h);o[w]=So(c,l,w,g,e,!1)}else g!==r[h]&&(r[h]=g,d=!0)}}}else{yi(e,t,o,r)&&(d=!0);let u;for(const f in l)(!t||!Ee(t,f)&&((u=Xt(f))===f||!Ee(t,u)))&&(c?n&&(n[f]!==void 0||n[u]!==void 0)&&(o[f]=So(c,l,f,void 0,e,!0)):delete o[f]);if(r!==l)for(const f in r)(!t||!Ee(t,f))&&(delete r[f],d=!0)}d&&Rt(e.attrs,"set","")}function yi(e,t,n,s){const[o,r]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Un(c))continue;const d=t[c];let u;o&&Ee(o,u=lt(c))?!r||!r.includes(u)?n[u]=d:(l||(l={}))[u]=d:Fs(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,a=!0)}if(r){const c=_e(n),d=l||Re;for(let u=0;u<r.length;u++){const f=r[u];n[f]=So(o,c,f,d[f],e,!Ee(d,f))}}return a}function So(e,t,n,s,o,r){const a=e[n];if(a!=null){const l=Ee(a,"default");if(l&&s===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&pe(c)){const{propsDefaults:d}=o;if(n in d)s=d[n];else{const u=cs(o);s=d[n]=c.call(null,t),u()}}else s=c;o.ce&&o.ce._setProp(n,s)}a[0]&&(r&&!l?s=!1:a[1]&&(s===""||s===Xt(n))&&(s=!0))}return s}const Dc=new WeakMap;function bi(e,t,n=!1){const s=n?Dc:t.propsCache,o=s.get(e);if(o)return o;const r=e.props,a={},l=[];let c=!1;if(!pe(e)){const u=f=>{c=!0;const[h,g]=bi(f,t,!0);Me(a,h),g&&l.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return Oe(e)&&s.set(e,pn),pn;if(ue(r))for(let u=0;u<r.length;u++){const f=lt(r[u]);$r(f)&&(a[f]=Re)}else if(r)for(const u in r){const f=lt(u);if($r(f)){const h=r[u],g=a[f]=ue(h)||pe(h)?{type:h}:Me({},h),w=g.type;let y=!1,O=!0;if(ue(w))for(let x=0;x<w.length;++x){const T=w[x],b=pe(T)&&T.name;if(b==="Boolean"){y=!0;break}else b==="String"&&(O=!1)}else y=pe(w)&&w.name==="Boolean";g[0]=y,g[1]=O,(y||Ee(g,"default"))&&l.push(f)}}const d=[a,l];return Oe(e)&&s.set(e,d),d}function $r(e){return e[0]!=="$"&&!Un(e)}const zo=e=>e[0]==="_"||e==="$stable",Qo=e=>ue(e)?e.map(Ct):[Ct(e)],Lc=(e,t,n)=>{if(t._n)return t;const s=Ne((...o)=>Qo(t(...o)),n);return s._c=!1,s},wi=(e,t,n)=>{const s=e._ctx;for(const o in e){if(zo(o))continue;const r=e[o];if(pe(r))t[o]=Lc(o,r,s);else if(r!=null){const a=Qo(r);t[o]=()=>a}}},Ti=(e,t)=>{const n=Qo(t);e.slots.default=()=>n},_i=(e,t,n)=>{for(const s in t)(n||!zo(s))&&(e[s]=t[s])},Nc=(e,t,n)=>{const s=e.slots=mi();if(e.vnode.shapeFlag&32){const o=t.__;o&&po(s,"__",o,!0);const r=t._;r?(_i(s,t,n),n&&po(s,"_",r,!0)):wi(t,s)}else t&&Ti(e,t)},Uc=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,a=Re;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:_i(o,t,n):(r=!t.$stable,wi(t,o)),a=t}else t&&(Ti(e,t),a={default:1});if(r)for(const l in o)!zo(l)&&a[l]==null&&delete o[l]},We=Jc;function Hc(e){return Mc(e)}function Mc(e,t){const n=Us();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:a,createText:l,createComment:c,setText:d,setElementText:u,parentNode:f,nextSibling:h,setScopeId:g=St,insertStaticContent:w}=e,y=(p,m,k,H=null,B=null,M=null,te=void 0,Z=null,X=!!m.dynamicChildren)=>{if(p===m)return;p&&!on(p,m)&&(H=N(p),re(p,B,M,!0),p=null),m.patchFlag===-2&&(X=!1,m.dynamicChildren=null);const{type:q,ref:de,shapeFlag:se}=m;switch(q){case Vs:O(p,m,k,H);break;case Qe:x(p,m,k,H);break;case ws:p==null&&T(m,k,H,te);break;case ve:v(p,m,k,H,B,M,te,Z,X);break;default:se&1?U(p,m,k,H,B,M,te,Z,X):se&6?$(p,m,k,H,B,M,te,Z,X):(se&64||se&128)&&q.process(p,m,k,H,B,M,te,Z,X,ie)}de!=null&&B?Kn(de,p&&p.ref,M,m||p,!m):de==null&&p&&p.ref!=null&&Kn(p.ref,null,M,p,!0)},O=(p,m,k,H)=>{if(p==null)s(m.el=l(m.children),k,H);else{const B=m.el=p.el;m.children!==p.children&&d(B,m.children)}},x=(p,m,k,H)=>{p==null?s(m.el=c(m.children||""),k,H):m.el=p.el},T=(p,m,k,H)=>{[p.el,p.anchor]=w(p.children,m,k,H,p.el,p.anchor)},b=({el:p,anchor:m},k,H)=>{let B;for(;p&&p!==m;)B=h(p),s(p,k,H),p=B;s(m,k,H)},C=({el:p,anchor:m})=>{let k;for(;p&&p!==m;)k=h(p),o(p),p=k;o(m)},U=(p,m,k,H,B,M,te,Z,X)=>{m.type==="svg"?te="svg":m.type==="math"&&(te="mathml"),p==null?D(m,k,H,B,M,te,Z,X):L(p,m,B,M,te,Z,X)},D=(p,m,k,H,B,M,te,Z)=>{let X,q;const{props:de,shapeFlag:se,transition:ce,dirs:ge}=p;if(X=p.el=a(p.type,M,de&&de.is,de),se&8?u(X,p.children):se&16&&V(p.children,X,null,H,B,ao(p,M),te,Z),ge&&Zt(p,null,H,"created"),_(X,p,p.scopeId,te,H),de){for(const Pe in de)Pe!=="value"&&!Un(Pe)&&r(X,Pe,null,de[Pe],M,H);"value"in de&&r(X,"value",null,de.value,M),(q=de.onVnodeBeforeMount)&&wt(q,H,p)}ge&&Zt(p,null,H,"beforeMount");const be=Bc(B,ce);be&&ce.beforeEnter(X),s(X,m,k),((q=de&&de.onVnodeMounted)||be||ge)&&We(()=>{q&&wt(q,H,p),be&&ce.enter(X),ge&&Zt(p,null,H,"mounted")},B)},_=(p,m,k,H,B)=>{if(k&&g(p,k),H)for(let M=0;M<H.length;M++)g(p,H[M]);if(B){let M=B.subTree;if(m===M||Ai(M.type)&&(M.ssContent===m||M.ssFallback===m)){const te=B.vnode;_(p,te,te.scopeId,te.slotScopeIds,B.parent)}}},V=(p,m,k,H,B,M,te,Z,X=0)=>{for(let q=X;q<p.length;q++){const de=p[q]=Z?jt(p[q]):Ct(p[q]);y(null,de,m,k,H,B,M,te,Z)}},L=(p,m,k,H,B,M,te)=>{const Z=m.el=p.el;let{patchFlag:X,dynamicChildren:q,dirs:de}=m;X|=p.patchFlag&16;const se=p.props||Re,ce=m.props||Re;let ge;if(k&&en(k,!1),(ge=ce.onVnodeBeforeUpdate)&&wt(ge,k,m,p),de&&Zt(m,p,k,"beforeUpdate"),k&&en(k,!0),(se.innerHTML&&ce.innerHTML==null||se.textContent&&ce.textContent==null)&&u(Z,""),q?R(p.dynamicChildren,q,Z,k,H,ao(m,B),M):te||Y(p,m,Z,null,k,H,ao(m,B),M,!1),X>0){if(X&16)P(Z,se,ce,k,B);else if(X&2&&se.class!==ce.class&&r(Z,"class",null,ce.class,B),X&4&&r(Z,"style",se.style,ce.style,B),X&8){const be=m.dynamicProps;for(let Pe=0;Pe<be.length;Pe++){const $e=be[Pe],Xe=se[$e],Ze=ce[$e];(Ze!==Xe||$e==="value")&&r(Z,$e,Xe,Ze,B,k)}}X&1&&p.children!==m.children&&u(Z,m.children)}else!te&&q==null&&P(Z,se,ce,k,B);((ge=ce.onVnodeUpdated)||de)&&We(()=>{ge&&wt(ge,k,m,p),de&&Zt(m,p,k,"updated")},H)},R=(p,m,k,H,B,M,te)=>{for(let Z=0;Z<m.length;Z++){const X=p[Z],q=m[Z],de=X.el&&(X.type===ve||!on(X,q)||X.shapeFlag&198)?f(X.el):k;y(X,q,de,null,H,B,M,te,!0)}},P=(p,m,k,H,B)=>{if(m!==k){if(m!==Re)for(const M in m)!Un(M)&&!(M in k)&&r(p,M,m[M],null,B,H);for(const M in k){if(Un(M))continue;const te=k[M],Z=m[M];te!==Z&&M!=="value"&&r(p,M,Z,te,B,H)}"value"in k&&r(p,"value",m.value,k.value,B)}},v=(p,m,k,H,B,M,te,Z,X)=>{const q=m.el=p?p.el:l(""),de=m.anchor=p?p.anchor:l("");let{patchFlag:se,dynamicChildren:ce,slotScopeIds:ge}=m;ge&&(Z=Z?Z.concat(ge):ge),p==null?(s(q,k,H),s(de,k,H),V(m.children||[],k,de,B,M,te,Z,X)):se>0&&se&64&&ce&&p.dynamicChildren?(R(p.dynamicChildren,ce,k,B,M,te,Z),(m.key!=null||B&&m===B.subTree)&&Jo(p,m,!0)):Y(p,m,k,de,B,M,te,Z,X)},$=(p,m,k,H,B,M,te,Z,X)=>{m.slotScopeIds=Z,p==null?m.shapeFlag&512?B.ctx.activate(m,k,H,te,X):F(m,k,H,B,M,te,X):E(p,m,X)},F=(p,m,k,H,B,M,te)=>{const Z=p.component=ou(p,H,B);if(Bs(p)&&(Z.ctx.renderer=ie),ru(Z,!1,te),Z.asyncDep){if(B&&B.registerDep(Z,ae,te),!p.el){const X=Z.subTree=fe(Qe);x(null,X,m,k)}}else ae(Z,p,m,k,B,M,te)},E=(p,m,k)=>{const H=m.component=p.component;if(zc(p,m,k))if(H.asyncDep&&!H.asyncResolved){W(H,m,k);return}else H.next=m,H.update();else m.el=p.el,H.vnode=m},ae=(p,m,k,H,B,M,te)=>{const Z=()=>{if(p.isMounted){let{next:se,bu:ce,u:ge,parent:be,vnode:Pe}=p;{const yt=Ci(p);if(yt){se&&(se.el=Pe.el,W(p,se,te)),yt.asyncDep.then(()=>{p.isUnmounted||Z()});return}}let $e=se,Xe;en(p,!1),se?(se.el=Pe.el,W(p,se,te)):se=Pe,ce&&vs(ce),(Xe=se.props&&se.props.onVnodeBeforeUpdate)&&wt(Xe,be,se,Pe),en(p,!0);const Ze=xr(p),vt=p.subTree;p.subTree=Ze,y(vt,Ze,f(vt.el),N(vt),p,B,M),se.el=Ze.el,$e===null&&Qc(p,Ze.el),ge&&We(ge,B),(Xe=se.props&&se.props.onVnodeUpdated)&&We(()=>wt(Xe,be,se,Pe),B)}else{let se;const{el:ce,props:ge}=m,{bm:be,m:Pe,parent:$e,root:Xe,type:Ze}=p,vt=Fn(m);en(p,!1),be&&vs(be),!vt&&(se=ge&&ge.onVnodeBeforeMount)&&wt(se,$e,m),en(p,!0);{Xe.ce&&Xe.ce._def.shadowRoot!==!1&&Xe.ce._injectChildStyle(Ze);const yt=p.subTree=xr(p);y(null,yt,k,H,p,B,M),m.el=yt.el}if(Pe&&We(Pe,B),!vt&&(se=ge&&ge.onVnodeMounted)){const yt=m;We(()=>wt(se,$e,yt),B)}(m.shapeFlag&256||$e&&Fn($e.vnode)&&$e.vnode.shapeFlag&256)&&p.a&&We(p.a,B),p.isMounted=!0,m=k=H=null}};p.scope.on();const X=p.effect=new $a(Z);p.scope.off();const q=p.update=X.run.bind(X),de=p.job=X.runIfDirty.bind(X);de.i=p,de.id=p.uid,X.scheduler=()=>Yo(de),en(p,!0),q()},W=(p,m,k)=>{m.component=p;const H=p.vnode.props;p.vnode=m,p.next=null,Pc(p,m.props,H,k),Uc(p,m.children,k),Nt(),yr(p),Ut()},Y=(p,m,k,H,B,M,te,Z,X=!1)=>{const q=p&&p.children,de=p?p.shapeFlag:0,se=m.children,{patchFlag:ce,shapeFlag:ge}=m;if(ce>0){if(ce&128){Te(q,se,k,H,B,M,te,Z,X);return}else if(ce&256){Ae(q,se,k,H,B,M,te,Z,X);return}}ge&8?(de&16&&Ie(q,B,M),se!==q&&u(k,se)):de&16?ge&16?Te(q,se,k,H,B,M,te,Z,X):Ie(q,B,M,!0):(de&8&&u(k,""),ge&16&&V(se,k,H,B,M,te,Z,X))},Ae=(p,m,k,H,B,M,te,Z,X)=>{p=p||pn,m=m||pn;const q=p.length,de=m.length,se=Math.min(q,de);let ce;for(ce=0;ce<se;ce++){const ge=m[ce]=X?jt(m[ce]):Ct(m[ce]);y(p[ce],ge,k,null,B,M,te,Z,X)}q>de?Ie(p,B,M,!0,!1,se):V(m,k,H,B,M,te,Z,X,se)},Te=(p,m,k,H,B,M,te,Z,X)=>{let q=0;const de=m.length;let se=p.length-1,ce=de-1;for(;q<=se&&q<=ce;){const ge=p[q],be=m[q]=X?jt(m[q]):Ct(m[q]);if(on(ge,be))y(ge,be,k,null,B,M,te,Z,X);else break;q++}for(;q<=se&&q<=ce;){const ge=p[se],be=m[ce]=X?jt(m[ce]):Ct(m[ce]);if(on(ge,be))y(ge,be,k,null,B,M,te,Z,X);else break;se--,ce--}if(q>se){if(q<=ce){const ge=ce+1,be=ge<de?m[ge].el:H;for(;q<=ce;)y(null,m[q]=X?jt(m[q]):Ct(m[q]),k,be,B,M,te,Z,X),q++}}else if(q>ce)for(;q<=se;)re(p[q],B,M,!0),q++;else{const ge=q,be=q,Pe=new Map;for(q=be;q<=ce;q++){const nt=m[q]=X?jt(m[q]):Ct(m[q]);nt.key!=null&&Pe.set(nt.key,q)}let $e,Xe=0;const Ze=ce-be+1;let vt=!1,yt=0;const Rn=new Array(Ze);for(q=0;q<Ze;q++)Rn[q]=0;for(q=ge;q<=se;q++){const nt=p[q];if(Xe>=Ze){re(nt,B,M,!0);continue}let bt;if(nt.key!=null)bt=Pe.get(nt.key);else for($e=be;$e<=ce;$e++)if(Rn[$e-be]===0&&on(nt,m[$e])){bt=$e;break}bt===void 0?re(nt,B,M,!0):(Rn[bt-be]=q+1,bt>=yt?yt=bt:vt=!0,y(nt,m[bt],k,null,B,M,te,Z,X),Xe++)}const fr=vt?Kc(Rn):pn;for($e=fr.length-1,q=Ze-1;q>=0;q--){const nt=be+q,bt=m[nt],hr=nt+1<de?m[nt+1].el:H;Rn[q]===0?y(null,bt,k,hr,B,M,te,Z,X):vt&&($e<0||q!==fr[$e]?Ce(bt,k,hr,2):$e--)}}},Ce=(p,m,k,H,B=null)=>{const{el:M,type:te,transition:Z,children:X,shapeFlag:q}=p;if(q&6){Ce(p.component.subTree,m,k,H);return}if(q&128){p.suspense.move(m,k,H);return}if(q&64){te.move(p,m,k,ie);return}if(te===ve){s(M,m,k);for(let se=0;se<X.length;se++)Ce(X[se],m,k,H);s(p.anchor,m,k);return}if(te===ws){b(p,m,k);return}if(H!==2&&q&1&&Z)if(H===0)Z.beforeEnter(M),s(M,m,k),We(()=>Z.enter(M),B);else{const{leave:se,delayLeave:ce,afterLeave:ge}=Z,be=()=>{p.ctx.isUnmounted?o(M):s(M,m,k)},Pe=()=>{se(M,()=>{be(),ge&&ge()})};ce?ce(M,be,Pe):Pe()}else s(M,m,k)},re=(p,m,k,H=!1,B=!1)=>{const{type:M,props:te,ref:Z,children:X,dynamicChildren:q,shapeFlag:de,patchFlag:se,dirs:ce,cacheIndex:ge}=p;if(se===-2&&(B=!1),Z!=null&&(Nt(),Kn(Z,null,k,p,!0),Ut()),ge!=null&&(m.renderCache[ge]=void 0),de&256){m.ctx.deactivate(p);return}const be=de&1&&ce,Pe=!Fn(p);let $e;if(Pe&&($e=te&&te.onVnodeBeforeUnmount)&&wt($e,m,p),de&6)j(p.component,k,H);else{if(de&128){p.suspense.unmount(k,H);return}be&&Zt(p,null,m,"beforeUnmount"),de&64?p.type.remove(p,m,k,ie,H):q&&!q.hasOnce&&(M!==ve||se>0&&se&64)?Ie(q,m,k,!1,!0):(M===ve&&se&384||!B&&de&16)&&Ie(X,m,k),H&&S(p)}(Pe&&($e=te&&te.onVnodeUnmounted)||be)&&We(()=>{$e&&wt($e,m,p),be&&Zt(p,null,m,"unmounted")},k)},S=p=>{const{type:m,el:k,anchor:H,transition:B}=p;if(m===ve){Q(k,H);return}if(m===ws){C(p);return}const M=()=>{o(k),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(p.shapeFlag&1&&B&&!B.persisted){const{leave:te,delayLeave:Z}=B,X=()=>te(k,M);Z?Z(p.el,M,X):X()}else M()},Q=(p,m)=>{let k;for(;p!==m;)k=h(p),o(p),p=k;o(m)},j=(p,m,k)=>{const{bum:H,scope:B,job:M,subTree:te,um:Z,m:X,a:q,parent:de,slots:{__:se}}=p;Ir(X),Ir(q),H&&vs(H),de&&ue(se)&&se.forEach(ce=>{de.renderCache[ce]=void 0}),B.stop(),M&&(M.flags|=8,re(te,p,m,k)),Z&&We(Z,m),We(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Ie=(p,m,k,H=!1,B=!1,M=0)=>{for(let te=M;te<p.length;te++)re(p[te],m,k,H,B)},N=p=>{if(p.shapeFlag&6)return N(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const m=h(p.anchor||p.el),k=m&&m[Ja];return k?h(k):m};let oe=!1;const ne=(p,m,k)=>{p==null?m._vnode&&re(m._vnode,null,null,!0):y(m._vnode||null,p,m,null,null,null,k),m._vnode=p,oe||(oe=!0,yr(),Wa(),oe=!1)},ie={p:y,um:re,m:Ce,r:S,mt:F,mc:V,pc:Y,pbc:R,n:N,o:e};return{render:ne,hydrate:void 0,createApp:Rc(ne)}}function ao({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function en({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Bc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jo(e,t,n=!1){const s=e.children,o=t.children;if(ue(s)&&ue(o))for(let r=0;r<s.length;r++){const a=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=jt(o[r]),l.el=a.el),!n&&l.patchFlag!==-2&&Jo(a,l)),l.type===Vs&&(l.el=a.el),l.type===Qe&&!l.el&&(l.el=a.el)}}function Kc(e){const t=e.slice(),n=[0];let s,o,r,a,l;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(r=0,a=n.length-1;r<a;)l=r+a>>1,e[n[l]]<d?r=l+1:a=l;d<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=t[a];return n}function Ci(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ci(t)}function Ir(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Fc=Symbol.for("v-scx"),Vc=()=>ht(Fc);function st(e,t,n){return Si(e,t,n)}function Si(e,t,n=Re){const{immediate:s,deep:o,flush:r,once:a}=n,l=Me({},n),c=t&&s||!t&&r!=="post";let d;if(Zn){if(r==="sync"){const g=Vc();d=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=St,g.resume=St,g.pause=St,g}}const u=Ve;l.call=(g,w,y)=>gt(g,u,w,y);let f=!1;r==="post"?l.scheduler=g=>{We(g,u&&u.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(g,w)=>{w?g():Yo(g)}),l.augmentJob=g=>{t&&(g.flags|=4),f&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const h=rc(e,t,l);return Zn&&(d?d.push(h):c&&h()),h}function Gc(e,t,n){const s=this.proxy,o=Ue(e)?e.includes(".")?ki(s,e):()=>s[e]:e.bind(s,s);let r;pe(t)?r=t:(r=t.handler,n=t);const a=cs(this),l=Si(o,r.bind(s),n);return a(),l}function ki(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const jc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${lt(t)}Modifiers`]||e[`${Xt(t)}Modifiers`];function qc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Re;let o=n;const r=t.startsWith("update:"),a=r&&jc(s,t.slice(7));a&&(a.trim&&(o=n.map(u=>Ue(u)?u.trim():u)),a.number&&(o=n.map(Ss)));let l,c=s[l=Zs(t)]||s[l=Zs(lt(t))];!c&&r&&(c=s[l=Zs(Xt(t))]),c&&gt(c,e,6,o);const d=s[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,gt(d,e,6,o)}}function Ei(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let a={},l=!1;if(!pe(e)){const c=d=>{const u=Ei(d,t,!0);u&&(l=!0,Me(a,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(Oe(e)&&s.set(e,null),null):(ue(r)?r.forEach(c=>a[c]=null):Me(a,r),Oe(e)&&s.set(e,a),a)}function Fs(e,t){return!e||!Ds(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ee(e,t[0].toLowerCase()+t.slice(1))||Ee(e,Xt(t))||Ee(e,t))}function xr(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[r],slots:a,attrs:l,emit:c,render:d,renderCache:u,props:f,data:h,setupState:g,ctx:w,inheritAttrs:y}=e,O=$s(e);let x,T;try{if(n.shapeFlag&4){const C=o||s,U=C;x=Ct(d.call(U,C,u,f,g,h,w)),T=l}else{const C=t;x=Ct(C.length>1?C(f,{attrs:l,slots:a,emit:c}):C(f,null)),T=t.props?l:Yc(l)}}catch(C){Gn.length=0,Ms(C,e,1),x=fe(Qe)}let b=x;if(T&&y!==!1){const C=Object.keys(T),{shapeFlag:U}=b;C.length&&U&7&&(r&&C.some(No)&&(T=Wc(T,r)),b=zt(b,T,!1,!0))}return n.dirs&&(b=zt(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&cn(b,n.transition),x=b,$s(O),x}const Yc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ds(n))&&((t||(t={}))[n]=e[n]);return t},Wc=(e,t)=>{const n={};for(const s in e)(!No(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function zc(e,t,n){const{props:s,children:o,component:r}=e,{props:a,children:l,patchFlag:c}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Rr(s,a,d):!!a;if(c&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(a[h]!==s[h]&&!Fs(d,h))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?Rr(s,a,d):!0:!!a;return!1}function Rr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!Fs(n,r))return!0}return!1}function Qc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ai=e=>e.__isSuspense;function Jc(e,t){t&&t.pendingBranch?ue(e)?t.effects.push(...e):t.effects.push(e):lc(e)}const ve=Symbol.for("v-fgt"),Vs=Symbol.for("v-txt"),Qe=Symbol.for("v-cmt"),ws=Symbol.for("v-stc"),Gn=[];let ot=null;function A(e=!1){Gn.push(ot=e?null:[])}function Xc(){Gn.pop(),ot=Gn[Gn.length-1]||null}let Xn=1;function Or(e,t=!1){Xn+=e,e<0&&ot&&t&&(ot.hasOnce=!0)}function $i(e){return e.dynamicChildren=Xn>0?ot||pn:null,Xc(),Xn>0&&ot&&ot.push(e),e}function I(e,t,n,s,o,r){return $i(i(e,t,n,s,o,r,!0))}function ls(e,t,n,s,o){return $i(fe(e,t,n,s,o,!0))}function xs(e){return e?e.__v_isVNode===!0:!1}function on(e,t){return e.type===t.type&&e.key===t.key}const Ii=({key:e})=>e??null,Ts=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||Ge(e)||pe(e)?{i:tt,r:e,k:t,f:!!n}:e:null);function i(e,t=null,n=null,s=0,o=null,r=e===ve?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ii(t),ref:t&&Ts(t),scopeId:Qa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:tt};return l?(Xo(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=Ue(n)?8:16),Xn>0&&!a&&ot&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&ot.push(c),c}const fe=Zc;function Zc(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===_c)&&(e=Qe),xs(e)){const l=zt(e,t,!0);return n&&Xo(l,n),Xn>0&&!r&&ot&&(l.shapeFlag&6?ot[ot.indexOf(e)]=l:ot.push(l)),l.patchFlag=-2,l}if(uu(e)&&(e=e.__vccOpts),t){t=eu(t);let{class:l,style:c}=t;l&&!Ue(l)&&(t.class=ye(l)),Oe(c)&&(qo(c)&&!ue(c)&&(c=Me({},c)),t.style=wn(c))}const a=Ue(e)?1:Ai(e)?128:Xa(e)?64:Oe(e)?4:pe(e)?2:0;return i(e,t,n,s,o,a,r,!0)}function eu(e){return e?qo(e)||vi(e)?Me({},e):e:null}function zt(e,t,n=!1,s=!1){const{props:o,ref:r,patchFlag:a,children:l,transition:c}=e,d=t?tu(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Ii(d),ref:t&&t.ref?n&&r?ue(r)?r.concat(Ts(t)):[r,Ts(t)]:Ts(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ve?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zt(e.ssContent),ssFallback:e.ssFallback&&zt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&cn(u,c.clone(u)),u}function z(e=" ",t=0){return fe(Vs,null,e,t)}function Lt(e,t){const n=fe(ws,null,e);return n.staticCount=t,n}function he(e="",t=!1){return t?(A(),ls(Qe,null,e)):fe(Qe,null,e)}function Ct(e){return e==null||typeof e=="boolean"?fe(Qe):ue(e)?fe(ve,null,e.slice()):xs(e)?jt(e):fe(Vs,null,String(e))}function jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zt(e)}function Xo(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ue(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Xo(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!vi(t)?t._ctx=tt:o===3&&tt&&(tt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:tt},n=32):(t=String(t),s&64?(n=16,t=[z(t)]):n=8);e.children=t,e.shapeFlag|=n}function tu(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=ye([t.class,s.class]));else if(o==="style")t.style=wn([t.style,s.style]);else if(Ds(o)){const r=t[o],a=s[o];a&&r!==a&&!(ue(r)&&r.includes(a))&&(t[o]=r?[].concat(r,a):a)}else o!==""&&(t[o]=s[o])}return t}function wt(e,t,n,s=null){gt(e,t,7,[n,s])}const nu=gi();let su=0;function ou(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||nu,r={uid:su++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ol(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bi(s,o),emitsOptions:Ei(s,o),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:s.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=qc.bind(null,r),e.ce&&e.ce(r),r}let Ve=null;const xi=()=>Ve||tt;let Rs,ko;{const e=Us(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(a=>a(r)):o[0](r)}};Rs=t("__VUE_INSTANCE_SETTERS__",n=>Ve=n),ko=t("__VUE_SSR_SETTERS__",n=>Zn=n)}const cs=e=>{const t=Ve;return Rs(e),e.scope.on(),()=>{e.scope.off(),Rs(t)}},Pr=()=>{Ve&&Ve.scope.off(),Rs(null)};function Ri(e){return e.vnode.shapeFlag&4}let Zn=!1;function ru(e,t=!1,n=!1){t&&ko(t);const{props:s,children:o}=e.vnode,r=Ri(e);Oc(e,s,r,t),Nc(e,o,n||t);const a=r?au(e,t):void 0;return t&&ko(!1),a}function au(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Sc);const{setup:s}=n;if(s){Nt();const o=e.setupContext=s.length>1?lu(e):null,r=cs(e),a=is(s,e,0,[e.props,o]),l=_a(a);if(Ut(),r(),(l||e.sp)&&!Fn(e)&&li(e),l){if(a.then(Pr,Pr),t)return a.then(c=>{Dr(e,c)}).catch(c=>{Ms(c,e,0)});e.asyncDep=a}else Dr(e,a)}else Oi(e)}function Dr(e,t,n){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Oe(t)&&(e.setupState=ja(t)),Oi(e)}function Oi(e,t,n){const s=e.type;e.render||(e.render=s.render||St);{const o=cs(e);Nt();try{kc(e)}finally{Ut(),o()}}}const iu={get(e,t){return qe(e,"get",""),e[t]}};function lu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,iu),slots:e.slots,emit:e.emit,expose:t}}function Gs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ja(Xl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Vn)return Vn[n](e)},has(t,n){return n in t||n in Vn}})):e.proxy}function cu(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function uu(e){return pe(e)&&"__vccOpts"in e}const ee=(e,t)=>sc(e,t,Zn);function Zo(e,t,n){const s=arguments.length;return s===2?Oe(t)&&!ue(t)?xs(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&xs(n)&&(n=[n]),fe(e,t,n))}const du="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eo;const Lr=typeof window<"u"&&window.trustedTypes;if(Lr)try{Eo=Lr.createPolicy("vue",{createHTML:e=>e})}catch{}const Pi=Eo?e=>Eo.createHTML(e):e=>e,fu="http://www.w3.org/2000/svg",hu="http://www.w3.org/1998/Math/MathML",It=typeof document<"u"?document:null,Nr=It&&It.createElement("template"),gu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?It.createElementNS(fu,e):t==="mathml"?It.createElementNS(hu,e):n?It.createElement(e,{is:n}):It.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>It.createTextNode(e),createComment:e=>It.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>It.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const a=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Nr.innerHTML=Pi(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Nr.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Bt="transition",Pn="animation",Tn=Symbol("_vtc"),Di={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Li=Me({},si,Di),pu=e=>(e.displayName="Transition",e.props=Li,e),js=pu((e,{slots:t})=>Zo(dc,Ni(e),t)),tn=(e,t=[])=>{ue(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ur=e=>e?ue(e)?e.some(t=>t.length>1):e.length>1:!1;function Ni(e){const t={};for(const v in e)v in Di||(t[v]=e[v]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:d=a,appearToClass:u=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:g=`${n}-leave-to`}=e,w=mu(o),y=w&&w[0],O=w&&w[1],{onBeforeEnter:x,onEnter:T,onEnterCancelled:b,onLeave:C,onLeaveCancelled:U,onBeforeAppear:D=x,onAppear:_=T,onAppearCancelled:V=b}=t,L=(v,$,F,E)=>{v._enterCancelled=E,Ft(v,$?u:l),Ft(v,$?d:a),F&&F()},R=(v,$)=>{v._isLeaving=!1,Ft(v,f),Ft(v,g),Ft(v,h),$&&$()},P=v=>($,F)=>{const E=v?_:T,ae=()=>L($,v,F);tn(E,[$,ae]),Hr(()=>{Ft($,v?c:r),Tt($,v?u:l),Ur(E)||Mr($,s,y,ae)})};return Me(t,{onBeforeEnter(v){tn(x,[v]),Tt(v,r),Tt(v,a)},onBeforeAppear(v){tn(D,[v]),Tt(v,c),Tt(v,d)},onEnter:P(!1),onAppear:P(!0),onLeave(v,$){v._isLeaving=!0;const F=()=>R(v,$);Tt(v,f),v._enterCancelled?(Tt(v,h),Ao()):(Ao(),Tt(v,h)),Hr(()=>{v._isLeaving&&(Ft(v,f),Tt(v,g),Ur(C)||Mr(v,s,O,F))}),tn(C,[v,F])},onEnterCancelled(v){L(v,!1,void 0,!0),tn(b,[v])},onAppearCancelled(v){L(v,!0,void 0,!0),tn(V,[v])},onLeaveCancelled(v){R(v),tn(U,[v])}})}function mu(e){if(e==null)return null;if(Oe(e))return[io(e.enter),io(e.leave)];{const t=io(e);return[t,t]}}function io(e){return Sl(e)}function Tt(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Tn]||(e[Tn]=new Set)).add(t)}function Ft(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[Tn];n&&(n.delete(t),n.size||(e[Tn]=void 0))}function Hr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let vu=0;function Mr(e,t,n,s){const o=e._endId=++vu,r=()=>{o===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:l,propCount:c}=Ui(e,t);if(!a)return s();const d=a+"end";let u=0;const f=()=>{e.removeEventListener(d,h),r()},h=g=>{g.target===e&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},l+1),e.addEventListener(d,h)}function Ui(e,t){const n=window.getComputedStyle(e),s=w=>(n[w]||"").split(", "),o=s(`${Bt}Delay`),r=s(`${Bt}Duration`),a=Br(o,r),l=s(`${Pn}Delay`),c=s(`${Pn}Duration`),d=Br(l,c);let u=null,f=0,h=0;t===Bt?a>0&&(u=Bt,f=a,h=r.length):t===Pn?d>0&&(u=Pn,f=d,h=c.length):(f=Math.max(a,d),u=f>0?a>d?Bt:Pn:null,h=u?u===Bt?r.length:c.length:0);const g=u===Bt&&/\b(transform|all)(,|$)/.test(s(`${Bt}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:g}}function Br(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Kr(n)+Kr(e[s])))}function Kr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ao(){return document.body.offsetHeight}function yu(e,t,n){const s=e[Tn];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Os=Symbol("_vod"),Hi=Symbol("_vsh"),es={beforeMount(e,{value:t},{transition:n}){e[Os]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Dn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Dn(e,!0),s.enter(e)):s.leave(e,()=>{Dn(e,!1)}):Dn(e,t))},beforeUnmount(e,{value:t}){Dn(e,t)}};function Dn(e,t){e.style.display=t?e[Os]:"none",e[Hi]=!t}const bu=Symbol(""),wu=/(^|;)\s*display\s*:/;function Tu(e,t,n){const s=e.style,o=Ue(n);let r=!1;if(n&&!o){if(t)if(Ue(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&_s(s,l,"")}else for(const a in t)n[a]==null&&_s(s,a,"");for(const a in n)a==="display"&&(r=!0),_s(s,a,n[a])}else if(o){if(t!==n){const a=s[bu];a&&(n+=";"+a),s.cssText=n,r=wu.test(n)}}else t&&e.removeAttribute("style");Os in e&&(e[Os]=r?s.display:"",e[Hi]&&(s.display="none"))}const Fr=/\s*!important$/;function _s(e,t,n){if(ue(n))n.forEach(s=>_s(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=_u(e,t);Fr.test(n)?e.setProperty(Xt(s),n.replace(Fr,""),"important"):e[s]=n}}const Vr=["Webkit","Moz","ms"],lo={};function _u(e,t){const n=lo[t];if(n)return n;let s=lt(t);if(s!=="filter"&&s in e)return lo[t]=s;s=Ns(s);for(let o=0;o<Vr.length;o++){const r=Vr[o]+s;if(r in e)return lo[t]=r}return t}const Gr="http://www.w3.org/1999/xlink";function jr(e,t,n,s,o,r=xl(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Gr,t.slice(6,t.length)):e.setAttributeNS(Gr,t,n):n==null||r&&!ka(n)?e.removeAttribute(t):e.setAttribute(t,r?"":Et(n)?String(n):n)}function qr(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Pi(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=ka(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(o||t)}function Pt(e,t,n,s){e.addEventListener(t,n,s)}function Cu(e,t,n,s){e.removeEventListener(t,n,s)}const Yr=Symbol("_vei");function Su(e,t,n,s,o=null){const r=e[Yr]||(e[Yr]={}),a=r[t];if(s&&a)a.value=s;else{const[l,c]=ku(t);if(s){const d=r[t]=$u(s,o);Pt(e,l,d,c)}else a&&(Cu(e,l,a,c),r[t]=void 0)}}const Wr=/(?:Once|Passive|Capture)$/;function ku(e){let t;if(Wr.test(e)){t={};let s;for(;s=e.match(Wr);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xt(e.slice(2)),t]}let co=0;const Eu=Promise.resolve(),Au=()=>co||(Eu.then(()=>co=0),co=Date.now());function $u(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;gt(Iu(s,n.value),t,5,[s])};return n.value=e,n.attached=Au(),n}function Iu(e,t){if(ue(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const zr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,xu=(e,t,n,s,o,r)=>{const a=o==="svg";t==="class"?yu(e,s,a):t==="style"?Tu(e,n,s):Ds(t)?No(t)||Su(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ru(e,t,s,a))?(qr(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jr(e,t,s,a,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ue(s))?qr(e,lt(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),jr(e,t,s,a))};function Ru(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&zr(t)&&pe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return zr(t)&&Ue(n)?!1:t in e}const Mi=new WeakMap,Bi=new WeakMap,Ps=Symbol("_moveCb"),Qr=Symbol("_enterCb"),Ou=e=>(delete e.props.mode,e),Pu=Ou({name:"TransitionGroup",props:Me({},Li,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=xi(),s=ni();let o,r;return ui(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!Hu(o[0].el,n.vnode.el,a)){o=[];return}o.forEach(Lu),o.forEach(Nu);const l=o.filter(Uu);Ao(),l.forEach(c=>{const d=c.el,u=d.style;Tt(d,a),u.transform=u.webkitTransform=u.transitionDuration="";const f=d[Ps]=h=>{h&&h.target!==d||(!h||/transform$/.test(h.propertyName))&&(d.removeEventListener("transitionend",f),d[Ps]=null,Ft(d,a))};d.addEventListener("transitionend",f)}),o=[]}),()=>{const a=_e(e),l=Ni(a);let c=a.tag||ve;if(o=[],r)for(let d=0;d<r.length;d++){const u=r[d];u.el&&u.el instanceof Element&&(o.push(u),cn(u,Jn(u,l,s,n)),Mi.set(u,u.el.getBoundingClientRect()))}r=t.default?Wo(t.default()):[];for(let d=0;d<r.length;d++){const u=r[d];u.key!=null&&cn(u,Jn(u,l,s,n))}return fe(c,null,r)}}}),Du=Pu;function Lu(e){const t=e.el;t[Ps]&&t[Ps](),t[Qr]&&t[Qr]()}function Nu(e){Bi.set(e,e.el.getBoundingClientRect())}function Uu(e){const t=Mi.get(e),n=Bi.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${o}px)`,r.transitionDuration="0s",e}}function Hu(e,t,n){const s=e.cloneNode(),o=e[Tn];o&&o.forEach(l=>{l.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:a}=Ui(s);return r.removeChild(s),a}const Qt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ue(t)?n=>vs(t,n):t};function Mu(e){e.target.composing=!0}function Jr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const it=Symbol("_assign"),_n={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[it]=Qt(o);const r=s||o.props&&o.props.type==="number";Pt(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=Ss(l)),e[it](l)}),n&&Pt(e,"change",()=>{e.value=e.value.trim()}),t||(Pt(e,"compositionstart",Mu),Pt(e,"compositionend",Jr),Pt(e,"change",Jr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:o,number:r}},a){if(e[it]=Qt(a),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?Ss(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||o&&e.value.trim()===c)||(e.value=c))}},Ki={deep:!0,created(e,t,n){e[it]=Qt(n),Pt(e,"change",()=>{const s=e._modelValue,o=Cn(e),r=e.checked,a=e[it];if(ue(s)){const l=Mo(s,o),c=l!==-1;if(r&&!c)a(s.concat(o));else if(!r&&c){const d=[...s];d.splice(l,1),a(d)}}else if(In(s)){const l=new Set(s);r?l.add(o):l.delete(o),a(l)}else a(Vi(e,r))})},mounted:Xr,beforeUpdate(e,t,n){e[it]=Qt(n),Xr(e,t,n)}};function Xr(e,{value:t,oldValue:n},s){e._modelValue=t;let o;if(ue(t))o=Mo(t,s.props.value)>-1;else if(In(t))o=t.has(s.props.value);else{if(t===n)return;o=ln(t,Vi(e,!0))}e.checked!==o&&(e.checked=o)}const Bu={created(e,{value:t},n){e.checked=ln(t,n.props.value),e[it]=Qt(n),Pt(e,"change",()=>{e[it](Cn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[it]=Qt(s),t!==n&&(e.checked=ln(t,s.props.value))}},Fi={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=In(t);Pt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Ss(Cn(a)):Cn(a));e[it](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,zn(()=>{e._assigning=!1})}),e[it]=Qt(s)},mounted(e,{value:t}){Zr(e,t)},beforeUpdate(e,t,n){e[it]=Qt(n)},updated(e,{value:t}){e._assigning||Zr(e,t)}};function Zr(e,t){const n=e.multiple,s=ue(t);if(!(n&&!s&&!In(t))){for(let o=0,r=e.options.length;o<r;o++){const a=e.options[o],l=Cn(a);if(n)if(s){const c=typeof l;c==="string"||c==="number"?a.selected=t.some(d=>String(d)===String(l)):a.selected=Mo(t,l)>-1}else a.selected=t.has(l);else if(ln(Cn(a),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Cn(e){return"_value"in e?e._value:e.value}function Vi(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const _0={created(e,t,n){ms(e,t,n,null,"created")},mounted(e,t,n){ms(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){ms(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){ms(e,t,n,s,"updated")}};function Ku(e,t){switch(e){case"SELECT":return Fi;case"TEXTAREA":return _n;default:switch(t){case"checkbox":return Ki;case"radio":return Bu;default:return _n}}}function ms(e,t,n,s,o){const a=Ku(e.tagName,n.props&&n.props.type)[o];a&&a(e,t,n,s)}const Fu=["ctrl","shift","alt","meta"],Vu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Fu.some(n=>e[`${n}Key`]&&!t.includes(n))},Be=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...r)=>{for(let a=0;a<t.length;a++){const l=Vu[t[a]];if(l&&l(o,t))return}return e(o,...r)})},Gu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ju=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=Xt(o.key);if(t.some(a=>a===r||Gu[a]===r))return e(o)})},qu=Me({patchProp:xu},gu);let ea;function Yu(){return ea||(ea=Hc(qu))}const Wu=(...e)=>{const t=Yu().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Qu(s);if(!o)return;const r=t._component;!pe(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=n(o,!1,zu(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function zu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Qu(e){return Ue(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const gn=typeof document<"u";function Gi(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ju(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Gi(e.default)}const ke=Object.assign;function uo(e,t){const n={};for(const s in t){const o=t[s];n[s]=pt(o)?o.map(e):e(o)}return n}const jn=()=>{},pt=Array.isArray,ji=/#/g,Xu=/&/g,Zu=/\//g,ed=/=/g,td=/\?/g,qi=/\+/g,nd=/%5B/g,sd=/%5D/g,Yi=/%5E/g,od=/%60/g,Wi=/%7B/g,rd=/%7C/g,zi=/%7D/g,ad=/%20/g;function er(e){return encodeURI(""+e).replace(rd,"|").replace(nd,"[").replace(sd,"]")}function id(e){return er(e).replace(Wi,"{").replace(zi,"}").replace(Yi,"^")}function $o(e){return er(e).replace(qi,"%2B").replace(ad,"+").replace(ji,"%23").replace(Xu,"%26").replace(od,"`").replace(Wi,"{").replace(zi,"}").replace(Yi,"^")}function ld(e){return $o(e).replace(ed,"%3D")}function cd(e){return er(e).replace(ji,"%23").replace(td,"%3F")}function ud(e){return e==null?"":cd(e).replace(Zu,"%2F")}function ts(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const dd=/\/$/,fd=e=>e.replace(dd,"");function fo(e,t,n="/"){let s,o={},r="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),a=t.slice(l,t.length)),s=md(s??t,n),{fullPath:s+(r&&"?")+r+a,path:s,query:o,hash:ts(a)}}function hd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ta(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gd(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Sn(t.matched[s],n.matched[o])&&Qi(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Sn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Qi(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!pd(e[n],t[n]))return!1;return!0}function pd(e,t){return pt(e)?na(e,t):pt(t)?na(t,e):e===t}function na(e,t){return pt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function md(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,a,l;for(a=0;a<s.length;a++)if(l=s[a],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(a).join("/")}const Kt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ns;(function(e){e.pop="pop",e.push="push"})(ns||(ns={}));var qn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qn||(qn={}));function vd(e){if(!e)if(gn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),fd(e)}const yd=/^[^#]+#/;function bd(e,t){return e.replace(yd,"#")+t}function wd(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const qs=()=>({left:window.scrollX,top:window.scrollY});function Td(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=wd(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function sa(e,t){return(history.state?history.state.position-t:-1)+e}const Io=new Map;function _d(e,t){Io.set(e,t)}function Cd(e){const t=Io.get(e);return Io.delete(e),t}let Sd=()=>location.protocol+"//"+location.host;function Ji(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),ta(c,"")}return ta(n,e)+s+o}function kd(e,t,n,s){let o=[],r=[],a=null;const l=({state:h})=>{const g=Ji(e,location),w=n.value,y=t.value;let O=0;if(h){if(n.value=g,t.value=h,a&&a===w){a=null;return}O=y?h.position-y.position:0}else s(g);o.forEach(x=>{x(n.value,w,{delta:O,type:ns.pop,direction:O?O>0?qn.forward:qn.back:qn.unknown})})};function c(){a=n.value}function d(h){o.push(h);const g=()=>{const w=o.indexOf(h);w>-1&&o.splice(w,1)};return r.push(g),g}function u(){const{history:h}=window;h.state&&h.replaceState(ke({},h.state,{scroll:qs()}),"")}function f(){for(const h of r)h();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:f}}function oa(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?qs():null}}function Ed(e){const{history:t,location:n}=window,s={value:Ji(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+c:Sd()+e+c;try{t[u?"replaceState":"pushState"](d,"",h),o.value=d}catch(g){console.error(g),n[u?"replace":"assign"](h)}}function a(c,d){const u=ke({},t.state,oa(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,u,!0),s.value=c}function l(c,d){const u=ke({},o.value,t.state,{forward:c,scroll:qs()});r(u.current,u,!0);const f=ke({},oa(s.value,c,null),{position:u.position+1},d);r(c,f,!1),s.value=c}return{location:s,state:o,push:l,replace:a}}function Ad(e){e=vd(e);const t=Ed(e),n=kd(e,t.state,t.location,t.replace);function s(r,a=!0){a||n.pauseListeners(),history.go(r)}const o=ke({location:"",base:e,go:s,createHref:bd.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function $d(e){return typeof e=="string"||e&&typeof e=="object"}function Xi(e){return typeof e=="string"||typeof e=="symbol"}const Zi=Symbol("");var ra;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ra||(ra={}));function kn(e,t){return ke(new Error,{type:e,[Zi]:!0},t)}function $t(e,t){return e instanceof Error&&Zi in e&&(t==null||!!(e.type&t))}const aa="[^/]+?",Id={sensitive:!1,strict:!1,start:!0,end:!0},xd=/[.+*?^${}()[\]/\\]/g;function Rd(e,t){const n=ke({},Id,t),s=[];let o=n.start?"^":"";const r=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let f=0;f<d.length;f++){const h=d[f];let g=40+(n.sensitive?.25:0);if(h.type===0)f||(o+="/"),o+=h.value.replace(xd,"\\$&"),g+=40;else if(h.type===1){const{value:w,repeatable:y,optional:O,regexp:x}=h;r.push({name:w,repeatable:y,optional:O});const T=x||aa;if(T!==aa){g+=10;try{new RegExp(`(${T})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${w}" (${T}): `+C.message)}}let b=y?`((?:${T})(?:/(?:${T}))*)`:`(${T})`;f||(b=O&&d.length<2?`(?:/${b})`:"/"+b),O&&(b+="?"),o+=b,g+=20,O&&(g+=-8),y&&(g+=-20),T===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const u=d.match(a),f={};if(!u)return null;for(let h=1;h<u.length;h++){const g=u[h]||"",w=r[h-1];f[w.name]=g&&w.repeatable?g.split("/"):g}return f}function c(d){let u="",f=!1;for(const h of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const g of h)if(g.type===0)u+=g.value;else if(g.type===1){const{value:w,repeatable:y,optional:O}=g,x=w in d?d[w]:"";if(pt(x)&&!y)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const T=pt(x)?x.join("/"):x;if(!T)if(O)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${w}"`);u+=T}}return u||"/"}return{re:a,score:s,keys:r,parse:l,stringify:c}}function Od(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function el(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=Od(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(ia(s))return 1;if(ia(o))return-1}return o.length-s.length}function ia(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Pd={type:0,value:""},Dd=/[a-zA-Z0-9_]/;function Ld(e){if(!e)return[[]];if(e==="/")return[[Pd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${n})/"${d}": ${g}`)}let n=0,s=n;const o=[];let r;function a(){r&&o.push(r),r=[]}let l=0,c,d="",u="";function f(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function h(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&f(),a()):c===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:c==="("?n=2:Dd.test(c)?h():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),f(),a(),o}function Nd(e,t,n){const s=Rd(Ld(e.path),n),o=ke(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Ud(e,t){const n=[],s=new Map;t=da({strict:!1,end:!0,sensitive:!1},t);function o(f){return s.get(f)}function r(f,h,g){const w=!g,y=ca(f);y.aliasOf=g&&g.record;const O=da(t,f),x=[y];if("alias"in f){const C=typeof f.alias=="string"?[f.alias]:f.alias;for(const U of C)x.push(ca(ke({},y,{components:g?g.record.components:y.components,path:U,aliasOf:g?g.record:y})))}let T,b;for(const C of x){const{path:U}=C;if(h&&U[0]!=="/"){const D=h.record.path,_=D[D.length-1]==="/"?"":"/";C.path=h.record.path+(U&&_+U)}if(T=Nd(C,h,O),g?g.alias.push(T):(b=b||T,b!==T&&b.alias.push(T),w&&f.name&&!ua(T)&&a(f.name)),tl(T)&&c(T),y.children){const D=y.children;for(let _=0;_<D.length;_++)r(D[_],T,g&&g.children[_])}g=g||T}return b?()=>{a(b)}:jn}function a(f){if(Xi(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return n}function c(f){const h=Bd(f,n);n.splice(h,0,f),f.record.name&&!ua(f)&&s.set(f.record.name,f)}function d(f,h){let g,w={},y,O;if("name"in f&&f.name){if(g=s.get(f.name),!g)throw kn(1,{location:f});O=g.record.name,w=ke(la(h.params,g.keys.filter(b=>!b.optional).concat(g.parent?g.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&la(f.params,g.keys.map(b=>b.name))),y=g.stringify(w)}else if(f.path!=null)y=f.path,g=n.find(b=>b.re.test(y)),g&&(w=g.parse(y),O=g.record.name);else{if(g=h.name?s.get(h.name):n.find(b=>b.re.test(h.path)),!g)throw kn(1,{location:f,currentLocation:h});O=g.record.name,w=ke({},h.params,f.params),y=g.stringify(w)}const x=[];let T=g;for(;T;)x.unshift(T.record),T=T.parent;return{name:O,path:y,params:w,matched:x,meta:Md(x)}}e.forEach(f=>r(f));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:a,clearRoutes:u,getRoutes:l,getRecordMatcher:o}}function la(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ca(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Hd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Hd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ua(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Md(e){return e.reduce((t,n)=>ke(t,n.meta),{})}function da(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Bd(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;el(e,t[r])<0?s=r:n=r+1}const o=Kd(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function Kd(e){let t=e;for(;t=t.parent;)if(tl(t)&&el(e,t)===0)return t}function tl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Fd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(qi," "),a=r.indexOf("="),l=ts(a<0?r:r.slice(0,a)),c=a<0?null:ts(r.slice(a+1));if(l in t){let d=t[l];pt(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function fa(e){let t="";for(let n in e){const s=e[n];if(n=ld(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(pt(s)?s.map(r=>r&&$o(r)):[s&&$o(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function Vd(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=pt(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Gd=Symbol(""),ha=Symbol(""),Ys=Symbol(""),tr=Symbol(""),xo=Symbol("");function Ln(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function qt(e,t,n,s,o,r=a=>a()){const a=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const d=h=>{h===!1?c(kn(4,{from:n,to:t})):h instanceof Error?c(h):$d(h)?c(kn(2,{from:t,to:h})):(a&&s.enterCallbacks[o]===a&&typeof h=="function"&&a.push(h),l())},u=r(()=>e.call(s&&s.instances[o],t,n,d));let f=Promise.resolve(u);e.length<3&&(f=f.then(d)),f.catch(h=>c(h))})}function ho(e,t,n,s,o=r=>r()){const r=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Gi(c)){const u=(c.__vccOpts||c)[t];u&&r.push(qt(u,n,s,a,l,o))}else{let d=c();r.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=Ju(u)?u.default:u;a.mods[l]=u,a.components[l]=f;const g=(f.__vccOpts||f)[t];return g&&qt(g,n,s,a,l,o)()}))}}return r}function ga(e){const t=ht(Ys),n=ht(tr),s=ee(()=>{const c=K(e.to);return t.resolve(c)}),o=ee(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(Sn.bind(null,u));if(h>-1)return h;const g=pa(c[d-2]);return d>1&&pa(u)===g&&f[f.length-1].path!==g?f.findIndex(Sn.bind(null,c[d-2])):h}),r=ee(()=>o.value>-1&&zd(n.params,s.value.params)),a=ee(()=>o.value>-1&&o.value===n.matched.length-1&&Qi(n.params,s.value.params));function l(c={}){if(Wd(c)){const d=t[K(e.replace)?"replace":"push"](K(e.to)).catch(jn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:ee(()=>s.value.href),isActive:r,isExactActive:a,navigate:l}}function jd(e){return e.length===1?e[0]:e}const qd=ii({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ga,setup(e,{slots:t}){const n=Dt(ga(e)),{options:s}=ht(Ys),o=ee(()=>({[ma(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ma(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&jd(t.default(n));return e.custom?r:Zo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Yd=qd;function Wd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function zd(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!pt(o)||o.length!==s.length||s.some((r,a)=>r!==o[a]))return!1}return!0}function pa(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ma=(e,t,n)=>e??t??n,Qd=ii({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ht(xo),o=ee(()=>e.route||s.value),r=ht(ha,0),a=ee(()=>{let d=K(r);const{matched:u}=o.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),l=ee(()=>o.value.matched[a.value]);bs(ha,ee(()=>a.value+1)),bs(Gd,l),bs(xo,o);const c=J();return st(()=>[c.value,l.value,e.name],([d,u,f],[h,g,w])=>{u&&(u.instances[f]=d,g&&g!==u&&d&&d===h&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),d&&u&&(!g||!Sn(u,g)||!h)&&(u.enterCallbacks[f]||[]).forEach(y=>y(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,f=l.value,h=f&&f.components[u];if(!h)return va(n.default,{Component:h,route:d});const g=f.props[u],w=g?g===!0?d.params:typeof g=="function"?g(d):g:null,O=Zo(h,ke({},w,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return va(n.default,{Component:O,route:d})||O}}});function va(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Jd=Qd;function Xd(e){const t=Ud(e.routes,e),n=e.parseQuery||Fd,s=e.stringifyQuery||fa,o=e.history,r=Ln(),a=Ln(),l=Ln(),c=Zl(Kt);let d=Kt;gn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=uo.bind(null,N=>""+N),f=uo.bind(null,ud),h=uo.bind(null,ts);function g(N,oe){let ne,ie;return Xi(N)?(ne=t.getRecordMatcher(N),ie=oe):ie=N,t.addRoute(ie,ne)}function w(N){const oe=t.getRecordMatcher(N);oe&&t.removeRoute(oe)}function y(){return t.getRoutes().map(N=>N.record)}function O(N){return!!t.getRecordMatcher(N)}function x(N,oe){if(oe=ke({},oe||c.value),typeof N=="string"){const k=fo(n,N,oe.path),H=t.resolve({path:k.path},oe),B=o.createHref(k.fullPath);return ke(k,H,{params:h(H.params),hash:ts(k.hash),redirectedFrom:void 0,href:B})}let ne;if(N.path!=null)ne=ke({},N,{path:fo(n,N.path,oe.path).path});else{const k=ke({},N.params);for(const H in k)k[H]==null&&delete k[H];ne=ke({},N,{params:f(k)}),oe.params=f(oe.params)}const ie=t.resolve(ne,oe),xe=N.hash||"";ie.params=u(h(ie.params));const p=hd(s,ke({},N,{hash:id(xe),path:ie.path})),m=o.createHref(p);return ke({fullPath:p,hash:xe,query:s===fa?Vd(N.query):N.query||{}},ie,{redirectedFrom:void 0,href:m})}function T(N){return typeof N=="string"?fo(n,N,c.value.path):ke({},N)}function b(N,oe){if(d!==N)return kn(8,{from:oe,to:N})}function C(N){return _(N)}function U(N){return C(ke(T(N),{replace:!0}))}function D(N){const oe=N.matched[N.matched.length-1];if(oe&&oe.redirect){const{redirect:ne}=oe;let ie=typeof ne=="function"?ne(N):ne;return typeof ie=="string"&&(ie=ie.includes("?")||ie.includes("#")?ie=T(ie):{path:ie},ie.params={}),ke({query:N.query,hash:N.hash,params:ie.path!=null?{}:N.params},ie)}}function _(N,oe){const ne=d=x(N),ie=c.value,xe=N.state,p=N.force,m=N.replace===!0,k=D(ne);if(k)return _(ke(T(k),{state:typeof k=="object"?ke({},xe,k.state):xe,force:p,replace:m}),oe||ne);const H=ne;H.redirectedFrom=oe;let B;return!p&&gd(s,ie,ne)&&(B=kn(16,{to:H,from:ie}),Ce(ie,ie,!0,!1)),(B?Promise.resolve(B):R(H,ie)).catch(M=>$t(M)?$t(M,2)?M:Te(M):Y(M,H,ie)).then(M=>{if(M){if($t(M,2))return _(ke({replace:m},T(M.to),{state:typeof M.to=="object"?ke({},xe,M.to.state):xe,force:p}),oe||H)}else M=v(H,ie,!0,m,xe);return P(H,ie,M),M})}function V(N,oe){const ne=b(N,oe);return ne?Promise.reject(ne):Promise.resolve()}function L(N){const oe=Q.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(N):N()}function R(N,oe){let ne;const[ie,xe,p]=Zd(N,oe);ne=ho(ie.reverse(),"beforeRouteLeave",N,oe);for(const k of ie)k.leaveGuards.forEach(H=>{ne.push(qt(H,N,oe))});const m=V.bind(null,N,oe);return ne.push(m),Ie(ne).then(()=>{ne=[];for(const k of r.list())ne.push(qt(k,N,oe));return ne.push(m),Ie(ne)}).then(()=>{ne=ho(xe,"beforeRouteUpdate",N,oe);for(const k of xe)k.updateGuards.forEach(H=>{ne.push(qt(H,N,oe))});return ne.push(m),Ie(ne)}).then(()=>{ne=[];for(const k of p)if(k.beforeEnter)if(pt(k.beforeEnter))for(const H of k.beforeEnter)ne.push(qt(H,N,oe));else ne.push(qt(k.beforeEnter,N,oe));return ne.push(m),Ie(ne)}).then(()=>(N.matched.forEach(k=>k.enterCallbacks={}),ne=ho(p,"beforeRouteEnter",N,oe,L),ne.push(m),Ie(ne))).then(()=>{ne=[];for(const k of a.list())ne.push(qt(k,N,oe));return ne.push(m),Ie(ne)}).catch(k=>$t(k,8)?k:Promise.reject(k))}function P(N,oe,ne){l.list().forEach(ie=>L(()=>ie(N,oe,ne)))}function v(N,oe,ne,ie,xe){const p=b(N,oe);if(p)return p;const m=oe===Kt,k=gn?history.state:{};ne&&(ie||m?o.replace(N.fullPath,ke({scroll:m&&k&&k.scroll},xe)):o.push(N.fullPath,xe)),c.value=N,Ce(N,oe,ne,m),Te()}let $;function F(){$||($=o.listen((N,oe,ne)=>{if(!j.listening)return;const ie=x(N),xe=D(ie);if(xe){_(ke(xe,{replace:!0,force:!0}),ie).catch(jn);return}d=ie;const p=c.value;gn&&_d(sa(p.fullPath,ne.delta),qs()),R(ie,p).catch(m=>$t(m,12)?m:$t(m,2)?(_(ke(T(m.to),{force:!0}),ie).then(k=>{$t(k,20)&&!ne.delta&&ne.type===ns.pop&&o.go(-1,!1)}).catch(jn),Promise.reject()):(ne.delta&&o.go(-ne.delta,!1),Y(m,ie,p))).then(m=>{m=m||v(ie,p,!1),m&&(ne.delta&&!$t(m,8)?o.go(-ne.delta,!1):ne.type===ns.pop&&$t(m,20)&&o.go(-1,!1)),P(ie,p,m)}).catch(jn)}))}let E=Ln(),ae=Ln(),W;function Y(N,oe,ne){Te(N);const ie=ae.list();return ie.length?ie.forEach(xe=>xe(N,oe,ne)):console.error(N),Promise.reject(N)}function Ae(){return W&&c.value!==Kt?Promise.resolve():new Promise((N,oe)=>{E.add([N,oe])})}function Te(N){return W||(W=!N,F(),E.list().forEach(([oe,ne])=>N?ne(N):oe()),E.reset()),N}function Ce(N,oe,ne,ie){const{scrollBehavior:xe}=e;if(!gn||!xe)return Promise.resolve();const p=!ne&&Cd(sa(N.fullPath,0))||(ie||!ne)&&history.state&&history.state.scroll||null;return zn().then(()=>xe(N,oe,p)).then(m=>m&&Td(m)).catch(m=>Y(m,N,oe))}const re=N=>o.go(N);let S;const Q=new Set,j={currentRoute:c,listening:!0,addRoute:g,removeRoute:w,clearRoutes:t.clearRoutes,hasRoute:O,getRoutes:y,resolve:x,options:e,push:C,replace:U,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:ae.add,isReady:Ae,install(N){const oe=this;N.component("RouterLink",Yd),N.component("RouterView",Jd),N.config.globalProperties.$router=oe,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>K(c)}),gn&&!S&&c.value===Kt&&(S=!0,C(o.location).catch(xe=>{}));const ne={};for(const xe in Kt)Object.defineProperty(ne,xe,{get:()=>c.value[xe],enumerable:!0});N.provide(Ys,oe),N.provide(tr,Fa(ne)),N.provide(xo,c);const ie=N.unmount;Q.add(N),N.unmount=function(){Q.delete(N),Q.size<1&&(d=Kt,$&&$(),$=null,c.value=Kt,S=!1,W=!1),ie()}}};function Ie(N){return N.reduce((oe,ne)=>oe.then(()=>L(ne)),Promise.resolve())}return j}function Zd(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let a=0;a<r;a++){const l=t.matched[a];l&&(e.matched.find(d=>Sn(d,l))?s.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(d=>Sn(d,c))||o.push(c))}return[n,s,o]}function dn(){return ht(Ys)}function ef(e){return ht(tr)}const le={BASE_URL:"http://localhost:8080",AUTH:{LOGIN:"/api/auth/log-in",LOGOUT:"/api/auth/log-out",STATUS:"/api/auth/status",VALIDATE_TOKEN:"/api/auth/validate-token"},PASSWORD_RESET:{SEND_OTP:"/api/forgot-password/send-otp",VERIFY_OTP:"/api/forgot-password/verify-otp",RESET_PASSWORD:"/api/forgot-password/reset-password"},USER:{REGISTER:"/api/khachhang/register",GET_BY_ID:"/api/nguoidung/{maNguoiDung}",GET_BY_EMAIL:"/api/nguoidung/email/{email}",UPDATE:"/api/nguoidung/{maNguoiDung}",DELETE:"/api/nguoidung/{maNguoiDung}",CHECK_EMAIL:"/api/nguoidung/check-email/{email}",CHECK_ID:"/api/nguoidung/check-id/{maNguoiDung}"},OAUTH2:{GET_JWT_TOKEN:"/api/oauth2/get-jwt-token",USER_INFO:"/api/oauth2/user-info",SUCCESS:"/api/oauth2/success",FAILURE:"/api/oauth2/failure",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",TEST_CONFIG:"/api/oauth2/test-config",LOGOUT_DEPRECATED:"/api/oauth2/logout"},AUTHORIZATION:{GOOGLE:"/oauth2/authorization/google",FACEBOOK:"/oauth2/authorization/facebook"}},tf=e=>`${le.BASE_URL}${e}`,xt="http://localhost:8080",me={OAUTH2:{TEST_CONFIG:"/api/oauth2/test-config",USER_INFO:"/api/oauth2/user-info",ANALYZE:"/api/oauth2/analyze",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",GET_TOKEN:"/api/oauth2/get-token",GOOGLE_CALLBACK:"/api/oauth2/callback/google",GOOGLE_REGISTER:"/api/oauth2/register/google"},CATEGORIES:{LIST:"/api/loaisanpham",BY_ID:e=>`/api/loaisanpham/${e}`},PRODUCTS:{LIST:"/api/sanpham",BY_ID:e=>`/api/sanpham/${e}`,BY_CATEGORY:e=>`/api/sanpham/category/${e}`,BY_CATEGORY_ACTIVE:e=>`/api/sanpham/category/${e}/active`,WITH_STOCK_LIST:"/api/sanpham/with-tonkho",BY_ID_WITH_STOCK:e=>`/api/sanpham/${e}/with-tonkho`},CART:{BY_CUSTOMER:e=>`/api/giohang/by-khachhang/${e}`,BY_CUSTOMER_WITH_ITEMS:e=>`/api/giohang/by-khachhang/${e}/with-items`,UPDATE_STATUS:e=>`/api/giohang/by-khachhang/${e}/status`,CLEAR_ITEMS:e=>`/api/giohang/by-khachhang/${e}/items`,SYNC:"/api/giohang/sync",CURRENT_USER:"/api/giohang/current-user"},CART_ITEMS:{ADD:"/api/giohang/items",UPDATE_QTY:e=>`/api/giohang/items/${e}/quantity`,REMOVE:e=>`/api/giohang/items/${e}`},HOADON:{LIST:"/api/hoadon",BY_ID:e=>`/api/hoadon/${e}`,CREATE:"/api/hoadon",UPDATE:e=>`/api/hoadon/${e}`,DELETE:e=>`/api/hoadon/${e}`,CREATE_FROM_CART:"/api/hoadon/from-cart",BY_CUSTOMER:e=>`/api/hoadon/by-khachhang/${e}`,UPDATE_STATUS:e=>`/api/hoadon/${e}/trangthai`,BY_ID_FULL:e=>`/api/hoadon/${e}/full-details`,BY_CUSTOMER_FULL:e=>`/api/hoadon/by-khachhang/${e}/full-details`,COUNT_BY_STATUS:e=>`/api/hoadon/count/trangthai/${e}`,COUNT_BY_CUSTOMER:e=>`/api/hoadon/count/khachhang/${e}`,BY_STATUS:e=>`/api/hoadon/status/${e}`,BY_CUSTOMER_AND_STATUS:(e,t)=>`/api/hoadon/by-khachhang/${e}/status/${t}`,BY_DATE_RANGE:"/api/hoadon/date-range",BY_CUSTOMER_AND_DATE:e=>`/api/hoadon/by-khachhang/${e}/date-range`,SEARCH:"/api/hoadon/search",CANCEL:e=>`/api/hoadon/${e}/cancel`,STATISTICS:e=>`/api/hoadon/by-khachhang/${e}/statistics`,COUNT_BY_STATUS_CUSTOMER:e=>`/api/hoadon/by-khachhang/${e}/count-by-status`},CHITIETHOADON:{BY_HOADON:e=>`/api/chitiethoadon/hoadon/${e}`,UPDATE:e=>`/api/chitiethoadon/${e}`,BY_HOADON_OLD:e=>`/api/chitiethoadon/${e}`},KHACHHANG:{BY_ID:e=>`/api/khachhang/${e}`,BY_NGUOIDUNG:e=>`/api/khachhang/by-nguoidung/${e}`,UPDATE_INFO:e=>`/api/khachhang/${e}`,REGISTER:"/api/khachhang/register"},IMAGES:{PRODUCT_LIST:e=>`/api/hinhanh/product/${e}`,SERVE_IMAGE:e=>`/api/upload/serve-image/${e}`,PRODUCT_IMAGES:e=>[`/api/upload/serve-image/${e}_main.jfif`,`/api/upload/serve-image/${e}_main1.jfif`,`/api/upload/serve-image/${e}_main2.jfif`]},INVENTORY:{ALL_DETAILS:"/api/tonkhochitiet",BY_ID:e=>`/api/tonkhochitiet/${e}`,BY_PRODUCT:e=>`/api/tonkhochitiet/product/${e}`,BY_WAREHOUSE:e=>`/api/tonkhochitiet/warehouse/${e}`,COMPARE_MASP:"/api/tonkhochitiet/compare-masp"}},nr="easymart-token",nf=1,sf=(e,t,n=1,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let a=`${e}=${t||""}${r}; path=/`;s&&(a+="; Secure"),o&&(a+="; HttpOnly"),a+="; SameSite=Strict",document.cookie=a},of=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},rf=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},af=e=>{{const t=window.location.protocol==="https:";sf(nr,e,nf,t,!1)}},Se=()=>{let e=null;return e=of(nr),e},lf=()=>{rf(nr)},cf="modulepreload",uf=function(e){return"/"+e},ya={},Ke=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");o=c(n.map(d=>{if(d=uf(d),d in ya)return;ya[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":cf,u||(h.as="script"),h.crossOrigin="",h.href=d,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((g,w)=>{h.addEventListener("load",g),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},df=(e,t,n=7,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let a=`${e}=${t||""}${r}; path=/`;s&&(a+="; Secure"),o&&(a+="; HttpOnly"),a+="; SameSite=Strict",document.cookie=a},ff=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},hf=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},sr=(e,t)=>{df(e,t,7,!1,!1)},mt=e=>ff(e),or=e=>{hf(e)},He=J(null),gf=ee(()=>!!He.value),nl=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);He.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error loading user data:",t),localStorage.removeItem("easymart-user"),He.value=null}},ss=e=>{const t={id:e.id,name:e.name,avatar:e.avatar,role:e.role,loginMethod:e.loginMethod,displayName:e.name||e.email?.split("@")[0]||"User"};localStorage.setItem("easymart-user",JSON.stringify(t)),He.value=e,e.triggerEvent!==!1&&window.dispatchEvent(new CustomEvent("user-updated",{detail:t}))},Ws=e=>{try{if(!e)return null;const t=JSON.parse(atob(e.split(".")[1]));return{email:t.sub,issuer:t.iss,role:t.role,exp:t.exp,iat:t.iat,raw:t}}catch(t){return console.error("Error decoding token:",t),null}},zs=e=>{try{if(!e)return!1;const t=Ws(e);if(!t)return!1;const n=Math.floor(Date.now()/1e3);return t.exp>n}catch{return!1}},pf=()=>{const e=mt("easymart-token");if(!e||!zs(e)){or("easymart-token"),localStorage.removeItem("easymart-user"),He.value=null;return}const t=Ws(e);if(t){const n={id:null,email:t.email,name:t.email.split("@")[0],role:t.role,loginMethod:"token",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.email.split("@")[0])}&background=28a745&color=fff`,tokenInfo:{issuer:t.issuer,exp:new Date(t.exp*1e3),iat:new Date(t.iat*1e3)}};He.value=n,console.log(" User initialized from token:",n),console.log(" Token payload:",t.raw),setTimeout(async()=>{try{console.log(" Fetching complete user info in background..."),await rl()}catch(s){console.warn(" Could not fetch complete user info in background:",s)}},1e3)}},mf=()=>{const e=mt("easymart-token");if(console.log(" Current token:",e),e){const t=Ws(e);if(console.log(" Decoded token:",t),console.log(" Token valid:",zs(e)),t&&t.exp){const n=new Date(t.exp*1e3),s=new Date;console.log(" Token expires:",n),console.log(" Current time:",s),console.log(" Time until expiry:",Math.round((n-s)/1e3/60),"minutes")}}else console.log(" No token found")},sl=async e=>{try{if(!e)return!1;const t=await fetch(`${le.BASE_URL}/api/auth/validate-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({token:e})});if(!t.ok)return!1;const n=await t.json();if(n&&n.result&&n.result.valid===!0){const s=He.value;return(!s||!s.id||s.email!==n.result.username)&&await ol(n.result),!0}else return!1}catch(t){return console.error(" Error validating token:",t),!1}},ol=async e=>{try{const{username:t,role:n,expiration:s}=e,o=await rr(t);if(o&&o.success&&o.user){const r={id:o.user.maNguoiDung||o.user.id,email:t,name:o.user.tenNguoiDung||o.user.hoTen||t.split("@")[0],phone:o.user.soDienThoai||o.user.sdt||"",address:o.user.diaChi||"",role:n,avatar:o.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(o.user.tenNguoiDung||t.split("@")[0])}&background=28a745&color=fff`,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};He.value=r,localStorage.setItem("easymart-user",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("user-updated",{detail:r}))}else{const r={id:null,email:t,name:t.split("@")[0],role:n,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};He.value=r,localStorage.setItem("easymart-user",JSON.stringify(r))}}catch(t){console.error(" Error updating user from validation:",t)}},vf=async()=>{const e=mt("easymart-token");if(!e)return;if(!zs(e)){await Ro("Token  ht hn");return}await sl(e)||await Ro("Phin ng nhp khng hp l")},Ro=async e=>{console.log(" Performing auto-logout:",e),or("easymart-token"),localStorage.removeItem("easymart-user"),He.value=null,alert(`${e}. Bn s c chuyn v trang ng nhp.`),window.location.href="/login"},rl=async()=>{const e=He.value;if(!e)return console.warn(" No user logged in"),null;if(e.id)return console.log(" User already has complete info:",e.id),e;if(e.email){console.log(" Fetching user ID for:",e.email);try{const t=await rr(e.email);if(t&&t.success&&t.user){const n={...e,id:t.user.maNguoiDung||t.user.id,name:t.user.tenNguoiDung||t.user.hoTen||e.name,phone:t.user.soDienThoai||t.user.sdt||e.phone||"",address:t.user.diaChi||e.address||""};return He.value=n,localStorage.setItem("easymart-user",JSON.stringify(n)),console.log(" User info completed with ID:",n.id),n}}catch(t){console.error(" Error fetching complete user info:",t)}}return console.warn(" Could not complete user info"),e},yf=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);He.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error reloading user data:",t),localStorage.removeItem("easymart-user"),He.value=null}},bf=async()=>{try{const e=mt("easymart-token");if(!e)return null;const t=await je(le.USER.GET_BY_ID,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(t&&t.result)return He.value=t.result,ss(t.result),t.result}catch(e){return console.error("Error fetching full user data:",e),null}},Cs=async()=>{try{const e=mt("easymart-token");if(!e)throw new Error("Khng c token xc thc");console.log(" Validating token for profile access..."),console.log(" Step 1: Calling validate-token API...");const t=await je(le.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})});if(console.log(" Validate token response:",t),!t?.result?.valid)throw new Error("Token khng hp l hoc  ht hn");const{username:n,role:s,expiration:o}=t.result;console.log(" Token validated:",{username:n,role:s,expiration:o}),console.log(" Step 2: Calling GET_BY_EMAIL API...");const r=le.USER.GET_BY_EMAIL.replace("{email}",n);console.log(" Email endpoint:",r);const a=await je(r,{method:"GET"});console.log(" User response:",a);let l=null;if(a?.result)l=a.result;else if(a?.data)l=a.data;else if(a?.maNguoiDung)l=a;else throw console.error(" Unexpected user response format:",a),new Error("Response format khng ng t API ngi dng");const{maNguoiDung:c,vaiTro:d}=l;if(console.log(" User info retrieved:",{maNguoiDung:c,vaiTro:d}),!c)throw new Error("Khng tm thy m ngi dng trong response");console.log(" Step 3: Calling customer API..."),console.log(" Step 3: Calling customer API...");let u=null,f=null;const h=[`/api/khachhang/by-nguoidung/${c}`,`/api/khachhang/${c}`,`/api/nguoidung/${c}`];for(let y=0;y<h.length;y++){const O=h[y];console.log(` Trying endpoint ${y+1}: ${O}`);try{const x=`${le.BASE_URL}${O}`;if(console.log(` Full URL: ${x}`),f=await fetch(x,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),console.log(` Response ${y+1} status:`,f.status),console.log(` Response ${y+1} redirected:`,f.redirected),f.ok){const T=f.headers.get("content-type");if(console.log(` Response ${y+1} Content-Type:`,T),T&&T.includes("application/json")){const b=await f.json();if(console.log(` Endpoint ${y+1} success:`,b),b?.hoTen)console.log(" Response c hoTen - format customer data"),u={hoTen:b.hoTen,soDienThoai:b.sdt,ngaySinh:b.ngaySinh,diaChi:b.diaChi,ngayTao:b.ngayDangKy,tongDonHang:0,tongChiTieu:0,maKH:b.maKH,diemTichLuy:b.diemTichLuy,loaiKhachHang:b.loaiKhachHang,nguoiDung:b.nguoiDung,sdt:b.sdt};else if(b?.token){console.log(" Response ch c token - cn x l khc cho Google OAuth2 user");try{console.log(" Gi API /api/nguoidung  ly customer info...");const C=await fetch(`${le.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(C.ok){const U=await C.json();console.log(" Customer info t /api/nguoidung:",U),u={hoTen:U.tenNguoiDung||n.split("@")[0],soDienThoai:U.soDienThoai||"",ngaySinh:U.ngaySinh||null,diaChi:U.diaChi||"",ngayTao:U.ngayTao||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:U.maNguoiDung,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:U.soDienThoai||""}}else{console.log(" Khng th ly customer info t /api/nguoidung");continue}}catch(C){console.log(" Li khi gi /api/nguoidung:",C.message);continue}}else if(b?.result)u=b.result;else if(b?.data)u=b.data;else if(console.log(" Response khng c hoTen, token, result, data - c th l Google OAuth2 user"),n.includes("@gmail.com")||n.includes("@fpt.edu.vn")){console.log(" Detected Google OAuth2 user, calling /api/nguoidung...");try{console.log(" Gi API /api/nguoidung  ly customer info...");const U=await fetch(`${le.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(U.ok){const D=await U.json();console.log(" Customer info t /api/nguoidung:",D);let _="",V="";D.soDienThoai?_=D.soDienThoai:D.sdt?_=D.sdt:D.phone?_=D.phone:D.dienThoai&&(_=D.dienThoai),D.diaChi?V=D.diaChi:D.address?V=D.address:D.diaChiChiTiet&&(V=D.diaChiChiTiet),u={hoTen:D.tenNguoiDung||D.hoTen||n.split("@")[0],soDienThoai:_,ngaySinh:D.ngaySinh||null,diaChi:V,ngayTao:D.ngayTao||D.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:D.maNguoiDung||D.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:_}}else{console.log(" Khng th ly customer info t /api/nguoidung");continue}}catch(U){console.log(" Li khi gi /api/nguoidung:",U.message);continue}}else{console.log(` Endpoint ${y+1} response format khng xc nh:`,b);continue}console.log(` Found working endpoint: ${O}`);break}else{const b=await f.text();console.log(` Endpoint ${y+1} returned non-JSON:`,b.substring(0,200));continue}}else if(f.redirected)if(console.log(` Endpoint ${y+1} was redirected - trying /api/nguoidung directly...`),n.includes("@gmail.com")||n.includes("@fpt.edu.vn"))try{const b=await fetch(`${le.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(b.ok){const C=await b.json();console.log(" Direct call to /api/nguoidung successful");let U=C.soDienThoai||C.sdt||C.phone||C.dienThoai||"",D=C.diaChi||C.address||C.diaChiChiTiet||"";u={hoTen:C.tenNguoiDung||C.hoTen||n.split("@")[0],soDienThoai:U,ngaySinh:C.ngaySinh||null,diaChi:D,ngayTao:C.ngayTao||C.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:C.maNguoiDung||C.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:U},console.log(" Found working solution: direct call to /api/nguoidung");break}else{console.log(" Direct call to /api/nguoidung failed with status:",b.status);continue}}catch(b){console.log(" Error in direct call to /api/nguoidung:",b.message);continue}else{console.log(` Endpoint ${y+1} failed with status:`,f.status);continue}else{console.log(` Endpoint ${y+1} failed with status:`,f.status);continue}}catch(x){console.log(` Endpoint ${y+1} error:`,x.message);continue}}if(!u)if(console.log(" No working customer endpoint found, creating basic data"),n.includes("@gmail.com")||n.includes("@fpt.edu.vn")){console.log(" Fallback: Creating OAuth2 user data structure");try{console.log(" Fallback: Th gi /api/nguoidung mt ln na...");const O=await fetch(`${le.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(O.ok){const x=await O.json();console.log(" Fallback: Customer info t /api/nguoidung");let T=x.soDienThoai||x.sdt||x.phone||x.dienThoai||"",b=x.diaChi||x.address||x.diaChiChiTiet||"";u={hoTen:x.tenNguoiDung||x.hoTen||n.split("@")[0],soDienThoai:T,ngaySinh:x.ngaySinh||null,diaChi:b,ngayTao:x.ngayTao||x.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:x.maNguoiDung||x.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:T}}else console.log(" Fallback: Khng th ly customer info t /api/nguoidung"),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:""}}catch(O){console.log(" Fallback: Li khi gi /api/nguoidung:",O.message),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:""}}}else u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:""};console.log(" Final customer data:",u);const g=u.loaiKhachHang==="OAuth2 User",w={id:c,name:u.hoTen||n.split("@")[0],email:n,phone:u.soDienThoai||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(u.hoTen||n.split("@")[0])}&background=007bff&color=fff`,joinDate:u.ngayTao||new Date().toISOString().split("T")[0],totalOrders:u.tongDonHang||0,totalSpent:u.tongChiTieu||0,role:d===3?"CUSTOMER":"USER",loginMethod:g?"google":"traditional",customerInfo:u,userRole:d,userCode:c};return He.value=w,ss({...w,triggerEvent:!1}),console.log(" Profile validation completed successfully"),{success:!0,user:w}}catch(e){return console.error(" Profile validation failed:",e),(e.message.includes("Token khng hp l")||e.message.includes("Khng c token"))&&ll(),{success:!1,error:e.message}}},wf=async e=>{try{const t=mt("easymart-token");if(!t)throw new Error("Khng c token xc thc");const n=await Cs();if(!n.success)throw new Error(n.error);const{userCode:s}=He.value,o=`${le.BASE_URL}/api/khachhang/by-nguoidung/${s}`;console.log(" Update customer endpoint:",o),console.log(" Update data being sent:",e);const r=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.json();if(console.log(" Update response:",a),a?.success||a?.result?.success||a?.message?.includes("thnh cng"))return console.log(" Update successful, refreshing user data..."),await Cs(),{success:!0,message:"Cp nht profile thnh cng!"};if(console.log(" Update response format unexpected:",a),r.ok)return console.log(" Update successful (status 200), refreshing user data..."),await Cs(),{success:!0,message:"Cp nht profile thnh cng!"};throw new Error(a?.message||a?.error||"Cp nht profile tht bi")}catch(t){return console.error(" Update profile failed:",t),{success:!1,error:t.message}}},je=async(e,t={})=>{try{const n=await fetch(tf(e),{headers:{"Content-Type":"application/json",...t.headers},...t});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("API call error:",n),n}},Tf=async(e,t)=>{try{if(e==="demo@easymart.vn"){const n={id:"DEMO_USER",name:"Demo User",email:e,phone:"0123456789",avatar:"https://ui-avatars.com/api/?name=Demo+User&background=007bff&color=fff",joinDate:new Date().toISOString().split("T")[0],totalOrders:5,totalSpent:15e5,role:"USER",loginMethod:"traditional"};return ss(n),{success:!0,user:n}}try{const n=await je(le.AUTH.LOGIN,{method:"POST",body:JSON.stringify({email:e,matKhau:t})});if(n&&n.result&&n.result.authenticated){const s=n.result;s.token&&sr("easymart-token",s.token);const o={id:"USER_"+Date.now(),name:e.split("@")[0],email:e,phone:"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.split("@")[0])}&background=007bff&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"};ss(o);try{const r=await Ke(()=>Promise.resolve().then(()=>ur),void 0);if(r&&typeof r.useCart=="function"){const{syncLocalCartToDBViaEndpoint:a,persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=r.useCart();if(a?!(await a())?.success&&l&&await l():l&&await l(),c){const u=mt("easymart-token"),f="cart-merged-for-token";u&&sessionStorage.getItem(f)!==u&&(!await c()&&d&&await d(),sessionStorage.setItem(f,u))}}}catch(r){console.warn("Cart merge after login failed (non-blocking):",r?.message||r)}return{success:!0,user:o,message:s.message}}else return{success:!1,error:n?.result?.message||"Email hoc mt khu khng ng"}}catch(n){return console.error("Login API error:",n),{success:!1,error:"ng nhp tht bi. Vui lng kim tra li thng tin."}}}catch(n){return console.error("Login error:",n),{success:!1,error:"ng nhp tht bi. Vui lng th li."}}},_f=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Google OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Google credential payload:",t),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google login error:",t),{success:!1,error:"ng nhp vi Google tht bi. Vui lng th li."}}},Cf=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Facebook OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Facebook credential payload:",t),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook login error:",t),{success:!1,error:"ng nhp vi Facebook tht bi. Vui lng th li."}}},Sf=async(e,t,n="",s,o,r="")=>{try{if(s!==o)return{success:!1,error:"Mt khu khng khp!"};if(n&&n.trim()&&!/^[0-9]{10,11}$/.test(n))return{success:!1,error:"S in thoi phi c 10-11 ch s!"};try{const c=await il(t);if(c&&c.exists)return{success:!1,error:"Email  tn ti trong h thng!"}}catch(c){console.warn("Email check failed, proceeding anyway:",c)}const a={email:t,matKhau:s,hoTen:e,sdt:n||"",diaChi:r||""};console.log(" Sending register data:",a);const l=await je(le.USER.REGISTER,{method:"POST",body:JSON.stringify(a)});if(console.log(" Received register response:",l),l&&l.login_info&&l.login_info.email){const c=l.login_info;return{success:!0,user:{id:"CUSTOMER_"+Date.now(),name:e,email:c.email,phone:n||"",address:r||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=28a745&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"},message:c.message||"ng k thnh cng! Vui lng ng nhp  tip tc."}}else return{success:!1,error:"ng k tht bi - Khng nhn c thng tin xc nhn t server"}}catch(a){return console.error("Register error:",a),{success:!1,error:"ng k tht bi. Vui lng th li."}}},kf=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Google OAuth2..."}:e.credential?(console.log("Legacy Google register credential"),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google register error:",t),{success:!1,error:"ng k vi Google tht bi. Vui lng th li."}}},Ef=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Facebook OAuth2..."}:e.credential?(console.log("Legacy Facebook register credential"),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook register error:",t),{success:!1,error:"ng k vi Facebook tht bi. Vui lng th li."}}},Af=async()=>{try{const e=await je(le.OAUTH2.GET_JWT_TOKEN);if(e.success)return sr("easymart-token",e.result.jwt_token),e.result;throw new Error(e.message||"Khng th ly JWT token")}catch(e){throw console.error("Get JWT token error:",e),e}},$f=async()=>{try{const e=mt("easymart-token");if(!e)throw new Error("Khng c token xc thc");const t=await je(le.OAUTH2.USER_INFO,{headers:{Authorization:`Bearer ${e}`}});if(t.success)return t.result;throw new Error(t.message||"Khng th ly thng tin user")}catch(e){throw console.error("Get user info error:",e),e}},If=async()=>{try{return await je(le.OAUTH2.TEST_CONFIG)}catch(e){throw console.error("Test OAuth2 config error:",e),e}},al=async e=>{try{return await je(`${le.OAUTH2.CHECK_EMAIL}?email=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check email duplicate error:",t),t}},il=async e=>{try{const t=le.USER.CHECK_EMAIL.replace("{email}",encodeURIComponent(e));return await je(t)}catch(t){throw console.error("Check user email exists error:",t),t}},rr=async e=>{try{const t=le.USER.GET_BY_EMAIL.replace("{email}",encodeURIComponent(e));return await je(t)}catch(t){throw console.error("Get user by email error:",t),t}},xf=async e=>{try{return await je(`${le.OAUTH2.CHECK_SUB}?sub=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check OAuth2 sub error:",t),t}},Rf=async()=>{try{const e=mt("easymart-token");return e?await je(le.AUTH.STATUS,{method:"GET",headers:{Authorization:`Bearer ${e}`}}):{success:!1,error:"No token found"}}catch(e){return console.error("Check auth status error:",e),{success:!1,error:"Failed to check auth status"}}},Of=async e=>{try{return await je(le.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})})}catch(t){return console.error("Validate token error:",t),{success:!1,error:"Token validation failed"}}},Pf=async()=>{try{const e=mt("easymart-token"),t=localStorage.getItem("easymart-user");if(e&&t){const r=JSON.parse(t);try{const a=await Ke(()=>Promise.resolve().then(()=>ur),void 0);if(a&&typeof a.useCart=="function"){const{persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=a.useCart();if(l&&await l(),c){const u="cart-merged-for-token";sessionStorage.getItem(u)!==e&&(!await c()&&d&&await d(),sessionStorage.setItem(u,e))}}}catch(a){console.warn("Cart merge after OAuth2 login failed (non-blocking):",a?.message||a)}return{success:!0,user:r}}const n=new URLSearchParams(window.location.search),s=n.get("code"),o=n.get("error");if(o)return console.error("OAuth2 error:",o),{success:!1,error:`OAuth2 li: ${o}`};if(s){console.log("Legacy OAuth2 callback with code:",s);try{const r=await je(le.OAUTH2.USER_INFO),a=await je(le.OAUTH2.GET_JWT_TOKEN);if(r.success&&a.success){const l=r.result,c=a.result,d=l.email||c.user_email,u=await al(d);if(u.success&&u.result.exists){const f={id:l.maNguoiDung||c.user_info?.maNguoiDung||"OAUTH_USER",name:l.tenNguoiDung||c.user_info?.tenNguoiDung||"OAuth User",email:d,phone:l.soDienThoai||c.user_info?.soDienThoai||"",avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||"OAuth User")}&background=007bff&color=fff`,joinDate:l.ngayTao||new Date().toISOString().split("T")[0],totalOrders:l.tongDonHang||0,totalSpent:l.tongChiTieu||0,role:l.vaiTro||c.user_role||"USER",loginMethod:"google",sub:l.sub||c.user_info?.sub};return sr("easymart-token",c.jwt_token),ss(f),{success:!0,user:f}}else return{success:!1,needsRegistration:!0,error:"Ti khon cha tn ti. Vui lng ng k trc.",userInfo:{name:l.tenNguoiDung||c.user_info?.tenNguoiDung||"OAuth User",email:d,avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||"OAuth User")}&background=007bff&color=fff`}}}}catch(r){return console.error("Failed to get user info from APIs:",r),{success:!1,error:"Khng th ly thng tin user t backend"}}}return null}catch(e){return console.error("OAuth2 callback error:",e),{success:!1,error:"X l OAuth2 callback tht bi"}}},ll=async()=>{try{try{const t=await Ke(()=>Promise.resolve().then(()=>ur),void 0);t&&typeof t.useCart=="function"&&(t.useCart().cart.value=[],console.log("[LOGOUT] Cart local state cleared, backend cart preserved"))}catch(t){console.warn("Clear cart state on logout failed (non-blocking):",t?.message||t)}try{localStorage.removeItem("easymart-selected-items"),localStorage.removeItem("easymart-redirect-after-login")}catch{}const e=mt("easymart-token");if(e)try{await je(le.AUTH.LOGOUT,{method:"POST",headers:{Authorization:`Bearer ${e}`}})}catch(t){console.warn("Logout API call failed:",t)}return localStorage.removeItem("easymart-user"),or("easymart-token"),localStorage.removeItem("easymart-user-email"),localStorage.removeItem("easymart-user-role"),localStorage.removeItem("easymart-user-id"),sessionStorage.removeItem("oauth2-frontend-redirect"),sessionStorage.removeItem("google-credential"),sessionStorage.removeItem("oauth2-login-mode"),sessionStorage.removeItem("google-user-info"),sessionStorage.removeItem("pending-oauth-user-info"),sessionStorage.removeItem("pending-google-credential"),sessionStorage.removeItem("pending-facebook-credential"),He.value=null,{success:!0}}catch(e){return console.error("Logout error:",e),localStorage.clear(),sessionStorage.clear(),He.value=null,{success:!1,error:"ng xut c li, nhng  xa d liu local"}}};nl();function os(){return{user:He,isLoggedIn:gf,login:Tf,loginWithGoogle:_f,loginWithFacebook:Cf,register:Sf,registerWithGoogle:kf,registerWithFacebook:Ef,logout:ll,loadUser:nl,forceReloadUser:yf,getJWTToken:Af,getUserInfo:$f,testOAuth2Config:If,checkEmailDuplicate:al,checkUserEmailExists:il,getUserByEmail:rr,checkOAuth2Sub:xf,checkAuthStatus:Rf,validateToken:Of,handleOAuth2Callback:Pf,fetchFullUserData:bf,validateProfileAccess:Cs,updateCustomerProfile:wf,decodeToken:Ws,isTokenValid:zs,initUserFromToken:pf,debugCurrentToken:mf,checkTokenValidity:sl,autoLogoutIfInvalid:vf,performAutoLogout:Ro,updateUserFromValidation:ol,ensureUserComplete:rl}}const we=J([]),En=J(null),An=J(!1),cl=()=>{we.value=[]},us=()=>{},kt=()=>{const e=Se();return e?{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"}},Df=e=>we.value.find(t=>t.productId===e),Lf=ee(()=>we.value.reduce((e,t)=>e+t.quantity,0)),Nf=ee(()=>we.value.reduce((e,t)=>e+(t.product?.price||0)*t.quantity,0)),{user:sn,ensureUserComplete:Uf,validateProfileAccess:Hf}=os(),Jt=async()=>{try{const n=await fetch(`${le.BASE_URL}${me.CART.CURRENT_USER}`,{headers:kt()});if(n.ok){const o=(await n.json().catch(()=>null))?.maKH||null;try{console.log("[CART][RESOLVE_KH] source=current-user maKH=",o)}catch{}if(o)return o}}catch{}if(!sn.value)return null;if(sn.value?.customerInfo?.maKH){try{console.log("[CART][RESOLVE_KH] source=customerInfo maKH=",sn.value.customerInfo.maKH)}catch{}return sn.value.customerInfo.maKH}const e=await Uf().catch(()=>sn.value);if(!e?.customerInfo?.maKH)try{await Hf()}catch{}const t=sn.value?.customerInfo?.maKH||null;try{console.log("[CART][RESOLVE_KH] userId=",e?.id,"maKH=",t)}catch{}return t},rs=async e=>{try{const t=Se();if(!t)return console.warn("[CART][PULL_ITEMS] No token available"),[];const n=`${le.BASE_URL}${me.CART.BY_CUSTOMER_WITH_ITEMS(e)}`;console.log("[CART][PULL_ITEMS][REQ]",n,"with token:",t.substring(0,20)+"...");const s=await fetch(n,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok){console.error("[CART][PULL_ITEMS][FAIL] status=",s.status,"statusText=",s.statusText);const a=await s.text().catch(()=>"Unable to read response");if(console.error("[CART][PULL_ITEMS][RESPONSE_BODY]",a),s.status===401)return console.error("[CART][PULL_ITEMS] Unauthorized - token may be invalid"),[];if(s.status===404){console.error("[CART][PULL_ITEMS] With-items endpoint not found, trying basic cart endpoint...");const l=`${le.BASE_URL}${me.CART.BY_CUSTOMER(e)}`;console.log("[CART][PULL_ITEMS][FALLBACK] Trying basic endpoint:",l);const c=await fetch(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const d=await c.json().catch(()=>({}));return console.log("[CART][PULL_ITEMS][FALLBACK] Basic cart data:",d),Array.isArray(d)?(console.warn("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned empty array - endpoint may be incorrect"),[]):d&&typeof d=="object"?(console.log("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned cart info:",d),[]):(console.warn("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned unexpected format:",d),[])}else{console.error("[CART][PULL_ITEMS][FALLBACK] Basic endpoint also failed:",c.status),console.log("[CART][PULL_ITEMS][FINAL_FALLBACK] Both endpoints failed, attempting to create cart via add endpoint...");try{const d=`${le.BASE_URL}${me.CART_ITEMS.ADD}`,u=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({maSP:"DUMMY_SP",soLuong:1,donGiaHienTai:0})});if(u.ok){console.log("[CART][PULL_ITEMS][FINAL_FALLBACK] Successfully created cart via add endpoint");const f=await u.json().catch(()=>({}));return f.itemId&&await fetch(`${le.BASE_URL}${me.CART_ITEMS.REMOVE(f.itemId)}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).catch(()=>{}),[]}else return console.warn("[CART][PULL_ITEMS][FINAL_FALLBACK] Failed to create cart via add endpoint:",u.status),[]}catch(d){return console.error("[CART][PULL_ITEMS][FINAL_FALLBACK] Error in final fallback:",d),[]}}}else return console.error("[CART][PULL_ITEMS] Other error status:",s.status),[]}const o=await s.json().catch(()=>({})),r=o?.items||[];return console.log("[CART][PULL_ITEMS][OK] maKH=",e,"count=",r.length,"tongTien=",o.tongTien),r.map(a=>({productId:a.sanPham?.maSP||a.maSP||a.productId,quantity:a.soLuong||a.quantity||1,itemId:a.maGHCT||a.maGioHangChiTiet||a.maCTGH||a.id||a.itemId,price:a.donGiaHienTai||0,product:a.sanPham||a.product||null,originalData:a}))}catch(t){return console.error("[CART][PULL_ITEMS][EXCEPTION]",t),[]}},ul=async()=>{if(!Se())return;const t=await Jt();if(!t)return;En.value=t;const n=await Qs();if(n&&n.maKH)console.log("[CART][MERGE] Sync successful"),await $n();else{const s=await rs(t);we.value=s}An.value=!0},Mf=async()=>{await dl()},$n=async()=>{if(!Se()){try{console.warn("[CART][RELOAD] No token available")}catch{}return!1}const t=await Jt();if(!t){try{console.warn("[CART][RELOAD] Could not resolve customer ID")}catch{}return!1}En.value=t;const n=await rs(t);we.value=Array.isArray(n)?n:[],An.value=!0;try{console.log("[CART][RELOAD] maKH=",t,"itemsCount=",we.value.length),we.value.length===0&&console.log("[CART][RELOAD] Cart is empty - this may be normal if backend endpoints are not fully implemented yet")}catch{}return!0},dl=async()=>{if(Se()){try{console.log("[GIOHANG][PERSIST_LOGOUT] local cart disabled, clearing state")}catch{}try{const t=await Qs();if(t&&t.maKH){console.log("[GIOHANG][PERSIST_LOGOUT] Sync successful, using maKH:",t.maKH),En.value=t.maKH,we.value=[],us();return}}catch(t){console.error("[GIOHANG][PERSIST_LOGOUT] Sync error:",t)}we.value=[]}},Qs=async()=>{try{const e=we.value.filter(s=>!s.inactive);if(e.length===0)return console.log("[CART][SYNC] No active items to sync"),null;const t={items:e.map(s=>({maSP:s.productId,soLuong:s.quantity}))};console.log("[CART][SYNC] Syncing items:",t);const n=await fetch(`${le.BASE_URL}${me.CART.SYNC}`,{method:"POST",headers:kt(),body:JSON.stringify(t)});if(n.ok){const s=await n.json();return console.log("[CART][SYNC][SUCCESS]",s),{maKH:s.maKH,items:s.items||[],tongTien:s.tongTien||0}}else{const s=await n.json().catch(()=>({message:"Unknown error"}));throw console.error("[CART][SYNC][ERROR]",n.status,s),new Error(`Sync failed: ${s.message}`)}}catch(e){return console.error("[CART][SYNC][EXCEPTION]",e),null}},Bf=async()=>{try{console.log(" [CART][TEST] Testing cart API connection...");const e=Se();if(!e)return console.error(" [CART][TEST] No token found"),{success:!1,error:"No authentication token"};console.log(" [CART][TEST] Token found:",e.substring(0,20)+"...");const t=await Jt();if(!t)return console.error(" [CART][TEST] Could not resolve customer ID"),{success:!1,error:"Could not resolve customer ID"};console.log(" [CART][TEST] Customer ID resolved:",t);try{const n=`${le.BASE_URL}${me.CART.CURRENT_USER}`;console.log(" [CART][TEST] Testing current-user endpoint:",n);const s=await fetch(n,{headers:kt()});if(console.log(" [CART][TEST] Current-user response status:",s.status),s.ok){const o=await s.json();console.log(" [CART][TEST] Current-user data:",o)}else{const o=await s.text().catch(()=>"Unable to read");console.error(" [CART][TEST] Current-user error:",o)}}catch(n){console.error(" [CART][TEST] Current-user exception:",n)}try{const n=`${le.BASE_URL}${me.CART.BY_CUSTOMER(t)}`;console.log(" [CART][TEST] Testing basic cart endpoint:",n);const s=await fetch(n,{headers:kt()});if(console.log(" [CART][TEST] Basic cart response status:",s.status),s.ok){const o=await s.json();console.log(" [CART][TEST] Basic cart data:",o)}else{const o=await s.text().catch(()=>"Unable to read");console.error(" [CART][TEST] Basic cart error:",o)}}catch(n){console.error(" [CART][TEST] Basic cart exception:",n)}try{const n=`${le.BASE_URL}${me.CART.BY_CUSTOMER_WITH_ITEMS(t)}`;console.log(" [CART][TEST] Testing with-items endpoint:",n);const s=await fetch(n,{headers:kt()});if(console.log(" [CART][TEST] With-items response status:",s.status),s.ok){const o=await s.json();return console.log(" [CART][TEST] With-items data:",o),{success:!0,maKH:t,data:o}}else{const o=await s.text().catch(()=>"Unable to read");return console.error(" [CART][TEST] With-items error:",o),{success:!1,error:`API returned ${s.status}: ${o}`}}}catch(n){return console.error(" [CART][TEST] With-items exception:",n),{success:!1,error:n.message}}}catch(e){return console.error(" [CART][TEST] General exception:",e),{success:!1,error:e.message}}},Js=async(e,t=1,n=null)=>{try{const s={maSP:e,soLuong:t};n!==null&&n>0&&(s.donGiaHienTai=n);const o=await fetch(`${le.BASE_URL}${me.CART_ITEMS.ADD}`,{method:"POST",headers:kt(),body:JSON.stringify(s)});if(o.ok){const r=await o.json();return console.log("[CART][ADD_BACKEND] Success:",r),r}else{const r=await o.json().catch(()=>({message:"Unknown error"}));return console.error("[CART][ADD_BACKEND] Error:",o.status,r),null}}catch(s){return console.error("[CART][ADD_BACKEND] Exception:",s),null}},fl=async(e,t)=>{try{const n=await fetch(`${le.BASE_URL}${me.CART_ITEMS.UPDATE_QTY(e)}?value=${t}`,{method:"PUT",headers:kt()});return n.ok?(console.log("[CART][UPDATE_QTY] Success for itemId:",e),!0):(console.error("[CART][UPDATE_QTY] Error:",n.status),!1)}catch(n){return console.error("[CART][UPDATE_QTY] Exception:",n),!1}},hl=async e=>{try{const t=await fetch(`${le.BASE_URL}${me.CART_ITEMS.REMOVE(e)}`,{method:"DELETE",headers:kt()});return t.ok?(console.log("[CART][REMOVE_ITEM] Success for itemId:",e),!0):(console.error("[CART][REMOVE_ITEM] Error:",t.status),!1)}catch(t){return console.error("[CART][REMOVE_ITEM] Exception:",t),!1}},ar=async()=>{try{const e=await Jt();if(!e)return!1;const t=await fetch(`${le.BASE_URL}${me.CART.CLEAR_ITEMS(e)}`,{method:"DELETE",headers:kt()});return t.ok?(console.log("[CART][CLEAR_ALL] Success for maKH:",e),!0):(console.error("[CART][CLEAR_ALL] Error:",t.status),!1)}catch(e){return console.error("[CART][CLEAR_ALL] Exception:",e),!1}},ir=async e=>{try{const t=await Jt();if(!t)return!1;const n=await fetch(`${le.BASE_URL}${me.CART.UPDATE_STATUS(t)}?value=${e}`,{method:"PUT",headers:kt()});return n.ok?(console.log("[CART][UPDATE_STATUS] Success:",e),!0):(console.error("[CART][UPDATE_STATUS] Error:",n.status),!1)}catch(t){return console.error("[CART][UPDATE_STATUS] Exception:",t),!1}},lr=async()=>{if(!Se())return console.log("[CART][SYNC_IDS] No token available"),!1;const t=await Jt();if(!t)return console.log("[CART][SYNC_IDS] No customer ID available"),!1;try{console.log("[CART][SYNC_IDS] Syncing itemIds from backend...");const n=await rs(t);if(!n||n.length===0)return console.log("[CART][SYNC_IDS] No backend items found"),!1;let s=0;return we.value.forEach(o=>{const r=n.find(a=>a.productId===o.productId);r&&r.itemId?(!o.itemId||o.itemId!==r.itemId)&&(o.itemId=r.itemId,s++,console.log("[CART][SYNC_IDS] Updated itemId for",o.productId,":",r.itemId)):console.warn("[CART][SYNC_IDS] No backend item found for",o.productId)}),s>0?(us(),console.log("[CART][SYNC_IDS] Synced",s,"itemIds")):console.log("[CART][SYNC_IDS] No itemIds needed syncing"),s>0}catch(n){return console.error("[CART][SYNC_IDS] Error syncing itemIds:",n),!1}},Kf=async()=>{if(!Se())throw new Error("Cn ng nhp  thanh ton");try{if(console.log("[CART][CHECKOUT] Processing checkout..."),await ir(1))return console.log("[CART][CHECKOUT] Successfully updated cart status to Paid"),we.value=[],us(),An.value=!1,{success:!0,message:"Thanh ton thnh cng"};throw new Error("Khng th cp nht trng thi gi hng")}catch(t){return console.error("[CART][CHECKOUT] Error:",t),{success:!1,error:t.message}}},Ff=async()=>{if(!Se())throw new Error("Cn ng nhp  hy gi hng");try{if(console.log("[CART][CANCEL] Cancelling cart..."),await ir(2))return console.log("[CART][CANCEL] Successfully cancelled cart"),we.value=[],us(),An.value=!1,{success:!0,message:" hy gi hng"};throw new Error("Khng th hy gi hng")}catch(t){return console.error("[CART][CANCEL] Error:",t),{success:!1,error:t.message}}},cr=async(e,t=1,n=null)=>{try{console.log("[CART][ADD] productId=",e,"quantity=",t)}catch{}if(!Se()){try{sessionStorage.setItem("pending-cart-add",JSON.stringify({productId:e,quantity:t})),typeof window<"u"&&(sessionStorage.setItem("easymart-redirect-after-login",window.location.pathname||"/"),window.location.href="/login")}catch{}return{success:!1,needsLogin:!0}}let o=!0,r=n,a=null;try{if(n)typeof n.trangThai<"u"?(o=n.trangThai===1,a=n.trangThai):typeof n.isActive<"u"?(o=!!n.isActive,a=n.isActive?"active":"inactive"):(o=!0,a="unknown");else{const l=await fetch(`${le.BASE_URL}${me.PRODUCTS.BY_ID(e)}`);if(l.ok){const c=await l.json();r=c,typeof c.trangThai<"u"?(o=c.trangThai===1,a=c.trangThai):typeof c.isActive<"u"&&(o=!!c.isActive,a=c.isActive?"active":"inactive")}}}catch(l){console.warn("[CART][ADD] Could not check product status:",l),o=!0,a="unknown"}if(!o)return console.warn("[CART][ADD] Product is inactive, skip add:",e,"status:",a),typeof window<"u"&&alert(` Sn phm ${e} hin khng kh dng!

Trng thi: ${a===0?"Ngng bn":"Khng kh dng"}

Vui lng chn sn phm khc hoc lin h admin  kch hot sn phm.`),{success:!1,inactive:!0,message:`Sn phm ${e} hin khng kh dng (trng thi: ${a})`};try{console.log("[CART][ADD] Adding to backend:",e,"quantity:",t);const l=r?.giaHienTai||r?.price||0;if(await Js(e,t,l))return await $n(),{success:!0,message:` thm ${t} sn phm vo gi hng`}}catch(l){return console.error("[CART][ADD] Backend add error:",l),typeof window<"u"&&alert(` Khng th thm sn phm vo gi hng!

Li: ${l.message||"Li khng xc nh"}

Vui lng th li sau hoc lin h admin.`),{success:!1,error:l.message||"Khng th thm vo gi hng"}}return{success:!1,error:"Khng th thm vo gi hng"}},Oo=async e=>{const t=we.value.findIndex(n=>n.productId===e);if(t!==-1){const n=we.value[t];if(Se())try{if(!n.itemId){console.log("[CART][REMOVE] Item missing itemId, syncing from backend..."),await lr();const o=we.value.find(r=>r.productId===e);o?.itemId&&(n.itemId=o.itemId)}if(n.itemId)console.log("[CART][REMOVE] Removing from backend:",n.itemId),await hl(n.itemId)?console.log("[CART][REMOVE] Successfully removed from backend"):console.warn("[CART][REMOVE] Failed to remove from backend, continuing with local removal");else{console.log("[CART][REMOVE] No itemId found, using fallback method");const o=we.value.filter(r=>r.productId!==e);await ar();for(const r of o)r.inactive||await Js(r.productId,r.quantity,r.product?.giaHienTai||r.price||0)}}catch(o){console.error("[CART][REMOVE] Backend removal error:",o)}we.value.splice(t,1),console.log("[CART][REMOVE] Removed from local cart:",e)}},Vf=async(e,t)=>{const n=Df(e);if(n)if(t<=0)await Oo(e);else{if(Se())try{if(!n.itemId){console.log("[CART][UPDATE_QTY] Item missing itemId, syncing from backend..."),await lr();const o=we.value.find(r=>r.productId===e);o?.itemId&&(n.itemId=o.itemId)}if(n.itemId)console.log("[CART][UPDATE_QTY] Updating backend quantity:",n.itemId,"to",t),await fl(n.itemId,t)?console.log("[CART][UPDATE_QTY] Successfully updated backend"):console.warn("[CART][UPDATE_QTY] Failed to update backend, continuing with local update");else{console.log("[CART][UPDATE_QTY] No itemId found, using fallback method"),await Oo(e),await cr(e,t,n.product);return}}catch(o){console.error("[CART][UPDATE_QTY] Backend update error:",o)}n.quantity=t,console.log("[CART][UPDATE_QTY] Updated local quantity:",e,"to",t)}},Gf=async()=>{if(Se())try{console.log("[CART][CLEAR] Clearing backend cart..."),await ar()?console.log("[CART][CLEAR] Successfully cleared backend cart"):console.warn("[CART][CLEAR] Failed to clear backend cart, continuing with local clear")}catch(t){console.error("[CART][CLEAR] Backend clear error:",t)}we.value=[],console.log("[CART][CLEAR] Cleared local cart")},jf=e=>we.value.map(t=>{const n=e.find(s=>s.id===t.productId);return{...t,product:n||t.product}}).filter(t=>t.product),qf=e=>we.value.reduce((t,n)=>{const s=e.find(o=>o.id===n.productId);return t+(s?s.price*n.quantity:0)},0);cl();st(sn,async(e,t)=>{const n=Se();if(e&&!t&&n){try{console.log("[GIOHANG][AUTH_WATCH] login detected")}catch{}try{const o=sessionStorage.getItem("pending-cart-add");if(o){const{productId:r,quantity:a}=JSON.parse(o);sessionStorage.removeItem("pending-cart-add"),console.log("[GIOHANG][AUTH_WATCH] Processing pending cart add:",r,a);const l=await cr(r,a);l.success?console.log("[GIOHANG][AUTH_WATCH] Successfully added pending item:",l.message):console.warn("[GIOHANG][AUTH_WATCH] Failed to add pending item:",l.error||l.message)}}catch(o){console.error("[GIOHANG][AUTH_WATCH] Error processing pending cart add:",o)}console.log("[GIOHANG][AUTH_WATCH] Reloading cart from backend..."),await $n()?console.log("[GIOHANG][AUTH_WATCH] Cart reload successful, items count:",we.value.length):console.warn("[GIOHANG][AUTH_WATCH] Cart reload failed, but continuing...")}});const Yf=async e=>{try{console.log("[GIOHANG][FALLBACK] Adding items to cart for maKH:",e);for(const t of we.value)if(t.inactive)console.log("[GIOHANG][FALLBACK] Skipping inactive item:",t.productId);else try{await Js(t.productId,t.quantity,t.product?.giaHienTai||t.product?.price||null)?console.log("[GIOHANG][FALLBACK] Item added successfully:",t.productId):console.error("[GIOHANG][FALLBACK] Failed to add item:",t.productId)}catch(n){console.error("[GIOHANG][FALLBACK] Exception adding item:",n)}}catch(t){console.error("[GIOHANG][FALLBACK] Error in fallback persist:",t)}};(async()=>{if(Se()){try{console.log("[GIOHANG][INIT] token present, syncing cart...")}catch{}if(we.value.length===0){console.log("[GIOHANG][INIT] Local cart empty, just reloading backend"),await $n();return}const t=await Qs();t&&t.maKH?(console.log("[GIOHANG][INIT] Sync successful, using maKH:",t.maKH),En.value=t.maKH,(!t.items||t.items.length===0)&&(console.warn("[GIOHANG][INIT] Sync returned empty items, trying fallback..."),await Yf(t.maKH)),await $n()):(console.log("[GIOHANG][INIT] Sync failed, using fallback strategy"),await ul())}})();function Xs(){return{cart:we,backendCartId:En,backendReady:An,cartCount:Lf,cartTotal:Nf,addToCart:cr,removeFromCart:Oo,updateCartQuantity:Vf,clearCart:Gf,getCartItemsWithProducts:jf,getCartTotal:qf,loadCart:cl,saveCart:us,addItemToBackendCart:Js,updateItemQuantityInBackend:fl,removeItemFromBackend:hl,clearBackendCart:ar,updateCartStatus:ir,syncItemIdsFromBackend:lr,checkoutCart:Kf,cancelCart:Ff,mergeWithBackendOnLogin:ul,persistLocalToBackendAndClear:dl,reloadCartFromBackend:$n,syncLocalCartToDBViaEndpoint:Qs,testCartAPIConnection:Bf,debugCartState:()=>(console.log("=== CART DEBUG STATE ==="),console.log("Local cart items:",we.value.map(e=>({productId:e.productId,quantity:e.quantity,itemId:e.itemId,hasItemId:!!e.itemId,inactive:e.inactive}))),console.log("Backend cart ID:",En.value),console.log("Backend ready:",An.value),console.log("Token available:",!!Se()),we.value),getLocalCartSnapshot:()=>({count:we.value.length,items:we.value.map(e=>({productId:e.productId,quantity:e.quantity}))}),getBackendCartSnapshot:async()=>{if(!Se())return{maKH:null,items:[]};const t=await Jt();if(!t)return{maKH:null,items:[]};const n=await rs(t);return{maKH:t,items:n}},compareLocalAndBackend:async()=>{const e={count:we.value.length,items:we.value.map(c=>({productId:c.productId,quantity:c.quantity}))},t=Se();let n={maKH:null,items:[]};if(t){const c=await Jt();if(c){const d=await rs(c);n={maKH:c,items:d}}}const s=c=>{const d=new Map;for(const u of c){const f=String(u.productId);d.set(f,(d.get(f)||0)+(u.quantity||0))}return d},o=s(e.items),r=s(n.items),a=new Set([...o.keys(),...r.keys()]),l=[];for(const c of a){const d=o.get(c)||0,u=r.get(c)||0;l.push({productId:c,localQty:d,backendQty:u,equal:d===u})}return{local:e,backend:n,diff:l}}}}const ur=Object.freeze(Object.defineProperty({__proto__:null,persistCartOnLogout:Mf,useCart:Xs},Symbol.toStringTag,{value:"Module"})),Wf={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"y",:"y",:"y",:"y",:"y",:"d",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"Y",:"Y",:"Y",:"Y",:"Y",:"D"};function zf(e){return!e||typeof e!="string"?"":e.split("").map(t=>Wf[t]||t).join("")}function Po(e){return!e||typeof e!="string"?"":zf(e.toLowerCase().trim())}function Do(e,t){if(!e||!t)return!1;const n=Po(e),s=Po(t);return n.includes(s)}function Qf(e,t,n){return!e||!Array.isArray(e)||!t||!n||!Array.isArray(n)?e||[]:Po(t)?e.filter(o=>n.some(r=>{const a=o[r];return a?Do(a,t):!1})):e}class rn{static async getAllCategories(){try{const t=await fetch(`${xt}${me.CATEGORIES.LIST}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).map(s=>({id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:rn.getCategoryIcon(s.tenLoai),color:rn.getCategoryColor(s.tenLoai)}))}catch(t){return console.error("Error fetching categories:",t),rn.getDefaultCategories()}}static async getCategoryById(t){try{const n=await fetch(`${xt}${me.CATEGORIES.BY_ID(t)}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();return{id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:rn.getCategoryIcon(s.tenLoai),color:rn.getCategoryColor(s.tenLoai)}}catch(n){return console.error(`Error fetching category ${t}:`,n),null}}static getCategoryIcon(t){if(!t)return"fas fa-tags";const n={"ti sng":"fas fa-leaf","rau c":"fas fa-carrot",tht:"fas fa-drumstick-bite",c:"fas fa-fish","tri cy":"fas fa-apple-alt","ng lnh":"fas fa-snowflake",kem:"fas fa-ice-cream","ng hp":"fas fa-box",hp:"fas fa-box",lon:"fas fa-cube"," ung":"fas fa-tint",nc:"fas fa-tint",sa:"fas fa-wine-bottle",tr:"fas fa-mug-hot","c ph":"fas fa-coffee",sa:"fas fa-baby","em b":"fas fa-baby","tr em":"fas fa-child","gia v":"fas fa-pepper-hot","du n":"fas fa-oil-can","nc mm":"fas fa-flask",mui:"fas fa-cube","ha phm":"fas fa-soap","ty ra":"fas fa-broom",git:"fas fa-tshirt","v sinh":"fas fa-spray-can"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("n")||s.includes("thc phm")?"fas fa-utensils":s.includes("")?"fas fa-shopping-basket":"fas fa-tags"}static getCategoryColor(t){if(!t)return"primary";const n={"ti sng":"success","rau c":"success",tht:"danger",c:"info","tri cy":"success","ng lnh":"info",kem:"info","ng hp":"warning",hp:"warning",lon:"warning"," ung":"primary",nc:"primary",sa:"info",tr:"success","c ph":"dark",sa:"info","em b":"info","tr em":"info","gia v":"danger","du n":"warning","nc mm":"danger",mui:"light","ha phm":"success","ty ra":"success",git:"info","v sinh":"success"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("n")||s.includes("thc phm")?"success":(s.includes(""),"primary")}static getDefaultCategories(){return[{id:"LSP001",name:"Ti sng",icon:"fas fa-leaf",color:"success",description:"Cc loi rau c qu ti"},{id:"LSP002",name:"ng lnh",icon:"fas fa-snowflake",color:"info",description:"Thc phm ng lnh"},{id:"LSP003",name:" ng hp",icon:"fas fa-box",color:"warning",description:"Thc phm ng hp"},{id:"LSP004",name:" ung",icon:"fas fa-tint",color:"primary",description:"Cc loi nc gii kht"},{id:"LSP005",name:"Sa & em b",icon:"fas fa-baby",color:"info",description:"Sn phm cho tr em"},{id:"LSP006",name:"Gia v & Du n",icon:"fas fa-pepper-hot",color:"danger",description:"Gia v v du n"},{id:"LSP007",name:"Ha phm & Ty ra",icon:"fas fa-soap",color:"success",description:"Sn phm v sinh"}]}}function xn(){const e=J([]),t=J([]),n=J([]),s=J(""),o=J(null),r=J({hours:0,minutes:0,seconds:0}),a=J(!1),{addToCart:l}=Xs(),c=[{id:1,name:"Ti Sng",icon:"fas fa-leaf",color:"success"},{id:2,name:"ng lnh",icon:"fas fa-snowflake",color:"info"},{id:3,name:" ng hp",icon:"fas fa-can-food",color:"warning"},{id:4,name:" Ung",icon:"fas fa-tint",color:"primary"},{id:5,name:"Sa & Em b",icon:"fas fa-baby",color:"info"},{id:6,name:"Gia V & Du n",icon:"fas fa-pepper-hot",color:"danger"},{id:7,name:"Ha Phm & Ty Ra",icon:"fas fa-soap",color:"success"}],d=[{id:1,title:"OMO Gim 20%",description:"p dng cho tt c sn phm OMO",code:"OMO20"},{id:2,title:"Nc git Ariel -15%",description:"n hng t 150k",code:"ARIEL15"},{id:3,title:"Snack Combo - Gim 10%",description:"Mua 2 tng 1",code:"SNACK10"},{id:4,title:"Gim 25k cho n hng > 300k",description:"p dng tt c sn phm",code:"SAVE25K"}],u=ee(()=>e.value.filter(_=>_.isFlashSale)),f=ee(()=>s.value.trim().length<2?[]:Qf(e.value,s.value,["name","description"]).slice(0,5)),h=async _=>{try{const V=await fetch(`${xt}${me.PRODUCTS.BY_CATEGORY_ACTIVE(_)}`);if(!V.ok)throw new Error(`HTTP error! status: ${V.status}`);const R=(await V.json()).map(v=>({id:v.maSP||v.id,name:v.tenSP||v.name,price:v.giaHienTai||v.giaBan||v.price,originalPrice:v.giaGoc||v.originalPrice,categoryId:v.loaiSanPham?.maLoaiSP||v.categoryId,categoryName:v.loaiSanPham?.tenLoai||v.categoryName,image:`${xt}${me.IMAGES.SERVE_IMAGE(v.maSP+"_main.jfif")}`,images:me.IMAGES.PRODUCT_IMAGES(v.maSP).map(F=>`${xt}${F}`),description:v.moTa||v.description,isFlashSale:v.isFlashSale||!1,isActive:v.isActive!==!1,stock:v.trongLuong||v.stock||0,unit:v.donViTinh||v.unit||"ci",rating:v.danhGia||v.rating||4.5,reviews:v.danhGia||v.reviews||[]}));return await D(R)}catch(V){return console.error(`Failed to get products for category ${_} from API:`,V),[]}},g=_=>t.value.find(V=>V.id===_),w=_=>{const V=Number(_),L=Number.isFinite(V)?V:0;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(L)},y=(_,V="success")=>{o.value={message:_,type:V},setTimeout(()=>{o.value=null},3e3)},O=_=>{y(` lu m khuyn mi: ${_}`,"success")},x=()=>{const _=new Date().getTime(),V=new Date;V.setHours(24,0,0,0);const L=V.getTime()-_;r.value={hours:Math.floor(L%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(L%(1e3*60*60)/(1e3*60)),seconds:Math.floor(L%(1e3*60)/1e3)}},T=()=>{x(),setInterval(x,1e3)},b=async()=>{n.value=d,T(),await Promise.all([C(),U()])},C=async()=>{try{a.value=!0;const _=await rn.getAllCategories();t.value=_}catch(_){console.error("Failed to load categories from API, using defaults:",_),t.value=c}finally{a.value=!1}},U=async()=>{try{const _=await fetch(`${xt}${me.PRODUCTS.LIST}`);if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const L=(await _.json()).map(R=>({id:R.maSP||R.id,name:R.tenSP||R.name,price:R.giaHienTai||R.giaBan||R.price,originalPrice:R.giaGoc||R.originalPrice,categoryId:R.loaiSanPham?.maLoaiSP||R.categoryId,categoryName:R.loaiSanPham?.tenLoai||R.categoryName,image:`${xt}${me.IMAGES.SERVE_IMAGE(R.maSP+"_main.jfif")}`,images:me.IMAGES.PRODUCT_IMAGES(R.maSP).map(v=>`${xt}${v}`),description:R.moTa||R.description,isFlashSale:R.isFlashSale||!1,isActive:R.isActive!==!1,stock:R.trongLuong||R.stock||0,unit:R.donViTinh||R.unit||"ci",rating:R.danhGia||R.rating||4.5,reviews:R.danhGia||R.reviews||[]}));e.value=await D(L)}catch(_){console.error("Failed to load products from API:",_),e.value=[]}},D=async _=>await Promise.all(_.map(async L=>{const R=Number(L.price);if(Number.isFinite(R)&&R>0)return L;try{const P=await fetch(`${xt}${me.PRODUCTS.BY_ID(L.id)}`);if(P.ok){const v=await P.json(),$=v.giaHienTai||v.giaBan||v.price||0;return{...L,price:$}}}catch{}return L}));return ct(()=>{b()}),{products:e,categories:t,coupons:n,searchQuery:s,notification:o,countdown:r,isLoadingCategories:a,flashSaleProducts:u,searchResults:f,getProductsByCategory:h,getCategoryById:g,formatPrice:w,showNotification:y,addToCart:l,saveCoupon:O,initializeData:b,loadCategories:C,loadProducts:U}}const Je=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Jf={class:"d-flex align-items-center justify-content-center rounded-circle me-3 bg-white bg-opacity-20",style:{width:"40px",height:"40px"}},Xf={class:"flex-grow-1"},Zf={class:"fw-medium lh-sm"},eh={key:0,class:"mt-2 rounded-pill overflow-hidden bg-white bg-opacity-30",style:{height:"3px"}},th={__name:"Notification",props:{message:{type:String,required:!0},type:{type:String,default:"success",validator:e=>["success","warning","danger","info"].includes(e)},duration:{type:Number,default:4e3},showProgress:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,o=J(100);let r=null,a=null;const l=ee(()=>{const f={success:"fas fa-check-circle",warning:"fas fa-exclamation-triangle",danger:"fas fa-times-circle",info:"fas fa-info-circle"};return f[n.type]||f.success}),c=()=>{d(),s("close")},d=()=>{r&&(clearInterval(r),r=null),a&&(clearTimeout(a),a=null)},u=()=>{if(!n.showProgress)return;const f=100/(n.duration/50);r=setInterval(()=>{o.value=Math.max(0,o.value-f)},50)};return ct(()=>{u(),a=setTimeout(()=>{c()},n.duration)}),Mt(()=>{d()}),(f,h)=>(A(),ls(ei,{to:"body"},[fe(js,{name:"notification","enter-active-class":"animate__animated animate__slideInRight animate__faster","leave-active-class":"animate__animated animate__slideOutRight animate__faster"},{default:Ne(()=>[i("div",{class:ye(["position-fixed top-0 end-0 m-3 shadow-lg rounded-3 border-0 notification-alert d-flex align-items-center",`alert-${e.type}`]),style:{"z-index":"9999","min-width":"350px","max-width":"450px","backdrop-filter":"blur(10px)"},role:"alert"},[i("div",Jf,[i("i",{class:ye(`${l.value} fs-5`)},null,2)]),i("div",Xf,[i("div",Zf,G(e.message),1),e.showProgress?(A(),I("div",eh,[i("div",{class:"h-100 bg-white bg-opacity-80 rounded-pill",style:wn([{transition:"width 0.05s linear"},{width:o.value+"%"}])},null,4)])):he("",!0)]),i("button",{type:"button",class:"btn-close ms-3 opacity-75 hover-scale",onClick:c,"aria-label":"ng"})],2)]),_:1})]))}},nh=Je(th,[["__scopeId","data-v-fc51c166"]]),sh={class:"search-container"},oh={class:"search-icon"},rh={class:"fas fa-search"},ah={class:"spinner-border spinner-border-sm",role:"status"},ih=["placeholder","value"],lh={class:"search-actions"},ch={key:0,class:"quick-search"},uh={class:"dropdown-section"},dh={class:"recent-searches"},fh=["onClick"],hh={class:"dropdown-section"},gh={class:"popular-keywords"},ph=["onClick"],mh={key:1,class:"search-results"},vh={key:0,class:"no-results"},yh={key:1,class:"search-suggestions"},bh={class:"suggestion-items"},wh=["onClick"],Th={key:2,class:"product-results"},_h={class:"results-header"},Ch={class:"section-title"},Sh={class:"product-list"},kh=["onClick"],Eh={class:"product-image"},Ah=["src","alt"],$h={key:0,class:"product-badge"},Ih={class:"product-info"},xh={class:"product-name"},Rh={class:"product-price"},Oh={key:0,class:"original-price"},Ph={class:"current-price"},Dh={class:"product-meta"},Lh={class:"product-rating"},Nh={key:0,class:"out-of-stock-label"},Uh={class:"product-actions"},Hh=["onClick","disabled"],Mh={key:3,class:"category-results"},Bh={class:"category-list"},Kh=["onClick"],Fh={class:"product-count"},Vh={__name:"SearchDropdown",props:{searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart","view-product","view-category"],setup(e,{emit:t}){const n=dn(),s=e,o=t,r=J(null),a=J(!1),l=J(!1),c=J(-1),d=J(0),u=J(null),f=["Tm kim sn phm... (c th tm khng du)","Rau c qu ti ngon...","Tht c hi sn...","Sa v cc sn phm t sa...","Bnh ko  ung..."],h=Dt(["Rau xanh organic","Tht b c","Sa ti"]),g=Dt(["Rau organic","Tht ti","Hi sn","Tri cy","Sa ti","Bnh m"," ung","Gia v"]),w=ee(()=>f[d.value]),y=ee(()=>s.searchQuery.length<2?[]:g.filter(S=>Do(S,s.searchQuery)&&S.toLowerCase()!==s.searchQuery.toLowerCase()).slice(0,3)),O=ee(()=>s.searchResults.slice(0,5)),x=ee(()=>s.searchQuery.length<2?[]:[{id:1,name:"Rau c qu",icon:"fas fa-carrot",color:"success",productCount:24},{id:2,name:"Tht c",icon:"fas fa-fish",color:"danger",productCount:15},{id:3,name:"Sa",icon:"fas fa-glass-whiskey",color:"info",productCount:8}].filter(S=>Do(S.name,s.searchQuery))),T=ee(()=>window.innerWidth<=768),b=S=>{const Q=S.target.value;o("update-search",Q),Q.length>=2&&(l.value=!0,clearTimeout(u.value),u.value=setTimeout(()=>{l.value=!1},500)),a.value=!0,c.value=-1},C=()=>{a.value=!0},U=()=>{setTimeout(()=>{a.value=!1},200)},D=()=>{a.value=!1},_=()=>{r.value?.focus()},V=()=>{o("update-search",""),_()},L=()=>{s.searchQuery.trim()&&(R(s.searchQuery),a.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}}))},R=S=>{const Q=S.trim();Q&&!h.includes(Q)&&(h.unshift(Q),h.length>5&&h.pop())},P=S=>{o("update-search",S),_()},v=S=>{o("update-search",S),_()},$=S=>{o("update-search",S),R(S),_()},F=S=>{R(s.searchQuery),a.value=!1,o("view-product",S.id)},E=S=>{a.value=!1,o("view-category",S.id)},ae=S=>{o("add-to-cart",S)},W=()=>{R(s.searchQuery),a.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}})},Y=S=>(!s.searchQuery||s.searchQuery.length<2,S),Ae=S=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(S),Te=S=>{if(!a.value)return;const Q=y.value.length+O.value.length;switch(S.key){case"ArrowDown":S.preventDefault(),c.value=Math.min(c.value+1,Q-1);break;case"ArrowUp":S.preventDefault(),c.value=Math.max(c.value-1,-1);break;case"Enter":if(S.preventDefault(),c.value>=0)if(c.value<y.value.length)$(y.value[c.value]);else{const j=c.value-y.value.length;F(O.value[j])}else L();break;case"Escape":S.preventDefault(),a.value=!1,r.value?.blur();break}},Ce=()=>{d.value=(d.value+1)%f.length};let re=null;return ct(()=>{re=setInterval(Ce,3e3),document.addEventListener("click",S=>{S.target.closest(".search-container")||(a.value=!1)})}),Mt(()=>{re&&clearInterval(re)}),st(()=>s.searchQuery,S=>{S.length===0&&(l.value=!1)}),(S,Q)=>(A(),I("div",sh,[i("div",{class:"search-wrapper",onClick:_},[i("div",oh,[ft(i("i",rh,null,512),[[es,!l.value]]),ft(i("div",ah,Q[1]||(Q[1]=[i("span",{class:"visually-hidden"},"ang tm kim...",-1)]),512),[[es,l.value]])]),i("input",{ref_key:"searchInput",ref:r,type:"text",class:"form-control search-input",placeholder:w.value,value:e.searchQuery,onInput:b,onFocus:C,onBlur:U,onKeydown:Te,autocomplete:"off",spellcheck:"false"},null,40,ih),i("div",lh,[e.searchQuery.length>0?(A(),I("button",{key:0,class:"btn btn-sm clear-btn",onClick:V,type:"button",title:"Xa tm kim"},Q[2]||(Q[2]=[i("i",{class:"fas fa-times"},null,-1)]))):he("",!0),i("button",{class:"btn btn-primary search-btn",onClick:L,type:"button",title:"Tm kim"},Q[3]||(Q[3]=[i("i",{class:"fas fa-search"},null,-1)]))])]),fe(js,{name:"dropdown"},{default:Ne(()=>[a.value?(A(),I("div",{key:0,class:"search-dropdown",onMousedown:Q[0]||(Q[0]=Be(()=>{},["prevent"]))},[e.searchQuery.length===0?(A(),I("div",ch,[i("div",uh,[Q[5]||(Q[5]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-history text-muted me-2"}),z("Tm kim gn y ")],-1)),i("div",dh,[(A(!0),I(ve,null,Le(h,j=>(A(),I("button",{key:j,class:"btn btn-sm btn-outline-secondary recent-search-item",onClick:Ie=>P(j)},[Q[4]||(Q[4]=i("i",{class:"fas fa-history me-2"},null,-1)),z(G(j),1)],8,fh))),128))])]),i("div",hh,[Q[6]||(Q[6]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-fire text-danger me-2"}),z("T kha ph bin ")],-1)),i("div",gh,[(A(!0),I(ve,null,Le(g,j=>(A(),I("button",{key:j,class:"btn btn-sm btn-outline-primary popular-keyword",onClick:Ie=>v(j)},G(j),9,ph))),128))])])])):(A(),I("div",mh,[e.searchResults.length===0&&!l.value?(A(),I("div",vh,Q[7]||(Q[7]=[i("div",{class:"no-results-content"},[i("i",{class:"fas fa-search-minus text-muted"}),i("h6",null,"Khng tm thy kt qu"),i("p",null,"Th tm kim vi t kha khc")],-1)]))):he("",!0),y.value.length>0?(A(),I("div",yh,[Q[9]||(Q[9]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-lightbulb text-warning me-2"}),z("Gi  tm kim ")],-1)),i("div",bh,[(A(!0),I(ve,null,Le(y.value,(j,Ie)=>(A(),I("button",{key:j,class:ye(["suggestion-item",{active:c.value===Ie}]),onClick:N=>$(j)},[Q[8]||(Q[8]=i("i",{class:"fas fa-search me-2"},null,-1)),z(G(j),1)],10,wh))),128))])])):he("",!0),e.searchResults.length>0?(A(),I("div",Th,[i("div",_h,[i("h6",Ch,[Q[10]||(Q[10]=i("i",{class:"fas fa-box text-primary me-2"},null,-1)),z(" Sn phm ("+G(e.searchResults.length)+") ",1)]),i("button",{class:"btn btn-sm btn-outline-primary view-all-btn",onClick:W}," Xem tt c ")]),i("div",Sh,[(A(!0),I(ve,null,Le(O.value,(j,Ie)=>(A(),I("div",{key:j.id,class:ye(["product-item",{active:c.value===y.value.length+Ie,"out-of-stock":j.stock===0||j.inStock===!1}]),onClick:N=>F(j)},[i("div",Eh,[i("img",{src:j.image,alt:j.name,loading:"lazy"},null,8,Ah),j.discount?(A(),I("div",$h," -"+G(j.discount)+"% ",1)):he("",!0)]),i("div",Ih,[i("h6",xh,G(Y(j.name)),1),i("div",Rh,[j.originalPrice?(A(),I("span",Oh,G(Ae(j.originalPrice)),1)):he("",!0),i("span",Ph,G(Ae(j.price)),1)]),i("div",Dh,[i("div",Lh,[Q[11]||(Q[11]=i("i",{class:"fas fa-star text-warning"},null,-1)),i("span",null,G(j.rating||4.5),1)]),j.stock===0||j.inStock===!1?(A(),I("div",Nh," Ht hng ")):he("",!0)])]),i("div",Uh,[i("button",{class:"btn btn-sm btn-primary quick-add-btn",onClick:Be(N=>ae(j.id),["stop"]),disabled:j.stock===0||j.inStock===!1,title:"Thm vo gi hng"},Q[12]||(Q[12]=[i("i",{class:"fas fa-cart-plus"},null,-1)]),8,Hh)])],10,kh))),128))])])):he("",!0),x.value.length>0?(A(),I("div",Mh,[Q[13]||(Q[13]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-layer-group text-success me-2"}),z("Danh mc ")],-1)),i("div",Bh,[(A(!0),I(ve,null,Le(x.value,j=>(A(),I("button",{key:j.id,class:"category-item",onClick:Ie=>E(j)},[i("i",{class:ye(`${j.icon} text-${j.color} me-2`)},null,2),z(" "+G(j.name)+" ",1),i("span",Fh,"("+G(j.productCount)+")",1)],8,Kh))),128))])])):he("",!0)])),Q[14]||(Q[14]=i("div",{class:"search-footer"},[i("div",{class:"search-tips"},[i("small",{class:"text-muted"},[i("i",{class:"fas fa-keyboard me-1"}),z(" Enter  tm kim,   iu hng, Esc  ng ")])])],-1))],32)):he("",!0)]),_:1}),a.value&&T.value?(A(),I("div",{key:0,class:"search-overlay",onClick:D})):he("",!0)]))}},Gh=Je(Vh,[["__scopeId","data-v-5509d394"]]);class ut{static async createOrderFromCart(t){try{console.log(" OrderService.createOrderFromCart - Starting invoice creation..."),console.log(" Order data received:",JSON.stringify(t,null,2));const n=Se();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");console.log(" JWT token found:",n.substring(0,20)+"...");const s=`${le.BASE_URL}${me.HOADON.CREATE_FROM_CART}`;if(console.log(" Calling API:",s),console.log(" Request payload:"),console.log("   - maKH:",t.maKH),console.log("   - maNV:",t.maNV||"N/A"),console.log("   - ghiChu:",t.ghiChu||"N/A"),console.log("   - selectedCartItemIds:",t.selectedCartItemIds),console.log("   - trangThai:",t.trangThai||0),!t.selectedCartItemIds||t.selectedCartItemIds.length===0)throw new Error("Phi chn t nht mt item t gi hng  to ha n");console.log(" Creating invoice with selectedCartItemIds:"),console.log("   - selectedCartItemIds:",t.selectedCartItemIds),console.log("   - selectedCartItemIds count:",t.selectedCartItemIds?.length||0);const o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});if(console.log(" API Response status:",o.status),console.log(" API Response ok:",o.ok),console.log(" API Response headers:",Object.fromEntries(o.headers.entries())),!o.ok){const a=await o.json().catch(()=>null);console.error(" API Error response:",a);let l="To ha n tht bi";throw a?.message?l=a.message:a?.error?l=a.error:o.statusText&&(l+=`: ${o.statusText}`),new Error(l)}const r=await o.json();if(console.log(" Invoice creation successful!"),console.log(" Full API Response data:",JSON.stringify(r,null,2)),r.success||(console.warn(" Response success = false, but HTTP status is OK"),console.warn("   - Message:",r.message||"N/A"),console.warn("   - Error:",r.error||"N/A")),console.log(`
 === INVOICE DETAILS (HOADON) ===`),r.result?(console.log(" Invoice result object found in response"),console.log(`   - M ha n: ${r.result.maHD||"N/A"}`),console.log(`   - M khch hng: ${r.result.maKH||"N/A"}`),console.log(`   - M nhn vin: ${r.result.maNV||"N/A"}`),console.log(`   - M khuyn mi: ${r.result.maKM||"N/A"}`),console.log(`   - Ngy lp: ${r.result.ngayLap||"N/A"}`),console.log(`   - Tng tin hng: ${r.result.tongTienHang||"N/A"}`),console.log(`   - Tin gim gi: ${r.result.tienGiamGia||"N/A"}`),console.log(`   - Tng tin: ${r.result.tongTien||"N/A"}`),console.log(`   - Trng thi: ${r.result.trangThai||"N/A"}`),console.log(`   - im tch ly: ${r.result.diemTichLuy||"N/A"}`),console.log(`   - Ghi ch: ${r.result.ghiChu||"N/A"}`)):console.log(" Invoice result object missing from response"),console.log(`
 === INVOICE ITEMS (CHITIETHOADON) ===`),r.result&&r.result.items){console.log(` Chi tit ha n found: ${r.result.items.length} items`),r.result.items.forEach((d,u)=>{console.log(`
    Item ${u+1}:`),console.log(`      - M sn phm: ${d.maSP||"N/A"}`),console.log(`      - Tn sn phm: ${d.tenSP||"N/A"}`),console.log(`      - S lng: ${d.soLuong||"N/A"}`),console.log(`      - n gi bn: ${d.donGiaBan||d.donGia||"N/A"}`),console.log(`      - Thnh tin: ${d.thanhTien||"N/A"}`),console.log(`      - Gim gi: ${d.giamGia||"N/A"}`),console.log(`      - Thnh tin sau gim: ${d.thanhTienSauGiam||"N/A"}`)});const a=r.result.items.length,l=r.result.items.reduce((d,u)=>d+(u.soLuong||0),0),c=r.result.items.reduce((d,u)=>d+(u.thanhTien||0),0);console.log(`
 === SUMMARY ===`),console.log(`   - Tng s sn phm: ${a}`),console.log(`   - Tng s lng: ${l}`),console.log(`   - Tng thnh tin: ${c}`),console.log(`   - Tng tin ha n: ${r.result.tongTien||"N/A"}`)}else console.log(" Chi tit ha n missing or empty"),r.result&&(console.log("   - Invoice result exists but no items"),console.log("   - Result keys:",Object.keys(r.result)));return console.log(`
 === RESPONSE STRUCTURE ===`),console.log("   - Response keys:",Object.keys(r)),console.log("   - success:",r.success),console.log("   - message:",r.message||"N/A"),console.log("   - error:",r.error||"N/A"),console.log("   - result exists:",!!r.result),console.log("   - items exists:",!!(r.result&&r.result.items)),r}catch(n){throw console.error(" Error creating invoice from cart:",n),console.error("   - Error name:",n.name),console.error("   - Error message:",n.message),console.error("   - Error stack:",n.stack),n}}static async getOrdersByCustomer(t){try{const n=Se();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=new Date().getTime(),o=`${le.BASE_URL}${me.HOADON.BY_CUSTOMER(t)}?_t=${s}`,r=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!r.ok)throw new Error(`Ly ha n tht bi: ${r.statusText}`);return await r.json()}catch(n){throw console.error(`Error getting invoices for customer ${t}:`,n),n}}static async getOrdersByCustomerFullDetails(t){try{console.log(" Getting orders with full details for customer:",t);const n=Se();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=new Date().getTime(),o=`${le.BASE_URL}${me.HOADON.BY_CUSTOMER_FULL(t)}?_t=${s}`,r=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(console.log(" Full details API response status:",r.status),!r.ok)throw new Error(`Ly ha n chi tit tht bi: ${r.statusText}`);const a=await r.json();if(console.log(" Orders with full details received:",a),console.log(" Result structure:"),console.log("   - success:",a.success),console.log("   - result is array:",Array.isArray(a.result)),console.log("   - result length:",a.result?.length),a.result&&Array.isArray(a.result)&&a.result.length>0){const l=a.result[0];console.log(" First order structure:"),console.log("   - Keys:",Object.keys(l)),console.log("   - Has chiTietHoaDon:",!!l.chiTietHoaDon),console.log("   - ChiTietHoaDon length:",l.chiTietHoaDon?.length)}return a}catch(n){throw console.error(`Error getting full details for customer ${t}:`,n),n}}static async getOrderById(t){try{const n=Se();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=await fetch(`${le.BASE_URL}${me.HOADON.BY_ID(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`Ly ha n tht bi: ${s.statusText}`);return await s.json()}catch(n){throw console.error(`Error getting invoice ${t}:`,n),n}}static async getOrderDetails(t){try{console.log(" Getting order details for maHD:",t);const n=Se();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");let s=await fetch(`${le.BASE_URL}${me.CHITIETHOADON.BY_HOADON(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(console.log(" Order details API response status:",s.status),!s.ok){console.log(" New API failed, trying fallback methods...");try{if(s=await fetch(`${le.BASE_URL}${me.HOADON.BY_ID_FULL(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}}),console.log(" Full details fallback API response status:",s.status),s.ok){const r=await s.json();if(console.log(" Full invoice data received:",r),r&&r.success&&r.result){const a=r.result;if(a.chiTietHoaDon&&Array.isArray(a.chiTietHoaDon))return console.log(` Found ${a.chiTietHoaDon.length} items in full invoice`),{success:!0,result:a.chiTietHoaDon,message:"Chi tit t ha n full details"}}}}catch(r){console.warn(" Fallback API also failed:",r.message)}try{if(s=await fetch(`${le.BASE_URL}${me.CHITIETHOADON.BY_HOADON_OLD(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}}),console.log(" Old API fallback response status:",s.status),!s.ok)throw new Error(`Tt c API endpoints u tht bi: ${s.statusText}`)}catch(r){throw new Error(`Khng th ly chi tit ha n: ${r.message}`)}}const o=await s.json();return console.log(" Order details received:",o),console.log(" Result structure:"),console.log("   - success:",o.success),console.log("   - result:",o.result),console.log("   - result is array:",Array.isArray(o.result)),console.log("   - result length:",o.result?.length),o.result&&Array.isArray(o.result)&&o.result.length>0&&console.log(" First item in result:",o.result[0]),o}catch(n){throw console.error(`Error getting order details for ${t}:`,n),n}}static async updateOrderStatus(t,n){try{const s=Se();if(!s)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const o=await fetch(`${le.BASE_URL}${me.HOADON.UPDATE_STATUS(t)}?trangThaiMoi=${encodeURIComponent(n)}`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`}});if(!o.ok)throw new Error(`Cp nht trng thi ha n tht bi: ${o.statusText}`);return await o.json()}catch(s){throw console.error(`Error updating invoice ${t} status:`,s),s}}static async cancelOrder(t,n="Khch hng yu cu hy"){try{console.log(" Cancelling order:",t,"with reason:",n);const s=Se();if(!s)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const o=`${le.BASE_URL}${me.HOADON.CANCEL(t)}?lyDoHuy=${encodeURIComponent(n)}`;console.log(" Cancel API URL:",o);const r=await fetch(o,{method:"PATCH",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(console.log(" Cancel API response status:",r.status),!r.ok){let l=r.statusText||"Unknown error";try{const c=await r.json();console.log(" Error response data:",c),c?.message?l=c.message:c?.error?l=c.error:c?.details?l=c.details:typeof c=="string"?l=c:l=JSON.stringify(c)}catch(c){console.warn(" Could not parse error response as JSON:",c);try{const d=await r.text();console.log(" Error response text:",d),d&&(l=d)}catch(d){console.warn(" Could not get error response text:",d)}}throw console.log(" Final error message:",l),new Error(`Hy ha n tht bi: ${l}`)}const a=await r.json();return console.log(" Order cancelled successfully:",a),a}catch(s){throw console.error(`Error cancelling invoice ${t}:`,s),s}}static async getCustomerStatistics(t){try{console.log(" Getting customer statistics for:",t);const n=Se();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=await fetch(`${le.BASE_URL}${me.HOADON.STATISTICS(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(console.log(" Statistics API response status:",s.status),!s.ok)throw new Error(`Ly thng k tht bi: ${s.statusText}`);const o=await s.json();return console.log(" Customer statistics received:",o),o}catch(n){throw console.error(`Error getting customer statistics for ${t}:`,n),n}}static async getCustomerStatusCounts(t){try{console.log(" Getting status counts for customer:",t);const n=Se();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=await fetch(`${le.BASE_URL}${me.HOADON.COUNT_BY_STATUS_CUSTOMER(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(console.log(" Status counts API response status:",s.status),!s.ok)throw new Error(`Ly thng k trng thi tht bi: ${s.statusText}`);const o=await s.json();return console.log(" Status counts received:",o),o}catch(n){throw console.error(`Error getting status counts for ${t}:`,n),n}}static async getOrdersByCustomerAndStatus(t,n){try{console.log(" Getting orders by customer and status:",t,n);const s=Se();if(!s)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const o=await fetch(`${le.BASE_URL}${me.HOADON.BY_CUSTOMER_AND_STATUS(t,n)}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(console.log(" Orders by status API response status:",o.status),!o.ok)throw new Error(`Ly ha n theo trng thi tht bi: ${o.statusText}`);const r=await o.json();return console.log(" Orders by status received:",r),r}catch(s){throw console.error(`Error getting orders by customer ${t} and status ${n}:`,s),s}}}function gl(){const e=J([]),t=J(null),n=J(!1),s=J(null),o=async T=>{try{console.log(" useOrders.createOrderFromCart - Starting..."),console.log(" Order data:",JSON.stringify(T,null,2)),n.value=!0,s.value=null,console.log(" Calling OrderService.createOrderFromCart...");const b=await ut.createOrderFromCart(T);return console.log(" Service result received:",JSON.stringify(b,null,2)),b.success&&b.result?(console.log(" Invoice created successfully, updating local state..."),console.log(`   - Invoice ID: ${b.result.maHD||b.result.id}`),console.log(`   - Customer: ${b.result.maKH}`),console.log(`   - Status: ${b.result.trangThai}`),e.value.unshift(b.result),t.value=b.result,console.log(" Local state updated:"),console.log(`   - Total invoices: ${e.value.length}`),console.log(`   - Current invoice set: ${t.value?"Yes":"No"}`)):(console.log(" Invoice creation result missing success or result data"),console.log("   - success:",b.success),console.log("   - result:",b.result?"Present":"Missing")),b}catch(b){throw console.error(" Error in useOrders.createOrderFromCart:",b),s.value=b.message,console.error("Error creating order from cart:",b),b}finally{n.value=!1,console.log(" createOrderFromCart completed, loading set to false")}},r=async T=>{try{n.value=!0,s.value=null,console.log(" Loading orders with full details for customer:",T);let b,C=!0;try{b=await ut.getOrdersByCustomerFullDetails(T),console.log(" Successfully used full-details API")}catch(_){console.warn(" Full-details API failed, falling back to basic API:",_.message),C=!1,b=await ut.getOrdersByCustomer(T)}let U=[];if(b&&b.success&&Array.isArray(b.result)?(U=b.result,console.log(` Got customer invoices from response.result: ${U.length} orders`)):Array.isArray(b)?(U=b,console.log(` Got customer invoices from direct array: ${U.length} orders`)):(console.warn(" Unexpected response format:",b),U=[]),U.length>0){const _=U[0];console.log(" First invoice structure:"),console.log("   - Keys:",Object.keys(_)),console.log("   - Has chiTietHoaDon:",!!_.chiTietHoaDon),console.log("   - Has chiTietList:",!!_.chiTietList),console.log("   - ChiTietHoaDon length:",_.chiTietHoaDon?.length),console.log("   - ChiTietList length:",_.chiTietList?.length),_.chiTietHoaDon&&_.chiTietHoaDon.length>0?console.log(" First item in chiTietHoaDon:",_.chiTietHoaDon[0]):_.chiTietList&&_.chiTietList.length>0&&console.log(" First item in chiTietList:",_.chiTietList[0])}let D=[];if(C)console.log(" Using full-details API - orders already have complete details"),D=U.map(_=>{const V={..._};return _.chiTietList&&!_.chiTietHoaDon&&(console.log(` Normalizing order ${_.maHD}: chiTietList  chiTietHoaDon`),V.chiTietHoaDon=_.chiTietList,console.log(`   - Converted ${_.chiTietList.length} items`)),V});else{console.log(` Using basic API - loading details for ${U.length} orders...`);const _=3;for(let V=0;V<U.length;V+=_){const L=U.slice(V,V+_),R=await Promise.all(L.map(async P=>{try{if(console.log(` Loading details for order ${P.maHD}`),P.chiTietHoaDon&&Array.isArray(P.chiTietHoaDon)&&P.chiTietHoaDon.length>0)return console.log(` Order ${P.maHD} already has ${P.chiTietHoaDon.length} items in chiTietHoaDon`),P;if(P.chiTietList&&Array.isArray(P.chiTietList)&&P.chiTietList.length>0)return console.log(` Order ${P.maHD} has ${P.chiTietList.length} items in chiTietList, normalizing...`),{...P,chiTietHoaDon:P.chiTietList};const v=await ut.getOrderDetails(P.maHD);let $=[];if(v&&v.success&&Array.isArray(v.result))$=v.result;else if(Array.isArray(v))$=v;else if(v&&v.result){const F=v.result;F.items&&Array.isArray(F.items)?$=F.items:F.chiTietHoaDon&&Array.isArray(F.chiTietHoaDon)?$=F.chiTietHoaDon:(console.warn(` Unexpected details format for order ${P.maHD}:`,v),$=[])}else console.warn(` Unexpected details format for order ${P.maHD}:`,v),$=[];return console.log(` Loaded ${$.length} items for order ${P.maHD}`),{...P,chiTietHoaDon:$}}catch(v){return console.error(` Error loading details for order ${P.maHD}:`,v),{...P,chiTietHoaDon:P.chiTietHoaDon||[]}}}));D.push(...R),console.log(` Batch ${Math.floor(V/_)+1} completed: ${R.length} orders`)}}if(e.value=D,console.log(" All orders processed, final count:",e.value.length),e.value.length>0){const _=e.value.reduce((V,L)=>{const R=L.chiTietHoaDon?.length||L.chiTietList?.length||0;return V+R},0);console.log(` Final summary: ${e.value.length} orders with ${_} total items`),e.value.forEach(V=>{const L=V.chiTietHoaDon?.length||V.chiTietList?.length||0;console.log(`   - Order ${V.maHD}: ${L} items, Status: ${V.trangThai} (${typeof V.trangThai})`)})}return D}catch(b){return s.value=b.message,console.error("Error loading customer invoices:",b),[]}finally{n.value=!1}},a=async T=>{try{n.value=!0,s.value=null;const b=await ut.getOrderById(T);return t.value=b,b}catch(b){return s.value=b.message,console.error("Error loading invoice by ID:",b),null}finally{n.value=!1}},l=async(T,b)=>{try{n.value=!0,s.value=null;const C=await ut.updateOrderStatus(T,b),U=e.value.findIndex(D=>D.id===T||D.maHD===T);return U!==-1&&(e.value[U].trangThai=b),t.value&&(t.value.id===T||t.value.maHD===T)&&(t.value.trangThai=b),C}catch(C){throw s.value=C.message,console.error("Error updating invoice status:",C),C}finally{n.value=!1}},c=T=>{e.value=e.value.filter(b=>b.id!==T&&b.maHD!==T),t.value&&(t.value.id===T||t.value.maHD===T)&&(t.value=null)},d=()=>{e.value=[],t.value=null},u=T=>e.value.find(b=>b.id===T||b.maHD===T)||null,f=T=>e.value.filter(b=>b.trangThai===T),h=async T=>{try{return n.value=!0,s.value=null,await ut.getOrderDetails(T)}catch(b){return s.value=b.message,console.error("Error loading order details:",b),null}finally{n.value=!1}},g=T=>!T||!T.items?0:T.items.reduce((b,C)=>{const U=C.donGia||C.giaBan||C.gia||0,D=C.soLuong||0;return b+U*D},0),w=async(T,b)=>{try{n.value=!0,s.value=null;const C=await ut.cancelOrder(T,b),U=e.value.findIndex(D=>D.id===T||D.maHD===T);return U!==-1&&(e.value[U].trangThai=3),t.value&&(t.value.id===T||t.value.maHD===T)&&(t.value.trangThai=3),C}catch(C){throw s.value=C.message,console.error("Error cancelling order:",C),C}finally{n.value=!1}},y=async T=>{try{return n.value=!0,s.value=null,await ut.getCustomerStatistics(T)}catch(b){return s.value=b.message,console.error("Error loading customer statistics:",b),null}finally{n.value=!1}},O=async T=>{try{return n.value=!0,s.value=null,await ut.getCustomerStatusCounts(T)}catch(b){return s.value=b.message,console.error("Error loading customer status counts:",b),null}finally{n.value=!1}},x=async(T,b)=>{try{n.value=!0,s.value=null;const C=await ut.getOrdersByCustomerAndStatus(T,b);let U=[];return C&&C.success&&Array.isArray(C.result)?U=C.result:Array.isArray(C)?U=C:(console.warn(" Unexpected response format:",C),U=[]),U}catch(C){return s.value=C.message,console.error("Error loading orders by status:",C),[]}finally{n.value=!1}};return{orders:ee(()=>e.value),currentOrder:ee(()=>t.value),loading:ee(()=>n.value),error:ee(()=>s.value),createOrderFromCart:o,loadCustomerOrders:r,loadOrderById:a,loadOrderDetails:h,updateOrderStatus:l,removeOrderFromList:c,clearOrders:d,findOrderById:u,filterOrdersByStatus:f,calculateOrderTotal:g,cancelOrder:w,loadCustomerStatistics:y,loadCustomerStatusCounts:O,loadOrdersByStatus:x}}const jh={class:"cart-dropdown"},qh={class:"nav-link px-3 py-2 rounded-pill position-relative cart-icon-wrapper"},Yh={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-count",style:{"font-size":"0.7rem"}},Wh={class:"card shadow-lg border-0",style:{width:"350px"}},zh={class:"card-header bg-primary text-white d-flex justify-content-between align-items-center"},Qh={class:"mb-0"},Jh={class:"d-flex align-items-center"},Xh={class:"form-check me-3"},Zh=["checked"],eg={class:"card-body p-0",style:{"max-height":"400px","overflow-y":"auto"}},tg={key:0,class:"text-center p-4"},ng={key:1},sg={class:"form-check me-2"},og=["checked","onChange","id"],rg={class:"flex-shrink-0 me-3"},ag=["src","alt"],ig={class:"flex-grow-1"},lg={class:"mb-1 text-truncate",style:{"max-width":"180px"}},cg={class:"d-flex justify-content-between align-items-center"},ug={class:"text-primary fw-bold"},dg={class:"quantity-controls d-flex align-items-center"},fg=["onClick","disabled"],hg={class:"mx-2 fw-bold"},gg=["onClick"],pg={class:"d-flex justify-content-between align-items-center mt-1"},mg={class:"text-muted"},vg=["onClick"],yg={key:0,class:"card-footer bg-light"},bg={class:"d-flex justify-content-between align-items-center mb-2"},wg={class:"text-muted"},Tg={class:"text-primary"},_g={class:"d-grid gap-1"},Cg=["disabled"],Sg={__name:"CartDropdown",setup(e){const t=dn(),{cart:n,cartCount:s,removeFromCart:o,updateCartQuantity:r,reloadCartFromBackend:a,getBackendCartSnapshot:l}=Xs(),{createOrderFromCart:c}=gl(),{products:d,formatPrice:u,showNotification:f}=xn(),h=J(!1),g=J(new Set);let w=null;const y=ee(()=>n.value.map(v=>{const $=d.value.find(F=>F.id===v.productId);return{...v,product:$||v.product}}).filter(v=>v.product));ee(()=>y.value.reduce((v,$)=>v+($.product?.price||0)*$.quantity,0));const O=ee(()=>y.value.filter(v=>g.value.has(v.productId))),x=ee(()=>O.value.reduce((v,$)=>v+($.product?.price||0)*$.quantity,0)),T=()=>{h.value=!0,y.value.length>0&&(g.value.clear(),y.value.forEach(v=>{const $=v.productId||v.maSP;g.value.add($),console.log(` [CartDropdown] Auto-selected item: ${$}`,v)}),console.log(" [CartDropdown] Auto-selected all cart items:",g.value.size),console.log(" [CartDropdown] Selected productIds:",Array.from(g.value)))},b=ee(()=>y.value.length>0&&y.value.every(v=>g.value.has(v.productId))),C=()=>{h.value?h.value=!1:T()},U=()=>{w&&clearTimeout(w),w=setTimeout(()=>{h.value=!1},200)},D=()=>{w&&(clearTimeout(w),w=null),h.value?h.value=!0:T()},_=(v,$)=>{$<=0?V(v):r(v,$)},V=v=>{const $=y.value.find(F=>F.productId===v);$&&(o(v),f(` xa ${$.product.name} khi gi hng!`,"info"))},L=async()=>{try{if(g.value.size===0){f("Vui lng chn sn phm  thanh ton!","warning");return}const v=JSON.parse(localStorage.getItem("easymart-user")||"null");if(!v){const Ce=Array.from(g.value);localStorage.setItem("easymart-selected-items",JSON.stringify(Ce)),localStorage.setItem("easymart-redirect-after-login","/checkout"),f("Vui lng ng nhp  tin hnh thanh ton!","warning"),h.value=!1,t.push("/login");return}h.value=!1,console.log(" [CartDropdown] Loading cart data before checkout..."),await a();const $=n.value;if(console.log(" [CartDropdown] Backend cart items:",$),console.log(" [CartDropdown] Selected items:",Array.from(g.value)),!$||!Array.isArray($)||$.length===0){f("Gi hng trng. Vui lng thm sn phm trc khi thanh ton!","warning");return}const F=[],E=Array.from(g.value);if(console.log(" [CartDropdown] Backend cart structure:",$.map(Ce=>({id:Ce.id,productId:Ce.productId,maSP:Ce.maSP,keys:Object.keys(Ce)}))),E.forEach(Ce=>{const re=$.find(S=>S.productId===Ce||S.maSP===Ce);if(console.log(` [CartDropdown] Looking for productId=${Ce}, found:`,re),re){const S=re.itemId||re.id||re.maGH||re.cartId;S?(F.push(String(S)),console.log(` [CartDropdown] Added cart item ID: ${S}`)):console.warn(" [CartDropdown] Cart item found but no ID field:",Object.keys(re))}else console.warn(` [CartDropdown] No cart item found for productId: ${Ce}`)}),console.log(" [CartDropdown] Selected cart item IDs:",F),F.length===0){console.error(" [CartDropdown] No selected cart item IDs found"),f("Khng tm thy sn phm  chn trong gi hng!","error");return}console.log(" [CartDropdown] Validation passed, proceeding with order creation..."),console.log(" [CartDropdown] User object:",v),console.log(" [CartDropdown] Getting cart snapshot for maKH...");const ae=await l();console.log(" [CartDropdown] Cart snapshot:",ae);const W=ae.maKH||v?.maKH||v?.id||v?.maNguoiDung||localStorage.getItem("easymart-user-id");if(console.log(" [CartDropdown] Resolved maKH:",W),console.log(" [CartDropdown] cartSnapshot.maKH:",ae.maKH),console.log(" [CartDropdown] user.maKH:",v?.maKH),console.log(" [CartDropdown] user.id:",v?.id),!W){console.error(" [CartDropdown] No customer ID found"),f("Khng tm thy thng tin khch hng. Vui lng ng nhp li!","error");return}const Y=v?.maNV||"NV001",Ae={maKH:W,maNV:Y,ghiChu:"t hng t CartDropdown",selectedCartItemIds:F,trangThai:0};console.log(" [CartDropdown] Creating order with payload:",Ae),console.log(" [CartDropdown] Order payload details:"),console.log("   - maKH:",Ae.maKH),console.log("   - maNV:",Ae.maNV),console.log("   - selectedCartItemIds:",Ae.selectedCartItemIds),console.log("   - selectedCartItemIds length:",Ae.selectedCartItemIds.length),f("ang to ha n t gi...","info"),console.log(" [CartDropdown] Calling createOrderFromCart with payload:",Ae);const Te=await c(Ae);if(console.log(" [CartDropdown] createOrderFromCart result:",Te),console.log(" [CartDropdown] Result success:",Te?.success),console.log(" [CartDropdown] Result message:",Te?.message),Te?.success){f("To ha n thnh cng!","success");const Ce={maHD:Te.result?.maHD,maKH:Te.result?.maKH,items:Te.result?.items||[],tongTien:Te.result?.tongTien,ngayLap:Te.result?.ngayLap,trangThai:Te.result?.trangThai};localStorage.setItem("easymart-invoice",JSON.stringify(Ce)),localStorage.setItem("easymart-selected-items",JSON.stringify(F));try{await a(),console.log(" [CartDropdown] Cart reloaded after order creation")}catch(re){console.warn(" [CartDropdown] Failed to reload cart:",re)}console.log(" [CartDropdown] Navigating to checkout in 1 second..."),setTimeout(()=>{console.log(' [CartDropdown] Executing router.push("/checkout")'),t.push("/checkout").then(()=>{console.log(" [CartDropdown] Successfully navigated to /checkout")}).catch(re=>{console.error(" [CartDropdown] Navigation failed:",re)})},1e3)}else console.error(" [CartDropdown] Order creation failed:",Te),f(Te?.message||"Khng th to ha n","error")}catch(v){console.error(" [CartDropdown] Checkout failed:",v),console.error(" [CartDropdown] Error stack:",v.stack),f(v?.message||"Thanh ton tht bi","error")}},R=v=>{g.value.has(v)?g.value.delete(v):g.value.add(v)},P=()=>{b.value?g.value.clear():y.value.forEach(v=>{g.value.add(v.productId)})};return Mt(()=>{w&&clearTimeout(w)}),(v,$)=>{const F=un("router-link");return A(),I("div",jh,[i("div",{class:"cart-trigger position-relative",onClick:C,onMouseenter:D,onMouseleave:U},[i("div",qh,[$[2]||($[2]=i("i",{class:"fas fa-shopping-bag fs-5"},null,-1)),i("span",Yh,G(K(s)),1)]),$[3]||($[3]=i("i",{class:"fas fa-chevron-down ms-1 text-muted",style:{"font-size":"0.7rem"}},null,-1))],32),ft(i("div",{class:"cart-dropdown-content position-absolute",onMouseenter:D,onMouseleave:U},[i("div",Wh,[i("div",zh,[i("h6",Qh,[$[4]||($[4]=i("i",{class:"fas fa-shopping-cart me-2"},null,-1)),z("Gi hng ("+G(K(s))+") ",1)]),i("div",Jh,[i("div",Xh,[i("input",{class:"form-check-input",type:"checkbox",checked:b.value,onChange:P,id:"selectAllDropdown"},null,40,Zh),$[5]||($[5]=i("label",{class:"form-check-label text-white small",for:"selectAllDropdown"}," Tt c ",-1))]),i("button",{class:"btn btn-sm btn-outline-light",onClick:$[0]||($[0]=E=>h.value=!1)},$[6]||($[6]=[i("i",{class:"fas fa-times"},null,-1)]))])]),i("div",eg,[y.value.length===0?(A(),I("div",tg,$[7]||($[7]=[i("i",{class:"fas fa-shopping-cart text-muted fs-1 mb-3"},null,-1),i("p",{class:"text-muted mb-0"},"Gi hng trng",-1),i("small",{class:"text-muted"},"Thm sn phm  bt u mua sm",-1)]))):(A(),I("div",ng,[(A(!0),I(ve,null,Le(y.value,E=>(A(),I("div",{key:E.productId,class:"cart-item d-flex align-items-center p-3 border-bottom"},[i("div",sg,[i("input",{class:"form-check-input",type:"checkbox",checked:g.value.has(E.productId),onChange:ae=>R(E.productId),id:`dropdown-item-${E.productId}`},null,40,og)]),i("div",rg,[i("img",{src:E.product?.image||"https://via.placeholder.com/60",alt:E.product?.name||"Product",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,ag)]),i("div",ig,[i("h6",lg,G(E.product?.name||"Sn phm"),1),i("div",cg,[i("span",ug,G(K(u)(E.product?.price||0)),1),i("div",dg,[i("button",{class:"btn btn-sm btn-outline-secondary",onClick:ae=>_(E.productId,E.quantity-1),disabled:E.quantity<=1},$[8]||($[8]=[i("i",{class:"fas fa-minus"},null,-1)]),8,fg),i("span",hg,G(E.quantity),1),i("button",{class:"btn btn-sm btn-outline-secondary",onClick:ae=>_(E.productId,E.quantity+1)},$[9]||($[9]=[i("i",{class:"fas fa-plus"},null,-1)]),8,gg)])]),i("div",pg,[i("small",mg," Tng: "+G(K(u)((E.product?.price||0)*E.quantity)),1),i("button",{class:"btn btn-sm btn-outline-danger",onClick:ae=>V(E.productId)},$[10]||($[10]=[i("i",{class:"fas fa-trash"},null,-1)]),8,vg)])])]))),128))]))]),y.value.length>0?(A(),I("div",yg,[i("div",bg,[i("small",wg," chn: "+G(g.value.size)+"/"+G(y.value.length)+" sn phm",1),i("strong",Tg,G(K(u)(x.value)),1)]),i("div",_g,[fe(F,{to:"/cart",class:"btn btn-outline-primary w-100 py-2",onClick:$[1]||($[1]=E=>h.value=!1)},{default:Ne(()=>$[11]||($[11]=[i("i",{class:"fas fa-shopping-cart me-2"},null,-1),z("Xem gi hng ")])),_:1,__:[11]}),i("button",{class:"btn btn-primary w-100 py-2",onClick:L,disabled:g.value.size===0},[$[12]||($[12]=i("i",{class:"fas fa-credit-card me-2"},null,-1)),z("Thanh ton ("+G(g.value.size)+") ",1)],8,Cg)])])):he("",!0)])],544),[[es,h.value]])])}}},kg=Je(Sg,[["__scopeId","data-v-11fadf92"]]),Eg={class:"navbar navbar-expand-lg navbar-light main-nav shadow-sm py-3"},Ag={class:"container"},$g={class:"flex-grow-1 mx-4"},Ig={class:"collapse navbar-collapse",id:"navbarNav"},xg={class:"navbar-nav ms-auto align-items-center"},Rg=["aria-expanded"],Og={class:"nav-item"},Pg={class:"dropdown-item-text text-center mb-2"},Dg={class:"fw-bold"},Lg={class:"small text-muted"},Ng={__name:"Header",props:{categories:{type:Array,required:!0},searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart"],setup(e,{emit:t}){const{user:n,isLoggedIn:s,logout:o}=os(),r=dn(),a=J(!1),l=J(!1),c=J(!1),d=J(!0),u=J(0),f=J("up"),h=J(null),g=J(null),w=()=>{h.value&&(clearTimeout(h.value),h.value=null),a.value=!0,l.value=!1,zn(()=>{const P=document.getElementById("category-trigger"),v=document.querySelector(".category-dropdown");if(P&&v){const $=P.getBoundingClientRect();v.style.top=`${$.bottom+8}px`,v.style.left=`${$.left}px`,v.style.right="auto"}})},y=()=>{h.value=setTimeout(()=>{a.value=!1},200)},O=()=>{h.value&&(clearTimeout(h.value),h.value=null)},x=()=>{g.value&&(clearTimeout(g.value),g.value=null),l.value=!0,a.value=!1,zn(()=>{const P=document.getElementById("account-trigger"),v=document.querySelector(".account-dropdown");if(P&&v){const $=P.getBoundingClientRect();v.style.top=`${$.bottom+8}px`,v.style.left=`${$.left}px`,v.style.right="auto"}})},T=()=>{g.value=setTimeout(()=>{l.value=!1},200)},b=()=>{g.value&&(clearTimeout(g.value),g.value=null)},C=P=>{!P.target.closest(".dropdown")&&!P.target.closest(".cart-dropdown")&&(a.value=!1,l.value=!1)},U=()=>{const P=window.scrollY;c.value=P>50,P>u.value?f.value="down":f.value="up",P<10?d.value=!0:f.value==="down"&&P>100?(d.value=!1,a.value=!1,l.value=!1):f.value==="up"&&(d.value=!0),D(),u.value=P},D=()=>{if(a.value){const P=document.getElementById("category-trigger"),v=document.querySelector(".category-dropdown");if(P&&v){const $=P.getBoundingClientRect();v.style.top=`${$.bottom+8}px`,v.style.left=`${$.left}px`,v.style.right="auto"}}if(l.value){const P=document.getElementById("account-trigger"),v=document.querySelector(".account-dropdown");if(P&&v){const $=P.getBoundingClientRect();v.style.top=`${$.bottom+8}px`,v.style.left=`${$.left}px`,v.style.right="auto"}}},_=()=>{D()};let V=null;const L=()=>{V===null&&(V=setTimeout(()=>{U(),V=null},10))},R=async()=>{try{const P=await o();l.value=!1,P.success||console.warn("Logout warning:",P.error),r.push("/")}catch(P){console.error("Logout error:",P),r.push("/")}};return ct(()=>{document.addEventListener("click",C),window.addEventListener("scroll",L,{passive:!0}),window.addEventListener("resize",_,{passive:!0});const P=()=>{};window.addEventListener("user-updated",P),U()}),Mt(()=>{document.removeEventListener("click",C),window.removeEventListener("scroll",L),window.removeEventListener("resize",_),window.removeEventListener("user-updated",handleUserUpdated),h.value&&clearTimeout(h.value),g.value&&clearTimeout(g.value),V!==null&&(clearTimeout(V),V=null)}),(P,v)=>{const $=un("router-link");return A(),I(ve,null,[i("header",{class:ye(["header-container fixed-top",{"header-scrolled":c.value,"header-visible":d.value,"header-hidden":!d.value}])},[i("div",{class:ye(["top-bar py-2 border-bottom",{"top-bar-hidden":!d.value}])},v[4]||(v[4]=[Lt('<div class="container" data-v-ebaba0a3><div class="row align-items-center" data-v-ebaba0a3><div class="col-md-6" data-v-ebaba0a3><small class="text-muted" data-v-ebaba0a3><i class="fas fa-phone-alt text-primary me-2" data-v-ebaba0a3></i>Hotline: 1900 1234 | <i class="fas fa-envelope text-primary ms-3 me-2" data-v-ebaba0a3></i>cskh@easymart.vn </small></div><div class="col-md-6 text-end" data-v-ebaba0a3><small class="text-muted" data-v-ebaba0a3><i class="fas fa-truck text-primary me-2" data-v-ebaba0a3></i>Min ph vn chuyn n hng t 200k </small></div></div></div>',1)]),2),i("nav",Eg,[i("div",Ag,[fe($,{to:"/",class:"navbar-brand fw-bold text-primary fs-4"},{default:Ne(()=>v[5]||(v[5]=[i("i",{class:"fas fa-shopping-cart me-2"},null,-1),z("EasyMart ")])),_:1,__:[5]}),i("div",$g,[fe(Gh,{searchQuery:e.searchQuery,searchResults:e.searchResults,onUpdateSearch:v[0]||(v[0]=F=>P.$emit("update-search",F)),onAddToCart:v[1]||(v[1]=F=>P.$emit("add-to-cart",F))},null,8,["searchQuery","searchResults"])]),v[8]||(v[8]=i("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[i("span",{class:"navbar-toggler-icon"})],-1)),i("div",Ig,[i("ul",xg,[i("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:w,onMouseleave:y},[fe($,{to:"/categories",class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",role:"button","aria-expanded":a.value,id:"category-trigger"},{default:Ne(()=>v[6]||(v[6]=[i("i",{class:"fas fa-th-large me-2"},null,-1),z("Danh mc ")])),_:1,__:[6]},8,["aria-expanded"])],32),i("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:x,onMouseleave:T},[i("a",{class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",href:"#",role:"button","aria-expanded":l.value,id:"account-trigger"},v[7]||(v[7]=[i("i",{class:"fas fa-user me-2"},null,-1),z("Ti khon ")]),8,Rg)],32),i("li",Og,[fe(kg)])])])])])],2),(A(),ls(ei,{to:"body"},[a.value?(A(),I("ul",{key:0,class:ye(["dropdown-menu dropdown-menu-end category-dropdown",{show:a.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:O,onMouseleave:y},[(A(!0),I(ve,null,Le(e.categories,F=>(A(),I("li",{key:F.id},[fe($,{to:{name:"Category",params:{id:F.id}},class:"dropdown-item rounded-2 mx-2 my-1",onClick:v[2]||(v[2]=E=>a.value=!1)},{default:Ne(()=>[i("i",{class:ye(`${F.icon} text-${F.color} me-3`)},null,2),z(G(F.name),1)]),_:2},1032,["to"])]))),128))],34)):he("",!0),l.value?(A(),I("ul",{key:1,class:ye(["dropdown-menu dropdown-menu-end account-dropdown",{show:l.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:b,onMouseleave:T},[K(s)?(A(),I(ve,{key:0},[i("li",Pg,[v[9]||(v[9]=i("i",{class:"fas fa-user-circle fa-2x text-primary mb-2"},null,-1)),i("div",Dg,G(K(n)?.name||"Ti khon ca bn"),1),i("div",Lg,G(K(n)?.email),1)]),i("li",null,[fe($,{to:"/profile",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ne(()=>v[10]||(v[10]=[i("i",{class:"fas fa-user me-3 text-primary"},null,-1),z("Thng tin ti khon")])),_:1,__:[10]})]),i("li",null,[fe($,{to:"/orders",class:"dropdown-item rounded-2 mx-2 my-1",onClick:v[3]||(v[3]=F=>l.value=!1)},{default:Ne(()=>v[11]||(v[11]=[i("i",{class:"fas fa-box me-3 text-success"},null,-1),z("n hng ca ti")])),_:1,__:[11]})]),i("li",null,[fe($,{to:"/wishlist",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ne(()=>v[12]||(v[12]=[i("i",{class:"fas fa-heart me-3 text-danger"},null,-1),z("Sn phm yu thch")])),_:1,__:[12]})]),v[14]||(v[14]=i("li",null,[i("hr",{class:"dropdown-divider"})],-1)),i("li",null,[i("a",{href:"#",class:"dropdown-item rounded-2 mx-2 my-1 text-danger",onClick:Be(R,["prevent"])},v[13]||(v[13]=[i("i",{class:"fas fa-sign-out-alt me-3"},null,-1),z("ng xut")]))])],64)):(A(),I(ve,{key:1},[i("li",null,[fe($,{to:"/login",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ne(()=>v[15]||(v[15]=[i("i",{class:"fas fa-sign-in-alt text-primary me-3"},null,-1),z("ng nhp")])),_:1,__:[15]})]),i("li",null,[fe($,{to:"/register",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ne(()=>v[16]||(v[16]=[i("i",{class:"fas fa-user-plus text-primary me-3"},null,-1),z("ng k")])),_:1,__:[16]})])],64))],34)):he("",!0)]))],64)}}},Ug=Je(Ng,[["__scopeId","data-v-ebaba0a3"]]),Hg={class:"main-footer"},Mg={class:"footer-content"},Bg={class:"container"},Kg={class:"newsletter-section"},Fg={class:"row align-items-center"},Vg={class:"col-lg-6"},Gg={class:"newsletter-form"},jg={class:"input-group"},qg=["disabled"],Yg={key:0,class:"fas fa-paper-plane"},Wg={key:1,class:"spinner-border spinner-border-sm",role:"status"},zg={class:"footer-main"},Qg={class:"row g-4"},Jg={class:"col-lg-2 col-md-6"},Xg={class:"footer-section"},Zg={class:"footer-links"},ep=["href","onClick"],tp={class:"col-lg-2 col-md-6"},np={class:"footer-section"},sp={class:"footer-links"},op=["href","onClick"],rp={class:"col-lg-3 col-md-12"},ap={class:"footer-section"},ip={class:"social-links"},lp=["href","title","onClick"],cp={class:"app-download"},up={class:"download-buttons"},dp={class:"footer-bottom"},fp={class:"row align-items-center"},hp={class:"col-md-6"},gp={class:"copyright"},pp={class:"copyright-text"},mp={class:"legal-links"},vp={class:"col-md-6"},yp={class:"footer-stats"},bp={class:"stat-item"},wp={class:"stat-item"},Tp={class:"stat-item"},_p={__name:"Footer",setup(e){const t=J(""),n=J(!1),s=J(""),o=J(""),r=J(!1),a=ee(()=>new Date().getFullYear()),l=ee(()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value)),c=ee(()=>o.value==="success"?"fas fa-check-circle":"fas fa-exclamation-circle"),d=Dt([{name:"Gii thiu EasyMart",url:"/about",icon:"fas fa-info-circle"},{name:"Danh sch ca hng",url:"/stores",icon:"fas fa-store"},{name:"Tin tc & S kin",url:"/news",icon:"fas fa-newspaper"},{name:"Tuyn dng",url:"/careers",icon:"fas fa-briefcase"},{name:"Nh u t",url:"/investors",icon:"fas fa-chart-line"}]),u=Dt([{name:"Trung tm tr gip",url:"/help",icon:"fas fa-question-circle"},{name:"Chnh sch i tr",url:"/return-policy",icon:"fas fa-undo-alt"},{name:"Phng thc thanh ton",url:"/payment",icon:"fas fa-credit-card"},{name:"Vn chuyn & Giao hng",url:"/shipping",icon:"fas fa-shipping-fast"},{name:"Khiu ni & Gp ",url:"/feedback",icon:"fas fa-comment-dots"}]),f=Dt([{name:"Facebook",url:"https://facebook.com/easymart",icon:"fab fa-facebook"},{name:"Instagram",url:"https://instagram.com/easymart",icon:"fab fa-instagram"},{name:"YouTube",url:"https://youtube.com/easymart",icon:"fab fa-youtube"},{name:"TikTok",url:"https://tiktok.com/@easymart",icon:"fab fa-tiktok"},{name:"Zalo",url:"https://zalo.me/easymart",icon:"fas fa-comments"}]),h=J(125e3),g=J(35e4),w=J(4.8),y=async()=>{if(!(!l.value||n.value)){n.value=!0,s.value="";try{await new Promise(L=>setTimeout(L,1500)),o.value="success",s.value="ng k thnh cng! Kim tra email  xc nhn.",t.value="",setTimeout(()=>{s.value=""},5e3)}catch{o.value="error",s.value="C li xy ra. Vui lng th li sau.",setTimeout(()=>{s.value=""},3e3)}finally{n.value=!1}}},O=L=>{console.log(`Navigating to: ${L.name}`)},x=L=>{console.log(`Opening ${L.name}`),window.open(L.url,"_blank")},T=L=>{console.log(`Downloading ${L} app`)},b=()=>{console.log("Show privacy policy")},C=()=>{console.log("Show terms of service")},U=()=>{console.log("Show cookie policy")},D=L=>new Intl.NumberFormat("vi-VN").format(L),_=()=>{window.scrollTo({top:0,behavior:"smooth"})},V=()=>{r.value=window.scrollY>300};return ct(()=>{window.addEventListener("scroll",V)}),Mt(()=>{window.removeEventListener("scroll",V)}),(L,R)=>(A(),I("footer",Hg,[i("div",Mg,[i("div",Bg,[i("div",Kg,[i("div",Fg,[R[4]||(R[4]=i("div",{class:"col-lg-6"},[i("div",{class:"newsletter-content"},[i("h4",{class:"newsletter-title"},"ng k nhn tin khuyn mi"),i("p",{class:"newsletter-subtitle"}," Nhn ngay thng tin v cc chng trnh u i mi nht t EasyMart ")])],-1)),i("div",Vg,[i("div",Gg,[i("div",jg,[ft(i("input",{type:"email",class:"form-control newsletter-input",placeholder:"Nhp email ca bn...","onUpdate:modelValue":R[0]||(R[0]=P=>t.value=P),onKeyup:ju(y,["enter"])},null,544),[[_n,t.value]]),i("button",{class:"btn btn-primary newsletter-btn",onClick:y,disabled:n.value||!l.value},[n.value?(A(),I("div",Wg,R[3]||(R[3]=[i("span",{class:"visually-hidden"},"Loading...",-1)]))):(A(),I("i",Yg)),z(" "+G(n.value?"ang ng k...":"ng k"),1)],8,qg)]),s.value?(A(),I("div",{key:0,class:ye(["subscription-message",o.value])},[i("i",{class:ye(c.value)},null,2),z(" "+G(s.value),1)],2)):he("",!0)])])])]),i("div",zg,[i("div",Qg,[R[12]||(R[12]=Lt('<div class="col-lg-3 col-md-6" data-v-8ac511af><div class="footer-section" data-v-8ac511af><div class="company-info" data-v-8ac511af><div class="footer-logo" data-v-8ac511af><i class="fas fa-shopping-cart logo-icon" data-v-8ac511af></i><span class="logo-text" data-v-8ac511af>EasyMart</span></div><p class="company-description" data-v-8ac511af> Cng Ty C Phn Dch V Thng Mi Tng Hp EasyMart - Mang n nhng sn phm cht lng, dch v tn tm. </p><div class="company-certifications" data-v-8ac511af><div class="cert-item" data-v-8ac511af><i class="fas fa-certificate text-warning" data-v-8ac511af></i><span data-v-8ac511af>Chng nhn ISO 9001</span></div><div class="cert-item" data-v-8ac511af><i class="fas fa-shield-alt text-success" data-v-8ac511af></i><span data-v-8ac511af>An ton thc phm</span></div></div></div></div></div>',1)),i("div",Jg,[i("div",Xg,[R[5]||(R[5]=i("h6",{class:"footer-title"},"V Chng Ti",-1)),i("ul",Zg,[(A(!0),I(ve,null,Le(d,P=>(A(),I("li",{key:P.name,class:"footer-link-item"},[i("a",{href:P.url,class:"footer-link",onClick:Be(v=>O(P),["prevent"])},[i("i",{class:ye(`${P.icon} me-2`)},null,2),z(G(P.name),1)],8,ep)]))),128))])])]),i("div",tp,[i("div",np,[R[6]||(R[6]=i("h6",{class:"footer-title"},"H Tr Khch Hng",-1)),i("ul",sp,[(A(!0),I(ve,null,Le(u,P=>(A(),I("li",{key:P.name,class:"footer-link-item"},[i("a",{href:P.url,class:"footer-link",onClick:Be(v=>O(P),["prevent"])},[i("i",{class:ye(`${P.icon} me-2`)},null,2),z(G(P.name),1)],8,op)]))),128))])])]),R[13]||(R[13]=Lt('<div class="col-lg-2 col-md-6" data-v-8ac511af><div class="footer-section" data-v-8ac511af><h6 class="footer-title" data-v-8ac511af>Lin H</h6><div class="contact-info" data-v-8ac511af><div class="contact-item" data-v-8ac511af><i class="fas fa-map-marker-alt text-primary" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>a ch:</strong><span data-v-8ac511af>123 ng ABC, Qun XYZ, TP.HCM</span></div></div><div class="contact-item" data-v-8ac511af><i class="fas fa-phone-alt text-success" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>Hotline:</strong><a href="tel:19001234" data-v-8ac511af>1900 1234</a></div></div><div class="contact-item" data-v-8ac511af><i class="fas fa-envelope text-info" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>Email:</strong><a href="mailto:cskh@easymart.vn" data-v-8ac511af>cskh@easymart.vn</a></div></div></div></div></div>',1)),i("div",rp,[i("div",ap,[R[10]||(R[10]=i("h6",{class:"footer-title"},"Kt Ni Vi Chng Ti",-1)),i("div",ip,[(A(!0),I(ve,null,Le(f,P=>(A(),I("a",{key:P.name,href:P.url,class:"social-link",title:P.name,onClick:Be(v=>x(P),["prevent"])},[i("i",{class:ye(P.icon)},null,2)],8,lp))),128))]),i("div",cp,[R[9]||(R[9]=i("h6",{class:"download-title"},"Ti ng Dng",-1)),i("div",up,[i("a",{href:"#",class:"download-btn",onClick:R[1]||(R[1]=Be(P=>T("ios"),["prevent"]))},R[7]||(R[7]=[i("i",{class:"fab fa-apple"},null,-1),i("div",{class:"download-text"},[i("small",null,"Download on the"),i("strong",null,"App Store")],-1)])),i("a",{href:"#",class:"download-btn",onClick:R[2]||(R[2]=Be(P=>T("android"),["prevent"]))},R[8]||(R[8]=[i("i",{class:"fab fa-google-play"},null,-1),i("div",{class:"download-text"},[i("small",null,"Get it on"),i("strong",null,"Google Play")],-1)]))])]),R[11]||(R[11]=Lt('<div class="payment-methods" data-v-8ac511af><h6 class="payment-title" data-v-8ac511af>Phng Thc Thanh Ton</h6><div class="payment-icons" data-v-8ac511af><i class="fab fa-cc-visa payment-icon" title="Visa" data-v-8ac511af></i><i class="fab fa-cc-mastercard payment-icon" title="Mastercard" data-v-8ac511af></i><i class="fas fa-money-bill-wave payment-icon" title="Tin mt" data-v-8ac511af></i><i class="fas fa-mobile-alt payment-icon" title="Mobile Banking" data-v-8ac511af></i></div></div>',1))])])])]),i("div",dp,[i("div",fp,[i("div",hp,[i("div",gp,[i("p",pp,"  "+G(a.value)+" EasyMart. Tt c cc quyn c bo lu. ",1),i("div",mp,[i("a",{href:"#",onClick:Be(b,["prevent"])},"Chnh sch bo mt"),R[14]||(R[14]=i("span",{class:"separator"},"|",-1)),i("a",{href:"#",onClick:Be(C,["prevent"])},"iu khon s dng"),R[15]||(R[15]=i("span",{class:"separator"},"|",-1)),i("a",{href:"#",onClick:Be(U,["prevent"])},"Chnh sch Cookie")])])]),i("div",vp,[i("div",yp,[i("div",bp,[R[16]||(R[16]=i("i",{class:"fas fa-users text-primary"},null,-1)),i("span",null,G(D(h.value))+"+ khch hng",1)]),i("div",wp,[R[17]||(R[17]=i("i",{class:"fas fa-shopping-bag text-success"},null,-1)),i("span",null,G(D(g.value))+"+ n hng",1)]),i("div",Tp,[R[18]||(R[18]=i("i",{class:"fas fa-star text-warning"},null,-1)),i("span",null,G(w.value)+"/5 sao",1)])])])])])])]),fe(js,{name:"fade"},{default:Ne(()=>[r.value?(A(),I("button",{key:0,class:"back-to-top-btn",onClick:_,title:"Ln u trang"},R[19]||(R[19]=[i("i",{class:"fas fa-arrow-up"},null,-1)]))):he("",!0)]),_:1})]))}},Cp=Je(_p,[["__scopeId","data-v-8ac511af"]]),Sp={id:"app",class:"bg-white"},kp={class:"router-view-container"},Ep={__name:"App",setup(e){const{notification:t,categories:n,searchQuery:s,searchResults:o,addToCart:r}=xn();return dn(),(a,l)=>{const c=un("router-view");return A(),I("div",Sp,[K(t)?(A(),ls(nh,{key:0,message:K(t).message,type:K(t).type},null,8,["message","type"])):he("",!0),fe(Ug,{categories:K(n),searchQuery:K(s),searchResults:K(o),onUpdateSearch:l[0]||(l[0]=d=>s.value=d),onAddToCart:K(r)},null,8,["categories","searchQuery","searchResults","onAddToCart"]),i("div",kp,[fe(c)]),fe(Cp)])}}},Ap={class:"hero-fullscreen mb-4"},$p={id:"heroCarousel",class:"carousel slide carousel-fade hero-carousel-animated","data-bs-ride":"carousel","data-bs-interval":"4000"},Ip={class:"carousel-indicators"},xp=["data-bs-slide-to"],Rp={class:"carousel-inner overflow-hidden"},Op=["src","alt"],Pp={class:"carousel-caption animated-caption"},Dp={class:"bg-dark bg-opacity-50 rounded-3 p-4"},Lp={class:"fw-bold"},Np={class:"mb-0"},Up={__name:"HeroCarousel",setup(e){const t=[{image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Sn phm ti ngon mi ngy",description:"Cht lng hng u - Gi c cnh tranh"},{image:"https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Mua sm tin li",description:"Giao hng tn ni - Thanh ton a dng"},{image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Khuyn mi hp dn",description:"Tit kim ln n 50% cho cc sn phm chn lc"}];return(n,s)=>(A(),I("div",Ap,[i("div",$p,[i("div",Ip,[(A(),I(ve,null,Le(t,(o,r)=>i("button",{key:r,type:"button","data-bs-target":"#heroCarousel","data-bs-slide-to":r,class:ye({active:r===0})},null,10,xp)),64))]),i("div",Rp,[(A(),I(ve,null,Le(t,(o,r)=>i("div",{key:r,class:ye(["carousel-item animated-slide",{active:r===0}])},[i("img",{src:o.image,class:"d-block w-100 carousel-image",style:{height:"400px","object-fit":"cover"},alt:o.title},null,8,Op),i("div",Pp,[i("div",Dp,[i("h3",Lp,G(o.title),1),i("p",Np,G(o.description),1)])])],2)),64))]),s[0]||(s[0]=Lt('<button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev" data-v-a2750e6a><div class="bg-primary rounded-circle p-3" data-v-a2750e6a><span class="carousel-control-prev-icon" data-v-a2750e6a></span></div></button><button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next" data-v-a2750e6a><div class="bg-primary rounded-circle p-3" data-v-a2750e6a><span class="carousel-control-next-icon" data-v-a2750e6a></span></div></button>',2))])]))}},Hp=Je(Up,[["__scopeId","data-v-a2750e6a"]]);class go{static async getAllProductsWithStock(t){try{let n=`${le.BASE_URL}${me.PRODUCTS.WITH_STOCK_LIST}`;t&&(n+=`?maKho=${encodeURIComponent(t)}`);const s=await fetch(n);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){throw console.error("Error fetching products with stock:",n),n}}static async getProductWithStock(t,n){try{let s=`${le.BASE_URL}${me.PRODUCTS.BY_ID_WITH_STOCK(t)}`;n&&(s+=`?maKho=${encodeURIComponent(n)}`);const o=await fetch(s);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(s){throw console.error(`Error fetching product ${t} with stock:`,s),s}}static async compareMaSP(t=void 0){try{let n=`${le.BASE_URL}${me.INVENTORY.COMPARE_MASP}`;t&&(n+=`?type=${encodeURIComponent(t)}`);const s=await fetch(n);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){throw console.error("Error comparing maSP:",n),n}}static async getSanPhamOnlyMaSP(){return await this.compareMaSP("sanpham-only")}static async getTonKhoOnlyMaSP(){return await this.compareMaSP("tonkho-only")}static async getBothMaSP(){return await this.compareMaSP("both")}}function pl(){const e=J({}),t=J(!1),n=J(null),s=async(w,y)=>{if(!w)return 0;try{t.value=!0,n.value=null;const O=await go.getProductWithStock(w,y),x=O?.soLuongTon??O?.stock??0,T=y?`${w}@${y}`:`${w}`;return e.value[T]=x,x}catch(O){return n.value=O.message,0}finally{t.value=!1}},o=async w=>{try{return t.value=!0,n.value=null,await go.getAllProductsWithStock(w)}catch(y){return n.value=y.message,[]}finally{t.value=!1}},r=ee(()=>w=>{const y=e.value[w];return typeof y=="number"?y>0:!1}),a=ee(()=>w=>{const y=e.value[w];return typeof y!="number"?"Khng xc nh":y===0?"Ht hng":y<=10?"Sp ht hng":"Cn hng"}),l=ee(()=>w=>{const y=e.value[w];return typeof y!="number"?"text-muted":y===0?"text-danger":y<=10?"text-warning":"text-success"}),c=ee(()=>w=>{const y=e.value[w];return typeof y!="number"?"fas fa-question-circle":y===0?"fas fa-times-circle":y<=10?"fas fa-exclamation-triangle":"fas fa-check-circle"}),d=(w,y)=>{const O=y?`${w}@${y}`:`${w}`,x=e.value[O];return typeof x=="number"?x:null},u=(w,y,O)=>{const x=O?`${w}@${O}`:`${w}`,T=d(w,O);T!==null&&(e.value[x]=Math.max(0,T-y))},f=(w,y)=>{const O=y?`${w}@${y}`:`${w}`;delete e.value[O]},h=()=>{e.value={}},g=async w=>{try{return t.value=!0,n.value=null,await go.compareMaSP(w)}catch(y){return n.value=y.message,w?[]:{sanPhamOnly:[],tonKhoOnly:[],both:[]}}finally{t.value=!1}};return{inventoryData:ee(()=>e.value),loading:ee(()=>t.value),error:ee(()=>n.value),getProductStock:s,getAllProductsWithStock:o,isProductInStock:r,getStockStatus:a,getStockStatusClass:l,getStockStatusIcon:c,getCurrentStock:d,updateStock:u,clearProductStock:f,clearAllStock:h,compareMaSP:g}}const Mp={class:"position-relative overflow-hidden",style:{height:"200px"}},Bp=["src","alt"],Kp={class:"position-absolute top-0 start-0 end-0 bottom-0 d-flex flex-column justify-content-between p-3 product-overlay"},Fp={class:"d-flex flex-wrap gap-2"},Vp={key:0,class:"badge bg-danger rounded-pill"},Gp={key:1,class:"badge bg-success rounded-pill"},jp={key:2,class:"badge bg-warning rounded-pill"},qp={class:"d-flex justify-content-center gap-2 quick-actions"},Yp=["title"],Wp=["title"],zp=["title"],Qp={class:"card-body d-flex flex-column"},Jp={class:"d-flex align-items-center justify-content-between mb-2"},Xp={class:"d-flex gap-1"},Zp={key:1,class:"text-muted ms-2"},em={class:"card-title fw-semibold text-dark mb-3 lh-sm",style:{height:"2.8rem",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},tm={class:"mb-auto"},nm={key:0,class:"text-muted text-decoration-line-through me-2",style:{"font-size":"0.875rem"}},sm={class:"fw-bold text-primary fs-5"},om={class:"mt-3"},rm=["disabled"],am={key:0,class:"fas fa-cart-plus me-2"},im={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},ba=1,lm={__name:"ProductCard",props:{product:{type:Object,required:!0},formatPrice:{type:Function,required:!0}},emits:["add-to-cart","view-detail","add-to-wishlist"],setup(e,{emit:t}){const n=e,s=t,o=J(!1),{getProductStock:r,getStockStatusClass:a}=pl(),l=J(null),c=J("text-muted"),d=ee(()=>n.product.originalPrice?Math.round((1-n.product.price/n.product.originalPrice)*100):0),u=ee(()=>n.product.isNew||Math.random()>.7),f=ee(()=>n.product.isBestSeller||Math.random()>.8),h=b=>{const C=Number(b);return Number.isFinite(C)?C:0},g=ee(()=>{const b=h(n.product.price),C=h(n.product.giaHienTai);return b>0?b:C>0?C:0}),w=async()=>{o.value=!0;try{await new Promise(b=>setTimeout(b,500)),s("add-to-cart",n.product.maSP||n.product.id)}finally{o.value=!1}},y=()=>{s("view-detail",n.product.maSP||n.product.id)},O=()=>{s("add-to-wishlist",n.product.maSP||n.product.id)},x=()=>{y()},T=async()=>{const b=[n.product?.maSP,n.product?.id,n.product?.maSanPham,n.product?.productId,n.product?.code].filter(Boolean);if(b.length>0){for(const C of b)try{const U=await r(C,ba);if(U!=null&&U>0){l.value=U,c.value=a.value(`${C}@${ba}`);return}}catch{continue}l.value=0,c.value="text-muted"}else l.value=0,c.value="text-muted"};return st(()=>n.product,()=>{T()},{immediate:!1,deep:!1}),ct(()=>{T()}),(b,C)=>(A(),I("div",{class:"card h-100 shadow-sm border-0 position-relative overflow-hidden product-card",onClick:x},[i("div",Mp,[i("img",{src:e.product.image,class:"card-img-top w-100 h-100 object-fit-cover",alt:e.product.name,loading:"lazy"},null,8,Bp),i("div",Kp,[i("div",Fp,[d.value>0?(A(),I("span",Vp," -"+G(d.value)+"% ",1)):he("",!0),u.value?(A(),I("span",Gp," Mi ")):he("",!0),f.value?(A(),I("span",jp," Bn chy ")):he("",!0)]),i("div",qp,[i("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Be(w,["stop"]),title:"Thm "+e.product.name+" vo gi hng",style:{width:"40px",height:"40px"}},C[0]||(C[0]=[i("i",{class:"fas fa-cart-plus"},null,-1)]),8,Yp),i("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Be(y,["stop"]),title:"Xem chi tit "+e.product.name,style:{width:"40px",height:"40px"}},C[1]||(C[1]=[i("i",{class:"fas fa-eye"},null,-1)]),8,Wp),i("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Be(O,["stop"]),title:"Thm "+e.product.name+" vo yu thch",style:{width:"40px",height:"40px"}},C[2]||(C[2]=[i("i",{class:"fas fa-heart"},null,-1)]),8,zp)])])]),i("div",Qp,[i("div",Jp,[i("div",Xp,[(A(),I(ve,null,Le(5,U=>i("i",{key:U,class:ye(["fas fa-star",U<=e.product.rating?"text-warning":"text-muted"]),style:{"font-size":"0.875rem"}},null,2)),64))]),l.value!==null?(A(),I("small",{key:0,class:ye([c.value,"ms-2"])},"("+G(l.value)+")",3)):(A(),I("small",Zp,"(ang ti...)"))]),i("h6",em,G(e.product.name),1),i("div",tm,[e.product.originalPrice?(A(),I("span",nm,G(e.formatPrice(h(e.product.originalPrice))),1)):he("",!0),i("span",sm,G(e.formatPrice(g.value)),1)]),i("div",om,[i("button",{class:"btn btn-primary w-100 fw-semibold rounded-3 py-2",onClick:Be(w,["stop"]),disabled:o.value},[o.value?(A(),I("div",im,C[3]||(C[3]=[i("span",{class:"visually-hidden"},"Loading...",-1)]))):(A(),I("i",am)),z(" "+G(o.value?"ang thm...":"Thm gi hng"),1)],8,rm)])])]))}},ml=Je(lm,[["__scopeId","data-v-0b0cc175"]]),cm=["id"],um={class:"container"},dm={class:"d-flex flex-column flex-md-row align-items-center justify-content-between mb-4 p-4 bg-light rounded-4 shadow-sm"},fm={class:"d-flex align-items-center gap-4 mb-3 mb-md-0"},hm={class:"bg-white rounded-4 p-3 shadow-sm border",style:{width:"90px",height:"90px",display:"flex","align-items":"center","justify-content":"center"}},gm={class:"fw-bold text-dark mb-2 fs-2"},pm={key:0,class:"text-muted mb-3 fs-6"},mm={class:"d-flex flex-wrap gap-3"},vm={class:"badge bg-primary bg-opacity-10 text-primary p-2 rounded-pill"},ym={class:"badge bg-warning bg-opacity-10 text-warning p-2 rounded-pill"},bm={key:0,class:"badge bg-danger p-2 rounded-pill"},wm={class:"d-flex align-items-center gap-3"},Tm={class:"mt-4 mb-5"},_m={key:0,class:"text-center py-5"},Cm={key:1},Sm={key:2,class:"text-center py-5"},km={class:"text-center mt-5 p-4 bg-light bg-opacity-50 rounded-4 border"},Em={key:0,class:"d-flex flex-column align-items-center gap-3 py-4"},Am={key:1},$m={key:0,class:"d-flex justify-content-center align-items-center gap-3 flex-wrap"},Im={key:1,class:"mt-3"},xm={key:2,class:"text-muted"},Rm={class:"mt-3"},Om={key:0,class:"mt-5 pt-4 border-top"},Pm={class:"row g-3"},Dm={class:"d-flex align-items-center gap-3 p-3 bg-white rounded-3 shadow-sm border feature-item"},Lm={class:"fw-semibold text-dark"},Nm={__name:"CategorySection",props:{category:{type:Object,required:!0},products:{type:Array,required:!0},isLoadingProducts:{type:Boolean,default:!1},formatPrice:{type:Function,required:!0},initialDisplayCount:{type:Number,default:8}},emits:["add-to-cart","view-product","add-to-wishlist","show-more","show-all","load-products"],setup(e,{emit:t}){const n=e,s=t,o=J("default"),r=J(n.initialDisplayCount),a=J(!1),l=J(!1),c=ee(()=>{let D=[...n.products].map(_=>({..._,price:Number.isFinite(Number(_.price))&&Number(_.price)>0?Number(_.price):Number(_.giaHienTai)||0}));switch(o.value){case"name":return D.sort((_,V)=>_.name.localeCompare(V.name,"vi"));case"price-low":return D.sort((_,V)=>_.price-V.price);case"price-high":return D.sort((_,V)=>V.price-_.price);case"newest":return D.sort((_,V)=>new Date(V.createdAt||Date.now())-new Date(_.createdAt||Date.now()));case"popular":return D.sort((_,V)=>(V.popularity||0)-(_.popularity||0));default:return D}}),d=ee(()=>c.value.slice(0,r.value)),u=ee(()=>r.value<n.products.length),f=ee(()=>n.products.length-r.value),h=ee(()=>n.products.length===0?0:n.products.reduce((_,V)=>_+(V.rating||4.5),0)/n.products.length),g=ee(()=>n.products.some(D=>D.isNew||Math.random()>.8)),w=()=>({primary:"#0d6efd",success:"#198754",danger:"#dc3545",warning:"#ffc107",info:"#0dcaf0",secondary:"#6c757d"})[n.category.color]||"#0d6efd",y=()=>{},O=async()=>{a.value=!0,l.value=!0,await new Promise(D=>setTimeout(D,1e3)),r.value=Math.min(r.value+n.initialDisplayCount,n.products.length),a.value=!1,l.value=!1,s("show-more",{categoryId:n.category.id,displayCount:r.value})},x=()=>{r.value=n.products.length,s("show-all",{categoryId:n.category.id,totalProducts:n.products.length})},T=()=>{r.value=n.initialDisplayCount,document.getElementById(`category-${n.category.id}`)?.scrollIntoView({behavior:"smooth",block:"start"})},b=D=>{s("add-to-cart",D)},C=D=>{s("view-product",D)},U=D=>{s("add-to-wishlist",D)};return st(()=>n.category.id,()=>{r.value=n.initialDisplayCount,o.value="default"}),(D,_)=>{const V=un("router-link");return e.products.length>0?(A(),I("section",{key:0,class:"py-5 my-4",id:`category-${e.category.id}`},[i("div",um,[i("div",dm,[i("div",fm,[i("div",hm,[i("i",{class:ye(`${e.category.icon} fs-1`),style:wn({color:w()})},null,6)]),i("div",null,[i("h2",gm,G(e.category.name),1),e.category.description?(A(),I("p",pm,G(e.category.description),1)):he("",!0),i("div",mm,[i("span",vm,[_[2]||(_[2]=i("i",{class:"fas fa-box me-2"},null,-1)),z(" "+G(e.products.length)+" sn phm ",1)]),i("span",ym,[_[3]||(_[3]=i("i",{class:"fas fa-star me-2"},null,-1)),z(" "+G(h.value.toFixed(1))+" sao ",1)]),g.value?(A(),I("span",bm,_[4]||(_[4]=[i("i",{class:"fas fa-sparkles me-2"},null,-1),z(" C sn phm mi ")]))):he("",!0)])])]),i("div",wm,[_[6]||(_[6]=i("div",{class:"bg-primary bg-opacity-10 border border-primary border-opacity-25 rounded-3 px-3 py-2"},[i("span",{class:"text-primary fw-semibold small"},[i("i",{class:"fas fa-th me-2"}),z(" Hin th dng li ")])],-1)),i("div",null,[ft(i("select",{"onUpdate:modelValue":_[0]||(_[0]=L=>o.value=L),class:"form-select form-select-sm rounded-3 border-primary border-opacity-25 fw-semibold",onChange:y,style:{"min-width":"160px"}},_[5]||(_[5]=[Lt('<option value="default" data-v-996cfb6f>Mc nh</option><option value="name" data-v-996cfb6f>Tn A-Z</option><option value="price-low" data-v-996cfb6f>Gi thp - cao</option><option value="price-high" data-v-996cfb6f>Gi cao - thp</option><option value="newest" data-v-996cfb6f>Mi nht</option><option value="popular" data-v-996cfb6f>Ph bin</option>',6)]),544),[[Fi,o.value]])])])]),i("div",Tm,[e.isLoadingProducts?(A(),I("div",_m,_[7]||(_[7]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti sn phm...")],-1),i("p",{class:"text-muted mt-3"},"ang ti sn phm trong danh mc...",-1)]))):e.products.length>0?(A(),I("div",Cm,[fe(Du,{name:"products",tag:"div",class:"row g-3"},{default:Ne(()=>[(A(!0),I(ve,null,Le(d.value,(L,R)=>(A(),I("div",{key:L.id,class:ye(["col-12","col-sm-6","col-md-4","col-lg-3","product-item"]),style:wn({animationDelay:`${R*.1}s`})},[fe(ml,{product:L,formatPrice:e.formatPrice,onAddToCart:b,onViewDetail:C,onAddToWishlist:U},null,8,["product","formatPrice"])],4))),128))]),_:1})])):(A(),I("div",Sm,[_[9]||(_[9]=i("div",{class:"empty-icon mb-4"},[i("i",{class:"fas fa-box-open fa-4x text-muted"})],-1)),_[10]||(_[10]=i("h4",{class:"text-muted mb-3"},"Cha c sn phm no",-1)),_[11]||(_[11]=i("p",{class:"text-muted mb-4"},"Danh mc ny cha c sn phm no c thm vo",-1)),i("button",{class:"btn btn-primary",onClick:_[1]||(_[1]=L=>s("load-products",e.category.id))},_[8]||(_[8]=[i("i",{class:"fas fa-refresh me-2"},null,-1),z("Ti li sn phm ")]))]))]),i("div",km,[a.value?(A(),I("div",Em,_[12]||(_[12]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti...")],-1),i("p",{class:"text-muted fw-semibold mb-0 fs-6"},"ang ti thm sn phm...",-1)]))):(A(),I("div",Am,[u.value?(A(),I("div",$m,[i("button",{class:"btn btn-primary fw-bold px-4 py-2 rounded-3",onClick:O},[_[13]||(_[13]=i("i",{class:"fas fa-plus me-2"},null,-1)),z("Xem thm "+G(f.value)+" sn phm ",1)]),i("button",{class:"btn btn-outline-primary fw-bold px-4 py-2 rounded-3",onClick:x},_[14]||(_[14]=[i("i",{class:"fas fa-expand me-2"},null,-1),z("Hin th tt c ")])),fe(V,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Ne(()=>_[15]||(_[15]=[i("i",{class:"fas fa-arrow-right me-2"},null,-1),z("Xem trang danh mc ")])),_:1,__:[15]},8,["to"])])):d.value.length>e.initialDisplayCount?(A(),I("div",Im,[i("button",{class:"btn btn-outline-secondary fw-semibold px-4 py-2 rounded-3",onClick:T},_[16]||(_[16]=[i("i",{class:"fas fa-compress me-2"},null,-1),z("Thu gn ")])),fe(V,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3 ms-2"},{default:Ne(()=>_[17]||(_[17]=[i("i",{class:"fas fa-arrow-right me-2"},null,-1),z("Xem trang danh mc ")])),_:1,__:[17]},8,["to"])])):(A(),I("div",xm,[_[19]||(_[19]=i("i",{class:"fas fa-check-circle text-success me-2"},null,-1)),_[20]||(_[20]=z("  hin th tt c sn phm trong danh mc ")),i("div",Rm,[fe(V,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Ne(()=>_[18]||(_[18]=[i("i",{class:"fas fa-arrow-right me-2"},null,-1),z("Xem trang danh mc ")])),_:1,__:[18]},8,["to"])])]))]))]),D.categoryFeatures&&D.categoryFeatures.length>0?(A(),I("div",Om,[_[21]||(_[21]=i("h5",{class:"fw-bold text-dark text-center mb-4"},"c im danh mc",-1)),i("div",Pm,[(A(!0),I(ve,null,Le(D.categoryFeatures,L=>(A(),I("div",{key:L.id,class:"col-md-6 col-lg-4"},[i("div",Dm,[i("i",{class:ye(`${L.icon} fs-4 text-primary`)},null,2),i("span",Lm,G(L.text),1)])]))),128))])])):he("",!0)])],8,cm)):he("",!0)}}},Um=Je(Nm,[["__scopeId","data-v-996cfb6f"]]),Hm={class:"coupon-button-widget"},Mm={class:"coupon-text"},Bm={class:"coupon-count"},Km={class:"coupon-modal-body"},Fm={class:"coupon-list"},Vm={class:"coupon-item-left"},Gm={class:"coupon-discount"},jm={class:"discount-value"},qm={class:"discount-unit"},Ym={class:"coupon-item-right"},Wm={class:"coupon-info"},zm={class:"coupon-title"},Qm={class:"coupon-description"},Jm={class:"coupon-details"},Xm={class:"coupon-code"},Zm={class:"code-value"},ev={class:"coupon-expiry"},tv=["onClick","disabled"],nv={class:"text-center mt-4"},sv={__name:"CouponButtonWidget",props:{showOnScroll:{type:Boolean,default:!0},scrollThreshold:{type:Number,default:300}},emits:["coupon-copied"],setup(e,{emit:t}){const n=e,s=t,o=J(!1),r=J(!1),a=J(new Set),l=J([{id:1,code:"SAVE10",title:"Gim 10%",description:"Gim 10% cho n hng t 200k",discount:"10",unit:"%",type:"percentage",expiry:"2024-12-31",minOrderValue:2e5,maxDiscount:5e4},{id:2,code:"FREESHIP",title:"Min ph vn chuyn",description:"Min ph ship cho n t 150k",discount:"Free",unit:"Ship",type:"shipping",expiry:"2024-12-31",minOrderValue:15e4,maxDiscount:3e4},{id:3,code:"FRESH50",title:"Gim 50K",description:"Gim 50K cho n hng t 300k",discount:"50K",unit:"",type:"fixed",expiry:"2024-12-31",minOrderValue:3e5,maxDiscount:5e4}]),c=()=>{r.value=!r.value},d=()=>{r.value=!1},u=()=>{n.showOnScroll&&(o.value=window.scrollY>n.scrollThreshold)},f=g=>{const w=new Date(g),y=new Date,O=w.getTime()-y.getTime(),x=Math.ceil(O/(1e3*60*60*24));return x<0?" ht hn":x===0?"Ht hn hm nay":x===1?"Ht hn ngy mai":x<7?`Cn ${x} ngy`:w.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})},h=async g=>{try{await navigator.clipboard.writeText(g.code),a.value.add(g.code),setTimeout(()=>{a.value.delete(g.code)},3e3),s("coupon-copied",g.code)}catch{const y=document.createElement("textarea");y.value=g.code,document.body.appendChild(y),y.select(),document.execCommand("copy"),document.body.removeChild(y),a.value.add(g.code),setTimeout(()=>{a.value.delete(g.code)},3e3),s("coupon-copied",g.code)}};return ct(()=>{n.showOnScroll?(window.addEventListener("scroll",u),u()):o.value=!0}),Mt(()=>{n.showOnScroll&&window.removeEventListener("scroll",u)}),(g,w)=>{const y=un("router-link");return A(),I("div",Hm,[i("div",{class:ye(["floating-coupon-btn",{show:o.value}]),onClick:c,title:"Xem m khuyn mi"},[w[2]||(w[2]=i("div",{class:"coupon-icon"},[i("i",{class:"fas fa-ticket-alt"})],-1)),i("div",Mm,[w[1]||(w[1]=i("div",{class:"coupon-label"},"M gim gi",-1)),i("div",Bm,G(l.value.length)+" m",1)]),w[3]||(w[3]=i("div",{class:"coupon-pulse"},null,-1))],2),r.value?(A(),I("div",{key:0,class:"coupon-modal-overlay",onClick:d},[i("div",{class:"coupon-modal",onClick:w[0]||(w[0]=Be(()=>{},["stop"]))},[i("div",{class:"coupon-modal-header"},[w[5]||(w[5]=i("h5",{class:"modal-title"},[i("i",{class:"fas fa-gift me-2"}),z(" M Khuyn Mi C Sn ")],-1)),i("button",{type:"button",class:"btn-close-custom",onClick:d},w[4]||(w[4]=[i("i",{class:"fas fa-times"},null,-1)]))]),i("div",Km,[i("div",Fm,[(A(!0),I(ve,null,Le(l.value,O=>(A(),I("div",{key:O.code,class:ye(["coupon-item",`coupon-${O.type}`])},[i("div",Vm,[i("div",Gm,[i("span",jm,G(O.discount),1),i("span",qm,G(O.unit),1)])]),i("div",Ym,[i("div",Wm,[i("h6",zm,G(O.title),1),i("p",Qm,G(O.description),1),i("div",Jm,[i("div",Xm,[w[6]||(w[6]=i("span",{class:"code-label"},"M:",-1)),i("span",Zm,G(O.code),1)]),i("div",ev,[w[7]||(w[7]=i("i",{class:"fas fa-clock"},null,-1)),i("span",null,G(f(O.expiry)),1)])])]),i("button",{class:"btn coupon-copy-btn",onClick:x=>h(O),disabled:a.value.has(O.code)},[i("i",{class:ye([a.value.has(O.code)?"fas fa-check":"fas fa-copy","me-2"])},null,2),z(" "+G(a.value.has(O.code)?" copy":"Copy m"),1)],8,tv)])],2))),128))]),i("div",nv,[fe(y,{to:"/promotions",class:"btn btn-outline-primary",onClick:d},{default:Ne(()=>w[8]||(w[8]=[i("i",{class:"fas fa-plus me-2"},null,-1),z(" Xem tt c m khuyn mi ")])),_:1,__:[8]})])])])])):he("",!0)])}}},vl=Je(sv,[["__scopeId","data-v-1a4edbb6"]]),ov={id:"productCategories"},rv={key:0,class:"text-center py-5"},av={__name:"Home",setup(e){const t=dn(),n=J(!1),{categories:s,getProductsByCategory:o,formatPrice:r,addToCart:a,isLoadingCategories:l}=xn(),c=J({}),d=J({}),u=y=>{t.push({name:"ProductDetail",params:{id:y}})},f=async y=>{if(c.value[y])return c.value[y];try{d.value[y]=!0;const O=await o(y);return c.value[y]=O,O}catch(O){return console.error(`Failed to load products for category ${y}:`,O),[]}finally{d.value[y]=!1}},h=()=>{t.push({name:"Promotions"})},g=y=>{},w=()=>{const y=window.scrollY;n.value=y>300};return ct(()=>{window.addEventListener("scroll",w),w(),st(s,async y=>{if(y.length>0){const O=y.slice(0,3);for(const x of O)await f(x.id)}},{immediate:!0})}),Mt(()=>{window.removeEventListener("scroll",w)}),(y,O)=>(A(),I("div",null,[fe(Hp),i("div",ov,[K(l)?(A(),I("div",rv,O[0]||(O[0]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti danh mc...")],-1),i("p",{class:"text-muted mt-3"},"ang ti danh mc sn phm...",-1)]))):(A(!0),I(ve,{key:1},Le(K(s),x=>(A(),ls(Um,{key:x.id,category:x,products:c.value[x.id]||[],isLoadingProducts:d.value[x.id],formatPrice:K(r),onAddToCart:K(a),onViewProduct:u,onLoadProducts:f},null,8,["category","products","isLoadingProducts","formatPrice","onAddToCart"]))),128))]),fe(vl,{"show-on-scroll":!0,"scroll-threshold":300,onCouponCopied:g}),fe(js,{name:"fade"},{default:Ne(()=>[n.value?(A(),I("button",{key:0,class:"promotion-btn",onClick:h,title:"Xem khuyn mi"},O[1]||(O[1]=[i("i",{class:"fas fa-gift"},null,-1)]))):he("",!0)]),_:1})]))}},iv=Je(av,[["__scopeId","data-v-5b3a3dba"]]);function lv(e){const{products:t,categories:n,addToCart:s,formatPrice:o,showNotification:r}=xn(),a=J(null),l=J({}),c=J([]),d=J([]),u=J(1),f=J(0),h=J("description"),g=J(!1),w=ee(()=>a.value?l.value[a.value.id]||{description:"Sn phm cht lng cao, c chn lc k cng  m bo ti ngon v an ton cho sc khe. c nui trng theo quy trnh khp kn, m bo v sinh an ton thc phm.",nutrition:"Giu protein, t cht bo, cung cp cc vitamin v khong cht thit yu cho c th. c bit tt cho vic pht trin c bp v duy tr sc khe tng th.",storage:"Bo qun trong t lnh t 0-4C, s dng trong vng 2-3 ngy sau khi m gi",origin:"Vit Nam - ng bng sng Cu Long"}:null),y=ee(()=>a.value?a.value.reviews||c.value[a.value.id]||[{id:1,name:"Nguyn Vn A",rating:5,content:"Sn phm rt tt, ti ngon! Cht lng vt mong i, s tip tc ng h.",date:"2025-01-01"},{id:2,name:"Trn Th B",rating:4,content:"Cht lng n, s mua li. Gi c hp l, giao hng nhanh.",date:"2025-01-02"},{id:3,name:"L Vn C",rating:5,content:"Tuyt vi! Gia nh ti rt hi lng vi sn phm ny.",date:"2025-01-03"}]:[]),O=ee(()=>{if(!a.value)return[];if(a.value?.images&&a.value.images.length>0)return a.value.images.map((ae,W)=>({id:W+1,url:ae,alt:W===0?"Hnh chnh":`Gc nhn ${W+1}`,isMain:W===0}));const E=a.value?.image||"https://via.placeholder.com/800x600?text=No+Image";return d.value[a.value.id]||[{id:1,url:E,alt:"Hnh chnh",isMain:!0},{id:2,url:E,alt:"Gc nhn 2",isMain:!1},{id:3,url:E,alt:"Gc nhn 3",isMain:!1}]}),x=ee(()=>y.value.length===0?0:y.value.reduce((E,ae)=>E+ae.rating,0)/y.value.length),T=ee(()=>!a.value||!a.value.originalPrice?0:Math.round((1-a.value.price/a.value.originalPrice)*100)),b=ee(()=>a.value?t.value.filter(E=>E.categoryId===a.value.categoryId&&(E.maSP||E.id)!==(a.value.maSP||a.value.id)).slice(0,4):[]),C=ee(()=>a.value?n.value.find(E=>E.id===a.value.categoryId):null),U=ee(()=>{const E=[{name:"Trang ch",href:"#",icon:"fas fa-home"}];return C.value&&E.push({name:C.value.name,href:`#category-${C.value.id}`}),a.value&&E.push({name:a.value.name,active:!0}),E}),D=async E=>{console.log(" loadProduct called with ID:",E),console.log(" Current products.value:",t.value),g.value=!0;try{const ae=`http://localhost:8080/api/sanpham/${E}`;console.log(" Calling API:",ae);const W=await fetch(ae);if(console.log(" API Response status:",W.status),console.log(" API Response ok:",W.ok),!W.ok)throw new Error(`HTTP error! status: ${W.status}`);const Y=await W.json();console.log(" API Response data:",Y);const Ae={id:Y.maSP||Y.id,name:Y.tenSP||Y.name,price:Y.giaHienTai||Y.giaBan||Y.price,originalPrice:Y.giaGoc||Y.originalPrice,categoryId:Y.loaiSanPham?.maLoaiSP||Y.categoryId,categoryName:Y.loaiSanPham?.tenLoai||Y.categoryName,image:`http://localhost:8080/api/upload/serve-image/${Y.maSP}_main.jfif`,images:[`http://localhost:8080/api/upload/serve-image/${Y.maSP}_main.jfif`,`http://localhost:8080/api/upload/serve-image/${Y.maSP}_main1.jfif`,`http://localhost:8080/api/upload/serve-image/${Y.maSP}_main2.jfif`],description:Y.moTa||Y.description,isFlashSale:Y.isFlashSale||!1,isActive:Y.isActive!==!1,stock:Y.trongLuong||Y.stock||0,unit:Y.donViTinh||Y.unit||"ci",rating:Y.danhGia||Y.rating||4.5,reviews:Y.danhGia||Y.reviews||[],weight:Y.trongLuong||null,weightUnit:Y.donViTinh||null,shelfLifeDays:Y.hanSuDung||null};a.value=Ae,f.value=0,u.value=1}catch(ae){console.error(` Failed to load product ${E} from API:`,ae);const W=t.value.find(Y=>Y.id===E||Y.id===String(E)||Y.id===parseInt(E)||Y.maSP===E||Y.maSP===String(E));W?(a.value=W,f.value=0,u.value=1):(console.error(" Product not found in local data either"),a.value=null)}finally{g.value=!1}},_=(E,ae=10)=>{const W=Math.max(1,Math.min(ae,u.value+E));u.value=W},V=E=>{f.value=E},L=()=>{a.value&&s(a.value.maSP||a.value.id,u.value)},R=()=>{if(!a.value){r("Khng tm thy sn phm!","error");return}if(!JSON.parse(localStorage.getItem("easymart-user")||"null")){L(),localStorage.setItem("easymart-selected-items",JSON.stringify([a.value.maSP||a.value.id])),localStorage.setItem("easymart-redirect-after-login","/checkout"),r("Vui lng ng nhp  tin hnh thanh ton!","warning"),setTimeout(()=>{window.location.href="/login"},800);return}L(),localStorage.setItem("easymart-selected-items",JSON.stringify([a.value.maSP||a.value.id])),r("Chuyn n trang thanh ton...","info"),setTimeout(()=>{window.location.href="/checkout"},800)},P=()=>{r(" thm vo danh sch yu thch!","success")},v=()=>{navigator.share&&a.value?navigator.share({title:a.value.name,text:`Xem sn phm tuyt vi ny ti EasyMart: ${a.value.name}`,url:window.location.href}).catch(()=>{E()}):E();function E(){navigator.clipboard.writeText(window.location.href).then(()=>{r(" copy link sn phm!","info")})}},$=()=>{r("Tnh nng so snh s c trong phin bn tip theo!","info")},F=E=>{h.value=E};return ct(()=>{e&&D(e)}),{currentProduct:a,quantity:u,selectedImageIndex:f,activeTab:h,isLoading:g,currentProductDetail:w,currentReviews:y,currentImages:O,averageRating:x,discountPercentage:T,relatedProducts:b,currentCategory:C,breadcrumbs:U,loadProduct:D,changeQuantity:_,changeMainImage:V,addToCartWithQuantity:L,buyNow:R,addToWishlist:P,shareProduct:v,compareProduct:$,setActiveTab:F,formatPrice:o,addToCart:s}}const cv={class:"product-reviews"},uv={class:"row"},dv={class:"col-lg-10 mx-auto"},fv={class:"mb-4 text-center"},hv={class:"d-flex justify-content-center align-items-center mb-3"},gv={class:"text-muted"},pv={class:"row g-4"},mv={class:"card mb-3 border-primary"},vv={class:"card-body"},yv={class:"d-flex justify-content-between align-items-start mb-2"},bv={class:"card-title mb-0 text-primary"},wv={class:"text-muted"},Tv={class:"text-warning mb-2"},_v={class:"card-text"},Cv={key:0,class:"text-center text-muted py-5"},Sv={__name:"ProductReviews",props:{product:{type:Object,required:!0},reviews:{type:Array,required:!1}},setup(e){const t=e,n=ee(()=>(console.log(" ProductReviews - Props reviews:",t.reviews),console.log(" ProductReviews - Reviews length:",t.reviews?.length||0),t.reviews||[]));return(s,o)=>(A(),I("div",cv,[i("div",uv,[i("div",dv,[i("div",fv,[o[2]||(o[2]=i("h5",{class:"text-primary mb-3"},"nh gi t khch hng",-1)),i("div",hv,[o[1]||(o[1]=Lt('<div class="text-warning fs-3 me-3" data-v-bc63e91b><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star-half-alt" data-v-bc63e91b></i></div>',1)),i("div",null,[o[0]||(o[0]=i("div",{class:"fs-4 fw-bold text-primary"},"4.5/5",-1)),i("small",gv,"("+G(n.value.length)+" nh gi)",1)])])]),i("div",pv,[(A(!0),I(ve,null,Le(n.value,r=>(A(),I("div",{class:"col-12",key:r.id},[i("div",mv,[i("div",vv,[i("div",yv,[i("h6",bv,G(r.name),1),i("small",wv,G(r.date),1)]),i("div",Tv,[(A(!0),I(ve,null,Le(r.rating,a=>(A(),I("i",{key:a,class:"fas fa-star"}))),128)),(A(!0),I(ve,null,Le(5-r.rating,a=>(A(),I("i",{key:a+r.rating,class:"far fa-star"}))),128))]),i("p",_v,G(r.content),1)])])]))),128))]),n.value.length===0?(A(),I("div",Cv,o[3]||(o[3]=[i("i",{class:"fas fa-info-circle fa-2x mb-3"},null,-1),i("div",null,"Cha c nh gi no cho sn phm ny.",-1)]))):he("",!0)])])]))}},kv=Je(Sv,[["__scopeId","data-v-bc63e91b"]]),Ev={class:"write-review-section"},Av={key:0,class:"text-center mb-4"},$v={key:1,class:"text-center mb-4"},Iv={key:2,class:"card shadow-sm border-0 mb-4"},xv={class:"card-body"},Rv={class:"d-flex align-items-center mb-3 p-3 bg-light rounded"},Ov=["src","alt"],Pv={class:"mb-0"},Dv={class:"text-muted"},Lv={class:"mb-3"},Nv={class:"rating-input d-flex align-items-center gap-3"},Uv={class:"star-rating"},Hv=["onClick","onMouseover"],Mv={class:"text-muted"},Bv={class:"mb-3"},Kv={class:"form-text"},Fv={class:"mb-3"},Vv={class:"mb-4"},Gv={class:"form-check"},jv={class:"d-flex gap-2"},qv=["disabled"],Yv={key:0,class:"fas fa-paper-plane me-2"},Wv={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},zv=["disabled"],Qv={key:3,class:"alert alert-success alert-dismissible fade show",role:"alert"},Jv={__name:"WriteReview",props:{product:{type:Object,required:!0}},emits:["review-submitted"],setup(e,{emit:t}){const n=t,{user:s,isLoggedIn:o}=os(),r=J(!1),a=J(0),l=J(0),c=J(""),d=J(""),u=J(!1),f=J(!1),h=J(!1),g=ee(()=>{switch(l.value||a.value){case 1:return"Rt t";case 2:return"T";case 3:return"Bnh thng";case 4:return"Tt";case 5:return"Tuyt vi";default:return"Chn s sao"}}),w=async()=>{if(!(a.value===0||c.value.trim().length<10)){f.value=!0;try{await new Promise(T=>setTimeout(T,1500));const x={id:Date.now(),name:s.value.name,email:s.value.email,avatar:s.value.avatar,rating:a.value,title:d.value.trim()||null,content:c.value.trim(),wouldRecommend:u.value,date:new Date().toISOString().split("T")[0],isVerifiedPurchase:!0};n("review-submitted",x),h.value=!0,O(),setTimeout(()=>{h.value=!1},5e3)}catch(x){console.error("Error submitting review:",x)}finally{f.value=!1}}},y=()=>{O()},O=()=>{r.value=!1,a.value=0,l.value=0,c.value="",d.value="",u.value=!1};return(x,T)=>{const b=un("router-link");return A(),I("div",Ev,[!K(o)&&!r.value?(A(),I("div",Av,[T[7]||(T[7]=i("div",{class:"alert alert-info"},[i("i",{class:"fas fa-info-circle me-2"}),i("strong",null,"Bn cn ng nhp  vit nh gi")],-1)),fe(b,{to:"/login",class:"btn btn-primary"},{default:Ne(()=>T[6]||(T[6]=[i("i",{class:"fas fa-sign-in-alt me-2"},null,-1),z("ng nhp ngay ")])),_:1,__:[6]})])):K(o)&&!r.value?(A(),I("div",$v,[i("button",{class:"btn btn-success btn-lg",onClick:T[0]||(T[0]=C=>r.value=!0)},T[8]||(T[8]=[i("i",{class:"fas fa-pen me-2"},null,-1),z("Vit nh gi ")]))])):he("",!0),r.value&&K(o)?(A(),I("div",Iv,[T[14]||(T[14]=i("div",{class:"card-header bg-primary text-white"},[i("h5",{class:"mb-0"},[i("i",{class:"fas fa-star me-2"}),z("Vit nh gi cho sn phm ny ")])],-1)),i("div",xv,[i("form",{onSubmit:Be(w,["prevent"])},[i("div",Rv,[i("img",{src:K(s).avatar,class:"rounded-circle me-3",width:"50",height:"50",alt:K(s).name},null,8,Ov),i("div",null,[i("h6",Pv,G(K(s).name),1),i("small",Dv,G(K(s).email),1)])]),i("div",Lv,[T[9]||(T[9]=i("label",{class:"form-label fw-semibold"},"nh gi ca bn *",-1)),i("div",Nv,[i("div",Uv,[(A(),I(ve,null,Le(5,C=>i("i",{key:C,class:ye(["fas fa-star star-clickable",C<=a.value?"text-warning":"text-muted"]),onClick:U=>a.value=C,onMouseover:U=>l.value=C,onMouseleave:T[1]||(T[1]=U=>l.value=0),style:{cursor:"pointer","font-size":"1.5rem","margin-right":"0.25rem"}},null,42,Hv)),64))]),i("span",Mv,G(g.value),1)])]),i("div",Bv,[T[10]||(T[10]=i("label",{for:"reviewContent",class:"form-label fw-semibold"},"Ni dung nh gi *",-1)),ft(i("textarea",{"onUpdate:modelValue":T[2]||(T[2]=C=>c.value=C),class:"form-control",id:"reviewContent",rows:"4",required:"",placeholder:"Chia s tri nghim ca bn v sn phm ny...",maxlength:"500"},null,512),[[_n,c.value]]),i("div",Kv,G(c.value.length)+"/500 k t",1)]),i("div",Fv,[T[11]||(T[11]=i("label",{for:"reviewTitle",class:"form-label fw-semibold"},"Tiu  nh gi (ty chn)",-1)),ft(i("input",{"onUpdate:modelValue":T[3]||(T[3]=C=>d.value=C),type:"text",class:"form-control",id:"reviewTitle",placeholder:"V d: Sn phm tuyt vi!",maxlength:"100"},null,512),[[_n,d.value]])]),i("div",Vv,[i("div",Gv,[ft(i("input",{"onUpdate:modelValue":T[4]||(T[4]=C=>u.value=C),class:"form-check-input",type:"checkbox",id:"wouldRecommend"},null,512),[[Ki,u.value]]),T[12]||(T[12]=i("label",{class:"form-check-label",for:"wouldRecommend"},[i("i",{class:"fas fa-thumbs-up me-2"}),z("Ti s gii thiu sn phm ny cho bn b ")],-1))])]),i("div",jv,[i("button",{type:"submit",class:"btn btn-success",disabled:f.value||a.value===0||c.value.trim().length<10},[f.value?he("",!0):(A(),I("i",Yv)),f.value?(A(),I("span",Wv)):he("",!0),z(" "+G(f.value?"ang gi...":"Gi nh gi"),1)],8,qv),i("button",{type:"button",class:"btn btn-outline-secondary",onClick:y,disabled:f.value},T[13]||(T[13]=[i("i",{class:"fas fa-times me-2"},null,-1),z("Hy ")]),8,zv)])],32)])])):he("",!0),h.value?(A(),I("div",Qv,[T[15]||(T[15]=i("i",{class:"fas fa-check-circle me-2"},null,-1)),T[16]||(T[16]=i("strong",null,"Cm n bn!",-1)),T[17]||(T[17]=z(" nh gi ca bn  c gi thnh cng. ")),i("button",{type:"button",class:"btn-close",onClick:T[5]||(T[5]=C=>h.value=!1)})])):he("",!0)])}}},Xv=Je(Jv,[["__scopeId","data-v-d2a00896"]]),Zv={id:"productDetail",class:"bg-white"},ey={class:"container mt-4"},ty={"aria-label":"breadcrumb"},ny={class:"breadcrumb mb-0"},sy={class:"breadcrumb-item"},oy={key:0,class:"breadcrumb-item"},ry=["href"],ay={key:1,class:"breadcrumb-item active"},iy={class:"container my-5"},ly={key:0,class:"row"},cy={key:1,class:"row"},uy={class:"col-12 text-center"},dy={class:"debug-info mt-4 p-3 bg-light rounded text-start"},fy={key:2,class:"row animate-fade-in"},hy={class:"col-lg-6"},gy={class:"position-relative"},py=["src","alt"],my={class:"row g-2 mt-3"},vy={class:"product-thumbnail-container"},yy=["src","onClick","alt"],by={class:"col-lg-6"},wy={class:"ps-lg-4"},Ty={class:"fs-2 fw-bold text-dark mb-3"},_y={class:"mb-3"},Cy={key:0,class:"feature-badge"},Sy={class:"d-flex align-items-center mb-3"},ky={class:"text-warning me-3"},Ey={class:"text-muted ms-3"},Ay={class:"mb-4"},$y={key:0,class:"discount-badge"},Iy={class:"d-flex align-items-baseline"},xy={key:0,class:"original-price"},Ry={class:"detail-price"},Oy={key:1,class:"text-muted"},Py={class:"stock-info mb-4"},Dy={class:"row"},Ly={class:"col-6"},Ny={class:"text-center"},Uy={class:"mt-2"},Hy={class:"small text-muted"},My={key:0},By={key:1},Ky={class:"row g-3 mb-4"},Fy={class:"col-md-4"},Vy={class:"quantity-selector d-flex"},Gy=["disabled"],jy=["max","disabled"],qy=["disabled"],Yy={key:0,class:"text-danger"},Wy={key:1,class:"text-muted"},zy={class:"col-md-8"},Qy={class:"d-flex gap-2"},Jy=["disabled"],Xy=["disabled"],Zy={class:"row g-2 mt-3"},eb={class:"col-4"},tb={class:"col-4"},nb={class:"col-4"},sb={key:0,class:"container my-5"},ob={class:"nav nav-pills product-tabs justify-content-center mb-4",role:"tablist"},rb={class:"nav-item",role:"presentation"},ab={class:"nav-item",role:"presentation"},ib={class:"tab-content",style:{"min-height":"400px",background:"white","border-radius":"10px",padding:"20px"}},lb={class:"tab-pane",style:{display:"block"}},cb={class:"row"},ub={class:"col-lg-8 mx-auto"},db={class:"card border-0 shadow-sm rounded-4"},fb={class:"card-body p-5"},hb={class:"text-primary mb-4"},gb={class:"lead"},pb={class:"mt-4"},mb={class:"list-unstyled small mb-0"},vb={key:0},yb={key:0},bb={key:1},wb={key:2},Tb={class:"tab-pane",style:{display:"block",width:"100%"}},_b={key:1,class:"container my-5"},Cb={class:"row g-4"},wa=1,Sb={__name:"ProductDetail",props:{productId:{type:[Number,String],required:!0}},emits:["go-home","view-product"],setup(e,{emit:t}){const n=e,{products:s,addToCart:o,formatPrice:r,showNotification:a}=xn(),{currentProduct:l,quantity:c,selectedImageIndex:d,activeTab:u,currentReviews:f,currentImages:h,discountPercentage:g,relatedProducts:w,currentCategory:y,isLoading:O,loadProduct:x,changeQuantity:T,addToCartWithQuantity:b,buyNow:C,addToWishlist:U,shareProduct:D,compareProduct:_}=lv(n.productId),{getProductStock:V,getStockStatus:L,getStockStatusClass:R,getStockStatusIcon:P}=pl(),v=ee(()=>{const re=l.value?.maSP||l.value?.id;return re?`${re}@${wa}`:null}),$=J(null),F=J("ang kim tra..."),E=J("text-muted"),ae=J("fas fa-spinner fa-spin"),W=J("text-muted"),Y=ee(()=>l.value?.description||"Sn phm cht lng cao, c chn lc k cng  m bo ti ngon v an ton cho sc khe. c nui trng theo quy trnh khp kn, m bo v sinh an ton thc phm."),Ae=re=>{console.log(" New review submitted:",re),l.value&&l.value.reviews&&l.value.reviews.unshift(re),a("Cm n bn  nh gi sn phm!","success")},Te=async()=>{const re=l.value?.maSP||l.value?.id;if(re)try{const S=await V(re,wa);$.value=S,v.value&&(F.value=L.value(v.value),E.value=R.value(v.value),ae.value=P.value(v.value),W.value=E.value)}catch(S){console.error("Error loading stock info:",S),F.value="Khng xc nh",E.value="text-muted",ae.value="fas fa-question-circle",W.value="text-muted"}};st(()=>n.productId,async re=>{console.log(" ProductDetail - ProductId changed to:",re),console.log(" ProductDetail - currentProduct before load:",l.value),re&&(await x(re),console.log(" ProductDetail - currentProduct after load:",l.value),await Te())},{immediate:!0}),st(f,re=>{console.log(" ProductDetail - currentReviews changed:",re),console.log(" ProductDetail - currentReviews length:",re?.length||0)},{immediate:!0}),st(l,async re=>{(re?.maSP||re?.id)&&await Te()},{immediate:!1,deep:!1}),st(u,re=>{console.log(" ProductDetail - activeTab changed to:",re)},{immediate:!0}),ct(async()=>{console.log(" ProductDetail - Component mounted with productId:",n.productId),console.log(" ProductDetail - currentProduct on mount:",l.value),n.productId&&(await x(n.productId),console.log(" ProductDetail - currentProduct after mount load:",l.value),await Te())});const Ce=re=>{a(` copy m khuyn mi: ${re}`,"success")};return(re,S)=>(A(),I("div",Zv,[i("div",ey,[i("nav",ty,[i("ol",ny,[i("li",sy,[i("a",{href:"#",onClick:S[0]||(S[0]=Be(Q=>re.$emit("go-home"),["prevent"])),class:"text-decoration-none"},S[13]||(S[13]=[i("i",{class:"fas fa-home me-1"},null,-1),z("Trang ch ")]))]),K(y)?(A(),I("li",oy,[i("a",{href:`#category-${K(y).id}`,class:"text-decoration-none"},G(K(y).name),9,ry)])):he("",!0),K(l)?(A(),I("li",ay,G(K(l).name),1)):he("",!0)])])]),i("div",iy,[!K(l)&&K(O)?(A(),I("div",ly,S[14]||(S[14]=[i("div",{class:"col-12 text-center py-5"},[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti sn phm...")]),i("p",{class:"text-muted mt-3"},"ang ti thng tin sn phm...")],-1)]))):K(l)?(A(),I("div",fy,[i("div",hy,[i("div",gy,[i("img",{src:K(h)[K(d)]?.url||K(l).image,class:"w-100 product-image-main shadow-product",alt:K(l).name},null,8,py),S[24]||(S[24]=i("div",{class:"position-absolute top-0 end-0 m-3 bg-dark bg-opacity-75 text-white p-2 rounded"},[i("i",{class:"fas fa-search-plus me-1"}),z("Zoom ")],-1))]),i("div",my,[(A(!0),I(ve,null,Le(K(h),(Q,j)=>(A(),I("div",{key:j,class:"col-3"},[i("div",vy,[i("img",{src:Q.url,class:ye(["w-100 product-thumbnail",{active:j===K(d)}]),onClick:Ie=>d.value=j,alt:Q.alt},null,10,yy)])]))),128))])]),i("div",by,[i("div",wy,[i("h1",Ty,G(K(l).name),1),i("div",_y,[S[25]||(S[25]=i("span",{class:"feature-badge"},"Ti sng",-1)),S[26]||(S[26]=i("span",{class:"feature-badge"},"Cht lng cao",-1)),S[27]||(S[27]=i("span",{class:"feature-badge"},"An ton",-1)),K(l).originalPrice?(A(),I("span",Cy,"Gim gi")):he("",!0)]),i("div",Sy,[i("div",ky,[(A(),I(ve,null,Le(5,Q=>i("i",{key:Q,class:"fas fa-star"})),64)),S[28]||(S[28]=i("span",{class:"text-dark ms-2 fw-semibold"},"4.8",-1))]),S[30]||(S[30]=i("span",{class:"text-muted"},"|",-1)),i("span",Ey,[S[29]||(S[29]=i("i",{class:"fas fa-shopping-cart me-1"},null,-1)),z(G(Math.floor(Math.random()*500)+100)+"  bn ",1)])]),i("div",Ay,[K(g)>0?(A(),I("div",$y," -"+G(K(g))+"% GIM GI ",1)):he("",!0),i("div",Iy,[K(l).originalPrice?(A(),I("span",xy,G(K(r)(K(l).originalPrice)),1)):he("",!0),i("span",Ry,G(K(r)(K(l).price)),1)]),K(l).originalPrice?(A(),I("small",Oy," Tit kim: "+G(K(r)(K(l).originalPrice-K(l).price)),1)):he("",!0)]),i("div",Py,[i("div",Dy,[i("div",Ly,[i("div",Ny,[i("i",{class:ye([ae.value,W.value])},null,2),i("div",Uy,[i("strong",{class:ye(E.value)},G(F.value),3),i("div",Hy,[$.value!==null?(A(),I("span",My,"Cn "+G($.value)+" sn phm",1)):(A(),I("span",By,"ang kim tra..."))])])])]),S[31]||(S[31]=Lt('<div class="col-6" data-v-2113b530><div class="text-center" data-v-2113b530><i class="fas fa-shield-alt text-primary fs-4" data-v-2113b530></i><div class="mt-2" data-v-2113b530><strong class="text-primary" data-v-2113b530>Cht lng</strong><div class="small text-muted" data-v-2113b530>m bo ti ngon</div></div></div></div>',1))])]),i("div",Ky,[i("div",Fy,[S[34]||(S[34]=i("label",{class:"form-label fw-semibold"},"S lng:",-1)),i("div",Vy,[i("button",{class:"quantity-btn",onClick:S[2]||(S[2]=Q=>K(T)(-1,$.value)),disabled:$.value===0},S[32]||(S[32]=[i("i",{class:"fas fa-minus"},null,-1)]),8,Gy),ft(i("input",{type:"number",class:"form-control quantity-input","onUpdate:modelValue":S[3]||(S[3]=Q=>Ge(c)?c.value=Q:null),min:1,max:$.value||10,disabled:$.value===0},null,8,jy),[[_n,K(c)]]),i("button",{class:"quantity-btn",onClick:S[4]||(S[4]=Q=>K(T)(1,$.value)),disabled:$.value===0},S[33]||(S[33]=[i("i",{class:"fas fa-plus"},null,-1)]),8,qy)]),$.value===0?(A(),I("small",Yy,"Sn phm  ht hng")):$.value!==null?(A(),I("small",Wy,"Cn "+G($.value)+" sn phm",1)):he("",!0)]),i("div",zy,[S[37]||(S[37]=i("label",{class:"form-label fw-semibold"},"Hnh ng:",-1)),i("div",Qy,[i("button",{class:"btn add-to-cart-btn text-white flex-fill",onClick:S[5]||(S[5]=(...Q)=>K(b)&&K(b)(...Q)),disabled:$.value===0},[S[35]||(S[35]=i("i",{class:"fas fa-cart-plus me-2"},null,-1)),z(G($.value===0?"Ht hng":"Thm vo gi"),1)],8,Jy),i("button",{class:"btn buy-now-btn text-white flex-fill",onClick:S[6]||(S[6]=(...Q)=>K(C)&&K(C)(...Q)),disabled:$.value===0},[S[36]||(S[36]=i("i",{class:"fas fa-bolt me-2"},null,-1)),z(G($.value===0?"Ht hng":"Mua ngay"),1)],8,Xy)])])]),S[41]||(S[41]=Lt('<div class="delivery-info p-3" data-v-2113b530><h6 class="fw-bold text-success mb-3" data-v-2113b530><i class="fas fa-shipping-fast me-2" data-v-2113b530></i>Thng tin giao hng </h6><div class="row g-3" data-v-2113b530><div class="col-md-6" data-v-2113b530><div class="d-flex align-items-center" data-v-2113b530><i class="fas fa-clock text-success me-3" data-v-2113b530></i><div data-v-2113b530><strong data-v-2113b530>Giao hng nhanh</strong><div class="small text-muted" data-v-2113b530>Trong 2 gi</div></div></div></div><div class="col-md-6" data-v-2113b530><div class="d-flex align-items-center" data-v-2113b530><i class="fas fa-truck text-success me-3" data-v-2113b530></i><div data-v-2113b530><strong data-v-2113b530>Min ph ship</strong><div class="small text-muted" data-v-2113b530>n t 200k</div></div></div></div></div></div>',1)),i("div",Zy,[i("div",eb,[i("button",{class:"btn btn-outline-primary w-100 rounded-pill",onClick:S[7]||(S[7]=(...Q)=>K(U)&&K(U)(...Q))},S[38]||(S[38]=[i("i",{class:"fas fa-heart me-1"},null,-1),z("Yu thch ")]))]),i("div",tb,[i("button",{class:"btn btn-outline-secondary w-100 rounded-pill",onClick:S[8]||(S[8]=(...Q)=>K(D)&&K(D)(...Q))},S[39]||(S[39]=[i("i",{class:"fas fa-share-alt me-1"},null,-1),z("Chia s ")]))]),i("div",nb,[i("button",{class:"btn btn-outline-info w-100 rounded-pill",onClick:S[9]||(S[9]=(...Q)=>K(_)&&K(_)(...Q))},S[40]||(S[40]=[i("i",{class:"fas fa-balance-scale me-1"},null,-1),z("So snh ")]))])])])])])):(A(),I("div",cy,[i("div",uy,[S[22]||(S[22]=i("h3",null,"Khng tm thy sn phm",-1)),S[23]||(S[23]=i("p",{class:"text-muted"},"Sn phm bn tm kim khng tn ti.",-1)),i("div",dy,[S[20]||(S[20]=i("h6",{class:"text-muted"},"Debug Info:",-1)),i("p",null,[S[15]||(S[15]=i("strong",null,"Product ID:",-1)),z(" "+G(n.productId),1)]),i("p",null,[S[16]||(S[16]=i("strong",null,"Current Product:",-1)),z(" "+G(K(l)),1)]),i("p",null,[S[17]||(S[17]=i("strong",null,"Is Loading:",-1)),z(" "+G(K(O)),1)]),i("p",null,[S[18]||(S[18]=i("strong",null,"Products Count:",-1)),z(" "+G(K(s).length),1)]),i("p",null,[S[19]||(S[19]=i("strong",null,"Available Product IDs:",-1)),z(" "+G(K(s).map(Q=>Q.id).join(", ")),1)])]),i("button",{class:"btn btn-primary mt-3",onClick:S[1]||(S[1]=Q=>re.$emit("go-home"))},S[21]||(S[21]=[i("i",{class:"fas fa-home me-2"},null,-1),z("V trang ch ")]))])]))]),K(l)?(A(),I("div",sb,[i("ul",ob,[i("li",rb,[i("button",{class:ye(["nav-link",{active:K(u)==="description"}]),onClick:S[10]||(S[10]=Q=>u.value="description")},S[42]||(S[42]=[i("i",{class:"fas fa-info-circle me-2"},null,-1),z("M t sn phm ")]),2)]),i("li",ab,[i("button",{class:ye(["nav-link",{active:K(u)==="reviews"}]),onClick:S[11]||(S[11]=Q=>u.value="reviews")},S[43]||(S[43]=[i("i",{class:"fas fa-star me-2"},null,-1),z("nh gi ")]),2)])]),i("div",ib,[ft(i("div",lb,[i("div",cb,[i("div",ub,[i("div",db,[i("div",fb,[i("h5",hb,[S[44]||(S[44]=i("i",{class:"fas fa-info-circle me-2"},null,-1)),z("V sn phm "+G(K(l).name),1)]),i("p",gb,G(Y.value),1),S[53]||(S[53]=i("div",{class:"feature-highlight"},[i("h6",{class:"text-primary mb-2"},[i("i",{class:"fas fa-certificate me-2"}),z("Cam kt cht lng ")]),i("p",{class:"mb-0"}," Chng ti cam kt 100% sn phm ti ngon, an ton. Nu khng hi lng, hon tin trong 24h. ")],-1)),i("div",pb,[S[52]||(S[52]=i("h6",{class:"text-primary mb-3"},[i("i",{class:"fas fa-list-ul me-2"}),z("Thng s sn phm ")],-1)),i("ul",mb,[K(l).weight?(A(),I("li",vb,[S[45]||(S[45]=i("i",{class:"fas fa-weight-hanging text-muted me-2"},null,-1)),S[46]||(S[46]=z(" Trng lng: ")),i("strong",null,G(K(l).weight),1),S[47]||(S[47]=z()),K(l).weightUnit?(A(),I("span",yb,G(K(l).weightUnit),1)):he("",!0)])):he("",!0),K(l).weightUnit&&!K(l).weight?(A(),I("li",bb,[S[48]||(S[48]=i("i",{class:"fas fa-balance-scale text-muted me-2"},null,-1)),S[49]||(S[49]=z(" n v tnh: ")),i("strong",null,G(K(l).weightUnit),1)])):he("",!0),K(l).shelfLifeDays?(A(),I("li",wb,[S[50]||(S[50]=i("i",{class:"fas fa-hourglass-half text-muted me-2"},null,-1)),S[51]||(S[51]=z(" Hn s dng: ")),i("strong",null,G(K(l).shelfLifeDays)+" ngy",1)])):he("",!0)])])])])])])],512),[[es,K(u)==="description"]]),ft(i("div",Tb,[fe(Xv,{product:K(l),onReviewSubmitted:Ae},null,8,["product"]),fe(kv,{product:K(l),reviews:K(f)},null,8,["product","reviews"])],512),[[es,K(u)==="reviews"]])])])):he("",!0),K(w).length>0?(A(),I("div",_b,[S[54]||(S[54]=i("h3",{class:"section-title fs-2 fw-bold text-dark mb-4"},[i("i",{class:"fas fa-heart text-danger me-3"}),z("Sn phm lin quan ")],-1)),i("div",Cb,[(A(!0),I(ve,null,Le(K(w),Q=>(A(),I("div",{key:Q.id,class:"col-lg-3 col-md-4 col-sm-6"},[fe(ml,{product:Q,formatPrice:K(r),onAddToCart:K(o),onViewDetail:S[12]||(S[12]=j=>re.$emit("view-product",j))},null,8,["product","formatPrice","onAddToCart"])]))),128))])])):he("",!0),fe(vl,{"show-on-scroll":!0,"scroll-threshold":300,onCouponCopied:Ce})]))}},kb=Je(Sb,[["__scopeId","data-v-2113b530"]]),Eb={__name:"ProductDetail",setup(e){const t=dn(),n=ef(),s=ee(()=>n.params.id),o=()=>{t.push({name:"Home"})},r=a=>{t.push({name:"ProductDetail",params:{id:a}})};return(a,l)=>(A(),I("div",null,[fe(kb,{productId:s.value,onGoHome:o,onViewProduct:r},null,8,["productId"])]))}},Ab=Je(Eb,[["__scopeId","data-v-2119db9b"]]),$b={class:"cart-page"},Ib={class:"container py-5 mt-5"},xb={"aria-label":"breadcrumb",class:"mb-4"},Rb={class:"breadcrumb"},Ob={class:"breadcrumb-item"},Pb={key:0,class:"row"},Db={class:"col-lg-8"},Lb={class:"card"},Nb={class:"card-body"},Ub={class:"table-responsive"},Hb={class:"table align-middle"},Mb={class:"table-light"},Bb={width:"50"},Kb={class:"form-check"},Fb=["checked"],Vb={class:"form-check"},Gb=["checked","onChange","id"],jb={class:"d-flex align-items-center"},qb=["src","alt","onClick"],Yb=["onClick"],Wb={class:"text-muted"},zb={class:"fw-bold text-danger"},Qb={class:"quantity-controls"},Jb=["onClick","disabled"],Xb={class:"quantity-display"},Zb=["onClick"],e0={class:"fw-bold text-danger fs-6"},t0=["onClick"],n0={class:"col-lg-4"},s0={class:"card sticky-top",style:{top:"100px"}},o0={class:"card-body"},r0={class:"order-summary"},a0={class:"d-flex justify-content-between mb-2"},i0={class:"d-flex justify-content-between mb-2"},l0={key:0,class:"small text-success mb-2"},c0={key:1,class:"small text-muted mb-2"},u0={class:"d-flex justify-content-between mb-3"},d0={class:"text-danger fs-5"},f0=["disabled"],h0={key:1,class:"row"},g0={class:"col-12"},p0={class:"empty-cart text-center py-5"},m0={__name:"Cart",setup(e){const t=dn(),{formatPrice:n,getCategoryById:s,products:o,showNotification:r}=xn(),{cart:a,cartCount:l,removeFromCart:c,updateCartQuantity:d,reloadCartFromBackend:u,getBackendCartSnapshot:f}=Xs(),{createOrderFromCart:h}=gl(),g=J(new Set);J("123 ng ABC, Qun 1, TP.HCM");const w=ee(()=>a.value.map(F=>{const E=o.value.find(ae=>ae.id===F.productId);return{...F,product:E}}).filter(F=>F.product)),y=ee(()=>w.value.reduce((F,E)=>F+(E.product?.price||0)*E.quantity,0)),O=ee(()=>y.value>=2e5?0:3e4);ee(()=>y.value+O.value),ee(()=>w.value.reduce((F,E)=>F+E.quantity,0));const x=ee(()=>w.value.filter(F=>g.value.has(F.productId))),T=ee(()=>x.value.reduce((F,E)=>F+(E.product?.price||0)*E.quantity,0)),b=ee(()=>T.value>=2e5?0:3e4),C=ee(()=>T.value+b.value),U=ee(()=>x.value.reduce((F,E)=>F+E.quantity,0)),D=ee(()=>w.value.length>0&&w.value.every(F=>g.value.has(F.productId))),_=F=>{t.push({name:"ProductDetail",params:{id:F}})},V=F=>{const E=s(F);return E?E.name:"Khng xc nh"},L=(F,E)=>{if(E<=0){const ae=w.value.find(W=>W.productId===F);R(F,ae?.product?.name||"Sn phm")}else d(F,E)},R=(F,E)=>{confirm(`Bn c chc mun xa "${E}" khi gi hng?`)&&(c(F),g.value.delete(F),r(` xa ${E} khi gi hng!`,"info"))},P=async()=>{try{if(g.value.size===0){r("Vui lng chn sn phm  thanh ton!","warning");return}const F=JSON.parse(localStorage.getItem("easymart-user")||"null");if(!F){const j=Array.from(g.value);localStorage.setItem("easymart-selected-items",JSON.stringify(j)),localStorage.setItem("easymart-redirect-after-login","/checkout"),r("Vui lng ng nhp  tin hnh thanh ton!","warning"),t.push("/login");return}console.log(" Loading cart data before checkout..."),await u();const E=a.value;try{console.log(" Backend cart items:",E),console.log(" Backend cart items type:",typeof E),console.log(" Backend cart items length:",E?.length)}catch(j){console.error(" Error logging backend cart items:",j),r("Li khi x l d liu gi hng. Vui lng th li.","error");return}console.log(" User object from localStorage:",F);const ae=await f(),W=ae.maKH||F?.maKH||F?.id||F?.maNguoiDung||localStorage.getItem("easymart-user-id");if(console.log(" maKH resolved:",W),console.log(" cartSnapshot.maKH:",ae.maKH),!W){r("Khng th xc nh m khch hng. Vui lng ng nhp li.","error");return}const Y=F?.maNV||"NV001";console.log(" User info for checkout:"),console.log("   - user object:",F),console.log("   - maKH resolved:",W),console.log("   - maNV resolved:",Y),console.log(" selectedItems.value:",g.value);const Ae=Array.from(g.value);console.log(" Selected product IDs:",Ae),console.log(" Filtering backend items..."),console.log(" backendCartItems:",E),console.log(" selectedProductIds:",Ae);const Te=E.filter(j=>(console.log(" Checking backendItem:",j),console.log(" backendItem.productId:",j.productId),console.log(" selectedProductIds.includes(backendItem.productId):",Ae.includes(j.productId)),Ae.includes(j.productId)));console.log(" Selected backend items:",Te);try{console.log(" Backend cart items structure:"),E.forEach((j,Ie)=>{console.log(`   Item ${Ie}:`,{keys:Object.keys(j),values:Object.values(j)})}),console.log(" Selected backend items structure:"),Te.forEach((j,Ie)=>{console.log(`   Selected Item ${Ie}:`,{keys:Object.keys(j),values:Object.values(j)}),console.log(`   Selected Item ${Ie} details:`,{productId:j.productId,itemId:j.itemId,quantity:j.quantity,price:j.price}),console.log(`   Selected Item ${Ie} original data:`,j.originalData)})}catch(j){console.error(" Error logging cart structure:",j),r("Li khi x l cu trc gi hng. Vui lng th li.","error");return}const Ce=j=>j.itemId,re=Te.filter(j=>!Ce(j));if(re.length>0){console.warn(" Some selected items are missing cart item ID. Items:",re.map(j=>j.productId)),console.log(" Available fields for missing items:"),re.forEach(j=>{console.log(`   Product ${j.productId}:`,Object.keys(j))}),r("Khng th to ha n: mt s sn phm cha c ID gi hng. Vui lng lm mi gi hng v th li.","error");return}const S=Te.map(j=>String(Ce(j)));console.log(" Selected cart item IDs:",S);const Q={maKH:W,maNV:Y||"NV001",selectedCartItemIds:S,trangThai:0};console.log(" Building invoice payload from cart:"),console.log("   - maKH:",Q.maKH),console.log("   - maNV:",Q.maNV),console.log("   - selectedCartItemIds:",Q.selectedCartItemIds),console.log("   - trangThai:",Q.trangThai);try{r("ang to ha n t gi...","info"),console.log(" Calling createOrderFromCart with payload:",Q);const j=await h(Q);if(console.log(" createOrderFromCart result:",j),j?.success){r("To ha n thnh cng!","success");const Ie={maHD:j.result?.maHD,maKH:j.result?.maKH,items:j.result?.items||[],tongTien:j.result?.tongTien,ngayLap:j.result?.ngayLap,trangThai:j.result?.trangThai};localStorage.setItem("easymart-invoice",JSON.stringify(Ie)),localStorage.setItem("easymart-selected-items",JSON.stringify(S)),console.log(" Items  c chuyn sang ha n, clearing cart...");try{await u(),console.log(" Cart reloaded after order creation")}catch(N){console.warn(" Failed to reload cart after order creation:",N)}setTimeout(()=>{t.push("/checkout")},1e3)}else r(j?.message||"Khng th to ha n","error")}catch(j){console.error(" Checkout failed:",j),r(j?.message||"Thanh ton tht bi","error")}}catch(F){console.error(" Checkout function error:",F),r("Li khng mong mun trong qu trnh thanh ton. Vui lng th li.","error")}},v=F=>{g.value.has(F)?g.value.delete(F):g.value.add(F)},$=()=>{D.value?g.value.clear():w.value.forEach(F=>{g.value.add(F.productId)})};return(F,E)=>{const ae=un("router-link");return A(),I("div",$b,[i("div",Ib,[i("nav",xb,[i("ol",Rb,[i("li",Ob,[fe(ae,{to:"/",class:"text-decoration-none"},{default:Ne(()=>E[0]||(E[0]=[i("i",{class:"fas fa-home"},null,-1),z(" Trang ch ")])),_:1,__:[0]})]),E[1]||(E[1]=i("li",{class:"breadcrumb-item active","aria-current":"page"},[i("i",{class:"fas fa-shopping-cart"}),z(" Gi hng ")],-1))])]),E[23]||(E[23]=i("h2",{class:"mb-4"},[i("i",{class:"fas fa-shopping-cart text-primary me-2"}),z(" Gi hng ca bn ")],-1)),K(a).length>0?(A(),I("div",Pb,[i("div",Db,[i("div",Lb,[i("div",Nb,[i("div",Ub,[i("table",Hb,[i("thead",Mb,[i("tr",null,[i("th",Bb,[i("div",Kb,[i("input",{class:"form-check-input",type:"checkbox",checked:D.value,onChange:$,id:"selectAll"},null,40,Fb),E[2]||(E[2]=i("label",{class:"form-check-label",for:"selectAll"}," Tt c ",-1))])]),E[3]||(E[3]=i("th",null,"Sn phm",-1)),E[4]||(E[4]=i("th",null,"n gi",-1)),E[5]||(E[5]=i("th",null,"S lng",-1)),E[6]||(E[6]=i("th",null,"Thnh tin",-1)),E[7]||(E[7]=i("th",null,null,-1))])]),i("tbody",null,[(A(!0),I(ve,null,Le(w.value,W=>(A(),I("tr",{key:W.productId},[i("td",null,[i("div",Vb,[i("input",{class:"form-check-input",type:"checkbox",checked:g.value.has(W.productId),onChange:Y=>v(W.productId),id:`item-${W.productId}`},null,40,Gb)])]),i("td",null,[i("div",jb,[i("img",{src:W.product?.image,alt:W.product?.name,class:"cart-item-image me-3",onClick:Y=>_(W.productId)},null,8,qb),i("div",null,[i("h6",{class:"mb-1 product-name",onClick:Y=>_(W.productId)},G(W.product?.name),9,Yb),i("small",Wb," Danh mc: "+G(V(W.product?.categoryId)),1)])])]),i("td",null,[i("span",zb,G(K(n)(W.product?.price||0)),1)]),i("td",null,[i("div",Qb,[i("button",{class:"btn btn-outline-secondary btn-sm",onClick:Y=>L(W.productId,W.quantity-1),disabled:W.quantity<=1},E[8]||(E[8]=[i("i",{class:"fas fa-minus"},null,-1)]),8,Jb),i("span",Xb,G(W.quantity),1),i("button",{class:"btn btn-outline-secondary btn-sm",onClick:Y=>L(W.productId,W.quantity+1)},E[9]||(E[9]=[i("i",{class:"fas fa-plus"},null,-1)]),8,Zb)])]),i("td",null,[i("span",e0,G(K(n)((W.product?.price||0)*W.quantity)),1)]),i("td",null,[i("button",{class:"btn btn-outline-danger btn-sm",onClick:Y=>R(W.productId,W.product?.name),title:"Xa sn phm"},E[10]||(E[10]=[i("i",{class:"fas fa-trash"},null,-1)]),8,t0)])]))),128))])])])])])]),i("div",n0,[i("div",s0,[E[18]||(E[18]=i("div",{class:"card-header bg-primary text-white"},[i("h5",{class:"mb-0"},[i("i",{class:"fas fa-receipt me-2"}),z(" Tng kt n hng ")])],-1)),i("div",o0,[i("div",r0,[i("div",a0,[i("span",null," chn ("+G(U.value)+" sn phm):",1),i("span",null,G(K(n)(T.value)),1)]),i("div",i0,[E[11]||(E[11]=i("span",null,"Ph vn chuyn:",-1)),i("span",{class:ye(b.value===0?"text-success":"")},G(b.value===0?"Min ph":K(n)(b.value)),3)]),b.value===0?(A(),I("div",l0,E[12]||(E[12]=[i("i",{class:"fas fa-check-circle me-1"},null,-1),z(" Bn c min ph vn chuyn! ")]))):T.value>0?(A(),I("div",c0,[E[13]||(E[13]=i("i",{class:"fas fa-info-circle me-1"},null,-1)),z(" Mua thm "+G(K(n)(2e5-T.value))+"  c min ph ship ",1)])):he("",!0),E[17]||(E[17]=i("hr",null,null,-1)),i("div",u0,[E[14]||(E[14]=i("strong",{class:"fs-5"},"Tng cng:",-1)),i("strong",d0,G(K(n)(C.value)),1)]),i("button",{class:"btn btn-primary w-100 mb-2 py-2",onClick:P,disabled:g.value.size===0},E[15]||(E[15]=[i("i",{class:"fas fa-credit-card me-2"},null,-1),z(" Tin hnh thanh ton ")]),8,f0),fe(ae,{to:"/",class:"btn btn-outline-secondary w-100"},{default:Ne(()=>E[16]||(E[16]=[i("i",{class:"fas fa-arrow-left me-2"},null,-1),z(" Tip tc mua sm ")])),_:1,__:[16]})])])])])])):(A(),I("div",h0,[i("div",g0,[i("div",p0,[E[20]||(E[20]=i("div",{class:"empty-cart-icon mb-4"},[i("i",{class:"fas fa-shopping-cart fa-5x text-muted"})],-1)),E[21]||(E[21]=i("h3",{class:"text-muted mb-3"},"Gi hng trng",-1)),E[22]||(E[22]=i("p",{class:"text-muted mb-4"},"Bn cha c sn phm no trong gi hng",-1)),fe(ae,{to:"/",class:"btn btn-primary btn-lg"},{default:Ne(()=>E[19]||(E[19]=[i("i",{class:"fas fa-shopping-bag me-2"},null,-1),z(" Bt u mua sm ")])),_:1,__:[19]})])])]))])])}}},v0=Je(m0,[["__scopeId","data-v-c1024f2f"]]),y0=[{path:"/",name:"Home",component:iv,meta:{title:"EasyMart - Siu th thc phm online",description:"Mua sm thc phm ti sng, hng ha cht lng cao vi gi tt nht"}},{path:"/promotions",name:"Promotions",component:()=>Ke(()=>import("./Promotions-zqHO_MWo.js"),__vite__mapDeps([0,1])),meta:{title:"Khuyn mi - EasyMart",description:"Khm ph cc u i v m gim gi hp dn ti EasyMart"}},{path:"/product/:id",name:"ProductDetail",component:Ab,props:!0,meta:{title:"Chi tit sn phm - EasyMart",description:"Xem chi tit sn phm vi thng tin y , hnh nh cht lng cao"}},{path:"/cart",name:"Cart",component:v0,meta:{title:"Gi hng - EasyMart",description:"Xem v qun l sn phm trong gi hng ca bn"}},{path:"/checkout",name:"Checkout",component:()=>Ke(()=>import("./Checkout-_Zdshevy.js"),__vite__mapDeps([2,3])),meta:{title:"Thanh ton - EasyMart",description:"Tin hnh thanh ton n hng"}},{path:"/payment-success",name:"PaymentSuccess",component:()=>Ke(()=>import("./PaymentSuccess-D04cZlWP.js"),__vite__mapDeps([4,5])),meta:{title:"Thanh ton thnh cng - EasyMart",description:"Xc nhn n hng  c thanh ton thnh cng"}},{path:"/search",name:"Search",component:()=>Ke(()=>import("./Search-eHzv9Ene.js"),__vite__mapDeps([6,7])),meta:{title:"Tm kim sn phm - EasyMart",description:"Tm kim v khm ph hng nghn sn phm cht lng ti EasyMart"}},{path:"/categories",name:"Categories",component:()=>Ke(()=>import("./Categories-BX9dsJtV.js"),__vite__mapDeps([8,9])),meta:{title:"Danh mc sn phm - EasyMart",description:"Khm ph tt c danh mc sn phm ti EasyMart"}},{path:"/category/:id",name:"Category",component:()=>Ke(()=>import("./Category-1Cte8-H1.js"),__vite__mapDeps([10,11])),props:!0,meta:{title:"Danh mc sn phm - EasyMart",description:"Xem tt c sn phm trong danh mc"}},{path:"/about",name:"About",component:()=>Ke(()=>import("./About-DFTeLKT6.js"),__vite__mapDeps([12,13])),meta:{title:"Gii thiu - EasyMart",description:"Thng tin v EasyMart - Siu th thc phm online uy tn"}},{path:"/contact",name:"Contact",component:()=>Ke(()=>import("./Contact-DppKItTJ.js"),__vite__mapDeps([14,15])),meta:{title:"Lin h - EasyMart",description:"Thng tin lin h v h tr khch hng"}},{path:"/login",name:"Login",component:()=>Ke(()=>import("./Login-Iby2OdTt.js"),__vite__mapDeps([16,17,18,19])),meta:{title:"ng nhp - EasyMart",description:"ng nhp vo ti khon EasyMart ca bn"}},{path:"/register",name:"Register",component:()=>Ke(()=>import("./Register-CQDTMChg.js"),__vite__mapDeps([20,17,18,21])),meta:{title:"ng k - EasyMart",description:"To ti khon mi ti EasyMart"}},{path:"/forgot-password",name:"ForgotPassword",component:()=>Ke(()=>import("./ForgotPassword-BZ9zMZ6g.js"),__vite__mapDeps([22,23])),meta:{title:"Qun mt khu - EasyMart",description:"t li mt khu ti khon EasyMart ca bn"}},{path:"/profile",name:"Profile",component:()=>Ke(()=>import("./Profile-Cozh117v.js"),__vite__mapDeps([24,25])),meta:{title:"H s c nhn - EasyMart",description:"Qun l thng tin c nhn v ti khon EasyMart"}},{path:"/orders",name:"Orders",component:()=>Ke(()=>import("./Orders-CyXzjsBY.js"),__vite__mapDeps([26,27])),meta:{title:"n hng ca ti - EasyMart",description:"Xem v qun l tt c n hng ca bn ti EasyMart"}},{path:"/oauth2/success",name:"OAuth2Success",component:()=>Ke(()=>import("./OAuth2Success-Bbtn4eQK.js"),__vite__mapDeps([28,29])),meta:{title:"ng nhp thnh cng - EasyMart",description:"ang x l ng nhp OAuth2..."}},{path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/"}],dr=Xd({history:Ad(),routes:y0,scrollBehavior(e,t,n){return n||{top:0}}});dr.beforeEach((e,t,n)=>{if(e.meta.title&&(document.title=e.meta.title),e.meta.description){const o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content",e.meta.description)}if(["Checkout","PaymentSuccess","Orders","Profile"].includes(e.name)&&!JSON.parse(localStorage.getItem("easymart-user")||"null")){localStorage.setItem("easymart-redirect-after-login",e.fullPath),n({name:"Login"});return}n()});dr.afterEach(()=>{});async function b0(e,t={}){const n=Se();if(!n)throw new Error("No JWT token found. Please login again.");const s={headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",...t.headers}},o=e.startsWith("http")?e:`${le.BASE_URL}${e}`;try{const r=await fetch(o,{...t,...s,headers:{...s.headers,...t.headers}});if(!r.ok){if(r.status===401){console.warn("JWT token expired or invalid"),lf(),localStorage.removeItem("easymart-user"),window.location.href="/login";return}const a=await r.json().catch(()=>null);throw new Error(a?.message||`API call failed: ${r.statusText}`)}return await r.json()}catch(r){throw console.error("API call error:",r),r}}function w0(){const e=Se();if(!e)return!1;try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3);return t.exp>n}catch(t){return console.error("Error validating token:",t),!1}}async function Ta(){const e=Se();if(e)try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3),s=t.exp-n;if(s<300&&s>0){console.log("Token expiring soon, attempting refresh...");const o=await b0("/api/oauth2/get-jwt-token");o.success&&o.result.jwt_token&&(af(o.result.jwt_token),console.log(" Token refreshed successfully"))}}catch(t){console.error("Auto-refresh failed:",t)}}function T0(){return Ta(),setInterval(Ta,6e4)}const yl=Wu(Ep);yl.use(dr);w0()&&(console.log("Starting JWT token auto-refresh..."),T0());typeof window<"u"&&(setInterval(async()=>{const{autoLogoutIfInvalid:e}=os();await e()},3e4),window.addEventListener("focus",async()=>{const{autoLogoutIfInvalid:e}=os();await e()}),console.log(" Auto-logout checking enabled (30s interval + on focus)"));yl.mount("#app");export{le as A,ef as B,Qf as C,st as D,Fi as E,ve as F,ju as G,zn as H,Do as I,vl as J,xt as K,Dt as L,_0 as M,Ki as N,tf as O,ml as P,es as Q,gl as R,Mt as S,Se as T,af as U,Je as _,i as a,Lt as b,I as c,he as d,Le as e,ye as f,z as g,ct as h,fe as i,Ne as j,un as k,K as l,dn as m,wn as n,A as o,Xs as p,ee as q,J as r,ft as s,G as t,xn as u,_n as v,Be as w,os as x,Bu as y,me as z};
