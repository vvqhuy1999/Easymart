const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Promotions-sk-qSnII.js","assets/Promotions-BlNg8Auk.css","assets/Checkout-4besu7dx.js","assets/Checkout-CoyFevIx.css","assets/PaymentSuccess-IWDEEcS5.js","assets/PaymentSuccess-BCbCYnIA.css","assets/Search-C-FRKswe.js","assets/Search-0TRBME_e.css","assets/Categories-CzLpa8wv.js","assets/Categories-B2JZZ1b3.css","assets/Category-CQlJoCL7.js","assets/Category-D5oOeu2v.css","assets/About-C4dtUn4N.js","assets/About-eoiSrOrX.css","assets/Contact-DQF_alUS.js","assets/Contact-Dko7EUlx.css","assets/Login-BGSxpaWT.js","assets/FacebookSignIn-CuTbX1l2.js","assets/FacebookSignIn-BGU_Fz4z.css","assets/Login-Br0MiDYh.css","assets/Register-Cy0CcOYu.js","assets/Register-m9ywLs9E.css","assets/ForgotPassword-B5Jcc_bU.js","assets/ForgotPassword-ka-IWcgV.css","assets/Profile-DIuKddYb.js","assets/Profile-CwOIXYIF.css","assets/OAuth2Success-hvPb5Kna.js","assets/OAuth2Success-BtngB-lt.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Oo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const ke={},hn=[],Ct=()=>{},hl=()=>!1,Os=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Do=e=>e.startsWith("onUpdate:"),Le=Object.assign,Lo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},pl=Object.prototype.hasOwnProperty,we=(e,t)=>pl.call(e,t),se=Array.isArray,pn=e=>rs(e)==="[object Map]",An=e=>rs(e)==="[object Set]",fr=e=>rs(e)==="[object Date]",fe=e=>typeof e=="function",Re=e=>typeof e=="string",St=e=>typeof e=="symbol",Se=e=>e!==null&&typeof e=="object",yi=e=>(Se(e)||fe(e))&&fe(e.then)&&fe(e.catch),bi=Object.prototype.toString,rs=e=>bi.call(e),gl=e=>rs(e).slice(8,-1),_i=e=>rs(e)==="[object Object]",Mo=e=>Re(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Mn=Oo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ds=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ml=/-(\w)/g,at=Ds(e=>e.replace(ml,(t,n)=>n?n.toUpperCase():"")),vl=/\B([A-Z])/g,Jt=Ds(e=>e.replace(vl,"-$1").toLowerCase()),Ls=Ds(e=>e.charAt(0).toUpperCase()+e.slice(1)),Xs=Ds(e=>e?`on${Ls(e)}`:""),qt=(e,t)=>!Object.is(e,t),ms=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},ho=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Cs=e=>{const t=parseFloat(e);return isNaN(t)?e:t},yl=e=>{const t=Re(e)?Number(e):NaN;return isNaN(t)?e:t};let hr;const Ms=()=>hr||(hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yn(e){if(se(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Re(s)?Tl(s):yn(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(Re(e)||Se(e))return e}const bl=/;(?![^(]*\))/g,_l=/:([^]+)/,wl=/\/\*[^]*?\*\//g;function Tl(e){const t={};return e.replace(wl,"").split(bl).forEach(n=>{if(n){const s=n.split(_l);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function be(e){let t="";if(Re(e))t=e;else if(se(e))for(let n=0;n<e.length;n++){const s=be(e[n]);s&&(t+=s+" ")}else if(Se(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Cl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kl=Oo(Cl);function wi(e){return!!e||e===""}function Sl(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=an(e[s],t[s]);return n}function an(e,t){if(e===t)return!0;let n=fr(e),s=fr(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=St(e),s=St(t),n||s)return e===t;if(n=se(e),s=se(t),n||s)return n&&s?Sl(e,t):!1;if(n=Se(e),s=Se(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const i in e){const l=e.hasOwnProperty(i),c=t.hasOwnProperty(i);if(l&&!c||!l&&c||!an(e[i],t[i]))return!1}}return String(e)===String(t)}function Uo(e,t){return e.findIndex(n=>an(n,t))}const Ti=e=>!!(e&&e.__v_isRef===!0),B=e=>Re(e)?e:e==null?"":se(e)||Se(e)&&(e.toString===bi||!fe(e.toString))?Ti(e)?B(e.value):JSON.stringify(e,Ci,2):String(e),Ci=(e,t)=>Ti(t)?Ci(e,t.value):pn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[Zs(s,r)+" =>"]=o,n),{})}:An(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Zs(n))}:St(t)?Zs(t):Se(t)&&!se(t)&&!_i(t)?String(t):t,Zs=(e,t="")=>{var n;return St(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xe;class El{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Xe,!t&&Xe&&(this.index=(Xe.scopes||(Xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Xe;try{return Xe=this,t()}finally{Xe=n}}}on(){++this._on===1&&(this.prevScope=Xe,Xe=this)}off(){this._on>0&&--this._on===0&&(Xe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Al(){return Xe}let Ae;const eo=new WeakSet;class ki{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Xe&&Xe.active&&Xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,eo.has(this)&&(eo.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ei(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pr(this),Ai(this);const t=Ae,n=lt;Ae=this,lt=!0;try{return this.fn()}finally{xi(this),Ae=t,lt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Bo(t);this.deps=this.depsTail=void 0,pr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?eo.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){po(this)&&this.run()}get dirty(){return po(this)}}let Si=0,Un,Nn;function Ei(e,t=!1){if(e.flags|=8,t){e.next=Nn,Nn=e;return}e.next=Un,Un=e}function No(){Si++}function Ho(){if(--Si>0)return;if(Nn){let t=Nn;for(Nn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Un;){let t=Un;for(Un=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ai(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function xi(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),Bo(s),xl(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function po(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&($i(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function $i(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===qn)||(e.globalVersion=qn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!po(e))))return;e.flags|=2;const t=e.dep,n=Ae,s=lt;Ae=e,lt=!0;try{Ai(e);const o=e.fn(e._value);(t.version===0||qt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Ae=n,lt=s,xi(e),e.flags&=-3}}function Bo(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Bo(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function xl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let lt=!0;const Ii=[];function Lt(){Ii.push(lt),lt=!1}function Mt(){const e=Ii.pop();lt=e===void 0?!0:e}function pr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ae;Ae=void 0;try{t()}finally{Ae=n}}}let qn=0;class $l{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Fo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Ae||!lt||Ae===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ae)n=this.activeLink=new $l(Ae,this),Ae.deps?(n.prevDep=Ae.depsTail,Ae.depsTail.nextDep=n,Ae.depsTail=n):Ae.deps=Ae.depsTail=n,Ri(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Ae.depsTail,n.nextDep=void 0,Ae.depsTail.nextDep=n,Ae.depsTail=n,Ae.deps===n&&(Ae.deps=s)}return n}trigger(t){this.version++,qn++,this.notify(t)}notify(t){No();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ho()}}}function Ri(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Ri(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const go=new WeakMap,rn=Symbol(""),mo=Symbol(""),Wn=Symbol("");function Ge(e,t,n){if(lt&&Ae){let s=go.get(e);s||go.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new Fo),o.map=s,o.key=n),o.track()}}function It(e,t,n,s,o,r){const i=go.get(e);if(!i){qn++;return}const l=c=>{c&&c.trigger()};if(No(),t==="clear")i.forEach(l);else{const c=se(e),d=c&&Mo(n);if(c&&n==="length"){const u=Number(s);i.forEach((h,g)=>{(g==="length"||g===Wn||!St(g)&&g>=u)&&l(h)})}else switch((n!==void 0||i.has(void 0))&&l(i.get(n)),d&&l(i.get(Wn)),t){case"add":c?d&&l(i.get("length")):(l(i.get(rn)),pn(e)&&l(i.get(mo)));break;case"delete":c||(l(i.get(rn)),pn(e)&&l(i.get(mo)));break;case"set":pn(e)&&l(i.get(rn));break}}Ho()}function un(e){const t=ye(e);return t===e?t:(Ge(t,"iterate",Wn),ot(e)?t:t.map(Ne))}function Us(e){return Ge(e=ye(e),"iterate",Wn),e}const Il={__proto__:null,[Symbol.iterator](){return to(this,Symbol.iterator,Ne)},concat(...e){return un(this).concat(...e.map(t=>se(t)?un(t):t))},entries(){return to(this,"entries",e=>(e[1]=Ne(e[1]),e))},every(e,t){return Et(this,"every",e,t,void 0,arguments)},filter(e,t){return Et(this,"filter",e,t,n=>n.map(Ne),arguments)},find(e,t){return Et(this,"find",e,t,Ne,arguments)},findIndex(e,t){return Et(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Et(this,"findLast",e,t,Ne,arguments)},findLastIndex(e,t){return Et(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Et(this,"forEach",e,t,void 0,arguments)},includes(...e){return no(this,"includes",e)},indexOf(...e){return no(this,"indexOf",e)},join(e){return un(this).join(e)},lastIndexOf(...e){return no(this,"lastIndexOf",e)},map(e,t){return Et(this,"map",e,t,void 0,arguments)},pop(){return Rn(this,"pop")},push(...e){return Rn(this,"push",e)},reduce(e,...t){return gr(this,"reduce",e,t)},reduceRight(e,...t){return gr(this,"reduceRight",e,t)},shift(){return Rn(this,"shift")},some(e,t){return Et(this,"some",e,t,void 0,arguments)},splice(...e){return Rn(this,"splice",e)},toReversed(){return un(this).toReversed()},toSorted(e){return un(this).toSorted(e)},toSpliced(...e){return un(this).toSpliced(...e)},unshift(...e){return Rn(this,"unshift",e)},values(){return to(this,"values",Ne)}};function to(e,t,n){const s=Us(e),o=s[t]();return s!==e&&!ot(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=n(r.value)),r}),o}const Rl=Array.prototype;function Et(e,t,n,s,o,r){const i=Us(e),l=i!==e&&!ot(e),c=i[t];if(c!==Rl[t]){const h=c.apply(e,r);return l?Ne(h):h}let d=n;i!==e&&(l?d=function(h,g){return n.call(this,Ne(h),g,e)}:n.length>2&&(d=function(h,g){return n.call(this,h,g,e)}));const u=c.call(i,d,s);return l&&o?o(u):u}function gr(e,t,n,s){const o=Us(e);let r=n;return o!==e&&(ot(e)?n.length>3&&(r=function(i,l,c){return n.call(this,i,l,c,e)}):r=function(i,l,c){return n.call(this,i,Ne(l),c,e)}),o[t](r,...s)}function no(e,t,n){const s=ye(e);Ge(s,"iterate",Wn);const o=s[t](...n);return(o===-1||o===!1)&&Vo(n[0])?(n[0]=ye(n[0]),s[t](...n)):o}function Rn(e,t,n=[]){Lt(),No();const s=ye(e)[t].apply(e,n);return Ho(),Mt(),s}const Pl=Oo("__proto__,__v_isRef,__isVue"),Pi=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(St));function Ol(e){St(e)||(e=String(e));const t=ye(this);return Ge(t,"has",e),t.hasOwnProperty(e)}class Oi{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?Gl:Ui:r?Mi:Li).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const i=se(t);if(!o){let c;if(i&&(c=Il[n]))return c;if(n==="hasOwnProperty")return Ol}const l=Reflect.get(t,n,Be(t)?t:s);return(St(n)?Pi.has(n):Pl(n))||(o||Ge(t,"get",n),r)?l:Be(l)?i&&Mo(n)?l:l.value:Se(l)?o?Hi(l):Ot(l):l}}class Di extends Oi{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=Wt(r);if(!ot(s)&&!Wt(s)&&(r=ye(r),s=ye(s)),!se(t)&&Be(r)&&!Be(s))return c?!1:(r.value=s,!0)}const i=se(t)&&Mo(n)?Number(n)<t.length:we(t,n),l=Reflect.set(t,n,s,Be(t)?t:o);return t===ye(o)&&(i?qt(s,r)&&It(t,"set",n,s):It(t,"add",n,s)),l}deleteProperty(t,n){const s=we(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&It(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!St(n)||!Pi.has(n))&&Ge(t,"has",n),s}ownKeys(t){return Ge(t,"iterate",se(t)?"length":rn),Reflect.ownKeys(t)}}class Dl extends Oi{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Ll=new Di,Ml=new Dl,Ul=new Di(!0);const vo=e=>e,us=e=>Reflect.getPrototypeOf(e);function Nl(e,t,n){return function(...s){const o=this.__v_raw,r=ye(o),i=pn(r),l=e==="entries"||e===Symbol.iterator&&i,c=e==="keys"&&i,d=o[e](...s),u=n?vo:t?ks:Ne;return!t&&Ge(r,"iterate",c?mo:rn),{next(){const{value:h,done:g}=d.next();return g?{value:h,done:g}:{value:l?[u(h[0]),u(h[1])]:u(h),done:g}},[Symbol.iterator](){return this}}}}function ds(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Hl(e,t){const n={get(o){const r=this.__v_raw,i=ye(r),l=ye(o);e||(qt(o,l)&&Ge(i,"get",o),Ge(i,"get",l));const{has:c}=us(i),d=t?vo:e?ks:Ne;if(c.call(i,o))return d(r.get(o));if(c.call(i,l))return d(r.get(l));r!==i&&r.get(o)},get size(){const o=this.__v_raw;return!e&&Ge(ye(o),"iterate",rn),Reflect.get(o,"size",o)},has(o){const r=this.__v_raw,i=ye(r),l=ye(o);return e||(qt(o,l)&&Ge(i,"has",o),Ge(i,"has",l)),o===l?r.has(o):r.has(o)||r.has(l)},forEach(o,r){const i=this,l=i.__v_raw,c=ye(l),d=t?vo:e?ks:Ne;return!e&&Ge(c,"iterate",rn),l.forEach((u,h)=>o.call(r,d(u),d(h),i))}};return Le(n,e?{add:ds("add"),set:ds("set"),delete:ds("delete"),clear:ds("clear")}:{add(o){!t&&!ot(o)&&!Wt(o)&&(o=ye(o));const r=ye(this);return us(r).has.call(r,o)||(r.add(o),It(r,"add",o,o)),this},set(o,r){!t&&!ot(r)&&!Wt(r)&&(r=ye(r));const i=ye(this),{has:l,get:c}=us(i);let d=l.call(i,o);d||(o=ye(o),d=l.call(i,o));const u=c.call(i,o);return i.set(o,r),d?qt(r,u)&&It(i,"set",o,r):It(i,"add",o,r),this},delete(o){const r=ye(this),{has:i,get:l}=us(r);let c=i.call(r,o);c||(o=ye(o),c=i.call(r,o)),l&&l.call(r,o);const d=r.delete(o);return c&&It(r,"delete",o,void 0),d},clear(){const o=ye(this),r=o.size!==0,i=o.clear();return r&&It(o,"clear",void 0,void 0),i}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Nl(o,e,t)}),n}function Ko(e,t){const n=Hl(e,t);return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(we(n,o)&&o in s?n:s,o,r)}const Bl={get:Ko(!1,!1)},Fl={get:Ko(!1,!0)},Kl={get:Ko(!0,!1)};const Li=new WeakMap,Mi=new WeakMap,Ui=new WeakMap,Gl=new WeakMap;function Vl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jl(e){return e.__v_skip||!Object.isExtensible(e)?0:Vl(gl(e))}function Ot(e){return Wt(e)?e:Go(e,!1,Ll,Bl,Li)}function Ni(e){return Go(e,!1,Ul,Fl,Mi)}function Hi(e){return Go(e,!0,Ml,Kl,Ui)}function Go(e,t,n,s,o){if(!Se(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=jl(e);if(r===0)return e;const i=o.get(e);if(i)return i;const l=new Proxy(e,r===2?s:n);return o.set(e,l),l}function gn(e){return Wt(e)?gn(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function ot(e){return!!(e&&e.__v_isShallow)}function Vo(e){return e?!!e.__v_raw:!1}function ye(e){const t=e&&e.__v_raw;return t?ye(t):e}function ql(e){return!we(e,"__v_skip")&&Object.isExtensible(e)&&ho(e,"__v_skip",!0),e}const Ne=e=>Se(e)?Ot(e):e,ks=e=>Se(e)?Hi(e):e;function Be(e){return e?e.__v_isRef===!0:!1}function J(e){return Bi(e,!1)}function Wl(e){return Bi(e,!0)}function Bi(e,t){return Be(e)?e:new Yl(e,t)}class Yl{constructor(t,n){this.dep=new Fo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ye(t),this._value=n?t:Ne(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||ot(t)||Wt(t);t=s?t:ye(t),qt(t,n)&&(this._rawValue=t,this._value=s?t:Ne(t),this.dep.trigger())}}function N(e){return Be(e)?e.value:e}const zl={get:(e,t,n)=>t==="__v_raw"?e:N(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Be(o)&&!Be(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function Fi(e){return gn(e)?e:new Proxy(e,zl)}class Ql{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Fo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Ae!==this)return Ei(this,!0),!0}get value(){const t=this.dep.track();return $i(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Jl(e,t,n=!1){let s,o;return fe(e)?s=e:(s=e.get,o=e.set),new Ql(s,o,n)}const fs={},Ss=new WeakMap;let tn;function Xl(e,t=!1,n=tn){if(n){let s=Ss.get(n);s||Ss.set(n,s=[]),s.push(e)}}function Zl(e,t,n=ke){const{immediate:s,deep:o,once:r,scheduler:i,augmentJob:l,call:c}=n,d=$=>o?$:ot($)||o===!1||o===0?Rt($,1):Rt($);let u,h,g,v,T=!1,b=!1;if(Be(e)?(h=()=>e.value,T=ot(e)):gn(e)?(h=()=>d(e),T=!0):se(e)?(b=!0,T=e.some($=>gn($)||ot($)),h=()=>e.map($=>{if(Be($))return $.value;if(gn($))return d($);if(fe($))return c?c($,2):$()})):fe(e)?t?h=c?()=>c(e,2):e:h=()=>{if(g){Lt();try{g()}finally{Mt()}}const $=tn;tn=u;try{return c?c(e,3,[v]):e(v)}finally{tn=$}}:h=Ct,t&&o){const $=h,G=o===!0?1/0:o;h=()=>Rt($(),G)}const A=Al(),x=()=>{u.stop(),A&&A.active&&Lo(A.effects,u)};if(r&&t){const $=t;t=(...G)=>{$(...G),x()}}let S=b?new Array(e.length).fill(fs):fs;const L=$=>{if(!(!(u.flags&1)||!u.dirty&&!$))if(t){const G=u.run();if(o||T||(b?G.some((M,y)=>qt(M,S[y])):qt(G,S))){g&&g();const M=tn;tn=u;try{const y=[G,S===fs?void 0:b&&S[0]===fs?[]:S,v];S=G,c?c(t,3,y):t(...y)}finally{tn=M}}}else u.run()};return l&&l(L),u=new ki(h),u.scheduler=i?()=>i(L,!1):L,v=$=>Xl($,!1,u),g=u.onStop=()=>{const $=Ss.get(u);if($){if(c)c($,4);else for(const G of $)G();Ss.delete(u)}},t?s?L(!0):S=u.run():i?i(L.bind(null,!0),!0):u.run(),x.pause=u.pause.bind(u),x.resume=u.resume.bind(u),x.stop=x,x}function Rt(e,t=1/0,n){if(t<=0||!Se(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Be(e))Rt(e.value,t,n);else if(se(e))for(let s=0;s<e.length;s++)Rt(e[s],t,n);else if(An(e)||pn(e))e.forEach(s=>{Rt(s,t,n)});else if(_i(e)){for(const s in e)Rt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Rt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function is(e,t,n,s){try{return s?e(...s):e()}catch(o){Ns(o,t,n)}}function dt(e,t,n,s){if(fe(e)){const o=is(e,t,n,s);return o&&yi(o)&&o.catch(r=>{Ns(r,t,n)}),o}if(se(e)){const o=[];for(let r=0;r<e.length;r++)o.push(dt(e[r],t,n,s));return o}}function Ns(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:i}=t&&t.appContext.config||ke;if(t){let l=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,c,d)===!1)return}l=l.parent}if(r){Lt(),is(r,null,10,[e,c,d]),Mt();return}}ec(e,n,o,s,i)}function ec(e,t,n,s=!0,o=!1){if(o)throw e;console.error(e)}const qe=[];let wt=-1;const mn=[];let Kt=null,dn=0;const Ki=Promise.resolve();let Es=null;function Yn(e){const t=Es||Ki;return e?t.then(this?e.bind(this):e):t}function tc(e){let t=wt+1,n=qe.length;for(;t<n;){const s=t+n>>>1,o=qe[s],r=zn(o);r<e||r===e&&o.flags&2?t=s+1:n=s}return t}function jo(e){if(!(e.flags&1)){const t=zn(e),n=qe[qe.length-1];!n||!(e.flags&2)&&t>=zn(n)?qe.push(e):qe.splice(tc(t),0,e),e.flags|=1,Gi()}}function Gi(){Es||(Es=Ki.then(ji))}function nc(e){se(e)?mn.push(...e):Kt&&e.id===-1?Kt.splice(dn+1,0,e):e.flags&1||(mn.push(e),e.flags|=1),Gi()}function mr(e,t,n=wt+1){for(;n<qe.length;n++){const s=qe[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;qe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Vi(e){if(mn.length){const t=[...new Set(mn)].sort((n,s)=>zn(n)-zn(s));if(mn.length=0,Kt){Kt.push(...t);return}for(Kt=t,dn=0;dn<Kt.length;dn++){const n=Kt[dn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Kt=null,dn=0}}const zn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ji(e){try{for(wt=0;wt<qe.length;wt++){const t=qe[wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),is(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wt<qe.length;wt++){const t=qe[wt];t&&(t.flags&=-2)}wt=-1,qe.length=0,Vi(),Es=null,(qe.length||mn.length)&&ji()}}let Ze=null,qi=null;function As(e){const t=Ze;return Ze=e,qi=e&&e.type.__scopeId||null,t}function Ie(e,t=Ze,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Ir(-1);const r=As(t);let i;try{i=e(...o)}finally{As(r),s._d&&Ir(1)}return i};return s._n=!0,s._c=!0,s._d=!0,s}function ct(e,t){if(Ze===null)return e;const n=Gs(Ze),s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,i,l,c=ke]=t[o];r&&(fe(r)&&(r={mounted:r,updated:r}),r.deep&&Rt(i),s.push({dir:r,instance:n,value:i,oldValue:void 0,arg:l,modifiers:c}))}return e}function Xt(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let i=0;i<o.length;i++){const l=o[i];r&&(l.oldValue=r[i].value);let c=l.dir[s];c&&(Lt(),dt(c,n,8,[e.el,l,e,t]),Mt())}}const Wi=Symbol("_vte"),Yi=e=>e.__isTeleport,Hn=e=>e&&(e.disabled||e.disabled===""),vr=e=>e&&(e.defer||e.defer===""),yr=e=>typeof SVGElement<"u"&&e instanceof SVGElement,br=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,yo=(e,t)=>{const n=e&&e.to;return Re(n)?t?t(n):null:n},zi={name:"Teleport",__isTeleport:!0,process(e,t,n,s,o,r,i,l,c,d){const{mc:u,pc:h,pbc:g,o:{insert:v,querySelector:T,createText:b,createComment:A}}=d,x=Hn(t.props);let{shapeFlag:S,children:L,dynamicChildren:$}=t;if(e==null){const G=t.el=b(""),M=t.anchor=b("");v(G,n,s),v(M,n,s);const y=(P,C)=>{S&16&&(o&&o.isCE&&(o.ce._teleportTarget=P),u(L,P,C,o,r,i,l,c))},I=()=>{const P=t.target=yo(t.props,T),C=Ji(P,t,b,v);P&&(i!=="svg"&&yr(P)?i="svg":i!=="mathml"&&br(P)&&(i="mathml"),x||(y(P,C),vs(t,!1)))};x&&(y(n,M),vs(t,!0)),vr(t.props)?(t.el.__isMounted=!1,je(()=>{I(),delete t.el.__isMounted},r)):I()}else{if(vr(t.props)&&e.el.__isMounted===!1){je(()=>{zi.process(e,t,n,s,o,r,i,l,c,d)},r);return}t.el=e.el,t.targetStart=e.targetStart;const G=t.anchor=e.anchor,M=t.target=e.target,y=t.targetAnchor=e.targetAnchor,I=Hn(e.props),P=I?n:M,C=I?G:y;if(i==="svg"||yr(M)?i="svg":(i==="mathml"||br(M))&&(i="mathml"),$?(g(e.dynamicChildren,$,P,o,r,i,l),zo(e,t,!0)):c||h(e,t,P,C,o,r,i,l,!1),x)I?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):hs(t,n,G,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const w=t.target=yo(t.props,T);w&&hs(t,w,null,d,0)}else I&&hs(t,M,y,d,1);vs(t,x)}},remove(e,t,n,{um:s,o:{remove:o}},r){const{shapeFlag:i,children:l,anchor:c,targetStart:d,targetAnchor:u,target:h,props:g}=e;if(h&&(o(d),o(u)),r&&o(c),i&16){const v=r||!Hn(g);for(let T=0;T<l.length;T++){const b=l[T];s(b,t,n,v,!!b.dynamicChildren)}}},move:hs,hydrate:sc};function hs(e,t,n,{o:{insert:s},m:o},r=2){r===0&&s(e.targetAnchor,t,n);const{el:i,anchor:l,shapeFlag:c,children:d,props:u}=e,h=r===2;if(h&&s(i,t,n),(!h||Hn(u))&&c&16)for(let g=0;g<d.length;g++)o(d[g],t,n,2);h&&s(l,t,n)}function sc(e,t,n,s,o,r,{o:{nextSibling:i,parentNode:l,querySelector:c,insert:d,createText:u}},h){const g=t.target=yo(t.props,c);if(g){const v=Hn(t.props),T=g._lpa||g.firstChild;if(t.shapeFlag&16)if(v)t.anchor=h(i(e),t,l(e),n,s,o,r),t.targetStart=T,t.targetAnchor=T&&i(T);else{t.anchor=i(e);let b=T;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")t.targetStart=b;else if(b.data==="teleport anchor"){t.targetAnchor=b,g._lpa=t.targetAnchor&&i(t.targetAnchor);break}}b=i(b)}t.targetAnchor||Ji(g,t,u,d),h(T&&i(T),t,g,n,s,o,r)}vs(t,v)}return t.anchor&&i(t.anchor)}const Qi=zi;function vs(e,t){const n=e.ctx;if(n&&n.ut){let s,o;for(t?(s=e.el,o=e.anchor):(s=e.targetStart,o=e.targetAnchor);s&&s!==o;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function Ji(e,t,n,s){const o=t.targetStart=n(""),r=t.targetAnchor=n("");return o[Wi]=r,e&&(s(o,e),s(r,e)),r}const Gt=Symbol("_leaveCb"),ps=Symbol("_enterCb");function Xi(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ht(()=>{e.isMounted=!0}),aa(()=>{e.isUnmounting=!0}),e}const st=[Function,Array],Zi={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:st,onEnter:st,onAfterEnter:st,onEnterCancelled:st,onBeforeLeave:st,onLeave:st,onAfterLeave:st,onLeaveCancelled:st,onBeforeAppear:st,onAppear:st,onAfterAppear:st,onAppearCancelled:st},ea=e=>{const t=e.subTree;return t.component?ea(t.component):t},oc={name:"BaseTransition",props:Zi,setup(e,{slots:t}){const n=Ea(),s=Xi();return()=>{const o=t.default&&qo(t.default(),!0);if(!o||!o.length)return;const r=ta(o),i=ye(e),{mode:l}=i;if(s.isLeaving)return so(r);const c=_r(r);if(!c)return so(r);let d=Qn(c,i,s,n,h=>d=h);c.type!==We&&ln(c,d);let u=n.subTree&&_r(n.subTree);if(u&&u.type!==We&&!sn(c,u)&&ea(n).type!==We){let h=Qn(u,i,s,n);if(ln(u,h),l==="out-in"&&c.type!==We)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,u=void 0},so(r);l==="in-out"&&c.type!==We?h.delayLeave=(g,v,T)=>{const b=na(s,u);b[String(u.key)]=u,g[Gt]=()=>{v(),g[Gt]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{T(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function ta(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==We){t=n;break}}return t}const rc=oc;function na(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Qn(e,t,n,s,o){const{appear:r,mode:i,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:g,onLeave:v,onAfterLeave:T,onLeaveCancelled:b,onBeforeAppear:A,onAppear:x,onAfterAppear:S,onAppearCancelled:L}=t,$=String(e.key),G=na(n,e),M=(P,C)=>{P&&dt(P,s,9,C)},y=(P,C)=>{const w=C[1];M(P,C),se(P)?P.every(f=>f.length<=1)&&w():P.length<=1&&w()},I={mode:i,persisted:l,beforeEnter(P){let C=c;if(!n.isMounted)if(r)C=A||c;else return;P[Gt]&&P[Gt](!0);const w=G[$];w&&sn(e,w)&&w.el[Gt]&&w.el[Gt](),M(C,[P])},enter(P){let C=d,w=u,f=h;if(!n.isMounted)if(r)C=x||d,w=S||u,f=L||h;else return;let H=!1;const X=P[ps]=te=>{H||(H=!0,te?M(f,[P]):M(w,[P]),I.delayedLeave&&I.delayedLeave(),P[ps]=void 0)};C?y(C,[P,X]):X()},leave(P,C){const w=String(e.key);if(P[ps]&&P[ps](!0),n.isUnmounting)return C();M(g,[P]);let f=!1;const H=P[Gt]=X=>{f||(f=!0,C(),X?M(b,[P]):M(T,[P]),P[Gt]=void 0,G[w]===e&&delete G[w])};G[w]=e,v?y(v,[P,H]):H()},clone(P){const C=Qn(P,t,n,s,o);return o&&o(C),C}};return I}function so(e){if(Hs(e))return e=Yt(e),e.children=null,e}function _r(e){if(!Hs(e))return Yi(e.type)&&e.children?ta(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&fe(n.default))return n.default()}}function ln(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ln(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function qo(e,t=!1,n){let s=[],o=0;for(let r=0;r<e.length;r++){let i=e[r];const l=n==null?i.key:String(n)+String(i.key!=null?i.key:r);i.type===pe?(i.patchFlag&128&&o++,s=s.concat(qo(i.children,t,l))):(t||i.type!==We)&&s.push(l!=null?Yt(i,{key:l}):i)}if(o>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function sa(e,t){return fe(e)?Le({name:e.name},t,{setup:e}):e}function oa(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Bn(e,t,n,s,o=!1){if(se(e)){e.forEach((T,b)=>Bn(T,t&&(se(t)?t[b]:t),n,s,o));return}if(Fn(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Bn(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Gs(s.component):s.el,i=o?null:r,{i:l,r:c}=e,d=t&&t.r,u=l.refs===ke?l.refs={}:l.refs,h=l.setupState,g=ye(h),v=h===ke?()=>!1:T=>we(g,T);if(d!=null&&d!==c&&(Re(d)?(u[d]=null,v(d)&&(h[d]=null)):Be(d)&&(d.value=null)),fe(c))is(c,l,12,[i,u]);else{const T=Re(c),b=Be(c);if(T||b){const A=()=>{if(e.f){const x=T?v(c)?h[c]:u[c]:c.value;o?se(x)&&Lo(x,r):se(x)?x.includes(r)||x.push(r):T?(u[c]=[r],v(c)&&(h[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else T?(u[c]=i,v(c)&&(h[c]=i)):b&&(c.value=i,e.k&&(u[e.k]=i))};i?(A.id=-1,je(A,n)):A()}}}Ms().requestIdleCallback;Ms().cancelIdleCallback;const Fn=e=>!!e.type.__asyncLoader,Hs=e=>e.type.__isKeepAlive;function ic(e,t){ra(e,"a",t)}function ac(e,t){ra(e,"da",t)}function ra(e,t,n=He){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Bs(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Hs(o.parent.vnode)&&lc(s,t,n,o),o=o.parent}}function lc(e,t,n,s){const o=Bs(t,e,s,!0);Nt(()=>{Lo(s[t],o)},n)}function Bs(e,t,n=He,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{Lt();const l=ls(n),c=dt(t,n,e,i);return l(),Mt(),c});return s?o.unshift(r):o.push(r),r}}const Ut=e=>(t,n=He)=>{(!Xn||e==="sp")&&Bs(e,(...s)=>t(...s),n)},cc=Ut("bm"),ht=Ut("m"),uc=Ut("bu"),ia=Ut("u"),aa=Ut("bum"),Nt=Ut("um"),dc=Ut("sp"),fc=Ut("rtg"),hc=Ut("rtc");function pc(e,t=He){Bs("ec",e,t)}const gc="components";function cn(e,t){return vc(gc,e,!0,t)||e}const mc=Symbol.for("v-ndc");function vc(e,t,n=!0,s=!1){const o=Ze||He;if(o){const r=o.type;{const l=su(r,!1);if(l&&(l===t||l===at(t)||l===Ls(at(t))))return r}const i=wr(o[e]||r[e],t)||wr(o.appContext[e],t);return!i&&s?r:i}}function wr(e,t){return e&&(e[t]||e[at(t)]||e[Ls(at(t))])}function xe(e,t,n,s){let o;const r=n,i=se(e);if(i||Re(e)){const l=i&&gn(e);let c=!1,d=!1;l&&(c=!ot(e),d=Wt(e),e=Us(e)),o=new Array(e.length);for(let u=0,h=e.length;u<h;u++)o[u]=t(c?d?ks(Ne(e[u])):Ne(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,r)}else if(Se(e))if(e[Symbol.iterator])o=Array.from(e,(l,c)=>t(l,c,void 0,r));else{const l=Object.keys(e);o=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const u=l[c];o[c]=t(e[u],u,c,r)}}else o=[];return o}const bo=e=>e?Aa(e)?Gs(e):bo(e.parent):null,Kn=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bo(e.parent),$root:e=>bo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>ca(e),$forceUpdate:e=>e.f||(e.f=()=>{jo(e.update)}),$nextTick:e=>e.n||(e.n=Yn.bind(e.proxy)),$watch:e=>Nc.bind(e)}),oo=(e,t)=>e!==ke&&!e.__isScriptSetup&&we(e,t),yc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:r,accessCache:i,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const v=i[t];if(v!==void 0)switch(v){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(oo(s,t))return i[t]=1,s[t];if(o!==ke&&we(o,t))return i[t]=2,o[t];if((d=e.propsOptions[0])&&we(d,t))return i[t]=3,r[t];if(n!==ke&&we(n,t))return i[t]=4,n[t];_o&&(i[t]=0)}}const u=Kn[t];let h,g;if(u)return t==="$attrs"&&Ge(e.attrs,"get",""),u(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==ke&&we(n,t))return i[t]=4,n[t];if(g=c.config.globalProperties,we(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return oo(o,t)?(o[t]=n,!0):s!==ke&&we(s,t)?(s[t]=n,!0):we(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},i){let l;return!!n[i]||e!==ke&&we(e,i)||oo(t,i)||(l=r[0])&&we(l,i)||we(s,i)||we(Kn,i)||we(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:we(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Tr(e){return se(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let _o=!0;function bc(e){const t=ca(e),n=e.proxy,s=e.ctx;_o=!1,t.beforeCreate&&Cr(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:i,watch:l,provide:c,inject:d,created:u,beforeMount:h,mounted:g,beforeUpdate:v,updated:T,activated:b,deactivated:A,beforeDestroy:x,beforeUnmount:S,destroyed:L,unmounted:$,render:G,renderTracked:M,renderTriggered:y,errorCaptured:I,serverPrefetch:P,expose:C,inheritAttrs:w,components:f,directives:H,filters:X}=t;if(d&&_c(d,s,null),i)for(const ce in i){const z=i[ce];fe(z)&&(s[ce]=z.bind(n))}if(o){const ce=o.call(n,n);Se(ce)&&(e.data=Ot(ce))}if(_o=!0,r)for(const ce in r){const z=r[ce],ze=fe(z)?z.bind(n,n):fe(z.get)?z.get.bind(n,n):Ct,gt=!fe(z)&&fe(z.set)?z.set.bind(n):Ct,nt=Z({get:ze,set:gt});Object.defineProperty(s,ce,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Me=>nt.value=Me})}if(l)for(const ce in l)la(l[ce],s,n,ce);if(c){const ce=fe(c)?c.call(n):c;Reflect.ownKeys(ce).forEach(z=>{ys(z,ce[z])})}u&&Cr(u,e,"c");function ge(ce,z){se(z)?z.forEach(ze=>ce(ze.bind(n))):z&&ce(z.bind(n))}if(ge(cc,h),ge(ht,g),ge(uc,v),ge(ia,T),ge(ic,b),ge(ac,A),ge(pc,I),ge(hc,M),ge(fc,y),ge(aa,S),ge(Nt,$),ge(dc,P),se(C))if(C.length){const ce=e.exposed||(e.exposed={});C.forEach(z=>{Object.defineProperty(ce,z,{get:()=>n[z],set:ze=>n[z]=ze})})}else e.exposed||(e.exposed={});G&&e.render===Ct&&(e.render=G),w!=null&&(e.inheritAttrs=w),f&&(e.components=f),H&&(e.directives=H),P&&oa(e)}function _c(e,t,n=Ct){se(e)&&(e=wo(e));for(const s in e){const o=e[s];let r;Se(o)?"default"in o?r=ut(o.from||s,o.default,!0):r=ut(o.from||s):r=ut(o),Be(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:i=>r.value=i}):t[s]=r}}function Cr(e,t,n){dt(se(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function la(e,t,n,s){let o=s.includes(".")?wa(n,s):()=>n[s];if(Re(e)){const r=t[e];fe(r)&&rt(o,r)}else if(fe(e))rt(o,e.bind(n));else if(Se(e))if(se(e))e.forEach(r=>la(r,t,n,s));else{const r=fe(e.handler)?e.handler.bind(n):t[e.handler];fe(r)&&rt(o,r,e)}}function ca(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,l=r.get(t);let c;return l?c=l:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(d=>xs(c,d,i,!0)),xs(c,t,i)),Se(t)&&r.set(t,c),c}function xs(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&xs(e,r,n,!0),o&&o.forEach(i=>xs(e,i,n,!0));for(const i in t)if(!(s&&i==="expose")){const l=wc[i]||n&&n[i];e[i]=l?l(e[i],t[i]):t[i]}return e}const wc={data:kr,props:Sr,emits:Sr,methods:Ln,computed:Ln,beforeCreate:Ve,created:Ve,beforeMount:Ve,mounted:Ve,beforeUpdate:Ve,updated:Ve,beforeDestroy:Ve,beforeUnmount:Ve,destroyed:Ve,unmounted:Ve,activated:Ve,deactivated:Ve,errorCaptured:Ve,serverPrefetch:Ve,components:Ln,directives:Ln,watch:Cc,provide:kr,inject:Tc};function kr(e,t){return t?e?function(){return Le(fe(e)?e.call(this,this):e,fe(t)?t.call(this,this):t)}:t:e}function Tc(e,t){return Ln(wo(e),wo(t))}function wo(e){if(se(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ve(e,t){return e?[...new Set([].concat(e,t))]:t}function Ln(e,t){return e?Le(Object.create(null),e,t):t}function Sr(e,t){return e?se(e)&&se(t)?[...new Set([...e,...t])]:Le(Object.create(null),Tr(e),Tr(t??{})):t}function Cc(e,t){if(!e)return t;if(!t)return e;const n=Le(Object.create(null),e);for(const s in t)n[s]=Ve(e[s],t[s]);return n}function ua(){return{app:null,config:{isNativeTag:hl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kc=0;function Sc(e,t){return function(s,o=null){fe(s)||(s=Le({},s)),o!=null&&!Se(o)&&(o=null);const r=ua(),i=new WeakSet,l=[];let c=!1;const d=r.app={_uid:kc++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:ru,get config(){return r.config},set config(u){},use(u,...h){return i.has(u)||(u&&fe(u.install)?(i.add(u),u.install(d,...h)):fe(u)&&(i.add(u),u(d,...h))),d},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),d},component(u,h){return h?(r.components[u]=h,d):r.components[u]},directive(u,h){return h?(r.directives[u]=h,d):r.directives[u]},mount(u,h,g){if(!c){const v=d._ceVNode||re(s,o);return v.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),e(v,u,g),c=!0,d._container=u,u.__vue_app__=d,Gs(v.component)}},onUnmount(u){l.push(u)},unmount(){c&&(dt(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,h){return r.provides[u]=h,d},runWithContext(u){const h=vn;vn=d;try{return u()}finally{vn=h}}};return d}}let vn=null;function ys(e,t){if(He){let n=He.provides;const s=He.parent&&He.parent.provides;s===n&&(n=He.provides=Object.create(s)),n[e]=t}}function ut(e,t,n=!1){const s=He||Ze;if(s||vn){let o=vn?vn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&fe(t)?t.call(s&&s.proxy):t}}const da={},fa=()=>Object.create(da),ha=e=>Object.getPrototypeOf(e)===da;function Ec(e,t,n,s=!1){const o={},r=fa();e.propsDefaults=Object.create(null),pa(e,t,o,r);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:Ni(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Ac(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:i}}=e,l=ye(o),[c]=e.propsOptions;let d=!1;if((s||i>0)&&!(i&16)){if(i&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let g=u[h];if(Fs(e.emitsOptions,g))continue;const v=t[g];if(c)if(we(r,g))v!==r[g]&&(r[g]=v,d=!0);else{const T=at(g);o[T]=To(c,l,T,v,e,!1)}else v!==r[g]&&(r[g]=v,d=!0)}}}else{pa(e,t,o,r)&&(d=!0);let u;for(const h in l)(!t||!we(t,h)&&((u=Jt(h))===h||!we(t,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(o[h]=To(c,l,h,void 0,e,!0)):delete o[h]);if(r!==l)for(const h in r)(!t||!we(t,h))&&(delete r[h],d=!0)}d&&It(e.attrs,"set","")}function pa(e,t,n,s){const[o,r]=e.propsOptions;let i=!1,l;if(t)for(let c in t){if(Mn(c))continue;const d=t[c];let u;o&&we(o,u=at(c))?!r||!r.includes(u)?n[u]=d:(l||(l={}))[u]=d:Fs(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,i=!0)}if(r){const c=ye(n),d=l||ke;for(let u=0;u<r.length;u++){const h=r[u];n[h]=To(o,c,h,d[h],e,!we(d,h))}}return i}function To(e,t,n,s,o,r){const i=e[n];if(i!=null){const l=we(i,"default");if(l&&s===void 0){const c=i.default;if(i.type!==Function&&!i.skipFactory&&fe(c)){const{propsDefaults:d}=o;if(n in d)s=d[n];else{const u=ls(o);s=d[n]=c.call(null,t),u()}}else s=c;o.ce&&o.ce._setProp(n,s)}i[0]&&(r&&!l?s=!1:i[1]&&(s===""||s===Jt(n))&&(s=!0))}return s}const xc=new WeakMap;function ga(e,t,n=!1){const s=n?xc:t.propsCache,o=s.get(e);if(o)return o;const r=e.props,i={},l=[];let c=!1;if(!fe(e)){const u=h=>{c=!0;const[g,v]=ga(h,t,!0);Le(i,g),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return Se(e)&&s.set(e,hn),hn;if(se(r))for(let u=0;u<r.length;u++){const h=at(r[u]);Er(h)&&(i[h]=ke)}else if(r)for(const u in r){const h=at(u);if(Er(h)){const g=r[u],v=i[h]=se(g)||fe(g)?{type:g}:Le({},g),T=v.type;let b=!1,A=!0;if(se(T))for(let x=0;x<T.length;++x){const S=T[x],L=fe(S)&&S.name;if(L==="Boolean"){b=!0;break}else L==="String"&&(A=!1)}else b=fe(T)&&T.name==="Boolean";v[0]=b,v[1]=A,(b||we(v,"default"))&&l.push(h)}}const d=[i,l];return Se(e)&&s.set(e,d),d}function Er(e){return e[0]!=="$"&&!Mn(e)}const Wo=e=>e[0]==="_"||e==="$stable",Yo=e=>se(e)?e.map(Tt):[Tt(e)],$c=(e,t,n)=>{if(t._n)return t;const s=Ie((...o)=>Yo(t(...o)),n);return s._c=!1,s},ma=(e,t,n)=>{const s=e._ctx;for(const o in e){if(Wo(o))continue;const r=e[o];if(fe(r))t[o]=$c(o,r,s);else if(r!=null){const i=Yo(r);t[o]=()=>i}}},va=(e,t)=>{const n=Yo(t);e.slots.default=()=>n},ya=(e,t,n)=>{for(const s in t)(n||!Wo(s))&&(e[s]=t[s])},Ic=(e,t,n)=>{const s=e.slots=fa();if(e.vnode.shapeFlag&32){const o=t.__;o&&ho(s,"__",o,!0);const r=t._;r?(ya(s,t,n),n&&ho(s,"_",r,!0)):ma(t,s)}else t&&va(e,t)},Rc=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,i=ke;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:ya(o,t,n):(r=!t.$stable,ma(t,o)),i=t}else t&&(va(e,t),i={default:1});if(r)for(const l in o)!Wo(l)&&i[l]==null&&delete o[l]},je=jc;function Pc(e){return Oc(e)}function Oc(e,t){const n=Ms();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:i,createText:l,createComment:c,setText:d,setElementText:u,parentNode:h,nextSibling:g,setScopeId:v=Ct,insertStaticContent:T}=e,b=(p,m,_,O=null,U=null,D=null,q=void 0,j=null,V=!!m.dynamicChildren)=>{if(p===m)return;p&&!sn(p,m)&&(O=R(p),Me(p,U,D,!0),p=null),m.patchFlag===-2&&(V=!1,m.dynamicChildren=null);const{type:F,ref:oe,shapeFlag:Y}=m;switch(F){case Ks:A(p,m,_,O);break;case We:x(p,m,_,O);break;case bs:p==null&&S(m,_,O,q);break;case pe:f(p,m,_,O,U,D,q,j,V);break;default:Y&1?G(p,m,_,O,U,D,q,j,V):Y&6?H(p,m,_,O,U,D,q,j,V):(Y&64||Y&128)&&F.process(p,m,_,O,U,D,q,j,V,ee)}oe!=null&&U?Bn(oe,p&&p.ref,D,m||p,!m):oe==null&&p&&p.ref!=null&&Bn(p.ref,null,D,p,!0)},A=(p,m,_,O)=>{if(p==null)s(m.el=l(m.children),_,O);else{const U=m.el=p.el;m.children!==p.children&&d(U,m.children)}},x=(p,m,_,O)=>{p==null?s(m.el=c(m.children||""),_,O):m.el=p.el},S=(p,m,_,O)=>{[p.el,p.anchor]=T(p.children,m,_,O,p.el,p.anchor)},L=({el:p,anchor:m},_,O)=>{let U;for(;p&&p!==m;)U=g(p),s(p,_,O),p=U;s(m,_,O)},$=({el:p,anchor:m})=>{let _;for(;p&&p!==m;)_=g(p),o(p),p=_;o(m)},G=(p,m,_,O,U,D,q,j,V)=>{m.type==="svg"?q="svg":m.type==="math"&&(q="mathml"),p==null?M(m,_,O,U,D,q,j,V):P(p,m,U,D,q,j,V)},M=(p,m,_,O,U,D,q,j)=>{let V,F;const{props:oe,shapeFlag:Y,transition:ne,dirs:le}=p;if(V=p.el=i(p.type,D,oe&&oe.is,oe),Y&8?u(V,p.children):Y&16&&I(p.children,V,null,O,U,ro(p,D),q,j),le&&Xt(p,null,O,"created"),y(V,p,p.scopeId,q,O),oe){for(const Ee in oe)Ee!=="value"&&!Mn(Ee)&&r(V,Ee,null,oe[Ee],D,O);"value"in oe&&r(V,"value",null,oe.value,D),(F=oe.onVnodeBeforeMount)&&bt(F,O,p)}le&&Xt(p,null,O,"beforeMount");const me=Dc(U,ne);me&&ne.beforeEnter(V),s(V,m,_),((F=oe&&oe.onVnodeMounted)||me||le)&&je(()=>{F&&bt(F,O,p),me&&ne.enter(V),le&&Xt(p,null,O,"mounted")},U)},y=(p,m,_,O,U)=>{if(_&&v(p,_),O)for(let D=0;D<O.length;D++)v(p,O[D]);if(U){let D=U.subTree;if(m===D||Ca(D.type)&&(D.ssContent===m||D.ssFallback===m)){const q=U.vnode;y(p,q,q.scopeId,q.slotScopeIds,U.parent)}}},I=(p,m,_,O,U,D,q,j,V=0)=>{for(let F=V;F<p.length;F++){const oe=p[F]=j?Vt(p[F]):Tt(p[F]);b(null,oe,m,_,O,U,D,q,j)}},P=(p,m,_,O,U,D,q)=>{const j=m.el=p.el;let{patchFlag:V,dynamicChildren:F,dirs:oe}=m;V|=p.patchFlag&16;const Y=p.props||ke,ne=m.props||ke;let le;if(_&&Zt(_,!1),(le=ne.onVnodeBeforeUpdate)&&bt(le,_,m,p),oe&&Xt(m,p,_,"beforeUpdate"),_&&Zt(_,!0),(Y.innerHTML&&ne.innerHTML==null||Y.textContent&&ne.textContent==null)&&u(j,""),F?C(p.dynamicChildren,F,j,_,O,ro(m,U),D):q||z(p,m,j,null,_,O,ro(m,U),D,!1),V>0){if(V&16)w(j,Y,ne,_,U);else if(V&2&&Y.class!==ne.class&&r(j,"class",null,ne.class,U),V&4&&r(j,"style",Y.style,ne.style,U),V&8){const me=m.dynamicProps;for(let Ee=0;Ee<me.length;Ee++){const Te=me[Ee],Qe=Y[Te],Je=ne[Te];(Je!==Qe||Te==="value")&&r(j,Te,Qe,Je,U,_)}}V&1&&p.children!==m.children&&u(j,m.children)}else!q&&F==null&&w(j,Y,ne,_,U);((le=ne.onVnodeUpdated)||oe)&&je(()=>{le&&bt(le,_,m,p),oe&&Xt(m,p,_,"updated")},O)},C=(p,m,_,O,U,D,q)=>{for(let j=0;j<m.length;j++){const V=p[j],F=m[j],oe=V.el&&(V.type===pe||!sn(V,F)||V.shapeFlag&198)?h(V.el):_;b(V,F,oe,null,O,U,D,q,!0)}},w=(p,m,_,O,U)=>{if(m!==_){if(m!==ke)for(const D in m)!Mn(D)&&!(D in _)&&r(p,D,m[D],null,U,O);for(const D in _){if(Mn(D))continue;const q=_[D],j=m[D];q!==j&&D!=="value"&&r(p,D,j,q,U,O)}"value"in _&&r(p,"value",m.value,_.value,U)}},f=(p,m,_,O,U,D,q,j,V)=>{const F=m.el=p?p.el:l(""),oe=m.anchor=p?p.anchor:l("");let{patchFlag:Y,dynamicChildren:ne,slotScopeIds:le}=m;le&&(j=j?j.concat(le):le),p==null?(s(F,_,O),s(oe,_,O),I(m.children||[],_,oe,U,D,q,j,V)):Y>0&&Y&64&&ne&&p.dynamicChildren?(C(p.dynamicChildren,ne,_,U,D,q,j),(m.key!=null||U&&m===U.subTree)&&zo(p,m,!0)):z(p,m,_,oe,U,D,q,j,V)},H=(p,m,_,O,U,D,q,j,V)=>{m.slotScopeIds=j,p==null?m.shapeFlag&512?U.ctx.activate(m,_,O,q,V):X(m,_,O,U,D,q,V):te(p,m,V)},X=(p,m,_,O,U,D,q)=>{const j=p.component=Xc(p,O,U);if(Hs(p)&&(j.ctx.renderer=ee),Zc(j,!1,q),j.asyncDep){if(U&&U.registerDep(j,ge,q),!p.el){const V=j.subTree=re(We);x(null,V,m,_)}}else ge(j,p,m,_,U,D,q)},te=(p,m,_)=>{const O=m.component=p.component;if(Gc(p,m,_))if(O.asyncDep&&!O.asyncResolved){ce(O,m,_);return}else O.next=m,O.update();else m.el=p.el,O.vnode=m},ge=(p,m,_,O,U,D,q)=>{const j=()=>{if(p.isMounted){let{next:Y,bu:ne,u:le,parent:me,vnode:Ee}=p;{const vt=ba(p);if(vt){Y&&(Y.el=Ee.el,ce(p,Y,q)),vt.asyncDep.then(()=>{p.isUnmounted||j()});return}}let Te=Y,Qe;Zt(p,!1),Y?(Y.el=Ee.el,ce(p,Y,q)):Y=Ee,ne&&ms(ne),(Qe=Y.props&&Y.props.onVnodeBeforeUpdate)&&bt(Qe,me,Y,Ee),Zt(p,!0);const Je=xr(p),mt=p.subTree;p.subTree=Je,b(mt,Je,h(mt.el),R(mt),p,U,D),Y.el=Je.el,Te===null&&Vc(p,Je.el),le&&je(le,U),(Qe=Y.props&&Y.props.onVnodeUpdated)&&je(()=>bt(Qe,me,Y,Ee),U)}else{let Y;const{el:ne,props:le}=m,{bm:me,m:Ee,parent:Te,root:Qe,type:Je}=p,mt=Fn(m);Zt(p,!1),me&&ms(me),!mt&&(Y=le&&le.onVnodeBeforeMount)&&bt(Y,Te,m),Zt(p,!0);{Qe.ce&&Qe.ce._def.shadowRoot!==!1&&Qe.ce._injectChildStyle(Je);const vt=p.subTree=xr(p);b(null,vt,_,O,p,U,D),m.el=vt.el}if(Ee&&je(Ee,U),!mt&&(Y=le&&le.onVnodeMounted)){const vt=m;je(()=>bt(Y,Te,vt),U)}(m.shapeFlag&256||Te&&Fn(Te.vnode)&&Te.vnode.shapeFlag&256)&&p.a&&je(p.a,U),p.isMounted=!0,m=_=O=null}};p.scope.on();const V=p.effect=new ki(j);p.scope.off();const F=p.update=V.run.bind(V),oe=p.job=V.runIfDirty.bind(V);oe.i=p,oe.id=p.uid,V.scheduler=()=>jo(oe),Zt(p,!0),F()},ce=(p,m,_)=>{m.component=p;const O=p.vnode.props;p.vnode=m,p.next=null,Ac(p,m.props,O,_),Rc(p,m.children,_),Lt(),mr(p),Mt()},z=(p,m,_,O,U,D,q,j,V=!1)=>{const F=p&&p.children,oe=p?p.shapeFlag:0,Y=m.children,{patchFlag:ne,shapeFlag:le}=m;if(ne>0){if(ne&128){gt(F,Y,_,O,U,D,q,j,V);return}else if(ne&256){ze(F,Y,_,O,U,D,q,j,V);return}}le&8?(oe&16&&De(F,U,D),Y!==F&&u(_,Y)):oe&16?le&16?gt(F,Y,_,O,U,D,q,j,V):De(F,U,D,!0):(oe&8&&u(_,""),le&16&&I(Y,_,O,U,D,q,j,V))},ze=(p,m,_,O,U,D,q,j,V)=>{p=p||hn,m=m||hn;const F=p.length,oe=m.length,Y=Math.min(F,oe);let ne;for(ne=0;ne<Y;ne++){const le=m[ne]=V?Vt(m[ne]):Tt(m[ne]);b(p[ne],le,_,null,U,D,q,j,V)}F>oe?De(p,U,D,!0,!1,Y):I(m,_,O,U,D,q,j,V,Y)},gt=(p,m,_,O,U,D,q,j,V)=>{let F=0;const oe=m.length;let Y=p.length-1,ne=oe-1;for(;F<=Y&&F<=ne;){const le=p[F],me=m[F]=V?Vt(m[F]):Tt(m[F]);if(sn(le,me))b(le,me,_,null,U,D,q,j,V);else break;F++}for(;F<=Y&&F<=ne;){const le=p[Y],me=m[ne]=V?Vt(m[ne]):Tt(m[ne]);if(sn(le,me))b(le,me,_,null,U,D,q,j,V);else break;Y--,ne--}if(F>Y){if(F<=ne){const le=ne+1,me=le<oe?m[le].el:O;for(;F<=ne;)b(null,m[F]=V?Vt(m[F]):Tt(m[F]),_,me,U,D,q,j,V),F++}}else if(F>ne)for(;F<=Y;)Me(p[F],U,D,!0),F++;else{const le=F,me=F,Ee=new Map;for(F=me;F<=ne;F++){const et=m[F]=V?Vt(m[F]):Tt(m[F]);et.key!=null&&Ee.set(et.key,F)}let Te,Qe=0;const Je=ne-me+1;let mt=!1,vt=0;const In=new Array(Je);for(F=0;F<Je;F++)In[F]=0;for(F=le;F<=Y;F++){const et=p[F];if(Qe>=Je){Me(et,U,D,!0);continue}let yt;if(et.key!=null)yt=Ee.get(et.key);else for(Te=me;Te<=ne;Te++)if(In[Te-me]===0&&sn(et,m[Te])){yt=Te;break}yt===void 0?Me(et,U,D,!0):(In[yt-me]=F+1,yt>=vt?vt=yt:mt=!0,b(et,m[yt],_,null,U,D,q,j,V),Qe++)}const ur=mt?Lc(In):hn;for(Te=ur.length-1,F=Je-1;F>=0;F--){const et=me+F,yt=m[et],dr=et+1<oe?m[et+1].el:O;In[F]===0?b(null,yt,_,dr,U,D,q,j,V):mt&&(Te<0||F!==ur[Te]?nt(yt,_,dr,2):Te--)}}},nt=(p,m,_,O,U=null)=>{const{el:D,type:q,transition:j,children:V,shapeFlag:F}=p;if(F&6){nt(p.component.subTree,m,_,O);return}if(F&128){p.suspense.move(m,_,O);return}if(F&64){q.move(p,m,_,ee);return}if(q===pe){s(D,m,_);for(let Y=0;Y<V.length;Y++)nt(V[Y],m,_,O);s(p.anchor,m,_);return}if(q===bs){L(p,m,_);return}if(O!==2&&F&1&&j)if(O===0)j.beforeEnter(D),s(D,m,_),je(()=>j.enter(D),U);else{const{leave:Y,delayLeave:ne,afterLeave:le}=j,me=()=>{p.ctx.isUnmounted?o(D):s(D,m,_)},Ee=()=>{Y(D,()=>{me(),le&&le()})};ne?ne(D,me,Ee):Ee()}else s(D,m,_)},Me=(p,m,_,O=!1,U=!1)=>{const{type:D,props:q,ref:j,children:V,dynamicChildren:F,shapeFlag:oe,patchFlag:Y,dirs:ne,cacheIndex:le}=p;if(Y===-2&&(U=!1),j!=null&&(Lt(),Bn(j,null,_,p,!0),Mt()),le!=null&&(m.renderCache[le]=void 0),oe&256){m.ctx.deactivate(p);return}const me=oe&1&&ne,Ee=!Fn(p);let Te;if(Ee&&(Te=q&&q.onVnodeBeforeUnmount)&&bt(Te,m,p),oe&6)de(p.component,_,O);else{if(oe&128){p.suspense.unmount(_,O);return}me&&Xt(p,null,m,"beforeUnmount"),oe&64?p.type.remove(p,m,_,ee,O):F&&!F.hasOnce&&(D!==pe||Y>0&&Y&64)?De(F,m,_,!1,!0):(D===pe&&Y&384||!U&&oe&16)&&De(V,m,_),O&&ue(p)}(Ee&&(Te=q&&q.onVnodeUnmounted)||me)&&je(()=>{Te&&bt(Te,m,p),me&&Xt(p,null,m,"unmounted")},_)},ue=p=>{const{type:m,el:_,anchor:O,transition:U}=p;if(m===pe){ie(_,O);return}if(m===bs){$(p);return}const D=()=>{o(_),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(p.shapeFlag&1&&U&&!U.persisted){const{leave:q,delayLeave:j}=U,V=()=>q(_,D);j?j(p.el,D,V):V()}else D()},ie=(p,m)=>{let _;for(;p!==m;)_=g(p),o(p),p=_;o(m)},de=(p,m,_)=>{const{bum:O,scope:U,job:D,subTree:q,um:j,m:V,a:F,parent:oe,slots:{__:Y}}=p;Ar(V),Ar(F),O&&ms(O),oe&&se(Y)&&Y.forEach(ne=>{oe.renderCache[ne]=void 0}),U.stop(),D&&(D.flags|=8,Me(q,p,m,_)),j&&je(j,m),je(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},De=(p,m,_,O=!1,U=!1,D=0)=>{for(let q=D;q<p.length;q++)Me(p[q],m,_,O,U)},R=p=>{if(p.shapeFlag&6)return R(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const m=g(p.anchor||p.el),_=m&&m[Wi];return _?g(_):m};let Q=!1;const W=(p,m,_)=>{p==null?m._vnode&&Me(m._vnode,null,null,!0):b(m._vnode||null,p,m,null,null,null,_),m._vnode=p,Q||(Q=!0,mr(),Vi(),Q=!1)},ee={p:b,um:Me,m:nt,r:ue,mt:X,mc:I,pc:z,pbc:C,n:R,o:e};return{render:W,hydrate:void 0,createApp:Sc(W)}}function ro({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Zt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Dc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function zo(e,t,n=!1){const s=e.children,o=t.children;if(se(s)&&se(o))for(let r=0;r<s.length;r++){const i=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=Vt(o[r]),l.el=i.el),!n&&l.patchFlag!==-2&&zo(i,l)),l.type===Ks&&(l.el=i.el),l.type===We&&!l.el&&(l.el=i.el)}}function Lc(e){const t=e.slice(),n=[0];let s,o,r,i,l;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(r=0,i=n.length-1;r<i;)l=r+i>>1,e[n[l]]<d?r=l+1:i=l;d<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,i=n[r-1];r-- >0;)n[r]=i,i=t[i];return n}function ba(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ba(t)}function Ar(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Mc=Symbol.for("v-scx"),Uc=()=>ut(Mc);function rt(e,t,n){return _a(e,t,n)}function _a(e,t,n=ke){const{immediate:s,deep:o,flush:r,once:i}=n,l=Le({},n),c=t&&s||!t&&r!=="post";let d;if(Xn){if(r==="sync"){const v=Uc();d=v.__watcherHandles||(v.__watcherHandles=[])}else if(!c){const v=()=>{};return v.stop=Ct,v.resume=Ct,v.pause=Ct,v}}const u=He;l.call=(v,T,b)=>dt(v,u,T,b);let h=!1;r==="post"?l.scheduler=v=>{je(v,u&&u.suspense)}:r!=="sync"&&(h=!0,l.scheduler=(v,T)=>{T?v():jo(v)}),l.augmentJob=v=>{t&&(v.flags|=4),h&&(v.flags|=2,u&&(v.id=u.uid,v.i=u))};const g=Zl(e,t,l);return Xn&&(d?d.push(g):c&&g()),g}function Nc(e,t,n){const s=this.proxy,o=Re(e)?e.includes(".")?wa(s,e):()=>s[e]:e.bind(s,s);let r;fe(t)?r=t:(r=t.handler,n=t);const i=ls(this),l=_a(o,r.bind(s),n);return i(),l}function wa(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const Hc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${at(t)}Modifiers`]||e[`${Jt(t)}Modifiers`];function Bc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||ke;let o=n;const r=t.startsWith("update:"),i=r&&Hc(s,t.slice(7));i&&(i.trim&&(o=n.map(u=>Re(u)?u.trim():u)),i.number&&(o=n.map(Cs)));let l,c=s[l=Xs(t)]||s[l=Xs(at(t))];!c&&r&&(c=s[l=Xs(Jt(t))]),c&&dt(c,e,6,o);const d=s[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,dt(d,e,6,o)}}function Ta(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let i={},l=!1;if(!fe(e)){const c=d=>{const u=Ta(d,t,!0);u&&(l=!0,Le(i,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(Se(e)&&s.set(e,null),null):(se(r)?r.forEach(c=>i[c]=null):Le(i,r),Se(e)&&s.set(e,i),i)}function Fs(e,t){return!e||!Os(t)?!1:(t=t.slice(2).replace(/Once$/,""),we(e,t[0].toLowerCase()+t.slice(1))||we(e,Jt(t))||we(e,t))}function xr(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[r],slots:i,attrs:l,emit:c,render:d,renderCache:u,props:h,data:g,setupState:v,ctx:T,inheritAttrs:b}=e,A=As(e);let x,S;try{if(n.shapeFlag&4){const $=o||s,G=$;x=Tt(d.call(G,$,u,h,v,g,T)),S=l}else{const $=t;x=Tt($.length>1?$(h,{attrs:l,slots:i,emit:c}):$(h,null)),S=t.props?l:Fc(l)}}catch($){Gn.length=0,Ns($,e,1),x=re(We)}let L=x;if(S&&b!==!1){const $=Object.keys(S),{shapeFlag:G}=L;$.length&&G&7&&(r&&$.some(Do)&&(S=Kc(S,r)),L=Yt(L,S,!1,!0))}return n.dirs&&(L=Yt(L,null,!1,!0),L.dirs=L.dirs?L.dirs.concat(n.dirs):n.dirs),n.transition&&ln(L,n.transition),x=L,As(A),x}const Fc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Os(n))&&((t||(t={}))[n]=e[n]);return t},Kc=(e,t)=>{const n={};for(const s in e)(!Do(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Gc(e,t,n){const{props:s,children:o,component:r}=e,{props:i,children:l,patchFlag:c}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?$r(s,i,d):!!i;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const g=u[h];if(i[g]!==s[g]&&!Fs(d,g))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===i?!1:s?i?$r(s,i,d):!0:!!i;return!1}function $r(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!Fs(n,r))return!0}return!1}function Vc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ca=e=>e.__isSuspense;function jc(e,t){t&&t.pendingBranch?se(e)?t.effects.push(...e):t.effects.push(e):nc(e)}const pe=Symbol.for("v-fgt"),Ks=Symbol.for("v-txt"),We=Symbol.for("v-cmt"),bs=Symbol.for("v-stc"),Gn=[];let tt=null;function k(e=!1){Gn.push(tt=e?null:[])}function qc(){Gn.pop(),tt=Gn[Gn.length-1]||null}let Jn=1;function Ir(e,t=!1){Jn+=e,e<0&&tt&&t&&(tt.hasOnce=!0)}function ka(e){return e.dynamicChildren=Jn>0?tt||hn:null,qc(),Jn>0&&tt&&tt.push(e),e}function E(e,t,n,s,o,r){return ka(a(e,t,n,s,o,r,!0))}function as(e,t,n,s,o){return ka(re(e,t,n,s,o,!0))}function $s(e){return e?e.__v_isVNode===!0:!1}function sn(e,t){return e.type===t.type&&e.key===t.key}const Sa=({key:e})=>e??null,_s=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Re(e)||Be(e)||fe(e)?{i:Ze,r:e,k:t,f:!!n}:e:null);function a(e,t=null,n=null,s=0,o=null,r=e===pe?0:1,i=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Sa(t),ref:t&&_s(t),scopeId:qi,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Ze};return l?(Qo(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=Re(n)?8:16),Jn>0&&!i&&tt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&tt.push(c),c}const re=Wc;function Wc(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===mc)&&(e=We),$s(e)){const l=Yt(e,t,!0);return n&&Qo(l,n),Jn>0&&!r&&tt&&(l.shapeFlag&6?tt[tt.indexOf(e)]=l:tt.push(l)),l.patchFlag=-2,l}if(ou(e)&&(e=e.__vccOpts),t){t=Yc(t);let{class:l,style:c}=t;l&&!Re(l)&&(t.class=be(l)),Se(c)&&(Vo(c)&&!se(c)&&(c=Le({},c)),t.style=yn(c))}const i=Re(e)?1:Ca(e)?128:Yi(e)?64:Se(e)?4:fe(e)?2:0;return a(e,t,n,s,o,i,r,!0)}function Yc(e){return e?Vo(e)||ha(e)?Le({},e):e:null}function Yt(e,t,n=!1,s=!1){const{props:o,ref:r,patchFlag:i,children:l,transition:c}=e,d=t?zc(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Sa(d),ref:t&&t.ref?n&&r?se(r)?r.concat(_s(t)):[r,_s(t)]:_s(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yt(e.ssContent),ssFallback:e.ssFallback&&Yt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&ln(u,c.clone(u)),u}function K(e=" ",t=0){return re(Ks,null,e,t)}function Dt(e,t){const n=re(bs,null,e);return n.staticCount=t,n}function ae(e="",t=!1){return t?(k(),as(We,null,e)):re(We,null,e)}function Tt(e){return e==null||typeof e=="boolean"?re(We):se(e)?re(pe,null,e.slice()):$s(e)?Vt(e):re(Ks,null,String(e))}function Vt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Yt(e)}function Qo(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(se(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Qo(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!ha(t)?t._ctx=Ze:o===3&&Ze&&(Ze.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else fe(t)?(t={default:t,_ctx:Ze},n=32):(t=String(t),s&64?(n=16,t=[K(t)]):n=8);e.children=t,e.shapeFlag|=n}function zc(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=be([t.class,s.class]));else if(o==="style")t.style=yn([t.style,s.style]);else if(Os(o)){const r=t[o],i=s[o];i&&r!==i&&!(se(r)&&r.includes(i))&&(t[o]=r?[].concat(r,i):i)}else o!==""&&(t[o]=s[o])}return t}function bt(e,t,n,s=null){dt(e,t,7,[n,s])}const Qc=ua();let Jc=0;function Xc(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||Qc,r={uid:Jc++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new El(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ga(s,o),emitsOptions:Ta(s,o),emit:null,emitted:null,propsDefaults:ke,inheritAttrs:s.inheritAttrs,ctx:ke,data:ke,props:ke,attrs:ke,slots:ke,refs:ke,setupState:ke,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Bc.bind(null,r),e.ce&&e.ce(r),r}let He=null;const Ea=()=>He||Ze;let Is,Co;{const e=Ms(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(i=>i(r)):o[0](r)}};Is=t("__VUE_INSTANCE_SETTERS__",n=>He=n),Co=t("__VUE_SSR_SETTERS__",n=>Xn=n)}const ls=e=>{const t=He;return Is(e),e.scope.on(),()=>{e.scope.off(),Is(t)}},Rr=()=>{He&&He.scope.off(),Is(null)};function Aa(e){return e.vnode.shapeFlag&4}let Xn=!1;function Zc(e,t=!1,n=!1){t&&Co(t);const{props:s,children:o}=e.vnode,r=Aa(e);Ec(e,s,r,t),Ic(e,o,n||t);const i=r?eu(e,t):void 0;return t&&Co(!1),i}function eu(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,yc);const{setup:s}=n;if(s){Lt();const o=e.setupContext=s.length>1?nu(e):null,r=ls(e),i=is(s,e,0,[e.props,o]),l=yi(i);if(Mt(),r(),(l||e.sp)&&!Fn(e)&&oa(e),l){if(i.then(Rr,Rr),t)return i.then(c=>{Pr(e,c)}).catch(c=>{Ns(c,e,0)});e.asyncDep=i}else Pr(e,i)}else xa(e)}function Pr(e,t,n){fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Se(t)&&(e.setupState=Fi(t)),xa(e)}function xa(e,t,n){const s=e.type;e.render||(e.render=s.render||Ct);{const o=ls(e);Lt();try{bc(e)}finally{Mt(),o()}}}const tu={get(e,t){return Ge(e,"get",""),e[t]}};function nu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,tu),slots:e.slots,emit:e.emit,expose:t}}function Gs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Fi(ql(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Kn)return Kn[n](e)},has(t,n){return n in t||n in Kn}})):e.proxy}function su(e,t=!0){return fe(e)?e.displayName||e.name:e.name||t&&e.__name}function ou(e){return fe(e)&&"__vccOpts"in e}const Z=(e,t)=>Jl(e,t,Xn);function Jo(e,t,n){const s=arguments.length;return s===2?Se(t)&&!se(t)?$s(t)?re(e,null,[t]):re(e,t):re(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&$s(n)&&(n=[n]),re(e,t,n))}const ru="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ko;const Or=typeof window<"u"&&window.trustedTypes;if(Or)try{ko=Or.createPolicy("vue",{createHTML:e=>e})}catch{}const $a=ko?e=>ko.createHTML(e):e=>e,iu="http://www.w3.org/2000/svg",au="http://www.w3.org/1998/Math/MathML",xt=typeof document<"u"?document:null,Dr=xt&&xt.createElement("template"),lu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?xt.createElementNS(iu,e):t==="mathml"?xt.createElementNS(au,e):n?xt.createElement(e,{is:n}):xt.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>xt.createTextNode(e),createComment:e=>xt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>xt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const i=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Dr.innerHTML=$a(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Dr.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ht="transition",Pn="animation",bn=Symbol("_vtc"),Ia={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ra=Le({},Zi,Ia),cu=e=>(e.displayName="Transition",e.props=Ra,e),Vs=cu((e,{slots:t})=>Jo(rc,Pa(e),t)),en=(e,t=[])=>{se(e)?e.forEach(n=>n(...t)):e&&e(...t)},Lr=e=>e?se(e)?e.some(t=>t.length>1):e.length>1:!1;function Pa(e){const t={};for(const f in e)f in Ia||(t[f]=e[f]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:i=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:d=i,appearToClass:u=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,T=uu(o),b=T&&T[0],A=T&&T[1],{onBeforeEnter:x,onEnter:S,onEnterCancelled:L,onLeave:$,onLeaveCancelled:G,onBeforeAppear:M=x,onAppear:y=S,onAppearCancelled:I=L}=t,P=(f,H,X,te)=>{f._enterCancelled=te,Ft(f,H?u:l),Ft(f,H?d:i),X&&X()},C=(f,H)=>{f._isLeaving=!1,Ft(f,h),Ft(f,v),Ft(f,g),H&&H()},w=f=>(H,X)=>{const te=f?y:S,ge=()=>P(H,f,X);en(te,[H,ge]),Mr(()=>{Ft(H,f?c:r),_t(H,f?u:l),Lr(te)||Ur(H,s,b,ge)})};return Le(t,{onBeforeEnter(f){en(x,[f]),_t(f,r),_t(f,i)},onBeforeAppear(f){en(M,[f]),_t(f,c),_t(f,d)},onEnter:w(!1),onAppear:w(!0),onLeave(f,H){f._isLeaving=!0;const X=()=>C(f,H);_t(f,h),f._enterCancelled?(_t(f,g),So()):(So(),_t(f,g)),Mr(()=>{f._isLeaving&&(Ft(f,h),_t(f,v),Lr($)||Ur(f,s,A,X))}),en($,[f,X])},onEnterCancelled(f){P(f,!1,void 0,!0),en(L,[f])},onAppearCancelled(f){P(f,!0,void 0,!0),en(I,[f])},onLeaveCancelled(f){C(f),en(G,[f])}})}function uu(e){if(e==null)return null;if(Se(e))return[io(e.enter),io(e.leave)];{const t=io(e);return[t,t]}}function io(e){return yl(e)}function _t(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[bn]||(e[bn]=new Set)).add(t)}function Ft(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[bn];n&&(n.delete(t),n.size||(e[bn]=void 0))}function Mr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let du=0;function Ur(e,t,n,s){const o=e._endId=++du,r=()=>{o===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:i,timeout:l,propCount:c}=Oa(e,t);if(!i)return s();const d=i+"end";let u=0;const h=()=>{e.removeEventListener(d,g),r()},g=v=>{v.target===e&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},l+1),e.addEventListener(d,g)}function Oa(e,t){const n=window.getComputedStyle(e),s=T=>(n[T]||"").split(", "),o=s(`${Ht}Delay`),r=s(`${Ht}Duration`),i=Nr(o,r),l=s(`${Pn}Delay`),c=s(`${Pn}Duration`),d=Nr(l,c);let u=null,h=0,g=0;t===Ht?i>0&&(u=Ht,h=i,g=r.length):t===Pn?d>0&&(u=Pn,h=d,g=c.length):(h=Math.max(i,d),u=h>0?i>d?Ht:Pn:null,g=u?u===Ht?r.length:c.length:0);const v=u===Ht&&/\b(transform|all)(,|$)/.test(s(`${Ht}Property`).toString());return{type:u,timeout:h,propCount:g,hasTransform:v}}function Nr(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Hr(n)+Hr(e[s])))}function Hr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function So(){return document.body.offsetHeight}function fu(e,t,n){const s=e[bn];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Rs=Symbol("_vod"),Da=Symbol("_vsh"),Zn={beforeMount(e,{value:t},{transition:n}){e[Rs]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):On(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),On(e,!0),s.enter(e)):s.leave(e,()=>{On(e,!1)}):On(e,t))},beforeUnmount(e,{value:t}){On(e,t)}};function On(e,t){e.style.display=t?e[Rs]:"none",e[Da]=!t}const hu=Symbol(""),pu=/(^|;)\s*display\s*:/;function gu(e,t,n){const s=e.style,o=Re(n);let r=!1;if(n&&!o){if(t)if(Re(t))for(const i of t.split(";")){const l=i.slice(0,i.indexOf(":")).trim();n[l]==null&&ws(s,l,"")}else for(const i in t)n[i]==null&&ws(s,i,"");for(const i in n)i==="display"&&(r=!0),ws(s,i,n[i])}else if(o){if(t!==n){const i=s[hu];i&&(n+=";"+i),s.cssText=n,r=pu.test(n)}}else t&&e.removeAttribute("style");Rs in e&&(e[Rs]=r?s.display:"",e[Da]&&(s.display="none"))}const Br=/\s*!important$/;function ws(e,t,n){if(se(n))n.forEach(s=>ws(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=mu(e,t);Br.test(n)?e.setProperty(Jt(s),n.replace(Br,""),"important"):e[s]=n}}const Fr=["Webkit","Moz","ms"],ao={};function mu(e,t){const n=ao[t];if(n)return n;let s=at(t);if(s!=="filter"&&s in e)return ao[t]=s;s=Ls(s);for(let o=0;o<Fr.length;o++){const r=Fr[o]+s;if(r in e)return ao[t]=r}return t}const Kr="http://www.w3.org/1999/xlink";function Gr(e,t,n,s,o,r=kl(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Kr,t.slice(6,t.length)):e.setAttributeNS(Kr,t,n):n==null||r&&!wi(n)?e.removeAttribute(t):e.setAttribute(t,r?"":St(n)?String(n):n)}function Vr(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?$a(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let i=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=wi(n):n==null&&l==="string"?(n="",i=!0):l==="number"&&(n=0,i=!0)}try{e[t]=n}catch{}i&&e.removeAttribute(o||t)}function Pt(e,t,n,s){e.addEventListener(t,n,s)}function vu(e,t,n,s){e.removeEventListener(t,n,s)}const jr=Symbol("_vei");function yu(e,t,n,s,o=null){const r=e[jr]||(e[jr]={}),i=r[t];if(s&&i)i.value=s;else{const[l,c]=bu(t);if(s){const d=r[t]=Tu(s,o);Pt(e,l,d,c)}else i&&(vu(e,l,i,c),r[t]=void 0)}}const qr=/(?:Once|Passive|Capture)$/;function bu(e){let t;if(qr.test(e)){t={};let s;for(;s=e.match(qr);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jt(e.slice(2)),t]}let lo=0;const _u=Promise.resolve(),wu=()=>lo||(_u.then(()=>lo=0),lo=Date.now());function Tu(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;dt(Cu(s,n.value),t,5,[s])};return n.value=e,n.attached=wu(),n}function Cu(e,t){if(se(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const Wr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,ku=(e,t,n,s,o,r)=>{const i=o==="svg";t==="class"?fu(e,s,i):t==="style"?gu(e,n,s):Os(t)?Do(t)||yu(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Su(e,t,s,i))?(Vr(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Gr(e,t,s,i,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Re(s))?Vr(e,at(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),Gr(e,t,s,i))};function Su(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&Wr(t)&&fe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return Wr(t)&&Re(n)?!1:t in e}const La=new WeakMap,Ma=new WeakMap,Ps=Symbol("_moveCb"),Yr=Symbol("_enterCb"),Eu=e=>(delete e.props.mode,e),Au=Eu({name:"TransitionGroup",props:Le({},Ra,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ea(),s=Xi();let o,r;return ia(()=>{if(!o.length)return;const i=e.moveClass||`${e.name||"v"}-move`;if(!Pu(o[0].el,n.vnode.el,i)){o=[];return}o.forEach($u),o.forEach(Iu);const l=o.filter(Ru);So(),l.forEach(c=>{const d=c.el,u=d.style;_t(d,i),u.transform=u.webkitTransform=u.transitionDuration="";const h=d[Ps]=g=>{g&&g.target!==d||(!g||/transform$/.test(g.propertyName))&&(d.removeEventListener("transitionend",h),d[Ps]=null,Ft(d,i))};d.addEventListener("transitionend",h)}),o=[]}),()=>{const i=ye(e),l=Pa(i);let c=i.tag||pe;if(o=[],r)for(let d=0;d<r.length;d++){const u=r[d];u.el&&u.el instanceof Element&&(o.push(u),ln(u,Qn(u,l,s,n)),La.set(u,u.el.getBoundingClientRect()))}r=t.default?qo(t.default()):[];for(let d=0;d<r.length;d++){const u=r[d];u.key!=null&&ln(u,Qn(u,l,s,n))}return re(c,null,r)}}}),xu=Au;function $u(e){const t=e.el;t[Ps]&&t[Ps](),t[Yr]&&t[Yr]()}function Iu(e){Ma.set(e,e.el.getBoundingClientRect())}function Ru(e){const t=La.get(e),n=Ma.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${o}px)`,r.transitionDuration="0s",e}}function Pu(e,t,n){const s=e.cloneNode(),o=e[bn];o&&o.forEach(l=>{l.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:i}=Oa(s);return r.removeChild(s),i}const zt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return se(t)?n=>ms(t,n):t};function Ou(e){e.target.composing=!0}function zr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const it=Symbol("_assign"),_n={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[it]=zt(o);const r=s||o.props&&o.props.type==="number";Pt(e,t?"change":"input",i=>{if(i.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=Cs(l)),e[it](l)}),n&&Pt(e,"change",()=>{e.value=e.value.trim()}),t||(Pt(e,"compositionstart",Ou),Pt(e,"compositionend",zr),Pt(e,"change",zr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:o,number:r}},i){if(e[it]=zt(i),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?Cs(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||o&&e.value.trim()===c)||(e.value=c))}},Ua={deep:!0,created(e,t,n){e[it]=zt(n),Pt(e,"change",()=>{const s=e._modelValue,o=wn(e),r=e.checked,i=e[it];if(se(s)){const l=Uo(s,o),c=l!==-1;if(r&&!c)i(s.concat(o));else if(!r&&c){const d=[...s];d.splice(l,1),i(d)}}else if(An(s)){const l=new Set(s);r?l.add(o):l.delete(o),i(l)}else i(Ha(e,r))})},mounted:Qr,beforeUpdate(e,t,n){e[it]=zt(n),Qr(e,t,n)}};function Qr(e,{value:t,oldValue:n},s){e._modelValue=t;let o;if(se(t))o=Uo(t,s.props.value)>-1;else if(An(t))o=t.has(s.props.value);else{if(t===n)return;o=an(t,Ha(e,!0))}e.checked!==o&&(e.checked=o)}const Du={created(e,{value:t},n){e.checked=an(t,n.props.value),e[it]=zt(n),Pt(e,"change",()=>{e[it](wn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[it]=zt(s),t!==n&&(e.checked=an(t,s.props.value))}},Na={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=An(t);Pt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?Cs(wn(i)):wn(i));e[it](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,Yn(()=>{e._assigning=!1})}),e[it]=zt(s)},mounted(e,{value:t}){Jr(e,t)},beforeUpdate(e,t,n){e[it]=zt(n)},updated(e,{value:t}){e._assigning||Jr(e,t)}};function Jr(e,t){const n=e.multiple,s=se(t);if(!(n&&!s&&!An(t))){for(let o=0,r=e.options.length;o<r;o++){const i=e.options[o],l=wn(i);if(n)if(s){const c=typeof l;c==="string"||c==="number"?i.selected=t.some(d=>String(d)===String(l)):i.selected=Uo(t,l)>-1}else i.selected=t.has(l);else if(an(wn(i),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function wn(e){return"_value"in e?e._value:e.value}function Ha(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const a1={created(e,t,n){gs(e,t,n,null,"created")},mounted(e,t,n){gs(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){gs(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){gs(e,t,n,s,"updated")}};function Lu(e,t){switch(e){case"SELECT":return Na;case"TEXTAREA":return _n;default:switch(t){case"checkbox":return Ua;case"radio":return Du;default:return _n}}}function gs(e,t,n,s,o){const i=Lu(e.tagName,n.props&&n.props.type)[o];i&&i(e,t,n,s)}const Mu=["ctrl","shift","alt","meta"],Uu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Mu.some(n=>e[`${n}Key`]&&!t.includes(n))},Ue=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...r)=>{for(let i=0;i<t.length;i++){const l=Uu[t[i]];if(l&&l(o,t))return}return e(o,...r)})},Nu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Hu=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=Jt(o.key);if(t.some(i=>i===r||Nu[i]===r))return e(o)})},Bu=Le({patchProp:ku},lu);let Xr;function Fu(){return Xr||(Xr=Pc(Bu))}const Ku=(...e)=>{const t=Fu().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Vu(s);if(!o)return;const r=t._component;!fe(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const i=n(o,!1,Gu(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},t};function Gu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Vu(e){return Re(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const fn=typeof document<"u";function Ba(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ju(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ba(e.default)}const _e=Object.assign;function co(e,t){const n={};for(const s in t){const o=t[s];n[s]=ft(o)?o.map(e):e(o)}return n}const Vn=()=>{},ft=Array.isArray,Fa=/#/g,qu=/&/g,Wu=/\//g,Yu=/=/g,zu=/\?/g,Ka=/\+/g,Qu=/%5B/g,Ju=/%5D/g,Ga=/%5E/g,Xu=/%60/g,Va=/%7B/g,Zu=/%7C/g,ja=/%7D/g,ed=/%20/g;function Xo(e){return encodeURI(""+e).replace(Zu,"|").replace(Qu,"[").replace(Ju,"]")}function td(e){return Xo(e).replace(Va,"{").replace(ja,"}").replace(Ga,"^")}function Eo(e){return Xo(e).replace(Ka,"%2B").replace(ed,"+").replace(Fa,"%23").replace(qu,"%26").replace(Xu,"`").replace(Va,"{").replace(ja,"}").replace(Ga,"^")}function nd(e){return Eo(e).replace(Yu,"%3D")}function sd(e){return Xo(e).replace(Fa,"%23").replace(zu,"%3F")}function od(e){return e==null?"":sd(e).replace(Wu,"%2F")}function es(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const rd=/\/$/,id=e=>e.replace(rd,"");function uo(e,t,n="/"){let s,o={},r="",i="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),i=t.slice(l,t.length)),s=ud(s??t,n),{fullPath:s+(r&&"?")+r+i,path:s,query:o,hash:es(i)}}function ad(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Zr(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ld(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Tn(t.matched[s],n.matched[o])&&qa(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Tn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function qa(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!cd(e[n],t[n]))return!1;return!0}function cd(e,t){return ft(e)?ei(e,t):ft(t)?ei(t,e):e===t}function ei(e,t){return ft(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function ud(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,i,l;for(i=0;i<s.length;i++)if(l=s[i],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i).join("/")}const Bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ts;(function(e){e.pop="pop",e.push="push"})(ts||(ts={}));var jn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(jn||(jn={}));function dd(e){if(!e)if(fn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),id(e)}const fd=/^[^#]+#/;function hd(e,t){return e.replace(fd,"#")+t}function pd(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const js=()=>({left:window.scrollX,top:window.scrollY});function gd(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=pd(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ti(e,t){return(history.state?history.state.position-t:-1)+e}const Ao=new Map;function md(e,t){Ao.set(e,t)}function vd(e){const t=Ao.get(e);return Ao.delete(e),t}let yd=()=>location.protocol+"//"+location.host;function Wa(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),Zr(c,"")}return Zr(n,e)+s+o}function bd(e,t,n,s){let o=[],r=[],i=null;const l=({state:g})=>{const v=Wa(e,location),T=n.value,b=t.value;let A=0;if(g){if(n.value=v,t.value=g,i&&i===T){i=null;return}A=b?g.position-b.position:0}else s(v);o.forEach(x=>{x(n.value,T,{delta:A,type:ts.pop,direction:A?A>0?jn.forward:jn.back:jn.unknown})})};function c(){i=n.value}function d(g){o.push(g);const v=()=>{const T=o.indexOf(g);T>-1&&o.splice(T,1)};return r.push(v),v}function u(){const{history:g}=window;g.state&&g.replaceState(_e({},g.state,{scroll:js()}),"")}function h(){for(const g of r)g();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:h}}function ni(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?js():null}}function _d(e){const{history:t,location:n}=window,s={value:Wa(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const h=e.indexOf("#"),g=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:yd()+e+c;try{t[u?"replaceState":"pushState"](d,"",g),o.value=d}catch(v){console.error(v),n[u?"replace":"assign"](g)}}function i(c,d){const u=_e({},t.state,ni(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,u,!0),s.value=c}function l(c,d){const u=_e({},o.value,t.state,{forward:c,scroll:js()});r(u.current,u,!0);const h=_e({},ni(s.value,c,null),{position:u.position+1},d);r(c,h,!1),s.value=c}return{location:s,state:o,push:l,replace:i}}function wd(e){e=dd(e);const t=_d(e),n=bd(e,t.state,t.location,t.replace);function s(r,i=!0){i||n.pauseListeners(),history.go(r)}const o=_e({location:"",base:e,go:s,createHref:hd.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Td(e){return typeof e=="string"||e&&typeof e=="object"}function Ya(e){return typeof e=="string"||typeof e=="symbol"}const za=Symbol("");var si;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(si||(si={}));function Cn(e,t){return _e(new Error,{type:e,[za]:!0},t)}function At(e,t){return e instanceof Error&&za in e&&(t==null||!!(e.type&t))}const oi="[^/]+?",Cd={sensitive:!1,strict:!1,start:!0,end:!0},kd=/[.+*?^${}()[\]/\\]/g;function Sd(e,t){const n=_e({},Cd,t),s=[];let o=n.start?"^":"";const r=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const g=d[h];let v=40+(n.sensitive?.25:0);if(g.type===0)h||(o+="/"),o+=g.value.replace(kd,"\\$&"),v+=40;else if(g.type===1){const{value:T,repeatable:b,optional:A,regexp:x}=g;r.push({name:T,repeatable:b,optional:A});const S=x||oi;if(S!==oi){v+=10;try{new RegExp(`(${S})`)}catch($){throw new Error(`Invalid custom RegExp for param "${T}" (${S}): `+$.message)}}let L=b?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;h||(L=A&&d.length<2?`(?:/${L})`:"/"+L),A&&(L+="?"),o+=L,v+=20,A&&(v+=-8),b&&(v+=-20),S===".*"&&(v+=-50)}u.push(v)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");function l(d){const u=d.match(i),h={};if(!u)return null;for(let g=1;g<u.length;g++){const v=u[g]||"",T=r[g-1];h[T.name]=v&&T.repeatable?v.split("/"):v}return h}function c(d){let u="",h=!1;for(const g of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const v of g)if(v.type===0)u+=v.value;else if(v.type===1){const{value:T,repeatable:b,optional:A}=v,x=T in d?d[T]:"";if(ft(x)&&!b)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const S=ft(x)?x.join("/"):x;if(!S)if(A)g.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${T}"`);u+=S}}return u||"/"}return{re:i,score:s,keys:r,parse:l,stringify:c}}function Ed(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Qa(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=Ed(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(ri(s))return 1;if(ri(o))return-1}return o.length-s.length}function ri(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Ad={type:0,value:""},xd=/[a-zA-Z0-9_]/;function $d(e){if(!e)return[[]];if(e==="/")return[[Ad]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,s=n;const o=[];let r;function i(){r&&o.push(r),r=[]}let l=0,c,d="",u="";function h(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function g(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&h(),i()):c===":"?(h(),n=1):g();break;case 4:g(),n=s;break;case 1:c==="("?n=2:xd.test(c)?g():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),i(),o}function Id(e,t,n){const s=Sd($d(e.path),n),o=_e(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Rd(e,t){const n=[],s=new Map;t=ci({strict:!1,end:!0,sensitive:!1},t);function o(h){return s.get(h)}function r(h,g,v){const T=!v,b=ai(h);b.aliasOf=v&&v.record;const A=ci(t,h),x=[b];if("alias"in h){const $=typeof h.alias=="string"?[h.alias]:h.alias;for(const G of $)x.push(ai(_e({},b,{components:v?v.record.components:b.components,path:G,aliasOf:v?v.record:b})))}let S,L;for(const $ of x){const{path:G}=$;if(g&&G[0]!=="/"){const M=g.record.path,y=M[M.length-1]==="/"?"":"/";$.path=g.record.path+(G&&y+G)}if(S=Id($,g,A),v?v.alias.push(S):(L=L||S,L!==S&&L.alias.push(S),T&&h.name&&!li(S)&&i(h.name)),Ja(S)&&c(S),b.children){const M=b.children;for(let y=0;y<M.length;y++)r(M[y],S,v&&v.children[y])}v=v||S}return L?()=>{i(L)}:Vn}function i(h){if(Ya(h)){const g=s.get(h);g&&(s.delete(h),n.splice(n.indexOf(g),1),g.children.forEach(i),g.alias.forEach(i))}else{const g=n.indexOf(h);g>-1&&(n.splice(g,1),h.record.name&&s.delete(h.record.name),h.children.forEach(i),h.alias.forEach(i))}}function l(){return n}function c(h){const g=Dd(h,n);n.splice(g,0,h),h.record.name&&!li(h)&&s.set(h.record.name,h)}function d(h,g){let v,T={},b,A;if("name"in h&&h.name){if(v=s.get(h.name),!v)throw Cn(1,{location:h});A=v.record.name,T=_e(ii(g.params,v.keys.filter(L=>!L.optional).concat(v.parent?v.parent.keys.filter(L=>L.optional):[]).map(L=>L.name)),h.params&&ii(h.params,v.keys.map(L=>L.name))),b=v.stringify(T)}else if(h.path!=null)b=h.path,v=n.find(L=>L.re.test(b)),v&&(T=v.parse(b),A=v.record.name);else{if(v=g.name?s.get(g.name):n.find(L=>L.re.test(g.path)),!v)throw Cn(1,{location:h,currentLocation:g});A=v.record.name,T=_e({},g.params,h.params),b=v.stringify(T)}const x=[];let S=v;for(;S;)x.unshift(S.record),S=S.parent;return{name:A,path:b,params:T,matched:x,meta:Od(x)}}e.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:i,clearRoutes:u,getRoutes:l,getRecordMatcher:o}}function ii(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ai(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Pd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Pd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function li(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Od(e){return e.reduce((t,n)=>_e(t,n.meta),{})}function ci(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Dd(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;Qa(e,t[r])<0?s=r:n=r+1}const o=Ld(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function Ld(e){let t=e;for(;t=t.parent;)if(Ja(t)&&Qa(e,t)===0)return t}function Ja({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Md(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(Ka," "),i=r.indexOf("="),l=es(i<0?r:r.slice(0,i)),c=i<0?null:es(r.slice(i+1));if(l in t){let d=t[l];ft(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function ui(e){let t="";for(let n in e){const s=e[n];if(n=nd(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(ft(s)?s.map(r=>r&&Eo(r)):[s&&Eo(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function Ud(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=ft(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Nd=Symbol(""),di=Symbol(""),qs=Symbol(""),Zo=Symbol(""),xo=Symbol("");function Dn(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function jt(e,t,n,s,o,r=i=>i()){const i=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const d=g=>{g===!1?c(Cn(4,{from:n,to:t})):g instanceof Error?c(g):Td(g)?c(Cn(2,{from:t,to:g})):(i&&s.enterCallbacks[o]===i&&typeof g=="function"&&i.push(g),l())},u=r(()=>e.call(s&&s.instances[o],t,n,d));let h=Promise.resolve(u);e.length<3&&(h=h.then(d)),h.catch(g=>c(g))})}function fo(e,t,n,s,o=r=>r()){const r=[];for(const i of e)for(const l in i.components){let c=i.components[l];if(!(t!=="beforeRouteEnter"&&!i.instances[l]))if(Ba(c)){const u=(c.__vccOpts||c)[t];u&&r.push(jt(u,n,s,i,l,o))}else{let d=c();r.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${i.path}"`);const h=ju(u)?u.default:u;i.mods[l]=u,i.components[l]=h;const v=(h.__vccOpts||h)[t];return v&&jt(v,n,s,i,l,o)()}))}}return r}function fi(e){const t=ut(qs),n=ut(Zo),s=Z(()=>{const c=N(e.to);return t.resolve(c)}),o=Z(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],h=n.matched;if(!u||!h.length)return-1;const g=h.findIndex(Tn.bind(null,u));if(g>-1)return g;const v=hi(c[d-2]);return d>1&&hi(u)===v&&h[h.length-1].path!==v?h.findIndex(Tn.bind(null,c[d-2])):g}),r=Z(()=>o.value>-1&&Gd(n.params,s.value.params)),i=Z(()=>o.value>-1&&o.value===n.matched.length-1&&qa(n.params,s.value.params));function l(c={}){if(Kd(c)){const d=t[N(e.replace)?"replace":"push"](N(e.to)).catch(Vn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:Z(()=>s.value.href),isActive:r,isExactActive:i,navigate:l}}function Hd(e){return e.length===1?e[0]:e}const Bd=sa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:fi,setup(e,{slots:t}){const n=Ot(fi(e)),{options:s}=ut(qs),o=Z(()=>({[pi(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[pi(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&Hd(t.default(n));return e.custom?r:Jo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Fd=Bd;function Kd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Gd(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!ft(o)||o.length!==s.length||s.some((r,i)=>r!==o[i]))return!1}return!0}function hi(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const pi=(e,t,n)=>e??t??n,Vd=sa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ut(xo),o=Z(()=>e.route||s.value),r=ut(di,0),i=Z(()=>{let d=N(r);const{matched:u}=o.value;let h;for(;(h=u[d])&&!h.components;)d++;return d}),l=Z(()=>o.value.matched[i.value]);ys(di,Z(()=>i.value+1)),ys(Nd,l),ys(xo,o);const c=J();return rt(()=>[c.value,l.value,e.name],([d,u,h],[g,v,T])=>{u&&(u.instances[h]=d,v&&v!==u&&d&&d===g&&(u.leaveGuards.size||(u.leaveGuards=v.leaveGuards),u.updateGuards.size||(u.updateGuards=v.updateGuards))),d&&u&&(!v||!Tn(u,v)||!g)&&(u.enterCallbacks[h]||[]).forEach(b=>b(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,h=l.value,g=h&&h.components[u];if(!g)return gi(n.default,{Component:g,route:d});const v=h.props[u],T=v?v===!0?d.params:typeof v=="function"?v(d):v:null,A=Jo(g,_e({},T,t,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return gi(n.default,{Component:A,route:d})||A}}});function gi(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const jd=Vd;function qd(e){const t=Rd(e.routes,e),n=e.parseQuery||Md,s=e.stringifyQuery||ui,o=e.history,r=Dn(),i=Dn(),l=Dn(),c=Wl(Bt);let d=Bt;fn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=co.bind(null,R=>""+R),h=co.bind(null,od),g=co.bind(null,es);function v(R,Q){let W,ee;return Ya(R)?(W=t.getRecordMatcher(R),ee=Q):ee=R,t.addRoute(ee,W)}function T(R){const Q=t.getRecordMatcher(R);Q&&t.removeRoute(Q)}function b(){return t.getRoutes().map(R=>R.record)}function A(R){return!!t.getRecordMatcher(R)}function x(R,Q){if(Q=_e({},Q||c.value),typeof R=="string"){const _=uo(n,R,Q.path),O=t.resolve({path:_.path},Q),U=o.createHref(_.fullPath);return _e(_,O,{params:g(O.params),hash:es(_.hash),redirectedFrom:void 0,href:U})}let W;if(R.path!=null)W=_e({},R,{path:uo(n,R.path,Q.path).path});else{const _=_e({},R.params);for(const O in _)_[O]==null&&delete _[O];W=_e({},R,{params:h(_)}),Q.params=h(Q.params)}const ee=t.resolve(W,Q),Ce=R.hash||"";ee.params=u(g(ee.params));const p=ad(s,_e({},R,{hash:td(Ce),path:ee.path})),m=o.createHref(p);return _e({fullPath:p,hash:Ce,query:s===ui?Ud(R.query):R.query||{}},ee,{redirectedFrom:void 0,href:m})}function S(R){return typeof R=="string"?uo(n,R,c.value.path):_e({},R)}function L(R,Q){if(d!==R)return Cn(8,{from:Q,to:R})}function $(R){return y(R)}function G(R){return $(_e(S(R),{replace:!0}))}function M(R){const Q=R.matched[R.matched.length-1];if(Q&&Q.redirect){const{redirect:W}=Q;let ee=typeof W=="function"?W(R):W;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=S(ee):{path:ee},ee.params={}),_e({query:R.query,hash:R.hash,params:ee.path!=null?{}:R.params},ee)}}function y(R,Q){const W=d=x(R),ee=c.value,Ce=R.state,p=R.force,m=R.replace===!0,_=M(W);if(_)return y(_e(S(_),{state:typeof _=="object"?_e({},Ce,_.state):Ce,force:p,replace:m}),Q||W);const O=W;O.redirectedFrom=Q;let U;return!p&&ld(s,ee,W)&&(U=Cn(16,{to:O,from:ee}),nt(ee,ee,!0,!1)),(U?Promise.resolve(U):C(O,ee)).catch(D=>At(D)?At(D,2)?D:gt(D):z(D,O,ee)).then(D=>{if(D){if(At(D,2))return y(_e({replace:m},S(D.to),{state:typeof D.to=="object"?_e({},Ce,D.to.state):Ce,force:p}),Q||O)}else D=f(O,ee,!0,m,Ce);return w(O,ee,D),D})}function I(R,Q){const W=L(R,Q);return W?Promise.reject(W):Promise.resolve()}function P(R){const Q=ie.values().next().value;return Q&&typeof Q.runWithContext=="function"?Q.runWithContext(R):R()}function C(R,Q){let W;const[ee,Ce,p]=Wd(R,Q);W=fo(ee.reverse(),"beforeRouteLeave",R,Q);for(const _ of ee)_.leaveGuards.forEach(O=>{W.push(jt(O,R,Q))});const m=I.bind(null,R,Q);return W.push(m),De(W).then(()=>{W=[];for(const _ of r.list())W.push(jt(_,R,Q));return W.push(m),De(W)}).then(()=>{W=fo(Ce,"beforeRouteUpdate",R,Q);for(const _ of Ce)_.updateGuards.forEach(O=>{W.push(jt(O,R,Q))});return W.push(m),De(W)}).then(()=>{W=[];for(const _ of p)if(_.beforeEnter)if(ft(_.beforeEnter))for(const O of _.beforeEnter)W.push(jt(O,R,Q));else W.push(jt(_.beforeEnter,R,Q));return W.push(m),De(W)}).then(()=>(R.matched.forEach(_=>_.enterCallbacks={}),W=fo(p,"beforeRouteEnter",R,Q,P),W.push(m),De(W))).then(()=>{W=[];for(const _ of i.list())W.push(jt(_,R,Q));return W.push(m),De(W)}).catch(_=>At(_,8)?_:Promise.reject(_))}function w(R,Q,W){l.list().forEach(ee=>P(()=>ee(R,Q,W)))}function f(R,Q,W,ee,Ce){const p=L(R,Q);if(p)return p;const m=Q===Bt,_=fn?history.state:{};W&&(ee||m?o.replace(R.fullPath,_e({scroll:m&&_&&_.scroll},Ce)):o.push(R.fullPath,Ce)),c.value=R,nt(R,Q,W,m),gt()}let H;function X(){H||(H=o.listen((R,Q,W)=>{if(!de.listening)return;const ee=x(R),Ce=M(ee);if(Ce){y(_e(Ce,{replace:!0,force:!0}),ee).catch(Vn);return}d=ee;const p=c.value;fn&&md(ti(p.fullPath,W.delta),js()),C(ee,p).catch(m=>At(m,12)?m:At(m,2)?(y(_e(S(m.to),{force:!0}),ee).then(_=>{At(_,20)&&!W.delta&&W.type===ts.pop&&o.go(-1,!1)}).catch(Vn),Promise.reject()):(W.delta&&o.go(-W.delta,!1),z(m,ee,p))).then(m=>{m=m||f(ee,p,!1),m&&(W.delta&&!At(m,8)?o.go(-W.delta,!1):W.type===ts.pop&&At(m,20)&&o.go(-1,!1)),w(ee,p,m)}).catch(Vn)}))}let te=Dn(),ge=Dn(),ce;function z(R,Q,W){gt(R);const ee=ge.list();return ee.length?ee.forEach(Ce=>Ce(R,Q,W)):console.error(R),Promise.reject(R)}function ze(){return ce&&c.value!==Bt?Promise.resolve():new Promise((R,Q)=>{te.add([R,Q])})}function gt(R){return ce||(ce=!R,X(),te.list().forEach(([Q,W])=>R?W(R):Q()),te.reset()),R}function nt(R,Q,W,ee){const{scrollBehavior:Ce}=e;if(!fn||!Ce)return Promise.resolve();const p=!W&&vd(ti(R.fullPath,0))||(ee||!W)&&history.state&&history.state.scroll||null;return Yn().then(()=>Ce(R,Q,p)).then(m=>m&&gd(m)).catch(m=>z(m,R,Q))}const Me=R=>o.go(R);let ue;const ie=new Set,de={currentRoute:c,listening:!0,addRoute:v,removeRoute:T,clearRoutes:t.clearRoutes,hasRoute:A,getRoutes:b,resolve:x,options:e,push:$,replace:G,go:Me,back:()=>Me(-1),forward:()=>Me(1),beforeEach:r.add,beforeResolve:i.add,afterEach:l.add,onError:ge.add,isReady:ze,install(R){const Q=this;R.component("RouterLink",Fd),R.component("RouterView",jd),R.config.globalProperties.$router=Q,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>N(c)}),fn&&!ue&&c.value===Bt&&(ue=!0,$(o.location).catch(Ce=>{}));const W={};for(const Ce in Bt)Object.defineProperty(W,Ce,{get:()=>c.value[Ce],enumerable:!0});R.provide(qs,Q),R.provide(Zo,Ni(W)),R.provide(xo,c);const ee=R.unmount;ie.add(R),R.unmount=function(){ie.delete(R),ie.size<1&&(d=Bt,H&&H(),H=null,c.value=Bt,ue=!1,ce=!1),ee()}}};function De(R){return R.reduce((Q,W)=>Q.then(()=>P(W)),Promise.resolve())}return de}function Wd(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let i=0;i<r;i++){const l=t.matched[i];l&&(e.matched.find(d=>Tn(d,l))?s.push(l):n.push(l));const c=e.matched[i];c&&(t.matched.find(d=>Tn(d,c))||o.push(c))}return[n,s,o]}function xn(){return ut(qs)}function Yd(e){return ut(Zo)}const he={BASE_URL:"http://localhost:8080",AUTH:{LOGIN:"/api/auth/log-in",LOGOUT:"/api/auth/log-out",STATUS:"/api/auth/status",VALIDATE_TOKEN:"/api/auth/validate-token"},PASSWORD_RESET:{SEND_OTP:"/api/forgot-password/send-otp",VERIFY_OTP:"/api/forgot-password/verify-otp",RESET_PASSWORD:"/api/forgot-password/reset-password"},USER:{REGISTER:"/api/khachhang/register",GET_BY_ID:"/api/nguoidung/{maNguoiDung}",GET_BY_EMAIL:"/api/nguoidung/email/{email}",UPDATE:"/api/nguoidung/{maNguoiDung}",DELETE:"/api/nguoidung/{maNguoiDung}",CHECK_EMAIL:"/api/nguoidung/check-email/{email}",CHECK_ID:"/api/nguoidung/check-id/{maNguoiDung}"},OAUTH2:{GET_JWT_TOKEN:"/api/oauth2/get-jwt-token",USER_INFO:"/api/oauth2/user-info",SUCCESS:"/api/oauth2/success",FAILURE:"/api/oauth2/failure",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",TEST_CONFIG:"/api/oauth2/test-config",LOGOUT_DEPRECATED:"/api/oauth2/logout"},AUTHORIZATION:{GOOGLE:"/oauth2/authorization/google",FACEBOOK:"/oauth2/authorization/facebook"}},zd=e=>`${he.BASE_URL}${e}`,$t="http://localhost:8080",$e={OAUTH2:{TEST_CONFIG:"/api/oauth2/test-config",USER_INFO:"/api/oauth2/user-info",ANALYZE:"/api/oauth2/analyze",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",GET_TOKEN:"/api/oauth2/get-token",GOOGLE_CALLBACK:"/api/oauth2/callback/google",GOOGLE_REGISTER:"/api/oauth2/register/google"},CATEGORIES:{LIST:"/api/loaisanpham",BY_ID:e=>`/api/loaisanpham/${e}`},PRODUCTS:{LIST:"/api/sanpham",BY_ID:e=>`/api/sanpham/${e}`,BY_CATEGORY:e=>`/api/sanpham/category/${e}`,BY_CATEGORY_ACTIVE:e=>`/api/sanpham/category/${e}/active`},CART:{BY_CUSTOMER:e=>`/api/giohang/by-khachhang/${e}`,BY_CUSTOMER_WITH_ITEMS:e=>`/api/giohang/by-khachhang/${e}/with-items`,UPDATE_STATUS:e=>`/api/giohang/by-khachhang/${e}/status`,CLEAR_ITEMS:e=>`/api/giohang/by-khachhang/${e}/items`,SYNC:"/api/giohang/sync",CURRENT_USER:"/api/giohang/current-user"},CART_ITEMS:{ADD:"/api/giohang/items",UPDATE_QTY:e=>`/api/giohang/items/${e}/quantity`,REMOVE:e=>`/api/giohang/items/${e}`},IMAGES:{PRODUCT_LIST:e=>`/api/hinhanh/product/${e}`,SERVE_IMAGE:e=>`/api/upload/serve-image/${e}`,PRODUCT_IMAGES:e=>[`/api/upload/serve-image/${e}_main.jfif`,`/api/upload/serve-image/${e}_main1.jfif`,`/api/upload/serve-image/${e}_main2.jfif`]}},er="easymart-token",Qd=1,Jd=(e,t,n=1,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let i=`${e}=${t||""}${r}; path=/`;s&&(i+="; Secure"),o&&(i+="; HttpOnly"),i+="; SameSite=Strict",document.cookie=i},Xd=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},Zd=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},ef=e=>{{const t=window.location.protocol==="https:";Jd(er,e,Qd,t,!1)}},Pe=()=>{let e=null;return e=Xd(er),e},tf=()=>{Zd(er)},nf="modulepreload",sf=function(e){return"/"+e},mi={},Ke=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=i?.nonce||i?.getAttribute("nonce");o=c(n.map(d=>{if(d=sf(d),d in mi)return;mi[d]=!0;const u=d.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${h}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":nf,u||(g.as="script"),g.crossOrigin="",g.href=d,l&&g.setAttribute("nonce",l),document.head.appendChild(g),u)return new Promise((v,T)=>{g.addEventListener("load",v),g.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return o.then(i=>{for(const l of i||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},of=(e,t,n=7,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let i=`${e}=${t||""}${r}; path=/`;s&&(i+="; Secure"),o&&(i+="; HttpOnly"),i+="; SameSite=Strict",document.cookie=i},rf=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},af=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},tr=(e,t)=>{of(e,t,7,!1,!1)},pt=e=>rf(e),nr=e=>{af(e)},Oe=J(null),lf=Z(()=>!!Oe.value),Xa=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);Oe.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error loading user data:",t),localStorage.removeItem("easymart-user"),Oe.value=null}},ns=e=>{const t={id:e.id,name:e.name,avatar:e.avatar,role:e.role,loginMethod:e.loginMethod,displayName:e.name||e.email?.split("@")[0]||"User"};localStorage.setItem("easymart-user",JSON.stringify(t)),Oe.value=e,e.triggerEvent!==!1&&window.dispatchEvent(new CustomEvent("user-updated",{detail:t}))},Ws=e=>{try{if(!e)return null;const t=JSON.parse(atob(e.split(".")[1]));return{email:t.sub,issuer:t.iss,role:t.role,exp:t.exp,iat:t.iat,raw:t}}catch(t){return console.error("Error decoding token:",t),null}},Ys=e=>{try{if(!e)return!1;const t=Ws(e);if(!t)return!1;const n=Math.floor(Date.now()/1e3);return t.exp>n}catch{return!1}},cf=()=>{const e=pt("easymart-token");if(!e||!Ys(e)){nr("easymart-token"),localStorage.removeItem("easymart-user"),Oe.value=null;return}const t=Ws(e);if(t){const n={id:null,email:t.email,name:t.email.split("@")[0],role:t.role,loginMethod:"token",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.email.split("@")[0])}&background=28a745&color=fff`,tokenInfo:{issuer:t.issuer,exp:new Date(t.exp*1e3),iat:new Date(t.iat*1e3)}};Oe.value=n,console.log(" User initialized from token:",n),console.log(" Token payload:",t.raw),setTimeout(async()=>{try{console.log(" Fetching complete user info in background..."),await tl()}catch(s){console.warn(" Could not fetch complete user info in background:",s)}},1e3)}},uf=()=>{const e=pt("easymart-token");if(console.log(" Current token:",e),e){const t=Ws(e);if(console.log(" Decoded token:",t),console.log(" Token valid:",Ys(e)),t&&t.exp){const n=new Date(t.exp*1e3),s=new Date;console.log(" Token expires:",n),console.log(" Current time:",s),console.log(" Time until expiry:",Math.round((n-s)/1e3/60),"minutes")}}else console.log(" No token found")},Za=async e=>{try{if(!e)return!1;const t=await fetch(`${he.BASE_URL}/api/auth/validate-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({token:e})});if(!t.ok)return!1;const n=await t.json();if(n&&n.result&&n.result.valid===!0){const s=Oe.value;return(!s||!s.id||s.email!==n.result.username)&&await el(n.result),!0}else return!1}catch(t){return console.error(" Error validating token:",t),!1}},el=async e=>{try{const{username:t,role:n,expiration:s}=e,o=await sr(t);if(o&&o.success&&o.user){const r={id:o.user.maNguoiDung||o.user.id,email:t,name:o.user.tenNguoiDung||o.user.hoTen||t.split("@")[0],phone:o.user.soDienThoai||o.user.sdt||"",address:o.user.diaChi||"",role:n,avatar:o.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(o.user.tenNguoiDung||t.split("@")[0])}&background=28a745&color=fff`,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};Oe.value=r,localStorage.setItem("easymart-user",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("user-updated",{detail:r}))}else{const r={id:null,email:t,name:t.split("@")[0],role:n,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};Oe.value=r,localStorage.setItem("easymart-user",JSON.stringify(r))}}catch(t){console.error(" Error updating user from validation:",t)}},df=async()=>{const e=pt("easymart-token");if(!e)return;if(!Ys(e)){await $o("Token  ht hn");return}await Za(e)||await $o("Phin ng nhp khng hp l")},$o=async e=>{console.log(" Performing auto-logout:",e),nr("easymart-token"),localStorage.removeItem("easymart-user"),Oe.value=null,alert(`${e}. Bn s c chuyn v trang ng nhp.`),window.location.href="/login"},tl=async()=>{const e=Oe.value;if(!e)return console.warn(" No user logged in"),null;if(e.id)return console.log(" User already has complete info:",e.id),e;if(e.email){console.log(" Fetching user ID for:",e.email);try{const t=await sr(e.email);if(t&&t.success&&t.user){const n={...e,id:t.user.maNguoiDung||t.user.id,name:t.user.tenNguoiDung||t.user.hoTen||e.name,phone:t.user.soDienThoai||t.user.sdt||e.phone||"",address:t.user.diaChi||e.address||""};return Oe.value=n,localStorage.setItem("easymart-user",JSON.stringify(n)),console.log(" User info completed with ID:",n.id),n}}catch(t){console.error(" Error fetching complete user info:",t)}}return console.warn(" Could not complete user info"),e},ff=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);Oe.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error reloading user data:",t),localStorage.removeItem("easymart-user"),Oe.value=null}},hf=async()=>{try{const e=pt("easymart-token");if(!e)return null;const t=await Fe(he.USER.GET_BY_ID,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(t&&t.result)return Oe.value=t.result,ns(t.result),t.result}catch(e){return console.error("Error fetching full user data:",e),null}},Ts=async()=>{try{const e=pt("easymart-token");if(!e)throw new Error("Khng c token xc thc");console.log(" Validating token for profile access..."),console.log(" Step 1: Calling validate-token API...");const t=await Fe(he.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})});if(console.log(" Validate token response:",t),!t?.result?.valid)throw new Error("Token khng hp l hoc  ht hn");const{username:n,role:s,expiration:o}=t.result;console.log(" Token validated:",{username:n,role:s,expiration:o}),console.log(" Step 2: Calling GET_BY_EMAIL API...");const r=he.USER.GET_BY_EMAIL.replace("{email}",n);console.log(" Email endpoint:",r);const i=await Fe(r,{method:"GET"});console.log(" User response:",i);let l=null;if(i?.result)l=i.result;else if(i?.data)l=i.data;else if(i?.maNguoiDung)l=i;else throw console.error(" Unexpected user response format:",i),new Error("Response format khng ng t API ngi dng");const{maNguoiDung:c,vaiTro:d}=l;if(console.log(" User info retrieved:",{maNguoiDung:c,vaiTro:d}),!c)throw new Error("Khng tm thy m ngi dng trong response");console.log(" Step 3: Calling customer API..."),console.log(" Step 3: Calling customer API...");let u=null,h=null;const g=[`/api/khachhang/by-nguoidung/${c}`,`/api/khachhang/${c}`,`/api/nguoidung/${c}`];for(let b=0;b<g.length;b++){const A=g[b];console.log(` Trying endpoint ${b+1}: ${A}`);try{const x=`${he.BASE_URL}${A}`;if(console.log(` Full URL: ${x}`),h=await fetch(x,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),console.log(` Response ${b+1} status:`,h.status),console.log(` Response ${b+1} redirected:`,h.redirected),h.ok){const S=h.headers.get("content-type");if(console.log(` Response ${b+1} Content-Type:`,S),S&&S.includes("application/json")){const L=await h.json();if(console.log(` Endpoint ${b+1} success:`,L),L?.hoTen)console.log(" Response c hoTen - format customer data"),u={hoTen:L.hoTen,soDienThoai:L.sdt,ngaySinh:L.ngaySinh,diaChi:L.diaChi,ngayTao:L.ngayDangKy,tongDonHang:0,tongChiTieu:0,maKH:L.maKH,diemTichLuy:L.diemTichLuy,loaiKhachHang:L.loaiKhachHang,nguoiDung:L.nguoiDung,sdt:L.sdt};else if(L?.token){console.log(" Response ch c token - cn x l khc cho Google OAuth2 user");try{console.log(" Gi API /api/nguoidung  ly customer info...");const $=await fetch(`${he.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if($.ok){const G=await $.json();console.log(" Customer info t /api/nguoidung:",G),u={hoTen:G.tenNguoiDung||n.split("@")[0],soDienThoai:G.soDienThoai||"",ngaySinh:G.ngaySinh||null,diaChi:G.diaChi||"",ngayTao:G.ngayTao||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:G.maNguoiDung,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:G.soDienThoai||""}}else{console.log(" Khng th ly customer info t /api/nguoidung");continue}}catch($){console.log(" Li khi gi /api/nguoidung:",$.message);continue}}else if(L?.result)u=L.result;else if(L?.data)u=L.data;else if(console.log(" Response khng c hoTen, token, result, data - c th l Google OAuth2 user"),n.includes("@gmail.com")||n.includes("@fpt.edu.vn")){console.log(" Detected Google OAuth2 user, calling /api/nguoidung...");try{console.log(" Gi API /api/nguoidung  ly customer info...");const G=await fetch(`${he.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(G.ok){const M=await G.json();console.log(" Customer info t /api/nguoidung:",M);let y="",I="";M.soDienThoai?y=M.soDienThoai:M.sdt?y=M.sdt:M.phone?y=M.phone:M.dienThoai&&(y=M.dienThoai),M.diaChi?I=M.diaChi:M.address?I=M.address:M.diaChiChiTiet&&(I=M.diaChiChiTiet),u={hoTen:M.tenNguoiDung||M.hoTen||n.split("@")[0],soDienThoai:y,ngaySinh:M.ngaySinh||null,diaChi:I,ngayTao:M.ngayTao||M.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:M.maNguoiDung||M.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:y}}else{console.log(" Khng th ly customer info t /api/nguoidung");continue}}catch(G){console.log(" Li khi gi /api/nguoidung:",G.message);continue}}else{console.log(` Endpoint ${b+1} response format khng xc nh:`,L);continue}console.log(` Found working endpoint: ${A}`);break}else{const L=await h.text();console.log(` Endpoint ${b+1} returned non-JSON:`,L.substring(0,200));continue}}else if(h.redirected)if(console.log(` Endpoint ${b+1} was redirected - trying /api/nguoidung directly...`),n.includes("@gmail.com")||n.includes("@fpt.edu.vn"))try{const L=await fetch(`${he.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(L.ok){const $=await L.json();console.log(" Direct call to /api/nguoidung successful");let G=$.soDienThoai||$.sdt||$.phone||$.dienThoai||"",M=$.diaChi||$.address||$.diaChiChiTiet||"";u={hoTen:$.tenNguoiDung||$.hoTen||n.split("@")[0],soDienThoai:G,ngaySinh:$.ngaySinh||null,diaChi:M,ngayTao:$.ngayTao||$.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:$.maNguoiDung||$.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:G},console.log(" Found working solution: direct call to /api/nguoidung");break}else{console.log(" Direct call to /api/nguoidung failed with status:",L.status);continue}}catch(L){console.log(" Error in direct call to /api/nguoidung:",L.message);continue}else{console.log(` Endpoint ${b+1} failed with status:`,h.status);continue}else{console.log(` Endpoint ${b+1} failed with status:`,h.status);continue}}catch(x){console.log(` Endpoint ${b+1} error:`,x.message);continue}}if(!u)if(console.log(" No working customer endpoint found, creating basic data"),n.includes("@gmail.com")||n.includes("@fpt.edu.vn")){console.log(" Fallback: Creating OAuth2 user data structure");try{console.log(" Fallback: Th gi /api/nguoidung mt ln na...");const A=await fetch(`${he.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(A.ok){const x=await A.json();console.log(" Fallback: Customer info t /api/nguoidung");let S=x.soDienThoai||x.sdt||x.phone||x.dienThoai||"",L=x.diaChi||x.address||x.diaChiChiTiet||"";u={hoTen:x.tenNguoiDung||x.hoTen||n.split("@")[0],soDienThoai:S,ngaySinh:x.ngaySinh||null,diaChi:L,ngayTao:x.ngayTao||x.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:x.maNguoiDung||x.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:S}}else console.log(" Fallback: Khng th ly customer info t /api/nguoidung"),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:""}}catch(A){console.log(" Fallback: Li khi gi /api/nguoidung:",A.message),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:""}}}else u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:""};console.log(" Final customer data:",u);const v=u.loaiKhachHang==="OAuth2 User",T={id:c,name:u.hoTen||n.split("@")[0],email:n,phone:u.soDienThoai||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(u.hoTen||n.split("@")[0])}&background=007bff&color=fff`,joinDate:u.ngayTao||new Date().toISOString().split("T")[0],totalOrders:u.tongDonHang||0,totalSpent:u.tongChiTieu||0,role:d===3?"CUSTOMER":"USER",loginMethod:v?"google":"traditional",customerInfo:u,userRole:d,userCode:c};return Oe.value=T,ns({...T,triggerEvent:!1}),console.log(" Profile validation completed successfully"),{success:!0,user:T}}catch(e){return console.error(" Profile validation failed:",e),(e.message.includes("Token khng hp l")||e.message.includes("Khng c token"))&&ol(),{success:!1,error:e.message}}},pf=async e=>{try{const t=pt("easymart-token");if(!t)throw new Error("Khng c token xc thc");const n=await Ts();if(!n.success)throw new Error(n.error);const{userCode:s}=Oe.value,o=`${he.BASE_URL}/api/khachhang/by-nguoidung/${s}`;console.log(" Update customer endpoint:",o),console.log(" Update data being sent:",e);const r=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const i=await r.json();if(console.log(" Update response:",i),i?.success||i?.result?.success||i?.message?.includes("thnh cng"))return console.log(" Update successful, refreshing user data..."),await Ts(),{success:!0,message:"Cp nht profile thnh cng!"};if(console.log(" Update response format unexpected:",i),r.ok)return console.log(" Update successful (status 200), refreshing user data..."),await Ts(),{success:!0,message:"Cp nht profile thnh cng!"};throw new Error(i?.message||i?.error||"Cp nht profile tht bi")}catch(t){return console.error(" Update profile failed:",t),{success:!1,error:t.message}}},Fe=async(e,t={})=>{try{const n=await fetch(zd(e),{headers:{"Content-Type":"application/json",...t.headers},...t});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("API call error:",n),n}},gf=async(e,t)=>{try{if(e==="demo@easymart.vn"){const n={id:"DEMO_USER",name:"Demo User",email:e,phone:"0123456789",avatar:"https://ui-avatars.com/api/?name=Demo+User&background=007bff&color=fff",joinDate:new Date().toISOString().split("T")[0],totalOrders:5,totalSpent:15e5,role:"USER",loginMethod:"traditional"};return ns(n),{success:!0,user:n}}try{const n=await Fe(he.AUTH.LOGIN,{method:"POST",body:JSON.stringify({email:e,matKhau:t})});if(n&&n.result&&n.result.authenticated){const s=n.result;s.token&&tr("easymart-token",s.token);const o={id:"USER_"+Date.now(),name:e.split("@")[0],email:e,phone:"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.split("@")[0])}&background=007bff&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"};ns(o);try{const r=await Ke(()=>Promise.resolve().then(()=>lr),void 0);if(r&&typeof r.useCart=="function"){const{syncLocalCartToDBViaEndpoint:i,persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=r.useCart();if(i?!(await i())?.success&&l&&await l():l&&await l(),c){const u=pt("easymart-token"),h="cart-merged-for-token";u&&sessionStorage.getItem(h)!==u&&(!await c()&&d&&await d(),sessionStorage.setItem(h,u))}}}catch(r){console.warn("Cart merge after login failed (non-blocking):",r?.message||r)}return{success:!0,user:o,message:s.message}}else return{success:!1,error:n?.result?.message||"Email hoc mt khu khng ng"}}catch(n){return console.error("Login API error:",n),{success:!1,error:"ng nhp tht bi. Vui lng kim tra li thng tin."}}}catch(n){return console.error("Login error:",n),{success:!1,error:"ng nhp tht bi. Vui lng th li."}}},mf=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Google OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Google credential payload:",t),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google login error:",t),{success:!1,error:"ng nhp vi Google tht bi. Vui lng th li."}}},vf=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Facebook OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Facebook credential payload:",t),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook login error:",t),{success:!1,error:"ng nhp vi Facebook tht bi. Vui lng th li."}}},yf=async(e,t,n="",s,o,r="")=>{try{if(s!==o)return{success:!1,error:"Mt khu khng khp!"};if(n&&n.trim()&&!/^[0-9]{10,11}$/.test(n))return{success:!1,error:"S in thoi phi c 10-11 ch s!"};try{const c=await sl(t);if(c&&c.exists)return{success:!1,error:"Email  tn ti trong h thng!"}}catch(c){console.warn("Email check failed, proceeding anyway:",c)}const i={email:t,matKhau:s,hoTen:e,sdt:n||"",diaChi:r||""};console.log(" Sending register data:",i);const l=await Fe(he.USER.REGISTER,{method:"POST",body:JSON.stringify(i)});if(console.log(" Received register response:",l),l&&l.login_info&&l.login_info.email){const c=l.login_info;return{success:!0,user:{id:"CUSTOMER_"+Date.now(),name:e,email:c.email,phone:n||"",address:r||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=28a745&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"},message:c.message||"ng k thnh cng! Vui lng ng nhp  tip tc."}}else return{success:!1,error:"ng k tht bi - Khng nhn c thng tin xc nhn t server"}}catch(i){return console.error("Register error:",i),{success:!1,error:"ng k tht bi. Vui lng th li."}}},bf=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Google OAuth2..."}:e.credential?(console.log("Legacy Google register credential"),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google register error:",t),{success:!1,error:"ng k vi Google tht bi. Vui lng th li."}}},_f=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Facebook OAuth2..."}:e.credential?(console.log("Legacy Facebook register credential"),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook register error:",t),{success:!1,error:"ng k vi Facebook tht bi. Vui lng th li."}}},wf=async()=>{try{const e=await Fe(he.OAUTH2.GET_JWT_TOKEN);if(e.success)return tr("easymart-token",e.result.jwt_token),e.result;throw new Error(e.message||"Khng th ly JWT token")}catch(e){throw console.error("Get JWT token error:",e),e}},Tf=async()=>{try{const e=pt("easymart-token");if(!e)throw new Error("Khng c token xc thc");const t=await Fe(he.OAUTH2.USER_INFO,{headers:{Authorization:`Bearer ${e}`}});if(t.success)return t.result;throw new Error(t.message||"Khng th ly thng tin user")}catch(e){throw console.error("Get user info error:",e),e}},Cf=async()=>{try{return await Fe(he.OAUTH2.TEST_CONFIG)}catch(e){throw console.error("Test OAuth2 config error:",e),e}},nl=async e=>{try{return await Fe(`${he.OAUTH2.CHECK_EMAIL}?email=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check email duplicate error:",t),t}},sl=async e=>{try{const t=he.USER.CHECK_EMAIL.replace("{email}",encodeURIComponent(e));return await Fe(t)}catch(t){throw console.error("Check user email exists error:",t),t}},sr=async e=>{try{const t=he.USER.GET_BY_EMAIL.replace("{email}",encodeURIComponent(e));return await Fe(t)}catch(t){throw console.error("Get user by email error:",t),t}},kf=async e=>{try{return await Fe(`${he.OAUTH2.CHECK_SUB}?sub=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check OAuth2 sub error:",t),t}},Sf=async()=>{try{const e=pt("easymart-token");return e?await Fe(he.AUTH.STATUS,{method:"GET",headers:{Authorization:`Bearer ${e}`}}):{success:!1,error:"No token found"}}catch(e){return console.error("Check auth status error:",e),{success:!1,error:"Failed to check auth status"}}},Ef=async e=>{try{return await Fe(he.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})})}catch(t){return console.error("Validate token error:",t),{success:!1,error:"Token validation failed"}}},Af=async()=>{try{const e=pt("easymart-token"),t=localStorage.getItem("easymart-user");if(e&&t){const r=JSON.parse(t);try{const i=await Ke(()=>Promise.resolve().then(()=>lr),void 0);if(i&&typeof i.useCart=="function"){const{persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=i.useCart();if(l&&await l(),c){const u="cart-merged-for-token";sessionStorage.getItem(u)!==e&&(!await c()&&d&&await d(),sessionStorage.setItem(u,e))}}}catch(i){console.warn("Cart merge after OAuth2 login failed (non-blocking):",i?.message||i)}return{success:!0,user:r}}const n=new URLSearchParams(window.location.search),s=n.get("code"),o=n.get("error");if(o)return console.error("OAuth2 error:",o),{success:!1,error:`OAuth2 li: ${o}`};if(s){console.log("Legacy OAuth2 callback with code:",s);try{const r=await Fe(he.OAUTH2.USER_INFO),i=await Fe(he.OAUTH2.GET_JWT_TOKEN);if(r.success&&i.success){const l=r.result,c=i.result,d=l.email||c.user_email,u=await nl(d);if(u.success&&u.result.exists){const h={id:l.maNguoiDung||c.user_info?.maNguoiDung||"OAUTH_USER",name:l.tenNguoiDung||c.user_info?.tenNguoiDung||"OAuth User",email:d,phone:l.soDienThoai||c.user_info?.soDienThoai||"",avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||"OAuth User")}&background=007bff&color=fff`,joinDate:l.ngayTao||new Date().toISOString().split("T")[0],totalOrders:l.tongDonHang||0,totalSpent:l.tongChiTieu||0,role:l.vaiTro||c.user_role||"USER",loginMethod:"google",sub:l.sub||c.user_info?.sub};return tr("easymart-token",c.jwt_token),ns(h),{success:!0,user:h}}else return{success:!1,needsRegistration:!0,error:"Ti khon cha tn ti. Vui lng ng k trc.",userInfo:{name:l.tenNguoiDung||c.user_info?.tenNguoiDung||"OAuth User",email:d,avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||"OAuth User")}&background=007bff&color=fff`}}}}catch(r){return console.error("Failed to get user info from APIs:",r),{success:!1,error:"Khng th ly thng tin user t backend"}}}return null}catch(e){return console.error("OAuth2 callback error:",e),{success:!1,error:"X l OAuth2 callback tht bi"}}},ol=async()=>{try{try{const t=await Ke(()=>Promise.resolve().then(()=>lr),void 0);t&&typeof t.useCart=="function"&&(t.useCart().cart.value=[],console.log("[LOGOUT] Cart local state cleared, backend cart preserved"))}catch(t){console.warn("Clear cart state on logout failed (non-blocking):",t?.message||t)}try{localStorage.removeItem("easymart-selected-items"),localStorage.removeItem("easymart-redirect-after-login")}catch{}const e=pt("easymart-token");if(e)try{await Fe(he.AUTH.LOGOUT,{method:"POST",headers:{Authorization:`Bearer ${e}`}})}catch(t){console.warn("Logout API call failed:",t)}return localStorage.removeItem("easymart-user"),nr("easymart-token"),localStorage.removeItem("easymart-user-email"),localStorage.removeItem("easymart-user-role"),localStorage.removeItem("easymart-user-id"),sessionStorage.removeItem("oauth2-frontend-redirect"),sessionStorage.removeItem("google-credential"),sessionStorage.removeItem("oauth2-login-mode"),sessionStorage.removeItem("google-user-info"),sessionStorage.removeItem("pending-oauth-user-info"),sessionStorage.removeItem("pending-google-credential"),sessionStorage.removeItem("pending-facebook-credential"),Oe.value=null,{success:!0}}catch(e){return console.error("Logout error:",e),localStorage.clear(),sessionStorage.clear(),Oe.value=null,{success:!1,error:"ng xut c li, nhng  xa d liu local"}}};Xa();function ss(){return{user:Oe,isLoggedIn:lf,login:gf,loginWithGoogle:mf,loginWithFacebook:vf,register:yf,registerWithGoogle:bf,registerWithFacebook:_f,logout:ol,loadUser:Xa,forceReloadUser:ff,getJWTToken:wf,getUserInfo:Tf,testOAuth2Config:Cf,checkEmailDuplicate:nl,checkUserEmailExists:sl,getUserByEmail:sr,checkOAuth2Sub:kf,checkAuthStatus:Sf,validateToken:Ef,handleOAuth2Callback:Af,fetchFullUserData:hf,validateProfileAccess:Ts,updateCustomerProfile:pf,decodeToken:Ws,isTokenValid:Ys,initUserFromToken:cf,debugCurrentToken:uf,checkTokenValidity:Za,autoLogoutIfInvalid:df,performAutoLogout:$o,updateUserFromValidation:el,ensureUserComplete:tl}}const ve=J([]),kn=J(null),Sn=J(!1),rl=()=>{ve.value=[]},cs=()=>{},kt=()=>{const e=Pe();return e?{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"}},xf=e=>ve.value.find(t=>t.productId===e),$f=Z(()=>ve.value.reduce((e,t)=>e+t.quantity,0)),If=Z(()=>ve.value.reduce((e,t)=>e+(t.product?.price||0)*t.quantity,0)),{user:nn,ensureUserComplete:Rf,validateProfileAccess:Pf}=ss(),Qt=async()=>{try{const n=await fetch(`${he.BASE_URL}${$e.CART.CURRENT_USER}`,{headers:kt()});if(n.ok){const o=(await n.json().catch(()=>null))?.maKH||null;try{console.log("[CART][RESOLVE_KH] source=current-user maKH=",o)}catch{}if(o)return o}}catch{}if(!nn.value)return null;if(nn.value?.customerInfo?.maKH){try{console.log("[CART][RESOLVE_KH] source=customerInfo maKH=",nn.value.customerInfo.maKH)}catch{}return nn.value.customerInfo.maKH}const e=await Rf().catch(()=>nn.value);if(!e?.customerInfo?.maKH)try{await Pf()}catch{}const t=nn.value?.customerInfo?.maKH||null;try{console.log("[CART][RESOLVE_KH] userId=",e?.id,"maKH=",t)}catch{}return t},os=async e=>{try{const t=Pe();if(!t)return console.warn("[CART][PULL_ITEMS] No token available"),[];const n=`${he.BASE_URL}${$e.CART.BY_CUSTOMER_WITH_ITEMS(e)}`;console.log("[CART][PULL_ITEMS][REQ]",n,"with token:",t.substring(0,20)+"...");const s=await fetch(n,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok){console.error("[CART][PULL_ITEMS][FAIL] status=",s.status,"statusText=",s.statusText);const i=await s.text().catch(()=>"Unable to read response");if(console.error("[CART][PULL_ITEMS][RESPONSE_BODY]",i),s.status===401)return console.error("[CART][PULL_ITEMS] Unauthorized - token may be invalid"),[];if(s.status===404){console.error("[CART][PULL_ITEMS] With-items endpoint not found, trying basic cart endpoint...");const l=`${he.BASE_URL}${$e.CART.BY_CUSTOMER(e)}`;console.log("[CART][PULL_ITEMS][FALLBACK] Trying basic endpoint:",l);const c=await fetch(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const d=await c.json().catch(()=>({}));return console.log("[CART][PULL_ITEMS][FALLBACK] Basic cart data:",d),Array.isArray(d)?(console.warn("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned empty array - endpoint may be incorrect"),[]):d&&typeof d=="object"?(console.log("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned cart info:",d),[]):(console.warn("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned unexpected format:",d),[])}else{console.error("[CART][PULL_ITEMS][FALLBACK] Basic endpoint also failed:",c.status),console.log("[CART][PULL_ITEMS][FINAL_FALLBACK] Both endpoints failed, attempting to create cart via add endpoint...");try{const d=`${he.BASE_URL}${$e.CART_ITEMS.ADD}`,u=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({maSP:"DUMMY_SP",soLuong:1,donGiaHienTai:0})});if(u.ok){console.log("[CART][PULL_ITEMS][FINAL_FALLBACK] Successfully created cart via add endpoint");const h=await u.json().catch(()=>({}));return h.itemId&&await fetch(`${he.BASE_URL}${$e.CART_ITEMS.REMOVE(h.itemId)}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).catch(()=>{}),[]}else return console.warn("[CART][PULL_ITEMS][FINAL_FALLBACK] Failed to create cart via add endpoint:",u.status),[]}catch(d){return console.error("[CART][PULL_ITEMS][FINAL_FALLBACK] Error in final fallback:",d),[]}}}else return console.error("[CART][PULL_ITEMS] Other error status:",s.status),[]}const o=await s.json().catch(()=>({})),r=o?.items||[];return console.log("[CART][PULL_ITEMS][OK] maKH=",e,"count=",r.length,"tongTien=",o.tongTien),r.map(i=>({productId:i.sanPham?.maSP||i.maSP||i.productId,quantity:i.soLuong||i.quantity||1,itemId:i.itemId||i.id,price:i.donGiaHienTai||0,product:i.sanPham||i.product||null}))}catch(t){return console.error("[CART][PULL_ITEMS][EXCEPTION]",t),[]}},il=async()=>{if(!Pe())return;const t=await Qt();if(!t)return;kn.value=t;const n=await zs();if(n&&n.maKH)console.log("[CART][MERGE] Sync successful"),await En();else{const s=await os(t);ve.value=s}Sn.value=!0},Of=async()=>{await al()},En=async()=>{if(!Pe()){try{console.warn("[CART][RELOAD] No token available")}catch{}return!1}const t=await Qt();if(!t){try{console.warn("[CART][RELOAD] Could not resolve customer ID")}catch{}return!1}kn.value=t;const n=await os(t);ve.value=Array.isArray(n)?n:[],Sn.value=!0;try{console.log("[CART][RELOAD] maKH=",t,"itemsCount=",ve.value.length),ve.value.length===0&&console.log("[CART][RELOAD] Cart is empty - this may be normal if backend endpoints are not fully implemented yet")}catch{}return!0},al=async()=>{if(Pe()){try{console.log("[GIOHANG][PERSIST_LOGOUT] local cart disabled, clearing state")}catch{}try{const t=await zs();if(t&&t.maKH){console.log("[GIOHANG][PERSIST_LOGOUT] Sync successful, using maKH:",t.maKH),kn.value=t.maKH,ve.value=[],cs();return}}catch(t){console.error("[GIOHANG][PERSIST_LOGOUT] Sync error:",t)}ve.value=[]}},zs=async()=>{try{const e=ve.value.filter(s=>!s.inactive);if(e.length===0)return console.log("[CART][SYNC] No active items to sync"),null;const t={items:e.map(s=>({maSP:s.productId,soLuong:s.quantity}))};console.log("[CART][SYNC] Syncing items:",t);const n=await fetch(`${he.BASE_URL}${$e.CART.SYNC}`,{method:"POST",headers:kt(),body:JSON.stringify(t)});if(n.ok){const s=await n.json();return console.log("[CART][SYNC][SUCCESS]",s),{maKH:s.maKH,items:s.items||[],tongTien:s.tongTien||0}}else{const s=await n.json().catch(()=>({message:"Unknown error"}));throw console.error("[CART][SYNC][ERROR]",n.status,s),new Error(`Sync failed: ${s.message}`)}}catch(e){return console.error("[CART][SYNC][EXCEPTION]",e),null}},Df=async()=>{try{console.log(" [CART][TEST] Testing cart API connection...");const e=Pe();if(!e)return console.error(" [CART][TEST] No token found"),{success:!1,error:"No authentication token"};console.log(" [CART][TEST] Token found:",e.substring(0,20)+"...");const t=await Qt();if(!t)return console.error(" [CART][TEST] Could not resolve customer ID"),{success:!1,error:"Could not resolve customer ID"};console.log(" [CART][TEST] Customer ID resolved:",t);try{const n=`${he.BASE_URL}${$e.CART.CURRENT_USER}`;console.log(" [CART][TEST] Testing current-user endpoint:",n);const s=await fetch(n,{headers:kt()});if(console.log(" [CART][TEST] Current-user response status:",s.status),s.ok){const o=await s.json();console.log(" [CART][TEST] Current-user data:",o)}else{const o=await s.text().catch(()=>"Unable to read");console.error(" [CART][TEST] Current-user error:",o)}}catch(n){console.error(" [CART][TEST] Current-user exception:",n)}try{const n=`${he.BASE_URL}${$e.CART.BY_CUSTOMER(t)}`;console.log(" [CART][TEST] Testing basic cart endpoint:",n);const s=await fetch(n,{headers:kt()});if(console.log(" [CART][TEST] Basic cart response status:",s.status),s.ok){const o=await s.json();console.log(" [CART][TEST] Basic cart data:",o)}else{const o=await s.text().catch(()=>"Unable to read");console.error(" [CART][TEST] Basic cart error:",o)}}catch(n){console.error(" [CART][TEST] Basic cart exception:",n)}try{const n=`${he.BASE_URL}${$e.CART.BY_CUSTOMER_WITH_ITEMS(t)}`;console.log(" [CART][TEST] Testing with-items endpoint:",n);const s=await fetch(n,{headers:kt()});if(console.log(" [CART][TEST] With-items response status:",s.status),s.ok){const o=await s.json();return console.log(" [CART][TEST] With-items data:",o),{success:!0,maKH:t,data:o}}else{const o=await s.text().catch(()=>"Unable to read");return console.error(" [CART][TEST] With-items error:",o),{success:!1,error:`API returned ${s.status}: ${o}`}}}catch(n){return console.error(" [CART][TEST] With-items exception:",n),{success:!1,error:n.message}}}catch(e){return console.error(" [CART][TEST] General exception:",e),{success:!1,error:e.message}}},Qs=async(e,t=1,n=null)=>{try{const s={maSP:e,soLuong:t};n!==null&&n>0&&(s.donGiaHienTai=n);const o=await fetch(`${he.BASE_URL}${$e.CART_ITEMS.ADD}`,{method:"POST",headers:kt(),body:JSON.stringify(s)});if(o.ok){const r=await o.json();return console.log("[CART][ADD_BACKEND] Success:",r),r}else{const r=await o.json().catch(()=>({message:"Unknown error"}));return console.error("[CART][ADD_BACKEND] Error:",o.status,r),null}}catch(s){return console.error("[CART][ADD_BACKEND] Exception:",s),null}},ll=async(e,t)=>{try{const n=await fetch(`${he.BASE_URL}${$e.CART_ITEMS.UPDATE_QTY(e)}?value=${t}`,{method:"PUT",headers:kt()});return n.ok?(console.log("[CART][UPDATE_QTY] Success for itemId:",e),!0):(console.error("[CART][UPDATE_QTY] Error:",n.status),!1)}catch(n){return console.error("[CART][UPDATE_QTY] Exception:",n),!1}},cl=async e=>{try{const t=await fetch(`${he.BASE_URL}${$e.CART_ITEMS.REMOVE(e)}`,{method:"DELETE",headers:kt()});return t.ok?(console.log("[CART][REMOVE_ITEM] Success for itemId:",e),!0):(console.error("[CART][REMOVE_ITEM] Error:",t.status),!1)}catch(t){return console.error("[CART][REMOVE_ITEM] Exception:",t),!1}},or=async()=>{try{const e=await Qt();if(!e)return!1;const t=await fetch(`${he.BASE_URL}${$e.CART.CLEAR_ITEMS(e)}`,{method:"DELETE",headers:kt()});return t.ok?(console.log("[CART][CLEAR_ALL] Success for maKH:",e),!0):(console.error("[CART][CLEAR_ALL] Error:",t.status),!1)}catch(e){return console.error("[CART][CLEAR_ALL] Exception:",e),!1}},rr=async e=>{try{const t=await Qt();if(!t)return!1;const n=await fetch(`${he.BASE_URL}${$e.CART.UPDATE_STATUS(t)}?value=${e}`,{method:"PUT",headers:kt()});return n.ok?(console.log("[CART][UPDATE_STATUS] Success:",e),!0):(console.error("[CART][UPDATE_STATUS] Error:",n.status),!1)}catch(t){return console.error("[CART][UPDATE_STATUS] Exception:",t),!1}},ir=async()=>{if(!Pe())return console.log("[CART][SYNC_IDS] No token available"),!1;const t=await Qt();if(!t)return console.log("[CART][SYNC_IDS] No customer ID available"),!1;try{console.log("[CART][SYNC_IDS] Syncing itemIds from backend...");const n=await os(t);if(!n||n.length===0)return console.log("[CART][SYNC_IDS] No backend items found"),!1;let s=0;return ve.value.forEach(o=>{const r=n.find(i=>i.productId===o.productId);r&&r.itemId?(!o.itemId||o.itemId!==r.itemId)&&(o.itemId=r.itemId,s++,console.log("[CART][SYNC_IDS] Updated itemId for",o.productId,":",r.itemId)):console.warn("[CART][SYNC_IDS] No backend item found for",o.productId)}),s>0?(cs(),console.log("[CART][SYNC_IDS] Synced",s,"itemIds")):console.log("[CART][SYNC_IDS] No itemIds needed syncing"),s>0}catch(n){return console.error("[CART][SYNC_IDS] Error syncing itemIds:",n),!1}},Lf=async()=>{if(!Pe())throw new Error("Cn ng nhp  thanh ton");try{if(console.log("[CART][CHECKOUT] Processing checkout..."),await rr(1))return console.log("[CART][CHECKOUT] Successfully updated cart status to Paid"),ve.value=[],cs(),Sn.value=!1,{success:!0,message:"Thanh ton thnh cng"};throw new Error("Khng th cp nht trng thi gi hng")}catch(t){return console.error("[CART][CHECKOUT] Error:",t),{success:!1,error:t.message}}},Mf=async()=>{if(!Pe())throw new Error("Cn ng nhp  hy gi hng");try{if(console.log("[CART][CANCEL] Cancelling cart..."),await rr(2))return console.log("[CART][CANCEL] Successfully cancelled cart"),ve.value=[],cs(),Sn.value=!1,{success:!0,message:" hy gi hng"};throw new Error("Khng th hy gi hng")}catch(t){return console.error("[CART][CANCEL] Error:",t),{success:!1,error:t.message}}},ar=async(e,t=1,n=null)=>{try{console.log("[CART][ADD] productId=",e,"quantity=",t)}catch{}if(!Pe()){try{sessionStorage.setItem("pending-cart-add",JSON.stringify({productId:e,quantity:t})),typeof window<"u"&&(sessionStorage.setItem("easymart-redirect-after-login",window.location.pathname||"/"),window.location.href="/login")}catch{}return{success:!1,needsLogin:!0}}let o=!0,r=n,i=null;try{if(n)typeof n.trangThai<"u"?(o=n.trangThai===1,i=n.trangThai):typeof n.isActive<"u"?(o=!!n.isActive,i=n.isActive?"active":"inactive"):(o=!0,i="unknown");else{const l=await fetch(`${he.BASE_URL}${$e.PRODUCTS.BY_ID(e)}`);if(l.ok){const c=await l.json();r=c,typeof c.trangThai<"u"?(o=c.trangThai===1,i=c.trangThai):typeof c.isActive<"u"&&(o=!!c.isActive,i=c.isActive?"active":"inactive")}}}catch(l){console.warn("[CART][ADD] Could not check product status:",l),o=!0,i="unknown"}if(!o)return console.warn("[CART][ADD] Product is inactive, skip add:",e,"status:",i),typeof window<"u"&&alert(` Sn phm ${e} hin khng kh dng!

Trng thi: ${i===0?"Ngng bn":"Khng kh dng"}

Vui lng chn sn phm khc hoc lin h admin  kch hot sn phm.`),{success:!1,inactive:!0,message:`Sn phm ${e} hin khng kh dng (trng thi: ${i})`};try{console.log("[CART][ADD] Adding to backend:",e,"quantity:",t);const l=r?.giaHienTai||r?.price||0;if(await Qs(e,t,l))return await En(),{success:!0,message:` thm ${t} sn phm vo gi hng`}}catch(l){return console.error("[CART][ADD] Backend add error:",l),typeof window<"u"&&alert(` Khng th thm sn phm vo gi hng!

Li: ${l.message||"Li khng xc nh"}

Vui lng th li sau hoc lin h admin.`),{success:!1,error:l.message||"Khng th thm vo gi hng"}}return{success:!1,error:"Khng th thm vo gi hng"}},Io=async e=>{const t=ve.value.findIndex(n=>n.productId===e);if(t!==-1){const n=ve.value[t];if(Pe())try{if(!n.itemId){console.log("[CART][REMOVE] Item missing itemId, syncing from backend..."),await ir();const o=ve.value.find(r=>r.productId===e);o?.itemId&&(n.itemId=o.itemId)}if(n.itemId)console.log("[CART][REMOVE] Removing from backend:",n.itemId),await cl(n.itemId)?console.log("[CART][REMOVE] Successfully removed from backend"):console.warn("[CART][REMOVE] Failed to remove from backend, continuing with local removal");else{console.log("[CART][REMOVE] No itemId found, using fallback method");const o=ve.value.filter(r=>r.productId!==e);await or();for(const r of o)r.inactive||await Qs(r.productId,r.quantity,r.product?.giaHienTai||r.price||0)}}catch(o){console.error("[CART][REMOVE] Backend removal error:",o)}ve.value.splice(t,1),console.log("[CART][REMOVE] Removed from local cart:",e)}},Uf=async(e,t)=>{const n=xf(e);if(n)if(t<=0)await Io(e);else{if(Pe())try{if(!n.itemId){console.log("[CART][UPDATE_QTY] Item missing itemId, syncing from backend..."),await ir();const o=ve.value.find(r=>r.productId===e);o?.itemId&&(n.itemId=o.itemId)}if(n.itemId)console.log("[CART][UPDATE_QTY] Updating backend quantity:",n.itemId,"to",t),await ll(n.itemId,t)?console.log("[CART][UPDATE_QTY] Successfully updated backend"):console.warn("[CART][UPDATE_QTY] Failed to update backend, continuing with local update");else{console.log("[CART][UPDATE_QTY] No itemId found, using fallback method"),await Io(e),await ar(e,t,n.product);return}}catch(o){console.error("[CART][UPDATE_QTY] Backend update error:",o)}n.quantity=t,console.log("[CART][UPDATE_QTY] Updated local quantity:",e,"to",t)}},Nf=async()=>{if(Pe())try{console.log("[CART][CLEAR] Clearing backend cart..."),await or()?console.log("[CART][CLEAR] Successfully cleared backend cart"):console.warn("[CART][CLEAR] Failed to clear backend cart, continuing with local clear")}catch(t){console.error("[CART][CLEAR] Backend clear error:",t)}ve.value=[],console.log("[CART][CLEAR] Cleared local cart")},Hf=e=>ve.value.map(t=>{const n=e.find(s=>s.id===t.productId);return{...t,product:n||t.product}}).filter(t=>t.product),Bf=e=>ve.value.reduce((t,n)=>{const s=e.find(o=>o.id===n.productId);return t+(s?s.price*n.quantity:0)},0);rl();rt(nn,async(e,t)=>{const n=Pe();if(e&&!t&&n){try{console.log("[GIOHANG][AUTH_WATCH] login detected")}catch{}try{const o=sessionStorage.getItem("pending-cart-add");if(o){const{productId:r,quantity:i}=JSON.parse(o);sessionStorage.removeItem("pending-cart-add"),console.log("[GIOHANG][AUTH_WATCH] Processing pending cart add:",r,i);const l=await ar(r,i);l.success?console.log("[GIOHANG][AUTH_WATCH] Successfully added pending item:",l.message):console.warn("[GIOHANG][AUTH_WATCH] Failed to add pending item:",l.error||l.message)}}catch(o){console.error("[GIOHANG][AUTH_WATCH] Error processing pending cart add:",o)}console.log("[GIOHANG][AUTH_WATCH] Reloading cart from backend..."),await En()?console.log("[GIOHANG][AUTH_WATCH] Cart reload successful, items count:",ve.value.length):console.warn("[GIOHANG][AUTH_WATCH] Cart reload failed, but continuing...")}});const Ff=async e=>{try{console.log("[GIOHANG][FALLBACK] Adding items to cart for maKH:",e);for(const t of ve.value)if(t.inactive)console.log("[GIOHANG][FALLBACK] Skipping inactive item:",t.productId);else try{await Qs(t.productId,t.quantity,t.product?.giaHienTai||t.product?.price||null)?console.log("[GIOHANG][FALLBACK] Item added successfully:",t.productId):console.error("[GIOHANG][FALLBACK] Failed to add item:",t.productId)}catch(n){console.error("[GIOHANG][FALLBACK] Exception adding item:",n)}}catch(t){console.error("[GIOHANG][FALLBACK] Error in fallback persist:",t)}};(async()=>{if(Pe()){try{console.log("[GIOHANG][INIT] token present, syncing cart...")}catch{}if(ve.value.length===0){console.log("[GIOHANG][INIT] Local cart empty, just reloading backend"),await En();return}const t=await zs();t&&t.maKH?(console.log("[GIOHANG][INIT] Sync successful, using maKH:",t.maKH),kn.value=t.maKH,(!t.items||t.items.length===0)&&(console.warn("[GIOHANG][INIT] Sync returned empty items, trying fallback..."),await Ff(t.maKH)),await En()):(console.log("[GIOHANG][INIT] Sync failed, using fallback strategy"),await il())}})();function Js(){return{cart:ve,backendCartId:kn,backendReady:Sn,cartCount:$f,cartTotal:If,addToCart:ar,removeFromCart:Io,updateCartQuantity:Uf,clearCart:Nf,getCartItemsWithProducts:Hf,getCartTotal:Bf,loadCart:rl,saveCart:cs,addItemToBackendCart:Qs,updateItemQuantityInBackend:ll,removeItemFromBackend:cl,clearBackendCart:or,updateCartStatus:rr,syncItemIdsFromBackend:ir,checkoutCart:Lf,cancelCart:Mf,mergeWithBackendOnLogin:il,persistLocalToBackendAndClear:al,reloadCartFromBackend:En,syncLocalCartToDBViaEndpoint:zs,testCartAPIConnection:Df,debugCartState:()=>(console.log("=== CART DEBUG STATE ==="),console.log("Local cart items:",ve.value.map(e=>({productId:e.productId,quantity:e.quantity,itemId:e.itemId,hasItemId:!!e.itemId,inactive:e.inactive}))),console.log("Backend cart ID:",kn.value),console.log("Backend ready:",Sn.value),console.log("Token available:",!!Pe()),ve.value),getLocalCartSnapshot:()=>({count:ve.value.length,items:ve.value.map(e=>({productId:e.productId,quantity:e.quantity}))}),getBackendCartSnapshot:async()=>{if(!Pe())return{maKH:null,items:[]};const t=await Qt();if(!t)return{maKH:null,items:[]};const n=await os(t);return{maKH:t,items:n}},compareLocalAndBackend:async()=>{const e={count:ve.value.length,items:ve.value.map(c=>({productId:c.productId,quantity:c.quantity}))},t=Pe();let n={maKH:null,items:[]};if(t){const c=await Qt();if(c){const d=await os(c);n={maKH:c,items:d}}}const s=c=>{const d=new Map;for(const u of c){const h=String(u.productId);d.set(h,(d.get(h)||0)+(u.quantity||0))}return d},o=s(e.items),r=s(n.items),i=new Set([...o.keys(),...r.keys()]),l=[];for(const c of i){const d=o.get(c)||0,u=r.get(c)||0;l.push({productId:c,localQty:d,backendQty:u,equal:d===u})}return{local:e,backend:n,diff:l}}}}const lr=Object.freeze(Object.defineProperty({__proto__:null,persistCartOnLogout:Of,useCart:Js},Symbol.toStringTag,{value:"Module"})),Kf={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"y",:"y",:"y",:"y",:"y",:"d",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"Y",:"Y",:"Y",:"Y",:"Y",:"D"};function Gf(e){return!e||typeof e!="string"?"":e.split("").map(t=>Kf[t]||t).join("")}function Ro(e){return!e||typeof e!="string"?"":Gf(e.toLowerCase().trim())}function Po(e,t){if(!e||!t)return!1;const n=Ro(e),s=Ro(t);return n.includes(s)}function Vf(e,t,n){return!e||!Array.isArray(e)||!t||!n||!Array.isArray(n)?e||[]:Ro(t)?e.filter(o=>n.some(r=>{const i=o[r];return i?Po(i,t):!1})):e}class on{static async getAllCategories(){try{const t=await fetch(`${$t}${$e.CATEGORIES.LIST}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).map(s=>({id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:on.getCategoryIcon(s.tenLoai),color:on.getCategoryColor(s.tenLoai)}))}catch(t){return console.error("Error fetching categories:",t),on.getDefaultCategories()}}static async getCategoryById(t){try{const n=await fetch(`${$t}${$e.CATEGORIES.BY_ID(t)}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();return{id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:on.getCategoryIcon(s.tenLoai),color:on.getCategoryColor(s.tenLoai)}}catch(n){return console.error(`Error fetching category ${t}:`,n),null}}static getCategoryIcon(t){if(!t)return"fas fa-tags";const n={"ti sng":"fas fa-leaf","rau c":"fas fa-carrot",tht:"fas fa-drumstick-bite",c:"fas fa-fish","tri cy":"fas fa-apple-alt","ng lnh":"fas fa-snowflake",kem:"fas fa-ice-cream","ng hp":"fas fa-box",hp:"fas fa-box",lon:"fas fa-cube"," ung":"fas fa-tint",nc:"fas fa-tint",sa:"fas fa-wine-bottle",tr:"fas fa-mug-hot","c ph":"fas fa-coffee",sa:"fas fa-baby","em b":"fas fa-baby","tr em":"fas fa-child","gia v":"fas fa-pepper-hot","du n":"fas fa-oil-can","nc mm":"fas fa-flask",mui:"fas fa-cube","ha phm":"fas fa-soap","ty ra":"fas fa-broom",git:"fas fa-tshirt","v sinh":"fas fa-spray-can"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("n")||s.includes("thc phm")?"fas fa-utensils":s.includes("")?"fas fa-shopping-basket":"fas fa-tags"}static getCategoryColor(t){if(!t)return"primary";const n={"ti sng":"success","rau c":"success",tht:"danger",c:"info","tri cy":"success","ng lnh":"info",kem:"info","ng hp":"warning",hp:"warning",lon:"warning"," ung":"primary",nc:"primary",sa:"info",tr:"success","c ph":"dark",sa:"info","em b":"info","tr em":"info","gia v":"danger","du n":"warning","nc mm":"danger",mui:"light","ha phm":"success","ty ra":"success",git:"info","v sinh":"success"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("n")||s.includes("thc phm")?"success":(s.includes(""),"primary")}static getDefaultCategories(){return[{id:"LSP001",name:"Ti sng",icon:"fas fa-leaf",color:"success",description:"Cc loi rau c qu ti"},{id:"LSP002",name:"ng lnh",icon:"fas fa-snowflake",color:"info",description:"Thc phm ng lnh"},{id:"LSP003",name:" ng hp",icon:"fas fa-box",color:"warning",description:"Thc phm ng hp"},{id:"LSP004",name:" ung",icon:"fas fa-tint",color:"primary",description:"Cc loi nc gii kht"},{id:"LSP005",name:"Sa & em b",icon:"fas fa-baby",color:"info",description:"Sn phm cho tr em"},{id:"LSP006",name:"Gia v & Du n",icon:"fas fa-pepper-hot",color:"danger",description:"Gia v v du n"},{id:"LSP007",name:"Ha phm & Ty ra",icon:"fas fa-soap",color:"success",description:"Sn phm v sinh"}]}}function $n(){const e=J([]),t=J([]),n=J([]),s=J(""),o=J(null),r=J({hours:0,minutes:0,seconds:0}),i=J(!1),{addToCart:l}=Js(),c=[{id:1,name:"Ti Sng",icon:"fas fa-leaf",color:"success"},{id:2,name:"ng lnh",icon:"fas fa-snowflake",color:"info"},{id:3,name:" ng hp",icon:"fas fa-can-food",color:"warning"},{id:4,name:" Ung",icon:"fas fa-tint",color:"primary"},{id:5,name:"Sa & Em b",icon:"fas fa-baby",color:"info"},{id:6,name:"Gia V & Du n",icon:"fas fa-pepper-hot",color:"danger"},{id:7,name:"Ha Phm & Ty Ra",icon:"fas fa-soap",color:"success"}],d=[{id:1,title:"OMO Gim 20%",description:"p dng cho tt c sn phm OMO",code:"OMO20"},{id:2,title:"Nc git Ariel -15%",description:"n hng t 150k",code:"ARIEL15"},{id:3,title:"Snack Combo - Gim 10%",description:"Mua 2 tng 1",code:"SNACK10"},{id:4,title:"Gim 25k cho n hng > 300k",description:"p dng tt c sn phm",code:"SAVE25K"}],u=Z(()=>e.value.filter(y=>y.isFlashSale)),h=Z(()=>s.value.trim().length<2?[]:Vf(e.value,s.value,["name","description"]).slice(0,5)),g=async y=>{try{const I=await fetch(`${$t}${$e.PRODUCTS.BY_CATEGORY_ACTIVE(y)}`);if(!I.ok)throw new Error(`HTTP error! status: ${I.status}`);const C=(await I.json()).map(f=>({id:f.maSP||f.id,name:f.tenSP||f.name,price:f.giaHienTai||f.giaBan||f.price,originalPrice:f.giaGoc||f.originalPrice,categoryId:f.loaiSanPham?.maLoaiSP||f.categoryId,categoryName:f.loaiSanPham?.tenLoai||f.categoryName,image:`${$t}${$e.IMAGES.SERVE_IMAGE(f.maSP+"_main.jfif")}`,images:$e.IMAGES.PRODUCT_IMAGES(f.maSP).map(X=>`${$t}${X}`),description:f.moTa||f.description,isFlashSale:f.isFlashSale||!1,isActive:f.isActive!==!1,stock:f.trongLuong||f.stock||0,unit:f.donViTinh||f.unit||"ci",rating:f.danhGia||f.rating||4.5,reviews:f.danhGia||f.reviews||[]}));return await M(C)}catch(I){return console.error(`Failed to get products for category ${y} from API:`,I),[]}},v=y=>t.value.find(I=>I.id===y),T=y=>{const I=Number(y),P=Number.isFinite(I)?I:0;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(P)},b=(y,I="success")=>{o.value={message:y,type:I},setTimeout(()=>{o.value=null},3e3)},A=y=>{b(` lu m khuyn mi: ${y}`,"success")},x=()=>{const y=new Date().getTime(),I=new Date;I.setHours(24,0,0,0);const P=I.getTime()-y;r.value={hours:Math.floor(P%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(P%(1e3*60*60)/(1e3*60)),seconds:Math.floor(P%(1e3*60)/1e3)}},S=()=>{x(),setInterval(x,1e3)},L=async()=>{n.value=d,S(),await Promise.all([$(),G()])},$=async()=>{try{i.value=!0;const y=await on.getAllCategories();t.value=y}catch(y){console.error("Failed to load categories from API, using defaults:",y),t.value=c}finally{i.value=!1}},G=async()=>{try{const y=await fetch(`${$t}${$e.PRODUCTS.LIST}`);if(!y.ok)throw new Error(`HTTP error! status: ${y.status}`);const P=(await y.json()).map(C=>({id:C.maSP||C.id,name:C.tenSP||C.name,price:C.giaHienTai||C.giaBan||C.price,originalPrice:C.giaGoc||C.originalPrice,categoryId:C.loaiSanPham?.maLoaiSP||C.categoryId,categoryName:C.loaiSanPham?.tenLoai||C.categoryName,image:`${$t}${$e.IMAGES.SERVE_IMAGE(C.maSP+"_main.jfif")}`,images:$e.IMAGES.PRODUCT_IMAGES(C.maSP).map(f=>`${$t}${f}`),description:C.moTa||C.description,isFlashSale:C.isFlashSale||!1,isActive:C.isActive!==!1,stock:C.trongLuong||C.stock||0,unit:C.donViTinh||C.unit||"ci",rating:C.danhGia||C.rating||4.5,reviews:C.danhGia||C.reviews||[]}));e.value=await M(P)}catch(y){console.error("Failed to load products from API:",y),e.value=[]}},M=async y=>await Promise.all(y.map(async P=>{const C=Number(P.price);if(Number.isFinite(C)&&C>0)return P;try{const w=await fetch(`${$t}${$e.PRODUCTS.BY_ID(P.id)}`);if(w.ok){const f=await w.json(),H=f.giaHienTai||f.giaBan||f.price||0;return{...P,price:H}}}catch{}return P}));return ht(()=>{L()}),{products:e,categories:t,coupons:n,searchQuery:s,notification:o,countdown:r,isLoadingCategories:i,flashSaleProducts:u,searchResults:h,getProductsByCategory:g,getCategoryById:v,formatPrice:T,showNotification:b,addToCart:l,saveCoupon:A,initializeData:L,loadCategories:$,loadProducts:G}}const Ye=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},jf={class:"d-flex align-items-center justify-content-center rounded-circle me-3 bg-white bg-opacity-20",style:{width:"40px",height:"40px"}},qf={class:"flex-grow-1"},Wf={class:"fw-medium lh-sm"},Yf={key:0,class:"mt-2 rounded-pill overflow-hidden bg-white bg-opacity-30",style:{height:"3px"}},zf={__name:"Notification",props:{message:{type:String,required:!0},type:{type:String,default:"success",validator:e=>["success","warning","danger","info"].includes(e)},duration:{type:Number,default:4e3},showProgress:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,o=J(100);let r=null,i=null;const l=Z(()=>{const h={success:"fas fa-check-circle",warning:"fas fa-exclamation-triangle",danger:"fas fa-times-circle",info:"fas fa-info-circle"};return h[n.type]||h.success}),c=()=>{d(),s("close")},d=()=>{r&&(clearInterval(r),r=null),i&&(clearTimeout(i),i=null)},u=()=>{if(!n.showProgress)return;const h=100/(n.duration/50);r=setInterval(()=>{o.value=Math.max(0,o.value-h)},50)};return ht(()=>{u(),i=setTimeout(()=>{c()},n.duration)}),Nt(()=>{d()}),(h,g)=>(k(),as(Qi,{to:"body"},[re(Vs,{name:"notification","enter-active-class":"animate__animated animate__slideInRight animate__faster","leave-active-class":"animate__animated animate__slideOutRight animate__faster"},{default:Ie(()=>[a("div",{class:be(["position-fixed top-0 end-0 m-3 shadow-lg rounded-3 border-0 notification-alert d-flex align-items-center",`alert-${e.type}`]),style:{"z-index":"9999","min-width":"350px","max-width":"450px","backdrop-filter":"blur(10px)"},role:"alert"},[a("div",jf,[a("i",{class:be(`${l.value} fs-5`)},null,2)]),a("div",qf,[a("div",Wf,B(e.message),1),e.showProgress?(k(),E("div",Yf,[a("div",{class:"h-100 bg-white bg-opacity-80 rounded-pill",style:yn([{transition:"width 0.05s linear"},{width:o.value+"%"}])},null,4)])):ae("",!0)]),a("button",{type:"button",class:"btn-close ms-3 opacity-75 hover-scale",onClick:c,"aria-label":"ng"})],2)]),_:1})]))}},Qf=Ye(zf,[["__scopeId","data-v-fc51c166"]]),Jf={class:"search-container"},Xf={class:"search-icon"},Zf={class:"fas fa-search"},eh={class:"spinner-border spinner-border-sm",role:"status"},th=["placeholder","value"],nh={class:"search-actions"},sh={key:0,class:"quick-search"},oh={class:"dropdown-section"},rh={class:"recent-searches"},ih=["onClick"],ah={class:"dropdown-section"},lh={class:"popular-keywords"},ch=["onClick"],uh={key:1,class:"search-results"},dh={key:0,class:"no-results"},fh={key:1,class:"search-suggestions"},hh={class:"suggestion-items"},ph=["onClick"],gh={key:2,class:"product-results"},mh={class:"results-header"},vh={class:"section-title"},yh={class:"product-list"},bh=["onClick"],_h={class:"product-image"},wh=["src","alt"],Th={key:0,class:"product-badge"},Ch={class:"product-info"},kh={class:"product-name"},Sh={class:"product-price"},Eh={key:0,class:"original-price"},Ah={class:"current-price"},xh={class:"product-meta"},$h={class:"product-rating"},Ih={key:0,class:"out-of-stock-label"},Rh={class:"product-actions"},Ph=["onClick","disabled"],Oh={key:3,class:"category-results"},Dh={class:"category-list"},Lh=["onClick"],Mh={class:"product-count"},Uh={__name:"SearchDropdown",props:{searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart","view-product","view-category"],setup(e,{emit:t}){const n=xn(),s=e,o=t,r=J(null),i=J(!1),l=J(!1),c=J(-1),d=J(0),u=J(null),h=["Tm kim sn phm... (c th tm khng du)","Rau c qu ti ngon...","Tht c hi sn...","Sa v cc sn phm t sa...","Bnh ko  ung..."],g=Ot(["Rau xanh organic","Tht b c","Sa ti"]),v=Ot(["Rau organic","Tht ti","Hi sn","Tri cy","Sa ti","Bnh m"," ung","Gia v"]),T=Z(()=>h[d.value]),b=Z(()=>s.searchQuery.length<2?[]:v.filter(ue=>Po(ue,s.searchQuery)&&ue.toLowerCase()!==s.searchQuery.toLowerCase()).slice(0,3)),A=Z(()=>s.searchResults.slice(0,5)),x=Z(()=>s.searchQuery.length<2?[]:[{id:1,name:"Rau c qu",icon:"fas fa-carrot",color:"success",productCount:24},{id:2,name:"Tht c",icon:"fas fa-fish",color:"danger",productCount:15},{id:3,name:"Sa",icon:"fas fa-glass-whiskey",color:"info",productCount:8}].filter(ue=>Po(ue.name,s.searchQuery))),S=Z(()=>window.innerWidth<=768),L=ue=>{const ie=ue.target.value;o("update-search",ie),ie.length>=2&&(l.value=!0,clearTimeout(u.value),u.value=setTimeout(()=>{l.value=!1},500)),i.value=!0,c.value=-1},$=()=>{i.value=!0},G=()=>{setTimeout(()=>{i.value=!1},200)},M=()=>{i.value=!1},y=()=>{r.value?.focus()},I=()=>{o("update-search",""),y()},P=()=>{s.searchQuery.trim()&&(C(s.searchQuery),i.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}}))},C=ue=>{const ie=ue.trim();ie&&!g.includes(ie)&&(g.unshift(ie),g.length>5&&g.pop())},w=ue=>{o("update-search",ue),y()},f=ue=>{o("update-search",ue),y()},H=ue=>{o("update-search",ue),C(ue),y()},X=ue=>{C(s.searchQuery),i.value=!1,o("view-product",ue.id)},te=ue=>{i.value=!1,o("view-category",ue.id)},ge=ue=>{o("add-to-cart",ue)},ce=()=>{C(s.searchQuery),i.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}})},z=ue=>(!s.searchQuery||s.searchQuery.length<2,ue),ze=ue=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(ue),gt=ue=>{if(!i.value)return;const ie=b.value.length+A.value.length;switch(ue.key){case"ArrowDown":ue.preventDefault(),c.value=Math.min(c.value+1,ie-1);break;case"ArrowUp":ue.preventDefault(),c.value=Math.max(c.value-1,-1);break;case"Enter":if(ue.preventDefault(),c.value>=0)if(c.value<b.value.length)H(b.value[c.value]);else{const de=c.value-b.value.length;X(A.value[de])}else P();break;case"Escape":ue.preventDefault(),i.value=!1,r.value?.blur();break}},nt=()=>{d.value=(d.value+1)%h.length};let Me=null;return ht(()=>{Me=setInterval(nt,3e3),document.addEventListener("click",ue=>{ue.target.closest(".search-container")||(i.value=!1)})}),Nt(()=>{Me&&clearInterval(Me)}),rt(()=>s.searchQuery,ue=>{ue.length===0&&(l.value=!1)}),(ue,ie)=>(k(),E("div",Jf,[a("div",{class:"search-wrapper",onClick:y},[a("div",Xf,[ct(a("i",Zf,null,512),[[Zn,!l.value]]),ct(a("div",eh,ie[1]||(ie[1]=[a("span",{class:"visually-hidden"},"ang tm kim...",-1)]),512),[[Zn,l.value]])]),a("input",{ref_key:"searchInput",ref:r,type:"text",class:"form-control search-input",placeholder:T.value,value:e.searchQuery,onInput:L,onFocus:$,onBlur:G,onKeydown:gt,autocomplete:"off",spellcheck:"false"},null,40,th),a("div",nh,[e.searchQuery.length>0?(k(),E("button",{key:0,class:"btn btn-sm clear-btn",onClick:I,type:"button",title:"Xa tm kim"},ie[2]||(ie[2]=[a("i",{class:"fas fa-times"},null,-1)]))):ae("",!0),a("button",{class:"btn btn-primary search-btn",onClick:P,type:"button",title:"Tm kim"},ie[3]||(ie[3]=[a("i",{class:"fas fa-search"},null,-1)]))])]),re(Vs,{name:"dropdown"},{default:Ie(()=>[i.value?(k(),E("div",{key:0,class:"search-dropdown",onMousedown:ie[0]||(ie[0]=Ue(()=>{},["prevent"]))},[e.searchQuery.length===0?(k(),E("div",sh,[a("div",oh,[ie[5]||(ie[5]=a("h6",{class:"section-title"},[a("i",{class:"fas fa-history text-muted me-2"}),K("Tm kim gn y ")],-1)),a("div",rh,[(k(!0),E(pe,null,xe(g,de=>(k(),E("button",{key:de,class:"btn btn-sm btn-outline-secondary recent-search-item",onClick:De=>w(de)},[ie[4]||(ie[4]=a("i",{class:"fas fa-history me-2"},null,-1)),K(B(de),1)],8,ih))),128))])]),a("div",ah,[ie[6]||(ie[6]=a("h6",{class:"section-title"},[a("i",{class:"fas fa-fire text-danger me-2"}),K("T kha ph bin ")],-1)),a("div",lh,[(k(!0),E(pe,null,xe(v,de=>(k(),E("button",{key:de,class:"btn btn-sm btn-outline-primary popular-keyword",onClick:De=>f(de)},B(de),9,ch))),128))])])])):(k(),E("div",uh,[e.searchResults.length===0&&!l.value?(k(),E("div",dh,ie[7]||(ie[7]=[a("div",{class:"no-results-content"},[a("i",{class:"fas fa-search-minus text-muted"}),a("h6",null,"Khng tm thy kt qu"),a("p",null,"Th tm kim vi t kha khc")],-1)]))):ae("",!0),b.value.length>0?(k(),E("div",fh,[ie[9]||(ie[9]=a("h6",{class:"section-title"},[a("i",{class:"fas fa-lightbulb text-warning me-2"}),K("Gi  tm kim ")],-1)),a("div",hh,[(k(!0),E(pe,null,xe(b.value,(de,De)=>(k(),E("button",{key:de,class:be(["suggestion-item",{active:c.value===De}]),onClick:R=>H(de)},[ie[8]||(ie[8]=a("i",{class:"fas fa-search me-2"},null,-1)),K(B(de),1)],10,ph))),128))])])):ae("",!0),e.searchResults.length>0?(k(),E("div",gh,[a("div",mh,[a("h6",vh,[ie[10]||(ie[10]=a("i",{class:"fas fa-box text-primary me-2"},null,-1)),K(" Sn phm ("+B(e.searchResults.length)+") ",1)]),a("button",{class:"btn btn-sm btn-outline-primary view-all-btn",onClick:ce}," Xem tt c ")]),a("div",yh,[(k(!0),E(pe,null,xe(A.value,(de,De)=>(k(),E("div",{key:de.id,class:be(["product-item",{active:c.value===b.value.length+De,"out-of-stock":de.stock===0||de.inStock===!1}]),onClick:R=>X(de)},[a("div",_h,[a("img",{src:de.image,alt:de.name,loading:"lazy"},null,8,wh),de.discount?(k(),E("div",Th," -"+B(de.discount)+"% ",1)):ae("",!0)]),a("div",Ch,[a("h6",kh,B(z(de.name)),1),a("div",Sh,[de.originalPrice?(k(),E("span",Eh,B(ze(de.originalPrice)),1)):ae("",!0),a("span",Ah,B(ze(de.price)),1)]),a("div",xh,[a("div",$h,[ie[11]||(ie[11]=a("i",{class:"fas fa-star text-warning"},null,-1)),a("span",null,B(de.rating||4.5),1)]),de.stock===0||de.inStock===!1?(k(),E("div",Ih," Ht hng ")):ae("",!0)])]),a("div",Rh,[a("button",{class:"btn btn-sm btn-primary quick-add-btn",onClick:Ue(R=>ge(de.id),["stop"]),disabled:de.stock===0||de.inStock===!1,title:"Thm vo gi hng"},ie[12]||(ie[12]=[a("i",{class:"fas fa-cart-plus"},null,-1)]),8,Ph)])],10,bh))),128))])])):ae("",!0),x.value.length>0?(k(),E("div",Oh,[ie[13]||(ie[13]=a("h6",{class:"section-title"},[a("i",{class:"fas fa-layer-group text-success me-2"}),K("Danh mc ")],-1)),a("div",Dh,[(k(!0),E(pe,null,xe(x.value,de=>(k(),E("button",{key:de.id,class:"category-item",onClick:De=>te(de)},[a("i",{class:be(`${de.icon} text-${de.color} me-2`)},null,2),K(" "+B(de.name)+" ",1),a("span",Mh,"("+B(de.productCount)+")",1)],8,Lh))),128))])])):ae("",!0)])),ie[14]||(ie[14]=a("div",{class:"search-footer"},[a("div",{class:"search-tips"},[a("small",{class:"text-muted"},[a("i",{class:"fas fa-keyboard me-1"}),K(" Enter  tm kim,   iu hng, Esc  ng ")])])],-1))],32)):ae("",!0)]),_:1}),i.value&&S.value?(k(),E("div",{key:0,class:"search-overlay",onClick:M})):ae("",!0)]))}},Nh=Ye(Uh,[["__scopeId","data-v-5509d394"]]),Hh={class:"cart-dropdown"},Bh={class:"nav-link px-3 py-2 rounded-pill position-relative cart-icon-wrapper"},Fh={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-count",style:{"font-size":"0.7rem"}},Kh={class:"card shadow-lg border-0",style:{width:"350px"}},Gh={class:"card-header bg-primary text-white d-flex justify-content-between align-items-center"},Vh={class:"mb-0"},jh={class:"d-flex align-items-center"},qh={class:"form-check me-3"},Wh=["checked"],Yh={class:"card-body p-0",style:{"max-height":"400px","overflow-y":"auto"}},zh={key:0,class:"text-center p-4"},Qh={key:1},Jh={class:"form-check me-2"},Xh=["checked","onChange","id"],Zh={class:"flex-shrink-0 me-3"},ep=["src","alt"],tp={class:"flex-grow-1"},np={class:"mb-1 text-truncate",style:{"max-width":"180px"}},sp={class:"d-flex justify-content-between align-items-center"},op={class:"text-primary fw-bold"},rp={class:"quantity-controls d-flex align-items-center"},ip=["onClick","disabled"],ap={class:"mx-2 fw-bold"},lp=["onClick"],cp={class:"d-flex justify-content-between align-items-center mt-1"},up={class:"text-muted"},dp=["onClick"],fp={key:0,class:"card-footer bg-light"},hp={class:"d-flex justify-content-between align-items-center mb-2"},pp={class:"text-muted"},gp={class:"text-primary"},mp={class:"d-grid gap-2"},vp=["disabled"],yp={__name:"CartDropdown",setup(e){const{cart:t,cartCount:n,removeFromCart:s,updateCartQuantity:o}=Js(),{products:r,formatPrice:i,showNotification:l}=$n(),c=J(!1),d=J(new Set);let u=null;const h=Z(()=>t.value.map(y=>{const I=r.value.find(P=>P.id===y.productId);return{...y,product:I||y.product}}).filter(y=>y.product));Z(()=>h.value.reduce((y,I)=>y+(I.product?.price||0)*I.quantity,0));const g=Z(()=>h.value.filter(y=>d.value.has(y.productId))),v=Z(()=>g.value.reduce((y,I)=>y+(I.product?.price||0)*I.quantity,0)),T=Z(()=>h.value.length>0&&h.value.every(y=>d.value.has(y.productId))),b=()=>{c.value=!c.value},A=()=>{u&&clearTimeout(u),u=setTimeout(()=>{c.value=!1},200)},x=()=>{u&&(clearTimeout(u),u=null),c.value=!0},S=(y,I)=>{I<=0?L(y):o(y,I)},L=y=>{const I=h.value.find(P=>P.productId===y);I&&(s(y),l(` xa ${I.product.name} khi gi hng!`,"info"))},$=()=>{if(d.value.size===0){l("Vui lng chn sn phm  thanh ton!","warning");return}c.value=!1;const y=Array.from(d.value);localStorage.setItem("easymart-selected-items",JSON.stringify(y)),window.location.href="/checkout"},G=y=>{d.value.has(y)?d.value.delete(y):d.value.add(y)},M=()=>{T.value?d.value.clear():h.value.forEach(y=>{d.value.add(y.productId)})};return Nt(()=>{u&&clearTimeout(u)}),(y,I)=>{const P=cn("router-link");return k(),E("div",Hh,[a("div",{class:"cart-trigger position-relative",onClick:b,onMouseenter:x,onMouseleave:A},[a("div",Bh,[I[2]||(I[2]=a("i",{class:"fas fa-shopping-bag fs-5"},null,-1)),a("span",Fh,B(N(n)),1)]),I[3]||(I[3]=a("i",{class:"fas fa-chevron-down ms-1 text-muted",style:{"font-size":"0.7rem"}},null,-1))],32),ct(a("div",{class:"cart-dropdown-content position-absolute",onMouseenter:x,onMouseleave:A},[a("div",Kh,[a("div",Gh,[a("h6",Vh,[I[4]||(I[4]=a("i",{class:"fas fa-shopping-cart me-2"},null,-1)),K("Gi hng ("+B(N(n))+") ",1)]),a("div",jh,[a("div",qh,[a("input",{class:"form-check-input",type:"checkbox",checked:T.value,onChange:M,id:"selectAllDropdown"},null,40,Wh),I[5]||(I[5]=a("label",{class:"form-check-label text-white small",for:"selectAllDropdown"}," Tt c ",-1))]),a("button",{class:"btn btn-sm btn-outline-light",onClick:I[0]||(I[0]=C=>c.value=!1)},I[6]||(I[6]=[a("i",{class:"fas fa-times"},null,-1)]))])]),a("div",Yh,[h.value.length===0?(k(),E("div",zh,I[7]||(I[7]=[a("i",{class:"fas fa-shopping-cart text-muted fs-1 mb-3"},null,-1),a("p",{class:"text-muted mb-0"},"Gi hng trng",-1),a("small",{class:"text-muted"},"Thm sn phm  bt u mua sm",-1)]))):(k(),E("div",Qh,[(k(!0),E(pe,null,xe(h.value,C=>(k(),E("div",{key:C.productId,class:"cart-item d-flex align-items-center p-3 border-bottom"},[a("div",Jh,[a("input",{class:"form-check-input",type:"checkbox",checked:d.value.has(C.productId),onChange:w=>G(C.productId),id:`dropdown-item-${C.productId}`},null,40,Xh)]),a("div",Zh,[a("img",{src:C.product?.image||"https://via.placeholder.com/60",alt:C.product?.name||"Product",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,ep)]),a("div",tp,[a("h6",np,B(C.product?.name||"Sn phm"),1),a("div",sp,[a("span",op,B(N(i)(C.product?.price||0)),1),a("div",rp,[a("button",{class:"btn btn-sm btn-outline-secondary",onClick:w=>S(C.productId,C.quantity-1),disabled:C.quantity<=1},I[8]||(I[8]=[a("i",{class:"fas fa-minus"},null,-1)]),8,ip),a("span",ap,B(C.quantity),1),a("button",{class:"btn btn-sm btn-outline-secondary",onClick:w=>S(C.productId,C.quantity+1)},I[9]||(I[9]=[a("i",{class:"fas fa-plus"},null,-1)]),8,lp)])]),a("div",cp,[a("small",up," Tng: "+B(N(i)((C.product?.price||0)*C.quantity)),1),a("button",{class:"btn btn-sm btn-outline-danger",onClick:w=>L(C.productId)},I[10]||(I[10]=[a("i",{class:"fas fa-trash"},null,-1)]),8,dp)])])]))),128))]))]),h.value.length>0?(k(),E("div",fp,[a("div",hp,[a("small",pp," chn: "+B(d.value.size)+"/"+B(h.value.length)+" sn phm",1),a("strong",gp,B(N(i)(v.value)),1)]),a("div",mp,[re(P,{to:"/cart",class:"btn btn-outline-primary btn-sm",onClick:I[1]||(I[1]=C=>c.value=!1)},{default:Ie(()=>I[11]||(I[11]=[a("i",{class:"fas fa-shopping-cart me-2"},null,-1),K("Xem gi hng ")])),_:1,__:[11]}),a("button",{class:"btn btn-primary btn-sm",onClick:$,disabled:d.value.size===0},[I[12]||(I[12]=a("i",{class:"fas fa-credit-card me-2"},null,-1)),K("Thanh ton ("+B(d.value.size)+") ",1)],8,vp)])])):ae("",!0)])],544),[[Zn,c.value]])])}}},bp=Ye(yp,[["__scopeId","data-v-8d4d668b"]]),_p={class:"navbar navbar-expand-lg navbar-light main-nav shadow-sm py-3"},wp={class:"container"},Tp={class:"flex-grow-1 mx-4"},Cp={class:"collapse navbar-collapse",id:"navbarNav"},kp={class:"navbar-nav ms-auto align-items-center"},Sp=["aria-expanded"],Ep={class:"nav-item"},Ap={class:"dropdown-item-text text-center mb-2"},xp={class:"fw-bold"},$p={class:"small text-muted"},Ip={__name:"Header",props:{categories:{type:Array,required:!0},searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart"],setup(e,{emit:t}){const{user:n,isLoggedIn:s,logout:o}=ss(),r=xn(),i=J(!1),l=J(!1),c=J(!1),d=J(!0),u=J(0),h=J("up"),g=J(null),v=J(null),T=()=>{g.value&&(clearTimeout(g.value),g.value=null),i.value=!0,l.value=!1,Yn(()=>{const w=document.getElementById("category-trigger"),f=document.querySelector(".category-dropdown");if(w&&f){const H=w.getBoundingClientRect();f.style.top=`${H.bottom+8}px`,f.style.left=`${H.left}px`,f.style.right="auto"}})},b=()=>{g.value=setTimeout(()=>{i.value=!1},200)},A=()=>{g.value&&(clearTimeout(g.value),g.value=null)},x=()=>{v.value&&(clearTimeout(v.value),v.value=null),l.value=!0,i.value=!1,Yn(()=>{const w=document.getElementById("account-trigger"),f=document.querySelector(".account-dropdown");if(w&&f){const H=w.getBoundingClientRect();f.style.top=`${H.bottom+8}px`,f.style.left=`${H.left}px`,f.style.right="auto"}})},S=()=>{v.value=setTimeout(()=>{l.value=!1},200)},L=()=>{v.value&&(clearTimeout(v.value),v.value=null)},$=w=>{!w.target.closest(".dropdown")&&!w.target.closest(".cart-dropdown")&&(i.value=!1,l.value=!1)},G=()=>{const w=window.scrollY;c.value=w>50,w>u.value?h.value="down":h.value="up",w<10?d.value=!0:h.value==="down"&&w>100?(d.value=!1,i.value=!1,l.value=!1):h.value==="up"&&(d.value=!0),M(),u.value=w},M=()=>{if(i.value){const w=document.getElementById("category-trigger"),f=document.querySelector(".category-dropdown");if(w&&f){const H=w.getBoundingClientRect();f.style.top=`${H.bottom+8}px`,f.style.left=`${H.left}px`,f.style.right="auto"}}if(l.value){const w=document.getElementById("account-trigger"),f=document.querySelector(".account-dropdown");if(w&&f){const H=w.getBoundingClientRect();f.style.top=`${H.bottom+8}px`,f.style.left=`${H.left}px`,f.style.right="auto"}}},y=()=>{M()};let I=null;const P=()=>{I===null&&(I=setTimeout(()=>{G(),I=null},10))},C=async()=>{try{const w=await o();l.value=!1,w.success||console.warn("Logout warning:",w.error),r.push("/")}catch(w){console.error("Logout error:",w),r.push("/")}};return ht(()=>{document.addEventListener("click",$),window.addEventListener("scroll",P,{passive:!0}),window.addEventListener("resize",y,{passive:!0});const w=()=>{};window.addEventListener("user-updated",w),G()}),Nt(()=>{document.removeEventListener("click",$),window.removeEventListener("scroll",P),window.removeEventListener("resize",y),window.removeEventListener("user-updated",handleUserUpdated),g.value&&clearTimeout(g.value),v.value&&clearTimeout(v.value),I!==null&&(clearTimeout(I),I=null)}),(w,f)=>{const H=cn("router-link");return k(),E(pe,null,[a("header",{class:be(["header-container fixed-top",{"header-scrolled":c.value,"header-visible":d.value,"header-hidden":!d.value}])},[a("div",{class:be(["top-bar py-2 border-bottom",{"top-bar-hidden":!d.value}])},f[3]||(f[3]=[Dt('<div class="container" data-v-fae11b65><div class="row align-items-center" data-v-fae11b65><div class="col-md-6" data-v-fae11b65><small class="text-muted" data-v-fae11b65><i class="fas fa-phone-alt text-primary me-2" data-v-fae11b65></i>Hotline: 1900 1234 | <i class="fas fa-envelope text-primary ms-3 me-2" data-v-fae11b65></i>cskh@easymart.vn </small></div><div class="col-md-6 text-end" data-v-fae11b65><small class="text-muted" data-v-fae11b65><i class="fas fa-truck text-primary me-2" data-v-fae11b65></i>Min ph vn chuyn n hng t 200k </small></div></div></div>',1)]),2),a("nav",_p,[a("div",wp,[re(H,{to:"/",class:"navbar-brand fw-bold text-primary fs-4"},{default:Ie(()=>f[4]||(f[4]=[a("i",{class:"fas fa-shopping-cart me-2"},null,-1),K("EasyMart ")])),_:1,__:[4]}),a("div",Tp,[re(Nh,{searchQuery:e.searchQuery,searchResults:e.searchResults,onUpdateSearch:f[0]||(f[0]=X=>w.$emit("update-search",X)),onAddToCart:f[1]||(f[1]=X=>w.$emit("add-to-cart",X))},null,8,["searchQuery","searchResults"])]),f[7]||(f[7]=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[a("span",{class:"navbar-toggler-icon"})],-1)),a("div",Cp,[a("ul",kp,[a("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:T,onMouseleave:b},[re(H,{to:"/categories",class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",role:"button","aria-expanded":i.value,id:"category-trigger"},{default:Ie(()=>f[5]||(f[5]=[a("i",{class:"fas fa-th-large me-2"},null,-1),K("Danh mc ")])),_:1,__:[5]},8,["aria-expanded"])],32),a("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:x,onMouseleave:S},[a("a",{class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",href:"#",role:"button","aria-expanded":l.value,id:"account-trigger"},f[6]||(f[6]=[a("i",{class:"fas fa-user me-2"},null,-1),K("Ti khon ")]),8,Sp)],32),a("li",Ep,[re(bp)])])])])])],2),(k(),as(Qi,{to:"body"},[i.value?(k(),E("ul",{key:0,class:be(["dropdown-menu dropdown-menu-end category-dropdown",{show:i.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:A,onMouseleave:b},[(k(!0),E(pe,null,xe(e.categories,X=>(k(),E("li",{key:X.id},[re(H,{to:{name:"Category",params:{id:X.id}},class:"dropdown-item rounded-2 mx-2 my-1",onClick:f[2]||(f[2]=te=>i.value=!1)},{default:Ie(()=>[a("i",{class:be(`${X.icon} text-${X.color} me-3`)},null,2),K(B(X.name),1)]),_:2},1032,["to"])]))),128))],34)):ae("",!0),l.value?(k(),E("ul",{key:1,class:be(["dropdown-menu dropdown-menu-end account-dropdown",{show:l.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:L,onMouseleave:S},[N(s)?(k(),E(pe,{key:0},[a("li",Ap,[f[8]||(f[8]=a("i",{class:"fas fa-user-circle fa-2x text-primary mb-2"},null,-1)),a("div",xp,B(N(n)?.name||"Ti khon ca bn"),1),a("div",$p,B(N(n)?.email),1)]),a("li",null,[re(H,{to:"/profile",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ie(()=>f[9]||(f[9]=[a("i",{class:"fas fa-user me-3 text-primary"},null,-1),K("Thng tin ti khon")])),_:1,__:[9]})]),a("li",null,[re(H,{to:"/orders",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ie(()=>f[10]||(f[10]=[a("i",{class:"fas fa-box me-3 text-success"},null,-1),K("n hng ca ti")])),_:1,__:[10]})]),a("li",null,[re(H,{to:"/wishlist",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ie(()=>f[11]||(f[11]=[a("i",{class:"fas fa-heart me-3 text-danger"},null,-1),K("Sn phm yu thch")])),_:1,__:[11]})]),f[13]||(f[13]=a("li",null,[a("hr",{class:"dropdown-divider"})],-1)),a("li",null,[a("a",{href:"#",class:"dropdown-item rounded-2 mx-2 my-1 text-danger",onClick:Ue(C,["prevent"])},f[12]||(f[12]=[a("i",{class:"fas fa-sign-out-alt me-3"},null,-1),K("ng xut")]))])],64)):(k(),E(pe,{key:1},[a("li",null,[re(H,{to:"/login",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ie(()=>f[14]||(f[14]=[a("i",{class:"fas fa-sign-in-alt text-primary me-3"},null,-1),K("ng nhp")])),_:1,__:[14]})]),a("li",null,[re(H,{to:"/register",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ie(()=>f[15]||(f[15]=[a("i",{class:"fas fa-user-plus text-primary me-3"},null,-1),K("ng k")])),_:1,__:[15]})])],64))],34)):ae("",!0)]))],64)}}},Rp=Ye(Ip,[["__scopeId","data-v-fae11b65"]]),Pp={class:"main-footer"},Op={class:"footer-content"},Dp={class:"container"},Lp={class:"newsletter-section"},Mp={class:"row align-items-center"},Up={class:"col-lg-6"},Np={class:"newsletter-form"},Hp={class:"input-group"},Bp=["disabled"],Fp={key:0,class:"fas fa-paper-plane"},Kp={key:1,class:"spinner-border spinner-border-sm",role:"status"},Gp={class:"footer-main"},Vp={class:"row g-4"},jp={class:"col-lg-2 col-md-6"},qp={class:"footer-section"},Wp={class:"footer-links"},Yp=["href","onClick"],zp={class:"col-lg-2 col-md-6"},Qp={class:"footer-section"},Jp={class:"footer-links"},Xp=["href","onClick"],Zp={class:"col-lg-3 col-md-12"},eg={class:"footer-section"},tg={class:"social-links"},ng=["href","title","onClick"],sg={class:"app-download"},og={class:"download-buttons"},rg={class:"footer-bottom"},ig={class:"row align-items-center"},ag={class:"col-md-6"},lg={class:"copyright"},cg={class:"copyright-text"},ug={class:"legal-links"},dg={class:"col-md-6"},fg={class:"footer-stats"},hg={class:"stat-item"},pg={class:"stat-item"},gg={class:"stat-item"},mg={__name:"Footer",setup(e){const t=J(""),n=J(!1),s=J(""),o=J(""),r=J(!1),i=Z(()=>new Date().getFullYear()),l=Z(()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value)),c=Z(()=>o.value==="success"?"fas fa-check-circle":"fas fa-exclamation-circle"),d=Ot([{name:"Gii thiu EasyMart",url:"/about",icon:"fas fa-info-circle"},{name:"Danh sch ca hng",url:"/stores",icon:"fas fa-store"},{name:"Tin tc & S kin",url:"/news",icon:"fas fa-newspaper"},{name:"Tuyn dng",url:"/careers",icon:"fas fa-briefcase"},{name:"Nh u t",url:"/investors",icon:"fas fa-chart-line"}]),u=Ot([{name:"Trung tm tr gip",url:"/help",icon:"fas fa-question-circle"},{name:"Chnh sch i tr",url:"/return-policy",icon:"fas fa-undo-alt"},{name:"Phng thc thanh ton",url:"/payment",icon:"fas fa-credit-card"},{name:"Vn chuyn & Giao hng",url:"/shipping",icon:"fas fa-shipping-fast"},{name:"Khiu ni & Gp ",url:"/feedback",icon:"fas fa-comment-dots"}]),h=Ot([{name:"Facebook",url:"https://facebook.com/easymart",icon:"fab fa-facebook"},{name:"Instagram",url:"https://instagram.com/easymart",icon:"fab fa-instagram"},{name:"YouTube",url:"https://youtube.com/easymart",icon:"fab fa-youtube"},{name:"TikTok",url:"https://tiktok.com/@easymart",icon:"fab fa-tiktok"},{name:"Zalo",url:"https://zalo.me/easymart",icon:"fas fa-comments"}]),g=J(125e3),v=J(35e4),T=J(4.8),b=async()=>{if(!(!l.value||n.value)){n.value=!0,s.value="";try{await new Promise(P=>setTimeout(P,1500)),o.value="success",s.value="ng k thnh cng! Kim tra email  xc nhn.",t.value="",setTimeout(()=>{s.value=""},5e3)}catch{o.value="error",s.value="C li xy ra. Vui lng th li sau.",setTimeout(()=>{s.value=""},3e3)}finally{n.value=!1}}},A=P=>{console.log(`Navigating to: ${P.name}`)},x=P=>{console.log(`Opening ${P.name}`),window.open(P.url,"_blank")},S=P=>{console.log(`Downloading ${P} app`)},L=()=>{console.log("Show privacy policy")},$=()=>{console.log("Show terms of service")},G=()=>{console.log("Show cookie policy")},M=P=>new Intl.NumberFormat("vi-VN").format(P),y=()=>{window.scrollTo({top:0,behavior:"smooth"})},I=()=>{r.value=window.scrollY>300};return ht(()=>{window.addEventListener("scroll",I)}),Nt(()=>{window.removeEventListener("scroll",I)}),(P,C)=>(k(),E("footer",Pp,[a("div",Op,[a("div",Dp,[a("div",Lp,[a("div",Mp,[C[4]||(C[4]=a("div",{class:"col-lg-6"},[a("div",{class:"newsletter-content"},[a("h4",{class:"newsletter-title"},"ng k nhn tin khuyn mi"),a("p",{class:"newsletter-subtitle"}," Nhn ngay thng tin v cc chng trnh u i mi nht t EasyMart ")])],-1)),a("div",Up,[a("div",Np,[a("div",Hp,[ct(a("input",{type:"email",class:"form-control newsletter-input",placeholder:"Nhp email ca bn...","onUpdate:modelValue":C[0]||(C[0]=w=>t.value=w),onKeyup:Hu(b,["enter"])},null,544),[[_n,t.value]]),a("button",{class:"btn btn-primary newsletter-btn",onClick:b,disabled:n.value||!l.value},[n.value?(k(),E("div",Kp,C[3]||(C[3]=[a("span",{class:"visually-hidden"},"Loading...",-1)]))):(k(),E("i",Fp)),K(" "+B(n.value?"ang ng k...":"ng k"),1)],8,Bp)]),s.value?(k(),E("div",{key:0,class:be(["subscription-message",o.value])},[a("i",{class:be(c.value)},null,2),K(" "+B(s.value),1)],2)):ae("",!0)])])])]),a("div",Gp,[a("div",Vp,[C[12]||(C[12]=Dt('<div class="col-lg-3 col-md-6" data-v-8ac511af><div class="footer-section" data-v-8ac511af><div class="company-info" data-v-8ac511af><div class="footer-logo" data-v-8ac511af><i class="fas fa-shopping-cart logo-icon" data-v-8ac511af></i><span class="logo-text" data-v-8ac511af>EasyMart</span></div><p class="company-description" data-v-8ac511af> Cng Ty C Phn Dch V Thng Mi Tng Hp EasyMart - Mang n nhng sn phm cht lng, dch v tn tm. </p><div class="company-certifications" data-v-8ac511af><div class="cert-item" data-v-8ac511af><i class="fas fa-certificate text-warning" data-v-8ac511af></i><span data-v-8ac511af>Chng nhn ISO 9001</span></div><div class="cert-item" data-v-8ac511af><i class="fas fa-shield-alt text-success" data-v-8ac511af></i><span data-v-8ac511af>An ton thc phm</span></div></div></div></div></div>',1)),a("div",jp,[a("div",qp,[C[5]||(C[5]=a("h6",{class:"footer-title"},"V Chng Ti",-1)),a("ul",Wp,[(k(!0),E(pe,null,xe(d,w=>(k(),E("li",{key:w.name,class:"footer-link-item"},[a("a",{href:w.url,class:"footer-link",onClick:Ue(f=>A(w),["prevent"])},[a("i",{class:be(`${w.icon} me-2`)},null,2),K(B(w.name),1)],8,Yp)]))),128))])])]),a("div",zp,[a("div",Qp,[C[6]||(C[6]=a("h6",{class:"footer-title"},"H Tr Khch Hng",-1)),a("ul",Jp,[(k(!0),E(pe,null,xe(u,w=>(k(),E("li",{key:w.name,class:"footer-link-item"},[a("a",{href:w.url,class:"footer-link",onClick:Ue(f=>A(w),["prevent"])},[a("i",{class:be(`${w.icon} me-2`)},null,2),K(B(w.name),1)],8,Xp)]))),128))])])]),C[13]||(C[13]=Dt('<div class="col-lg-2 col-md-6" data-v-8ac511af><div class="footer-section" data-v-8ac511af><h6 class="footer-title" data-v-8ac511af>Lin H</h6><div class="contact-info" data-v-8ac511af><div class="contact-item" data-v-8ac511af><i class="fas fa-map-marker-alt text-primary" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>a ch:</strong><span data-v-8ac511af>123 ng ABC, Qun XYZ, TP.HCM</span></div></div><div class="contact-item" data-v-8ac511af><i class="fas fa-phone-alt text-success" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>Hotline:</strong><a href="tel:19001234" data-v-8ac511af>1900 1234</a></div></div><div class="contact-item" data-v-8ac511af><i class="fas fa-envelope text-info" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>Email:</strong><a href="mailto:cskh@easymart.vn" data-v-8ac511af>cskh@easymart.vn</a></div></div></div></div></div>',1)),a("div",Zp,[a("div",eg,[C[10]||(C[10]=a("h6",{class:"footer-title"},"Kt Ni Vi Chng Ti",-1)),a("div",tg,[(k(!0),E(pe,null,xe(h,w=>(k(),E("a",{key:w.name,href:w.url,class:"social-link",title:w.name,onClick:Ue(f=>x(w),["prevent"])},[a("i",{class:be(w.icon)},null,2)],8,ng))),128))]),a("div",sg,[C[9]||(C[9]=a("h6",{class:"download-title"},"Ti ng Dng",-1)),a("div",og,[a("a",{href:"#",class:"download-btn",onClick:C[1]||(C[1]=Ue(w=>S("ios"),["prevent"]))},C[7]||(C[7]=[a("i",{class:"fab fa-apple"},null,-1),a("div",{class:"download-text"},[a("small",null,"Download on the"),a("strong",null,"App Store")],-1)])),a("a",{href:"#",class:"download-btn",onClick:C[2]||(C[2]=Ue(w=>S("android"),["prevent"]))},C[8]||(C[8]=[a("i",{class:"fab fa-google-play"},null,-1),a("div",{class:"download-text"},[a("small",null,"Get it on"),a("strong",null,"Google Play")],-1)]))])]),C[11]||(C[11]=Dt('<div class="payment-methods" data-v-8ac511af><h6 class="payment-title" data-v-8ac511af>Phng Thc Thanh Ton</h6><div class="payment-icons" data-v-8ac511af><i class="fab fa-cc-visa payment-icon" title="Visa" data-v-8ac511af></i><i class="fab fa-cc-mastercard payment-icon" title="Mastercard" data-v-8ac511af></i><i class="fas fa-money-bill-wave payment-icon" title="Tin mt" data-v-8ac511af></i><i class="fas fa-mobile-alt payment-icon" title="Mobile Banking" data-v-8ac511af></i></div></div>',1))])])])]),a("div",rg,[a("div",ig,[a("div",ag,[a("div",lg,[a("p",cg,"  "+B(i.value)+" EasyMart. Tt c cc quyn c bo lu. ",1),a("div",ug,[a("a",{href:"#",onClick:Ue(L,["prevent"])},"Chnh sch bo mt"),C[14]||(C[14]=a("span",{class:"separator"},"|",-1)),a("a",{href:"#",onClick:Ue($,["prevent"])},"iu khon s dng"),C[15]||(C[15]=a("span",{class:"separator"},"|",-1)),a("a",{href:"#",onClick:Ue(G,["prevent"])},"Chnh sch Cookie")])])]),a("div",dg,[a("div",fg,[a("div",hg,[C[16]||(C[16]=a("i",{class:"fas fa-users text-primary"},null,-1)),a("span",null,B(M(g.value))+"+ khch hng",1)]),a("div",pg,[C[17]||(C[17]=a("i",{class:"fas fa-shopping-bag text-success"},null,-1)),a("span",null,B(M(v.value))+"+ n hng",1)]),a("div",gg,[C[18]||(C[18]=a("i",{class:"fas fa-star text-warning"},null,-1)),a("span",null,B(T.value)+"/5 sao",1)])])])])])])]),re(Vs,{name:"fade"},{default:Ie(()=>[r.value?(k(),E("button",{key:0,class:"back-to-top-btn",onClick:y,title:"Ln u trang"},C[19]||(C[19]=[a("i",{class:"fas fa-arrow-up"},null,-1)]))):ae("",!0)]),_:1})]))}},vg=Ye(mg,[["__scopeId","data-v-8ac511af"]]),yg={id:"app",class:"bg-white"},bg={class:"router-view-container"},_g={__name:"App",setup(e){const{notification:t,categories:n,searchQuery:s,searchResults:o,addToCart:r}=$n();return xn(),(i,l)=>{const c=cn("router-view");return k(),E("div",yg,[N(t)?(k(),as(Qf,{key:0,message:N(t).message,type:N(t).type},null,8,["message","type"])):ae("",!0),re(Rp,{categories:N(n),searchQuery:N(s),searchResults:N(o),onUpdateSearch:l[0]||(l[0]=d=>s.value=d),onAddToCart:N(r)},null,8,["categories","searchQuery","searchResults","onAddToCart"]),a("div",bg,[re(c)]),re(vg)])}}},wg={class:"hero-fullscreen mb-4"},Tg={id:"heroCarousel",class:"carousel slide carousel-fade hero-carousel-animated","data-bs-ride":"carousel","data-bs-interval":"4000"},Cg={class:"carousel-indicators"},kg=["data-bs-slide-to"],Sg={class:"carousel-inner overflow-hidden"},Eg=["src","alt"],Ag={class:"carousel-caption animated-caption"},xg={class:"bg-dark bg-opacity-50 rounded-3 p-4"},$g={class:"fw-bold"},Ig={class:"mb-0"},Rg={__name:"HeroCarousel",setup(e){const t=[{image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Sn phm ti ngon mi ngy",description:"Cht lng hng u - Gi c cnh tranh"},{image:"https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Mua sm tin li",description:"Giao hng tn ni - Thanh ton a dng"},{image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Khuyn mi hp dn",description:"Tit kim ln n 50% cho cc sn phm chn lc"}];return(n,s)=>(k(),E("div",wg,[a("div",Tg,[a("div",Cg,[(k(),E(pe,null,xe(t,(o,r)=>a("button",{key:r,type:"button","data-bs-target":"#heroCarousel","data-bs-slide-to":r,class:be({active:r===0})},null,10,kg)),64))]),a("div",Sg,[(k(),E(pe,null,xe(t,(o,r)=>a("div",{key:r,class:be(["carousel-item animated-slide",{active:r===0}])},[a("img",{src:o.image,class:"d-block w-100 carousel-image",style:{height:"400px","object-fit":"cover"},alt:o.title},null,8,Eg),a("div",Ag,[a("div",xg,[a("h3",$g,B(o.title),1),a("p",Ig,B(o.description),1)])])],2)),64))]),s[0]||(s[0]=Dt('<button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev" data-v-a2750e6a><div class="bg-primary rounded-circle p-3" data-v-a2750e6a><span class="carousel-control-prev-icon" data-v-a2750e6a></span></div></button><button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next" data-v-a2750e6a><div class="bg-primary rounded-circle p-3" data-v-a2750e6a><span class="carousel-control-next-icon" data-v-a2750e6a></span></div></button>',2))])]))}},Pg=Ye(Rg,[["__scopeId","data-v-a2750e6a"]]),Og={class:"position-relative overflow-hidden",style:{height:"200px"}},Dg=["src","alt"],Lg={class:"position-absolute top-0 start-0 end-0 bottom-0 d-flex flex-column justify-content-between p-3 product-overlay"},Mg={class:"d-flex flex-wrap gap-2"},Ug={key:0,class:"badge bg-danger rounded-pill"},Ng={key:1,class:"badge bg-success rounded-pill"},Hg={key:2,class:"badge bg-warning rounded-pill"},Bg={class:"d-flex justify-content-center gap-2 quick-actions"},Fg=["title"],Kg=["title"],Gg=["title"],Vg={class:"card-body d-flex flex-column"},jg={class:"d-flex align-items-center justify-content-between mb-2"},qg={class:"d-flex gap-1"},Wg={class:"text-muted"},Yg={class:"card-title fw-semibold text-dark mb-3 lh-sm",style:{height:"2.8rem",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},zg={class:"mb-auto"},Qg={key:0,class:"text-muted text-decoration-line-through me-2",style:{"font-size":"0.875rem"}},Jg={class:"fw-bold text-primary fs-5"},Xg={class:"mt-3"},Zg=["disabled"],em={key:0,class:"fas fa-cart-plus me-2"},tm={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},nm={__name:"ProductCard",props:{product:{type:Object,required:!0},formatPrice:{type:Function,required:!0}},emits:["add-to-cart","view-detail","add-to-wishlist"],setup(e,{emit:t}){const n=e,s=t,o=J(!1),r=Z(()=>n.product.originalPrice?Math.round((1-n.product.price/n.product.originalPrice)*100):0),i=Z(()=>n.product.isNew||Math.random()>.7),l=Z(()=>n.product.isBestSeller||Math.random()>.8),c=Z(()=>Math.floor(Math.random()*100)+10),d=b=>{const A=Number(b);return Number.isFinite(A)?A:0},u=Z(()=>{const b=d(n.product.price),A=d(n.product.giaHienTai);return b>0?b:A>0?A:0});rt(()=>n.product,()=>{},{immediate:!1,deep:!1});const h=async()=>{o.value=!0;try{await new Promise(b=>setTimeout(b,500)),s("add-to-cart",n.product.id)}finally{o.value=!1}},g=()=>{s("view-detail",n.product.id)},v=()=>{s("add-to-wishlist",n.product.id)},T=()=>{g()};return(b,A)=>(k(),E("div",{class:"card h-100 shadow-sm border-0 position-relative overflow-hidden product-card",onClick:T},[a("div",Og,[a("img",{src:e.product.image,class:"card-img-top w-100 h-100 object-fit-cover",alt:e.product.name,loading:"lazy"},null,8,Dg),a("div",Lg,[a("div",Mg,[r.value>0?(k(),E("span",Ug," -"+B(r.value)+"% ",1)):ae("",!0),i.value?(k(),E("span",Ng," Mi ")):ae("",!0),l.value?(k(),E("span",Hg," Bn chy ")):ae("",!0)]),a("div",Bg,[a("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Ue(h,["stop"]),title:"Thm "+e.product.name+" vo gi hng",style:{width:"40px",height:"40px"}},A[0]||(A[0]=[a("i",{class:"fas fa-cart-plus"},null,-1)]),8,Fg),a("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Ue(g,["stop"]),title:"Xem chi tit "+e.product.name,style:{width:"40px",height:"40px"}},A[1]||(A[1]=[a("i",{class:"fas fa-eye"},null,-1)]),8,Kg),a("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Ue(v,["stop"]),title:"Thm "+e.product.name+" vo yu thch",style:{width:"40px",height:"40px"}},A[2]||(A[2]=[a("i",{class:"fas fa-heart"},null,-1)]),8,Gg)])])]),a("div",Vg,[a("div",jg,[a("div",qg,[(k(),E(pe,null,xe(5,x=>a("i",{key:x,class:be(["fas fa-star",x<=e.product.rating?"text-warning":"text-muted"]),style:{"font-size":"0.875rem"}},null,2)),64))]),a("small",Wg,"("+B(e.product.reviewCount||c.value)+")",1)]),a("h6",Yg,B(e.product.name),1),a("div",zg,[e.product.originalPrice?(k(),E("span",Qg,B(e.formatPrice(d(e.product.originalPrice))),1)):ae("",!0),a("span",Jg,B(e.formatPrice(u.value)),1)]),a("div",Xg,[a("button",{class:"btn btn-primary w-100 fw-semibold rounded-3 py-2",onClick:Ue(h,["stop"]),disabled:o.value},[o.value?(k(),E("div",tm,A[3]||(A[3]=[a("span",{class:"visually-hidden"},"Loading...",-1)]))):(k(),E("i",em)),K(" "+B(o.value?"ang thm...":"Thm gi hng"),1)],8,Zg)])])]))}},ul=Ye(nm,[["__scopeId","data-v-bfd2119f"]]),sm=["id"],om={class:"container"},rm={class:"d-flex flex-column flex-md-row align-items-center justify-content-between mb-4 p-4 bg-light rounded-4 shadow-sm"},im={class:"d-flex align-items-center gap-4 mb-3 mb-md-0"},am={class:"bg-white rounded-4 p-3 shadow-sm border",style:{width:"90px",height:"90px",display:"flex","align-items":"center","justify-content":"center"}},lm={class:"fw-bold text-dark mb-2 fs-2"},cm={key:0,class:"text-muted mb-3 fs-6"},um={class:"d-flex flex-wrap gap-3"},dm={class:"badge bg-primary bg-opacity-10 text-primary p-2 rounded-pill"},fm={class:"badge bg-warning bg-opacity-10 text-warning p-2 rounded-pill"},hm={key:0,class:"badge bg-danger p-2 rounded-pill"},pm={class:"d-flex align-items-center gap-3"},gm={class:"mt-4 mb-5"},mm={key:0,class:"text-center py-5"},vm={key:1},ym={key:2,class:"text-center py-5"},bm={class:"text-center mt-5 p-4 bg-light bg-opacity-50 rounded-4 border"},_m={key:0,class:"d-flex flex-column align-items-center gap-3 py-4"},wm={key:1},Tm={key:0,class:"d-flex justify-content-center align-items-center gap-3 flex-wrap"},Cm={key:1,class:"mt-3"},km={key:2,class:"text-muted"},Sm={class:"mt-3"},Em={key:0,class:"mt-5 pt-4 border-top"},Am={class:"row g-3"},xm={class:"d-flex align-items-center gap-3 p-3 bg-white rounded-3 shadow-sm border feature-item"},$m={class:"fw-semibold text-dark"},Im={__name:"CategorySection",props:{category:{type:Object,required:!0},products:{type:Array,required:!0},isLoadingProducts:{type:Boolean,default:!1},formatPrice:{type:Function,required:!0},initialDisplayCount:{type:Number,default:8}},emits:["add-to-cart","view-product","add-to-wishlist","show-more","show-all","load-products"],setup(e,{emit:t}){const n=e,s=t,o=J("default"),r=J(n.initialDisplayCount),i=J(!1),l=J(!1),c=Z(()=>{let M=[...n.products].map(y=>({...y,price:Number.isFinite(Number(y.price))&&Number(y.price)>0?Number(y.price):Number(y.giaHienTai)||0}));switch(o.value){case"name":return M.sort((y,I)=>y.name.localeCompare(I.name,"vi"));case"price-low":return M.sort((y,I)=>y.price-I.price);case"price-high":return M.sort((y,I)=>I.price-y.price);case"newest":return M.sort((y,I)=>new Date(I.createdAt||Date.now())-new Date(y.createdAt||Date.now()));case"popular":return M.sort((y,I)=>(I.popularity||0)-(y.popularity||0));default:return M}}),d=Z(()=>c.value.slice(0,r.value)),u=Z(()=>r.value<n.products.length),h=Z(()=>n.products.length-r.value),g=Z(()=>n.products.length===0?0:n.products.reduce((y,I)=>y+(I.rating||4.5),0)/n.products.length),v=Z(()=>n.products.some(M=>M.isNew||Math.random()>.8)),T=()=>({primary:"#0d6efd",success:"#198754",danger:"#dc3545",warning:"#ffc107",info:"#0dcaf0",secondary:"#6c757d"})[n.category.color]||"#0d6efd",b=()=>{},A=async()=>{i.value=!0,l.value=!0,await new Promise(M=>setTimeout(M,1e3)),r.value=Math.min(r.value+n.initialDisplayCount,n.products.length),i.value=!1,l.value=!1,s("show-more",{categoryId:n.category.id,displayCount:r.value})},x=()=>{r.value=n.products.length,s("show-all",{categoryId:n.category.id,totalProducts:n.products.length})},S=()=>{r.value=n.initialDisplayCount,document.getElementById(`category-${n.category.id}`)?.scrollIntoView({behavior:"smooth",block:"start"})},L=M=>{s("add-to-cart",M)},$=M=>{s("view-product",M)},G=M=>{s("add-to-wishlist",M)};return rt(()=>n.category.id,()=>{r.value=n.initialDisplayCount,o.value="default"}),(M,y)=>{const I=cn("router-link");return e.products.length>0?(k(),E("section",{key:0,class:"py-5 my-4",id:`category-${e.category.id}`},[a("div",om,[a("div",rm,[a("div",im,[a("div",am,[a("i",{class:be(`${e.category.icon} fs-1`),style:yn({color:T()})},null,6)]),a("div",null,[a("h2",lm,B(e.category.name),1),e.category.description?(k(),E("p",cm,B(e.category.description),1)):ae("",!0),a("div",um,[a("span",dm,[y[2]||(y[2]=a("i",{class:"fas fa-box me-2"},null,-1)),K(" "+B(e.products.length)+" sn phm ",1)]),a("span",fm,[y[3]||(y[3]=a("i",{class:"fas fa-star me-2"},null,-1)),K(" "+B(g.value.toFixed(1))+" sao ",1)]),v.value?(k(),E("span",hm,y[4]||(y[4]=[a("i",{class:"fas fa-sparkles me-2"},null,-1),K(" C sn phm mi ")]))):ae("",!0)])])]),a("div",pm,[y[6]||(y[6]=a("div",{class:"bg-primary bg-opacity-10 border border-primary border-opacity-25 rounded-3 px-3 py-2"},[a("span",{class:"text-primary fw-semibold small"},[a("i",{class:"fas fa-th me-2"}),K(" Hin th dng li ")])],-1)),a("div",null,[ct(a("select",{"onUpdate:modelValue":y[0]||(y[0]=P=>o.value=P),class:"form-select form-select-sm rounded-3 border-primary border-opacity-25 fw-semibold",onChange:b,style:{"min-width":"160px"}},y[5]||(y[5]=[Dt('<option value="default" data-v-996cfb6f>Mc nh</option><option value="name" data-v-996cfb6f>Tn A-Z</option><option value="price-low" data-v-996cfb6f>Gi thp - cao</option><option value="price-high" data-v-996cfb6f>Gi cao - thp</option><option value="newest" data-v-996cfb6f>Mi nht</option><option value="popular" data-v-996cfb6f>Ph bin</option>',6)]),544),[[Na,o.value]])])])]),a("div",gm,[e.isLoadingProducts?(k(),E("div",mm,y[7]||(y[7]=[a("div",{class:"spinner-border text-primary",role:"status"},[a("span",{class:"visually-hidden"},"ang ti sn phm...")],-1),a("p",{class:"text-muted mt-3"},"ang ti sn phm trong danh mc...",-1)]))):e.products.length>0?(k(),E("div",vm,[re(xu,{name:"products",tag:"div",class:"row g-3"},{default:Ie(()=>[(k(!0),E(pe,null,xe(d.value,(P,C)=>(k(),E("div",{key:P.id,class:be(["col-12","col-sm-6","col-md-4","col-lg-3","product-item"]),style:yn({animationDelay:`${C*.1}s`})},[re(ul,{product:P,formatPrice:e.formatPrice,onAddToCart:L,onViewDetail:$,onAddToWishlist:G},null,8,["product","formatPrice"])],4))),128))]),_:1})])):(k(),E("div",ym,[y[9]||(y[9]=a("div",{class:"empty-icon mb-4"},[a("i",{class:"fas fa-box-open fa-4x text-muted"})],-1)),y[10]||(y[10]=a("h4",{class:"text-muted mb-3"},"Cha c sn phm no",-1)),y[11]||(y[11]=a("p",{class:"text-muted mb-4"},"Danh mc ny cha c sn phm no c thm vo",-1)),a("button",{class:"btn btn-primary",onClick:y[1]||(y[1]=P=>s("load-products",e.category.id))},y[8]||(y[8]=[a("i",{class:"fas fa-refresh me-2"},null,-1),K("Ti li sn phm ")]))]))]),a("div",bm,[i.value?(k(),E("div",_m,y[12]||(y[12]=[a("div",{class:"spinner-border text-primary",role:"status"},[a("span",{class:"visually-hidden"},"ang ti...")],-1),a("p",{class:"text-muted fw-semibold mb-0 fs-6"},"ang ti thm sn phm...",-1)]))):(k(),E("div",wm,[u.value?(k(),E("div",Tm,[a("button",{class:"btn btn-primary fw-bold px-4 py-2 rounded-3",onClick:A},[y[13]||(y[13]=a("i",{class:"fas fa-plus me-2"},null,-1)),K("Xem thm "+B(h.value)+" sn phm ",1)]),a("button",{class:"btn btn-outline-primary fw-bold px-4 py-2 rounded-3",onClick:x},y[14]||(y[14]=[a("i",{class:"fas fa-expand me-2"},null,-1),K("Hin th tt c ")])),re(I,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Ie(()=>y[15]||(y[15]=[a("i",{class:"fas fa-arrow-right me-2"},null,-1),K("Xem trang danh mc ")])),_:1,__:[15]},8,["to"])])):d.value.length>e.initialDisplayCount?(k(),E("div",Cm,[a("button",{class:"btn btn-outline-secondary fw-semibold px-4 py-2 rounded-3",onClick:S},y[16]||(y[16]=[a("i",{class:"fas fa-compress me-2"},null,-1),K("Thu gn ")])),re(I,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3 ms-2"},{default:Ie(()=>y[17]||(y[17]=[a("i",{class:"fas fa-arrow-right me-2"},null,-1),K("Xem trang danh mc ")])),_:1,__:[17]},8,["to"])])):(k(),E("div",km,[y[19]||(y[19]=a("i",{class:"fas fa-check-circle text-success me-2"},null,-1)),y[20]||(y[20]=K("  hin th tt c sn phm trong danh mc ")),a("div",Sm,[re(I,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Ie(()=>y[18]||(y[18]=[a("i",{class:"fas fa-arrow-right me-2"},null,-1),K("Xem trang danh mc ")])),_:1,__:[18]},8,["to"])])]))]))]),M.categoryFeatures&&M.categoryFeatures.length>0?(k(),E("div",Em,[y[21]||(y[21]=a("h5",{class:"fw-bold text-dark text-center mb-4"},"c im danh mc",-1)),a("div",Am,[(k(!0),E(pe,null,xe(M.categoryFeatures,P=>(k(),E("div",{key:P.id,class:"col-md-6 col-lg-4"},[a("div",xm,[a("i",{class:be(`${P.icon} fs-4 text-primary`)},null,2),a("span",$m,B(P.text),1)])]))),128))])])):ae("",!0)])],8,sm)):ae("",!0)}}},Rm=Ye(Im,[["__scopeId","data-v-996cfb6f"]]),Pm={class:"coupon-button-widget"},Om={class:"coupon-text"},Dm={class:"coupon-count"},Lm={class:"coupon-modal-body"},Mm={class:"coupon-list"},Um={class:"coupon-item-left"},Nm={class:"coupon-discount"},Hm={class:"discount-value"},Bm={class:"discount-unit"},Fm={class:"coupon-item-right"},Km={class:"coupon-info"},Gm={class:"coupon-title"},Vm={class:"coupon-description"},jm={class:"coupon-details"},qm={class:"coupon-code"},Wm={class:"code-value"},Ym={class:"coupon-expiry"},zm=["onClick","disabled"],Qm={class:"text-center mt-4"},Jm={__name:"CouponButtonWidget",props:{showOnScroll:{type:Boolean,default:!0},scrollThreshold:{type:Number,default:300}},emits:["coupon-copied"],setup(e,{emit:t}){const n=e,s=t,o=J(!1),r=J(!1),i=J(new Set),l=J([{id:1,code:"SAVE10",title:"Gim 10%",description:"Gim 10% cho n hng t 200k",discount:"10",unit:"%",type:"percentage",expiry:"2024-12-31",minOrderValue:2e5,maxDiscount:5e4},{id:2,code:"FREESHIP",title:"Min ph vn chuyn",description:"Min ph ship cho n t 150k",discount:"Free",unit:"Ship",type:"shipping",expiry:"2024-12-31",minOrderValue:15e4,maxDiscount:3e4},{id:3,code:"FRESH50",title:"Gim 50K",description:"Gim 50K cho n hng t 300k",discount:"50K",unit:"",type:"fixed",expiry:"2024-12-31",minOrderValue:3e5,maxDiscount:5e4}]),c=()=>{r.value=!r.value},d=()=>{r.value=!1},u=()=>{n.showOnScroll&&(o.value=window.scrollY>n.scrollThreshold)},h=v=>{const T=new Date(v),b=new Date,A=T.getTime()-b.getTime(),x=Math.ceil(A/(1e3*60*60*24));return x<0?" ht hn":x===0?"Ht hn hm nay":x===1?"Ht hn ngy mai":x<7?`Cn ${x} ngy`:T.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})},g=async v=>{try{await navigator.clipboard.writeText(v.code),i.value.add(v.code),setTimeout(()=>{i.value.delete(v.code)},3e3),s("coupon-copied",v.code)}catch{const b=document.createElement("textarea");b.value=v.code,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),i.value.add(v.code),setTimeout(()=>{i.value.delete(v.code)},3e3),s("coupon-copied",v.code)}};return ht(()=>{n.showOnScroll?(window.addEventListener("scroll",u),u()):o.value=!0}),Nt(()=>{n.showOnScroll&&window.removeEventListener("scroll",u)}),(v,T)=>{const b=cn("router-link");return k(),E("div",Pm,[a("div",{class:be(["floating-coupon-btn",{show:o.value}]),onClick:c,title:"Xem m khuyn mi"},[T[2]||(T[2]=a("div",{class:"coupon-icon"},[a("i",{class:"fas fa-ticket-alt"})],-1)),a("div",Om,[T[1]||(T[1]=a("div",{class:"coupon-label"},"M gim gi",-1)),a("div",Dm,B(l.value.length)+" m",1)]),T[3]||(T[3]=a("div",{class:"coupon-pulse"},null,-1))],2),r.value?(k(),E("div",{key:0,class:"coupon-modal-overlay",onClick:d},[a("div",{class:"coupon-modal",onClick:T[0]||(T[0]=Ue(()=>{},["stop"]))},[a("div",{class:"coupon-modal-header"},[T[5]||(T[5]=a("h5",{class:"modal-title"},[a("i",{class:"fas fa-gift me-2"}),K(" M Khuyn Mi C Sn ")],-1)),a("button",{type:"button",class:"btn-close-custom",onClick:d},T[4]||(T[4]=[a("i",{class:"fas fa-times"},null,-1)]))]),a("div",Lm,[a("div",Mm,[(k(!0),E(pe,null,xe(l.value,A=>(k(),E("div",{key:A.code,class:be(["coupon-item",`coupon-${A.type}`])},[a("div",Um,[a("div",Nm,[a("span",Hm,B(A.discount),1),a("span",Bm,B(A.unit),1)])]),a("div",Fm,[a("div",Km,[a("h6",Gm,B(A.title),1),a("p",Vm,B(A.description),1),a("div",jm,[a("div",qm,[T[6]||(T[6]=a("span",{class:"code-label"},"M:",-1)),a("span",Wm,B(A.code),1)]),a("div",Ym,[T[7]||(T[7]=a("i",{class:"fas fa-clock"},null,-1)),a("span",null,B(h(A.expiry)),1)])])]),a("button",{class:"btn coupon-copy-btn",onClick:x=>g(A),disabled:i.value.has(A.code)},[a("i",{class:be([i.value.has(A.code)?"fas fa-check":"fas fa-copy","me-2"])},null,2),K(" "+B(i.value.has(A.code)?" copy":"Copy m"),1)],8,zm)])],2))),128))]),a("div",Qm,[re(b,{to:"/promotions",class:"btn btn-outline-primary",onClick:d},{default:Ie(()=>T[8]||(T[8]=[a("i",{class:"fas fa-plus me-2"},null,-1),K(" Xem tt c m khuyn mi ")])),_:1,__:[8]})])])])])):ae("",!0)])}}},dl=Ye(Jm,[["__scopeId","data-v-1a4edbb6"]]),Xm={id:"productCategories"},Zm={key:0,class:"text-center py-5"},ev={__name:"Home",setup(e){const t=xn(),n=J(!1),{categories:s,getProductsByCategory:o,formatPrice:r,addToCart:i,isLoadingCategories:l}=$n(),c=J({}),d=J({}),u=b=>{t.push({name:"ProductDetail",params:{id:b}})},h=async b=>{if(c.value[b])return c.value[b];try{d.value[b]=!0;const A=await o(b);return c.value[b]=A,A}catch(A){return console.error(`Failed to load products for category ${b}:`,A),[]}finally{d.value[b]=!1}},g=()=>{t.push({name:"Promotions"})},v=b=>{},T=()=>{const b=window.scrollY;n.value=b>300};return ht(()=>{window.addEventListener("scroll",T),T(),rt(s,async b=>{if(b.length>0){const A=b.slice(0,3);for(const x of A)await h(x.id)}},{immediate:!0})}),Nt(()=>{window.removeEventListener("scroll",T)}),(b,A)=>(k(),E("div",null,[re(Pg),a("div",Xm,[N(l)?(k(),E("div",Zm,A[0]||(A[0]=[a("div",{class:"spinner-border text-primary",role:"status"},[a("span",{class:"visually-hidden"},"ang ti danh mc...")],-1),a("p",{class:"text-muted mt-3"},"ang ti danh mc sn phm...",-1)]))):(k(!0),E(pe,{key:1},xe(N(s),x=>(k(),as(Rm,{key:x.id,category:x,products:c.value[x.id]||[],isLoadingProducts:d.value[x.id],formatPrice:N(r),onAddToCart:N(i),onViewProduct:u,onLoadProducts:h},null,8,["category","products","isLoadingProducts","formatPrice","onAddToCart"]))),128))]),re(dl,{"show-on-scroll":!0,"scroll-threshold":300,onCouponCopied:v}),re(Vs,{name:"fade"},{default:Ie(()=>[n.value?(k(),E("button",{key:0,class:"promotion-btn",onClick:g,title:"Xem khuyn mi"},A[1]||(A[1]=[a("i",{class:"fas fa-gift"},null,-1)]))):ae("",!0)]),_:1})]))}},tv=Ye(ev,[["__scopeId","data-v-5b3a3dba"]]);function nv(e){const{products:t,categories:n,addToCart:s,formatPrice:o,showNotification:r}=$n(),i=J(null),l=J({}),c=J([]),d=J([]),u=J(1),h=J(0),g=J("description"),v=J(!1),T=Z(()=>i.value?l.value[i.value.id]||{description:"Sn phm cht lng cao, c chn lc k cng  m bo ti ngon v an ton cho sc khe. c nui trng theo quy trnh khp kn, m bo v sinh an ton thc phm.",nutrition:"Giu protein, t cht bo, cung cp cc vitamin v khong cht thit yu cho c th. c bit tt cho vic pht trin c bp v duy tr sc khe tng th.",storage:"Bo qun trong t lnh t 0-4C, s dng trong vng 2-3 ngy sau khi m gi",origin:"Vit Nam - ng bng sng Cu Long"}:null),b=Z(()=>i.value?i.value.reviews||c.value[i.value.id]||[{id:1,name:"Nguyn Vn A",rating:5,content:"Sn phm rt tt, ti ngon! Cht lng vt mong i, s tip tc ng h.",date:"2025-01-01"},{id:2,name:"Trn Th B",rating:4,content:"Cht lng n, s mua li. Gi c hp l, giao hng nhanh.",date:"2025-01-02"},{id:3,name:"L Vn C",rating:5,content:"Tuyt vi! Gia nh ti rt hi lng vi sn phm ny.",date:"2025-01-03"}]:[]),A=Z(()=>{if(!i.value)return[];if(i.value?.images&&i.value.images.length>0)return i.value.images.map((ge,ce)=>({id:ce+1,url:ge,alt:ce===0?"Hnh chnh":`Gc nhn ${ce+1}`,isMain:ce===0}));const te=i.value?.image||"https://via.placeholder.com/800x600?text=No+Image";return d.value[i.value.id]||[{id:1,url:te,alt:"Hnh chnh",isMain:!0},{id:2,url:te,alt:"Gc nhn 2",isMain:!1},{id:3,url:te,alt:"Gc nhn 3",isMain:!1}]}),x=Z(()=>b.value.length===0?0:b.value.reduce((te,ge)=>te+ge.rating,0)/b.value.length),S=Z(()=>!i.value||!i.value.originalPrice?0:Math.round((1-i.value.price/i.value.originalPrice)*100)),L=Z(()=>i.value?t.value.filter(te=>te.categoryId===i.value.categoryId&&te.id!==i.value.id).slice(0,4):[]),$=Z(()=>i.value?n.value.find(te=>te.id===i.value.categoryId):null),G=Z(()=>{const te=[{name:"Trang ch",href:"#",icon:"fas fa-home"}];return $.value&&te.push({name:$.value.name,href:`#category-${$.value.id}`}),i.value&&te.push({name:i.value.name,active:!0}),te}),M=async te=>{console.log(" loadProduct called with ID:",te),console.log(" Current products.value:",t.value),v.value=!0;try{const ge=`http://localhost:8080/api/sanpham/${te}`;console.log(" Calling API:",ge);const ce=await fetch(ge);if(console.log(" API Response status:",ce.status),console.log(" API Response ok:",ce.ok),!ce.ok)throw new Error(`HTTP error! status: ${ce.status}`);const z=await ce.json();console.log(" API Response data:",z);const ze={id:z.maSP||z.id,name:z.tenSP||z.name,price:z.giaHienTai||z.giaBan||z.price,originalPrice:z.giaGoc||z.originalPrice,categoryId:z.loaiSanPham?.maLoaiSP||z.categoryId,categoryName:z.loaiSanPham?.tenLoai||z.categoryName,image:`http://localhost:8080/api/upload/serve-image/${z.maSP}_main.jfif`,images:[`http://localhost:8080/api/upload/serve-image/${z.maSP}_main.jfif`,`http://localhost:8080/api/upload/serve-image/${z.maSP}_main1.jfif`,`http://localhost:8080/api/upload/serve-image/${z.maSP}_main2.jfif`],description:z.moTa||z.description,isFlashSale:z.isFlashSale||!1,isActive:z.isActive!==!1,stock:z.trongLuong||z.stock||0,unit:z.donViTinh||z.unit||"ci",rating:z.danhGia||z.rating||4.5,reviews:z.danhGia||z.reviews||[],weight:z.trongLuong||null,weightUnit:z.donViTinh||null,shelfLifeDays:z.hanSuDung||null};i.value=ze,h.value=0,u.value=1}catch(ge){console.error(` Failed to load product ${te} from API:`,ge);const ce=t.value.find(z=>z.id===te||z.id===String(te)||z.id===parseInt(te));ce?(i.value=ce,h.value=0,u.value=1):(console.error(" Product not found in local data either"),i.value=null)}finally{v.value=!1}},y=te=>{const ge=Math.max(1,Math.min(10,u.value+te));u.value=ge},I=te=>{h.value=te},P=()=>{i.value&&s(i.value.id,u.value)},C=()=>{if(!i.value){r("Khng tm thy sn phm!","error");return}if(!JSON.parse(localStorage.getItem("easymart-user")||"null")){P(),localStorage.setItem("easymart-selected-items",JSON.stringify([i.value.id])),localStorage.setItem("easymart-redirect-after-login","/checkout"),r("Vui lng ng nhp  tin hnh thanh ton!","warning"),setTimeout(()=>{window.location.href="/login"},800);return}P(),localStorage.setItem("easymart-selected-items",JSON.stringify([i.value.id])),r("Chuyn n trang thanh ton...","info"),setTimeout(()=>{window.location.href="/checkout"},800)},w=()=>{r(" thm vo danh sch yu thch!","success")},f=()=>{navigator.share&&i.value?navigator.share({title:i.value.name,text:`Xem sn phm tuyt vi ny ti EasyMart: ${i.value.name}`,url:window.location.href}).catch(()=>{te()}):te();function te(){navigator.clipboard.writeText(window.location.href).then(()=>{r(" copy link sn phm!","info")})}},H=()=>{r("Tnh nng so snh s c trong phin bn tip theo!","info")},X=te=>{g.value=te};return ht(()=>{e&&M(e)}),{currentProduct:i,quantity:u,selectedImageIndex:h,activeTab:g,isLoading:v,currentProductDetail:T,currentReviews:b,currentImages:A,averageRating:x,discountPercentage:S,relatedProducts:L,currentCategory:$,breadcrumbs:G,loadProduct:M,changeQuantity:y,changeMainImage:I,addToCartWithQuantity:P,buyNow:C,addToWishlist:w,shareProduct:f,compareProduct:H,setActiveTab:X,formatPrice:o,addToCart:s}}const sv={class:"product-reviews"},ov={class:"row"},rv={class:"col-lg-10 mx-auto"},iv={class:"mb-4 text-center"},av={class:"d-flex justify-content-center align-items-center mb-3"},lv={class:"text-muted"},cv={class:"row g-4"},uv={class:"card mb-3 border-primary"},dv={class:"card-body"},fv={class:"d-flex justify-content-between align-items-start mb-2"},hv={class:"card-title mb-0 text-primary"},pv={class:"text-muted"},gv={class:"text-warning mb-2"},mv={class:"card-text"},vv={key:0,class:"text-center text-muted py-5"},yv={__name:"ProductReviews",props:{product:{type:Object,required:!0},reviews:{type:Array,required:!1}},setup(e){const t=e,n=Z(()=>(console.log(" ProductReviews - Props reviews:",t.reviews),console.log(" ProductReviews - Reviews length:",t.reviews?.length||0),t.reviews||[]));return(s,o)=>(k(),E("div",sv,[a("div",ov,[a("div",rv,[a("div",iv,[o[2]||(o[2]=a("h5",{class:"text-primary mb-3"},"nh gi t khch hng",-1)),a("div",av,[o[1]||(o[1]=Dt('<div class="text-warning fs-3 me-3" data-v-bc63e91b><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star-half-alt" data-v-bc63e91b></i></div>',1)),a("div",null,[o[0]||(o[0]=a("div",{class:"fs-4 fw-bold text-primary"},"4.5/5",-1)),a("small",lv,"("+B(n.value.length)+" nh gi)",1)])])]),a("div",cv,[(k(!0),E(pe,null,xe(n.value,r=>(k(),E("div",{class:"col-12",key:r.id},[a("div",uv,[a("div",dv,[a("div",fv,[a("h6",hv,B(r.name),1),a("small",pv,B(r.date),1)]),a("div",gv,[(k(!0),E(pe,null,xe(r.rating,i=>(k(),E("i",{key:i,class:"fas fa-star"}))),128)),(k(!0),E(pe,null,xe(5-r.rating,i=>(k(),E("i",{key:i+r.rating,class:"far fa-star"}))),128))]),a("p",mv,B(r.content),1)])])]))),128))]),n.value.length===0?(k(),E("div",vv,o[3]||(o[3]=[a("i",{class:"fas fa-info-circle fa-2x mb-3"},null,-1),a("div",null,"Cha c nh gi no cho sn phm ny.",-1)]))):ae("",!0)])])]))}},bv=Ye(yv,[["__scopeId","data-v-bc63e91b"]]),_v={class:"write-review-section"},wv={key:0,class:"text-center mb-4"},Tv={key:1,class:"text-center mb-4"},Cv={key:2,class:"card shadow-sm border-0 mb-4"},kv={class:"card-body"},Sv={class:"d-flex align-items-center mb-3 p-3 bg-light rounded"},Ev=["src","alt"],Av={class:"mb-0"},xv={class:"text-muted"},$v={class:"mb-3"},Iv={class:"rating-input d-flex align-items-center gap-3"},Rv={class:"star-rating"},Pv=["onClick","onMouseover"],Ov={class:"text-muted"},Dv={class:"mb-3"},Lv={class:"form-text"},Mv={class:"mb-3"},Uv={class:"mb-4"},Nv={class:"form-check"},Hv={class:"d-flex gap-2"},Bv=["disabled"],Fv={key:0,class:"fas fa-paper-plane me-2"},Kv={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},Gv=["disabled"],Vv={key:3,class:"alert alert-success alert-dismissible fade show",role:"alert"},jv={__name:"WriteReview",props:{product:{type:Object,required:!0}},emits:["review-submitted"],setup(e,{emit:t}){const n=t,{user:s,isLoggedIn:o}=ss(),r=J(!1),i=J(0),l=J(0),c=J(""),d=J(""),u=J(!1),h=J(!1),g=J(!1),v=Z(()=>{switch(l.value||i.value){case 1:return"Rt t";case 2:return"T";case 3:return"Bnh thng";case 4:return"Tt";case 5:return"Tuyt vi";default:return"Chn s sao"}}),T=async()=>{if(!(i.value===0||c.value.trim().length<10)){h.value=!0;try{await new Promise(S=>setTimeout(S,1500));const x={id:Date.now(),name:s.value.name,email:s.value.email,avatar:s.value.avatar,rating:i.value,title:d.value.trim()||null,content:c.value.trim(),wouldRecommend:u.value,date:new Date().toISOString().split("T")[0],isVerifiedPurchase:!0};n("review-submitted",x),g.value=!0,A(),setTimeout(()=>{g.value=!1},5e3)}catch(x){console.error("Error submitting review:",x)}finally{h.value=!1}}},b=()=>{A()},A=()=>{r.value=!1,i.value=0,l.value=0,c.value="",d.value="",u.value=!1};return(x,S)=>{const L=cn("router-link");return k(),E("div",_v,[!N(o)&&!r.value?(k(),E("div",wv,[S[7]||(S[7]=a("div",{class:"alert alert-info"},[a("i",{class:"fas fa-info-circle me-2"}),a("strong",null,"Bn cn ng nhp  vit nh gi")],-1)),re(L,{to:"/login",class:"btn btn-primary"},{default:Ie(()=>S[6]||(S[6]=[a("i",{class:"fas fa-sign-in-alt me-2"},null,-1),K("ng nhp ngay ")])),_:1,__:[6]})])):N(o)&&!r.value?(k(),E("div",Tv,[a("button",{class:"btn btn-success btn-lg",onClick:S[0]||(S[0]=$=>r.value=!0)},S[8]||(S[8]=[a("i",{class:"fas fa-pen me-2"},null,-1),K("Vit nh gi ")]))])):ae("",!0),r.value&&N(o)?(k(),E("div",Cv,[S[14]||(S[14]=a("div",{class:"card-header bg-primary text-white"},[a("h5",{class:"mb-0"},[a("i",{class:"fas fa-star me-2"}),K("Vit nh gi cho sn phm ny ")])],-1)),a("div",kv,[a("form",{onSubmit:Ue(T,["prevent"])},[a("div",Sv,[a("img",{src:N(s).avatar,class:"rounded-circle me-3",width:"50",height:"50",alt:N(s).name},null,8,Ev),a("div",null,[a("h6",Av,B(N(s).name),1),a("small",xv,B(N(s).email),1)])]),a("div",$v,[S[9]||(S[9]=a("label",{class:"form-label fw-semibold"},"nh gi ca bn *",-1)),a("div",Iv,[a("div",Rv,[(k(),E(pe,null,xe(5,$=>a("i",{key:$,class:be(["fas fa-star star-clickable",$<=i.value?"text-warning":"text-muted"]),onClick:G=>i.value=$,onMouseover:G=>l.value=$,onMouseleave:S[1]||(S[1]=G=>l.value=0),style:{cursor:"pointer","font-size":"1.5rem","margin-right":"0.25rem"}},null,42,Pv)),64))]),a("span",Ov,B(v.value),1)])]),a("div",Dv,[S[10]||(S[10]=a("label",{for:"reviewContent",class:"form-label fw-semibold"},"Ni dung nh gi *",-1)),ct(a("textarea",{"onUpdate:modelValue":S[2]||(S[2]=$=>c.value=$),class:"form-control",id:"reviewContent",rows:"4",required:"",placeholder:"Chia s tri nghim ca bn v sn phm ny...",maxlength:"500"},null,512),[[_n,c.value]]),a("div",Lv,B(c.value.length)+"/500 k t",1)]),a("div",Mv,[S[11]||(S[11]=a("label",{for:"reviewTitle",class:"form-label fw-semibold"},"Tiu  nh gi (ty chn)",-1)),ct(a("input",{"onUpdate:modelValue":S[3]||(S[3]=$=>d.value=$),type:"text",class:"form-control",id:"reviewTitle",placeholder:"V d: Sn phm tuyt vi!",maxlength:"100"},null,512),[[_n,d.value]])]),a("div",Uv,[a("div",Nv,[ct(a("input",{"onUpdate:modelValue":S[4]||(S[4]=$=>u.value=$),class:"form-check-input",type:"checkbox",id:"wouldRecommend"},null,512),[[Ua,u.value]]),S[12]||(S[12]=a("label",{class:"form-check-label",for:"wouldRecommend"},[a("i",{class:"fas fa-thumbs-up me-2"}),K("Ti s gii thiu sn phm ny cho bn b ")],-1))])]),a("div",Hv,[a("button",{type:"submit",class:"btn btn-success",disabled:h.value||i.value===0||c.value.trim().length<10},[h.value?ae("",!0):(k(),E("i",Fv)),h.value?(k(),E("span",Kv)):ae("",!0),K(" "+B(h.value?"ang gi...":"Gi nh gi"),1)],8,Bv),a("button",{type:"button",class:"btn btn-outline-secondary",onClick:b,disabled:h.value},S[13]||(S[13]=[a("i",{class:"fas fa-times me-2"},null,-1),K("Hy ")]),8,Gv)])],32)])])):ae("",!0),g.value?(k(),E("div",Vv,[S[15]||(S[15]=a("i",{class:"fas fa-check-circle me-2"},null,-1)),S[16]||(S[16]=a("strong",null,"Cm n bn!",-1)),S[17]||(S[17]=K(" nh gi ca bn  c gi thnh cng. ")),a("button",{type:"button",class:"btn-close",onClick:S[5]||(S[5]=$=>g.value=!1)})])):ae("",!0)])}}},qv=Ye(jv,[["__scopeId","data-v-d2a00896"]]),Wv={id:"productDetail",class:"bg-white"},Yv={class:"container mt-4"},zv={"aria-label":"breadcrumb"},Qv={class:"breadcrumb mb-0"},Jv={class:"breadcrumb-item"},Xv={key:0,class:"breadcrumb-item"},Zv=["href"],ey={key:1,class:"breadcrumb-item active"},ty={class:"container my-5"},ny={key:0,class:"row"},sy={key:1,class:"row"},oy={class:"col-12 text-center"},ry={class:"debug-info mt-4 p-3 bg-light rounded text-start"},iy={key:2,class:"row animate-fade-in"},ay={class:"col-lg-6"},ly={class:"position-relative"},cy=["src","alt"],uy={class:"row g-2 mt-3"},dy={class:"product-thumbnail-container"},fy=["src","onClick","alt"],hy={class:"col-lg-6"},py={class:"ps-lg-4"},gy={class:"fs-2 fw-bold text-dark mb-3"},my={class:"mb-3"},vy={key:0,class:"feature-badge"},yy={class:"d-flex align-items-center mb-3"},by={class:"text-warning me-3"},_y={class:"text-muted ms-3"},wy={class:"mb-4"},Ty={key:0,class:"discount-badge"},Cy={class:"d-flex align-items-baseline"},ky={key:0,class:"original-price"},Sy={class:"detail-price"},Ey={key:1,class:"text-muted"},Ay={class:"stock-info mb-4"},xy={class:"row"},$y={class:"col-6"},Iy={class:"text-center"},Ry={class:"mt-2"},Py={class:"small text-muted"},Oy={class:"row g-3 mb-4"},Dy={class:"col-md-4"},Ly={class:"quantity-selector d-flex"},My={class:"col-md-8"},Uy={class:"d-flex gap-2"},Ny={class:"row g-2 mt-3"},Hy={class:"col-4"},By={class:"col-4"},Fy={class:"col-4"},Ky={key:0,class:"container my-5"},Gy={class:"nav nav-pills product-tabs justify-content-center mb-4",role:"tablist"},Vy={class:"nav-item",role:"presentation"},jy={class:"nav-item",role:"presentation"},qy={class:"tab-content",style:{"min-height":"400px",background:"white","border-radius":"10px",padding:"20px"}},Wy={class:"tab-pane",style:{display:"block"}},Yy={class:"row"},zy={class:"col-lg-8 mx-auto"},Qy={class:"card border-0 shadow-sm rounded-4"},Jy={class:"card-body p-5"},Xy={class:"text-primary mb-4"},Zy={class:"lead"},eb={class:"mt-4"},tb={class:"list-unstyled small mb-0"},nb={key:0},sb={key:0},ob={key:1},rb={key:2},ib={class:"tab-pane",style:{display:"block",width:"100%"}},ab={key:1,class:"container my-5"},lb={class:"row g-4"},cb={__name:"ProductDetail",props:{productId:{type:[Number,String],required:!0}},emits:["go-home","view-product"],setup(e,{emit:t}){const n=e,{products:s,addToCart:o,formatPrice:r,showNotification:i}=$n(),{currentProduct:l,quantity:c,selectedImageIndex:d,activeTab:u,currentReviews:h,currentImages:g,discountPercentage:v,relatedProducts:T,currentCategory:b,isLoading:A,loadProduct:x,changeQuantity:S,addToCartWithQuantity:L,buyNow:$,addToWishlist:G,shareProduct:M,compareProduct:y}=nv(n.productId),I=Z(()=>l.value?.description||"Sn phm cht lng cao, c chn lc k cng  m bo ti ngon v an ton cho sc khe. c nui trng theo quy trnh khp kn, m bo v sinh an ton thc phm."),P=w=>{console.log(" New review submitted:",w),l.value&&l.value.reviews&&l.value.reviews.unshift(w),i("Cm n bn  nh gi sn phm!","success")};rt(()=>n.productId,async w=>{console.log(" ProductDetail - ProductId changed to:",w),console.log(" ProductDetail - currentProduct before load:",l.value),w&&(await x(w),console.log(" ProductDetail - currentProduct after load:",l.value))},{immediate:!0}),rt(h,w=>{console.log(" ProductDetail - currentReviews changed:",w),console.log(" ProductDetail - currentReviews length:",w?.length||0)},{immediate:!0}),rt(u,w=>{console.log(" ProductDetail - activeTab changed to:",w)},{immediate:!0}),ht(async()=>{console.log(" ProductDetail - Component mounted with productId:",n.productId),console.log(" ProductDetail - currentProduct on mount:",l.value),n.productId&&(await x(n.productId),console.log(" ProductDetail - currentProduct after mount load:",l.value))});const C=w=>{i(` copy m khuyn mi: ${w}`,"success")};return(w,f)=>(k(),E("div",Wv,[a("div",Yv,[a("nav",zv,[a("ol",Qv,[a("li",Jv,[a("a",{href:"#",onClick:f[0]||(f[0]=Ue(H=>w.$emit("go-home"),["prevent"])),class:"text-decoration-none"},f[13]||(f[13]=[a("i",{class:"fas fa-home me-1"},null,-1),K("Trang ch ")]))]),N(b)?(k(),E("li",Xv,[a("a",{href:`#category-${N(b).id}`,class:"text-decoration-none"},B(N(b).name),9,Zv)])):ae("",!0),N(l)?(k(),E("li",ey,B(N(l).name),1)):ae("",!0)])])]),a("div",ty,[!N(l)&&N(A)?(k(),E("div",ny,f[14]||(f[14]=[a("div",{class:"col-12 text-center py-5"},[a("div",{class:"spinner-border text-primary",role:"status"},[a("span",{class:"visually-hidden"},"ang ti sn phm...")]),a("p",{class:"text-muted mt-3"},"ang ti thng tin sn phm...")],-1)]))):N(l)?(k(),E("div",iy,[a("div",ay,[a("div",ly,[a("img",{src:N(g)[N(d)]?.url||N(l).image,class:"w-100 product-image-main shadow-product",alt:N(l).name},null,8,cy),f[24]||(f[24]=a("div",{class:"position-absolute top-0 end-0 m-3 bg-dark bg-opacity-75 text-white p-2 rounded"},[a("i",{class:"fas fa-search-plus me-1"}),K("Zoom ")],-1))]),a("div",uy,[(k(!0),E(pe,null,xe(N(g),(H,X)=>(k(),E("div",{key:X,class:"col-3"},[a("div",dy,[a("img",{src:H.url,class:be(["w-100 product-thumbnail",{active:X===N(d)}]),onClick:te=>d.value=X,alt:H.alt},null,10,fy)])]))),128))])]),a("div",hy,[a("div",py,[a("h1",gy,B(N(l).name),1),a("div",my,[f[25]||(f[25]=a("span",{class:"feature-badge"},"Ti sng",-1)),f[26]||(f[26]=a("span",{class:"feature-badge"},"Cht lng cao",-1)),f[27]||(f[27]=a("span",{class:"feature-badge"},"An ton",-1)),N(l).originalPrice?(k(),E("span",vy,"Gim gi")):ae("",!0)]),a("div",yy,[a("div",by,[(k(),E(pe,null,xe(5,H=>a("i",{key:H,class:"fas fa-star"})),64)),f[28]||(f[28]=a("span",{class:"text-dark ms-2 fw-semibold"},"4.8",-1))]),f[30]||(f[30]=a("span",{class:"text-muted"},"|",-1)),a("span",_y,[f[29]||(f[29]=a("i",{class:"fas fa-shopping-cart me-1"},null,-1)),K(B(Math.floor(Math.random()*500)+100)+"  bn ",1)])]),a("div",wy,[N(v)>0?(k(),E("div",Ty," -"+B(N(v))+"% GIM GI ",1)):ae("",!0),a("div",Cy,[N(l).originalPrice?(k(),E("span",ky,B(N(r)(N(l).originalPrice)),1)):ae("",!0),a("span",Sy,B(N(r)(N(l).price)),1)]),N(l).originalPrice?(k(),E("small",Ey," Tit kim: "+B(N(r)(N(l).originalPrice-N(l).price)),1)):ae("",!0)]),a("div",Ay,[a("div",xy,[a("div",$y,[a("div",Iy,[f[32]||(f[32]=a("i",{class:"fas fa-check-circle text-success fs-4"},null,-1)),a("div",Ry,[f[31]||(f[31]=a("strong",{class:"text-success"},"Cn hng",-1)),a("div",Py,"Cn "+B(Math.floor(Math.random()*50)+20)+" sn phm",1)])])]),f[33]||(f[33]=Dt('<div class="col-6" data-v-9ec8c2e5><div class="text-center" data-v-9ec8c2e5><i class="fas fa-shield-alt text-primary fs-4" data-v-9ec8c2e5></i><div class="mt-2" data-v-9ec8c2e5><strong class="text-primary" data-v-9ec8c2e5>Cht lng</strong><div class="small text-muted" data-v-9ec8c2e5>m bo ti ngon</div></div></div></div>',1))])]),a("div",Oy,[a("div",Dy,[f[36]||(f[36]=a("label",{class:"form-label fw-semibold"},"S lng:",-1)),a("div",Ly,[a("button",{class:"quantity-btn",onClick:f[2]||(f[2]=H=>N(S)(-1))},f[34]||(f[34]=[a("i",{class:"fas fa-minus"},null,-1)])),ct(a("input",{type:"number",class:"form-control quantity-input","onUpdate:modelValue":f[3]||(f[3]=H=>Be(c)?c.value=H:null),min:"1",max:"10"},null,512),[[_n,N(c)]]),a("button",{class:"quantity-btn",onClick:f[4]||(f[4]=H=>N(S)(1))},f[35]||(f[35]=[a("i",{class:"fas fa-plus"},null,-1)]))])]),a("div",My,[f[39]||(f[39]=a("label",{class:"form-label fw-semibold"},"Hnh ng:",-1)),a("div",Uy,[a("button",{class:"btn add-to-cart-btn text-white flex-fill",onClick:f[5]||(f[5]=(...H)=>N(L)&&N(L)(...H))},f[37]||(f[37]=[a("i",{class:"fas fa-cart-plus me-2"},null,-1),K("Thm vo gi ")])),a("button",{class:"btn buy-now-btn text-white flex-fill",onClick:f[6]||(f[6]=(...H)=>N($)&&N($)(...H))},f[38]||(f[38]=[a("i",{class:"fas fa-bolt me-2"},null,-1),K("Mua ngay ")]))])])]),f[43]||(f[43]=Dt('<div class="delivery-info p-3" data-v-9ec8c2e5><h6 class="fw-bold text-success mb-3" data-v-9ec8c2e5><i class="fas fa-shipping-fast me-2" data-v-9ec8c2e5></i>Thng tin giao hng </h6><div class="row g-3" data-v-9ec8c2e5><div class="col-md-6" data-v-9ec8c2e5><div class="d-flex align-items-center" data-v-9ec8c2e5><i class="fas fa-clock text-success me-3" data-v-9ec8c2e5></i><div data-v-9ec8c2e5><strong data-v-9ec8c2e5>Giao hng nhanh</strong><div class="small text-muted" data-v-9ec8c2e5>Trong 2 gi</div></div></div></div><div class="col-md-6" data-v-9ec8c2e5><div class="d-flex align-items-center" data-v-9ec8c2e5><i class="fas fa-truck text-success me-3" data-v-9ec8c2e5></i><div data-v-9ec8c2e5><strong data-v-9ec8c2e5>Min ph ship</strong><div class="small text-muted" data-v-9ec8c2e5>n t 200k</div></div></div></div></div></div>',1)),a("div",Ny,[a("div",Hy,[a("button",{class:"btn btn-outline-primary w-100 rounded-pill",onClick:f[7]||(f[7]=(...H)=>N(G)&&N(G)(...H))},f[40]||(f[40]=[a("i",{class:"fas fa-heart me-1"},null,-1),K("Yu thch ")]))]),a("div",By,[a("button",{class:"btn btn-outline-secondary w-100 rounded-pill",onClick:f[8]||(f[8]=(...H)=>N(M)&&N(M)(...H))},f[41]||(f[41]=[a("i",{class:"fas fa-share-alt me-1"},null,-1),K("Chia s ")]))]),a("div",Fy,[a("button",{class:"btn btn-outline-info w-100 rounded-pill",onClick:f[9]||(f[9]=(...H)=>N(y)&&N(y)(...H))},f[42]||(f[42]=[a("i",{class:"fas fa-balance-scale me-1"},null,-1),K("So snh ")]))])])])])])):(k(),E("div",sy,[a("div",oy,[f[22]||(f[22]=a("h3",null,"Khng tm thy sn phm",-1)),f[23]||(f[23]=a("p",{class:"text-muted"},"Sn phm bn tm kim khng tn ti.",-1)),a("div",ry,[f[20]||(f[20]=a("h6",{class:"text-muted"},"Debug Info:",-1)),a("p",null,[f[15]||(f[15]=a("strong",null,"Product ID:",-1)),K(" "+B(n.productId),1)]),a("p",null,[f[16]||(f[16]=a("strong",null,"Current Product:",-1)),K(" "+B(N(l)),1)]),a("p",null,[f[17]||(f[17]=a("strong",null,"Is Loading:",-1)),K(" "+B(N(A)),1)]),a("p",null,[f[18]||(f[18]=a("strong",null,"Products Count:",-1)),K(" "+B(N(s).length),1)]),a("p",null,[f[19]||(f[19]=a("strong",null,"Available Product IDs:",-1)),K(" "+B(N(s).map(H=>H.id).join(", ")),1)])]),a("button",{class:"btn btn-primary mt-3",onClick:f[1]||(f[1]=H=>w.$emit("go-home"))},f[21]||(f[21]=[a("i",{class:"fas fa-home me-2"},null,-1),K("V trang ch ")]))])]))]),N(l)?(k(),E("div",Ky,[a("ul",Gy,[a("li",Vy,[a("button",{class:be(["nav-link",{active:N(u)==="description"}]),onClick:f[10]||(f[10]=H=>u.value="description")},f[44]||(f[44]=[a("i",{class:"fas fa-info-circle me-2"},null,-1),K("M t sn phm ")]),2)]),a("li",jy,[a("button",{class:be(["nav-link",{active:N(u)==="reviews"}]),onClick:f[11]||(f[11]=H=>u.value="reviews")},f[45]||(f[45]=[a("i",{class:"fas fa-star me-2"},null,-1),K("nh gi ")]),2)])]),a("div",qy,[ct(a("div",Wy,[a("div",Yy,[a("div",zy,[a("div",Qy,[a("div",Jy,[a("h5",Xy,[f[46]||(f[46]=a("i",{class:"fas fa-info-circle me-2"},null,-1)),K("V sn phm "+B(N(l).name),1)]),a("p",Zy,B(I.value),1),f[55]||(f[55]=a("div",{class:"feature-highlight"},[a("h6",{class:"text-primary mb-2"},[a("i",{class:"fas fa-certificate me-2"}),K("Cam kt cht lng ")]),a("p",{class:"mb-0"}," Chng ti cam kt 100% sn phm ti ngon, an ton. Nu khng hi lng, hon tin trong 24h. ")],-1)),a("div",eb,[f[54]||(f[54]=a("h6",{class:"text-primary mb-3"},[a("i",{class:"fas fa-list-ul me-2"}),K("Thng s sn phm ")],-1)),a("ul",tb,[N(l).weight?(k(),E("li",nb,[f[47]||(f[47]=a("i",{class:"fas fa-weight-hanging text-muted me-2"},null,-1)),f[48]||(f[48]=K(" Trng lng: ")),a("strong",null,B(N(l).weight),1),f[49]||(f[49]=K()),N(l).weightUnit?(k(),E("span",sb,B(N(l).weightUnit),1)):ae("",!0)])):ae("",!0),N(l).weightUnit&&!N(l).weight?(k(),E("li",ob,[f[50]||(f[50]=a("i",{class:"fas fa-balance-scale text-muted me-2"},null,-1)),f[51]||(f[51]=K(" n v tnh: ")),a("strong",null,B(N(l).weightUnit),1)])):ae("",!0),N(l).shelfLifeDays?(k(),E("li",rb,[f[52]||(f[52]=a("i",{class:"fas fa-hourglass-half text-muted me-2"},null,-1)),f[53]||(f[53]=K(" Hn s dng: ")),a("strong",null,B(N(l).shelfLifeDays)+" ngy",1)])):ae("",!0)])])])])])])],512),[[Zn,N(u)==="description"]]),ct(a("div",ib,[re(qv,{product:N(l),onReviewSubmitted:P},null,8,["product"]),re(bv,{product:N(l),reviews:N(h)},null,8,["product","reviews"])],512),[[Zn,N(u)==="reviews"]])])])):ae("",!0),N(T).length>0?(k(),E("div",ab,[f[56]||(f[56]=a("h3",{class:"section-title fs-2 fw-bold text-dark mb-4"},[a("i",{class:"fas fa-heart text-danger me-3"}),K("Sn phm lin quan ")],-1)),a("div",lb,[(k(!0),E(pe,null,xe(N(T),H=>(k(),E("div",{key:H.id,class:"col-lg-3 col-md-4 col-sm-6"},[re(ul,{product:H,formatPrice:N(r),onAddToCart:N(o),onViewDetail:f[12]||(f[12]=X=>w.$emit("view-product",X))},null,8,["product","formatPrice","onAddToCart"])]))),128))])])):ae("",!0),re(dl,{"show-on-scroll":!0,"scroll-threshold":300,onCouponCopied:C})]))}},ub=Ye(cb,[["__scopeId","data-v-9ec8c2e5"]]),db={__name:"ProductDetail",setup(e){const t=xn(),n=Yd(),s=Z(()=>n.params.id),o=()=>{t.push({name:"Home"})},r=i=>{t.push({name:"ProductDetail",params:{id:i}})};return(i,l)=>(k(),E("div",null,[re(ub,{productId:s.value,onGoHome:o,onViewProduct:r},null,8,["productId"])]))}},fb=Ye(db,[["__scopeId","data-v-2119db9b"]]),hb={class:"cart-page"},pb={class:"container py-5 mt-5"},gb={"aria-label":"breadcrumb",class:"mb-4"},mb={class:"breadcrumb"},vb={class:"breadcrumb-item"},yb={key:0,class:"row"},bb={class:"col-lg-8"},_b={class:"card"},wb={class:"card-body"},Tb={class:"table-responsive"},Cb={class:"table align-middle"},kb={class:"table-light"},Sb={width:"50"},Eb={class:"form-check"},Ab=["checked"],xb={class:"form-check"},$b=["checked","onChange","id"],Ib={class:"d-flex align-items-center"},Rb=["src","alt","onClick"],Pb=["onClick"],Ob={class:"text-muted"},Db={class:"fw-bold text-danger"},Lb={class:"quantity-controls"},Mb=["onClick","disabled"],Ub={class:"quantity-display"},Nb=["onClick"],Hb={class:"fw-bold text-danger fs-6"},Bb=["onClick"],Fb={class:"col-lg-4"},Kb={class:"card sticky-top",style:{top:"100px"}},Gb={class:"card-body"},Vb={class:"order-summary"},jb={class:"d-flex justify-content-between mb-2"},qb={class:"d-flex justify-content-between mb-2"},Wb={key:0,class:"small text-success mb-2"},Yb={key:1,class:"small text-muted mb-2"},zb={class:"d-flex justify-content-between mb-3"},Qb={class:"text-danger fs-5"},Jb=["disabled"],Xb={key:1,class:"row"},Zb={class:"col-12"},e1={class:"empty-cart text-center py-5"},t1={__name:"Cart",setup(e){const t=xn(),{formatPrice:n,getCategoryById:s,products:o,showNotification:r}=$n(),{cart:i,cartCount:l,removeFromCart:c,updateCartQuantity:d}=Js(),u=J(new Set),h=Z(()=>i.value.map(w=>{const f=o.value.find(H=>H.id===w.productId);return{...w,product:f}}).filter(w=>w.product)),g=Z(()=>h.value.reduce((w,f)=>w+(f.product?.price||0)*f.quantity,0)),v=Z(()=>g.value>=2e5?0:3e4);Z(()=>g.value+v.value),Z(()=>h.value.reduce((w,f)=>w+f.quantity,0));const T=Z(()=>h.value.filter(w=>u.value.has(w.productId))),b=Z(()=>T.value.reduce((w,f)=>w+(f.product?.price||0)*f.quantity,0)),A=Z(()=>b.value>=2e5?0:3e4),x=Z(()=>b.value+A.value),S=Z(()=>T.value.reduce((w,f)=>w+f.quantity,0)),L=Z(()=>h.value.length>0&&h.value.every(w=>u.value.has(w.productId))),$=w=>{t.push({name:"ProductDetail",params:{id:w}})},G=w=>{const f=s(w);return f?f.name:"Khng xc nh"},M=(w,f)=>{if(f<=0){const H=h.value.find(X=>X.productId===w);y(w,H?.product?.name||"Sn phm")}else d(w,f)},y=(w,f)=>{confirm(`Bn c chc mun xa "${f}" khi gi hng?`)&&(c(w),u.value.delete(w),r(` xa ${f} khi gi hng!`,"info"))},I=()=>{if(u.value.size===0){r("Vui lng chn sn phm  thanh ton!","warning");return}if(!JSON.parse(localStorage.getItem("easymart-user")||"null")){const H=Array.from(u.value);localStorage.setItem("easymart-selected-items",JSON.stringify(H)),localStorage.setItem("easymart-redirect-after-login","/checkout"),r("Vui lng ng nhp  tin hnh thanh ton!","warning"),t.push("/login");return}const f=Array.from(u.value);localStorage.setItem("easymart-selected-items",JSON.stringify(f)),t.push("/checkout")},P=w=>{u.value.has(w)?u.value.delete(w):u.value.add(w)},C=()=>{L.value?u.value.clear():h.value.forEach(w=>{u.value.add(w.productId)})};return(w,f)=>{const H=cn("router-link");return k(),E("div",hb,[a("div",pb,[a("nav",gb,[a("ol",mb,[a("li",vb,[re(H,{to:"/",class:"text-decoration-none"},{default:Ie(()=>f[0]||(f[0]=[a("i",{class:"fas fa-home"},null,-1),K(" Trang ch ")])),_:1,__:[0]})]),f[1]||(f[1]=a("li",{class:"breadcrumb-item active","aria-current":"page"},[a("i",{class:"fas fa-shopping-cart"}),K(" Gi hng ")],-1))])]),f[23]||(f[23]=a("h2",{class:"mb-4"},[a("i",{class:"fas fa-shopping-cart text-primary me-2"}),K(" Gi hng ca bn ")],-1)),N(i).length>0?(k(),E("div",yb,[a("div",bb,[a("div",_b,[a("div",wb,[a("div",Tb,[a("table",Cb,[a("thead",kb,[a("tr",null,[a("th",Sb,[a("div",Eb,[a("input",{class:"form-check-input",type:"checkbox",checked:L.value,onChange:C,id:"selectAll"},null,40,Ab),f[2]||(f[2]=a("label",{class:"form-check-label",for:"selectAll"}," Tt c ",-1))])]),f[3]||(f[3]=a("th",null,"Sn phm",-1)),f[4]||(f[4]=a("th",null,"n gi",-1)),f[5]||(f[5]=a("th",null,"S lng",-1)),f[6]||(f[6]=a("th",null,"Thnh tin",-1)),f[7]||(f[7]=a("th",null,null,-1))])]),a("tbody",null,[(k(!0),E(pe,null,xe(h.value,X=>(k(),E("tr",{key:X.productId},[a("td",null,[a("div",xb,[a("input",{class:"form-check-input",type:"checkbox",checked:u.value.has(X.productId),onChange:te=>P(X.productId),id:`item-${X.productId}`},null,40,$b)])]),a("td",null,[a("div",Ib,[a("img",{src:X.product?.image,alt:X.product?.name,class:"cart-item-image me-3",onClick:te=>$(X.productId)},null,8,Rb),a("div",null,[a("h6",{class:"mb-1 product-name",onClick:te=>$(X.productId)},B(X.product?.name),9,Pb),a("small",Ob," Danh mc: "+B(G(X.product?.categoryId)),1)])])]),a("td",null,[a("span",Db,B(N(n)(X.product?.price||0)),1)]),a("td",null,[a("div",Lb,[a("button",{class:"btn btn-outline-secondary btn-sm",onClick:te=>M(X.productId,X.quantity-1),disabled:X.quantity<=1},f[8]||(f[8]=[a("i",{class:"fas fa-minus"},null,-1)]),8,Mb),a("span",Ub,B(X.quantity),1),a("button",{class:"btn btn-outline-secondary btn-sm",onClick:te=>M(X.productId,X.quantity+1)},f[9]||(f[9]=[a("i",{class:"fas fa-plus"},null,-1)]),8,Nb)])]),a("td",null,[a("span",Hb,B(N(n)((X.product?.price||0)*X.quantity)),1)]),a("td",null,[a("button",{class:"btn btn-outline-danger btn-sm",onClick:te=>y(X.productId,X.product?.name),title:"Xa sn phm"},f[10]||(f[10]=[a("i",{class:"fas fa-trash"},null,-1)]),8,Bb)])]))),128))])])])])])]),a("div",Fb,[a("div",Kb,[f[18]||(f[18]=a("div",{class:"card-header bg-primary text-white"},[a("h5",{class:"mb-0"},[a("i",{class:"fas fa-receipt me-2"}),K(" Tng kt n hng ")])],-1)),a("div",Gb,[a("div",Vb,[a("div",jb,[a("span",null," chn ("+B(S.value)+" sn phm):",1),a("span",null,B(N(n)(b.value)),1)]),a("div",qb,[f[11]||(f[11]=a("span",null,"Ph vn chuyn:",-1)),a("span",{class:be(A.value===0?"text-success":"")},B(A.value===0?"Min ph":N(n)(A.value)),3)]),A.value===0?(k(),E("div",Wb,f[12]||(f[12]=[a("i",{class:"fas fa-check-circle me-1"},null,-1),K(" Bn c min ph vn chuyn! ")]))):b.value>0?(k(),E("div",Yb,[f[13]||(f[13]=a("i",{class:"fas fa-info-circle me-1"},null,-1)),K(" Mua thm "+B(N(n)(2e5-b.value))+"  c min ph ship ",1)])):ae("",!0),f[17]||(f[17]=a("hr",null,null,-1)),a("div",zb,[f[14]||(f[14]=a("strong",{class:"fs-5"},"Tng cng:",-1)),a("strong",Qb,B(N(n)(x.value)),1)]),a("button",{class:"btn btn-primary w-100 mb-2 py-2",onClick:I,disabled:u.value.size===0},f[15]||(f[15]=[a("i",{class:"fas fa-credit-card me-2"},null,-1),K(" Tin hnh thanh ton ")]),8,Jb),re(H,{to:"/",class:"btn btn-outline-secondary w-100"},{default:Ie(()=>f[16]||(f[16]=[a("i",{class:"fas fa-arrow-left me-2"},null,-1),K(" Tip tc mua sm ")])),_:1,__:[16]})])])])])])):(k(),E("div",Xb,[a("div",Zb,[a("div",e1,[f[20]||(f[20]=a("div",{class:"empty-cart-icon mb-4"},[a("i",{class:"fas fa-shopping-cart fa-5x text-muted"})],-1)),f[21]||(f[21]=a("h3",{class:"text-muted mb-3"},"Gi hng trng",-1)),f[22]||(f[22]=a("p",{class:"text-muted mb-4"},"Bn cha c sn phm no trong gi hng",-1)),re(H,{to:"/",class:"btn btn-primary btn-lg"},{default:Ie(()=>f[19]||(f[19]=[a("i",{class:"fas fa-shopping-bag me-2"},null,-1),K(" Bt u mua sm ")])),_:1,__:[19]})])])]))])])}}},n1=Ye(t1,[["__scopeId","data-v-800633f4"]]),s1=[{path:"/",name:"Home",component:tv,meta:{title:"EasyMart - Siu th thc phm online",description:"Mua sm thc phm ti sng, hng ha cht lng cao vi gi tt nht"}},{path:"/promotions",name:"Promotions",component:()=>Ke(()=>import("./Promotions-sk-qSnII.js"),__vite__mapDeps([0,1])),meta:{title:"Khuyn mi - EasyMart",description:"Khm ph cc u i v m gim gi hp dn ti EasyMart"}},{path:"/product/:id",name:"ProductDetail",component:fb,props:!0,meta:{title:"Chi tit sn phm - EasyMart",description:"Xem chi tit sn phm vi thng tin y , hnh nh cht lng cao"}},{path:"/cart",name:"Cart",component:n1,meta:{title:"Gi hng - EasyMart",description:"Xem v qun l sn phm trong gi hng ca bn"}},{path:"/checkout",name:"Checkout",component:()=>Ke(()=>import("./Checkout-4besu7dx.js"),__vite__mapDeps([2,3])),meta:{title:"Thanh ton - EasyMart",description:"Tin hnh thanh ton n hng"}},{path:"/payment-success",name:"PaymentSuccess",component:()=>Ke(()=>import("./PaymentSuccess-IWDEEcS5.js"),__vite__mapDeps([4,5])),meta:{title:"Thanh ton thnh cng - EasyMart",description:"Xc nhn n hng  c thanh ton thnh cng"}},{path:"/search",name:"Search",component:()=>Ke(()=>import("./Search-C-FRKswe.js"),__vite__mapDeps([6,7])),meta:{title:"Tm kim sn phm - EasyMart",description:"Tm kim v khm ph hng nghn sn phm cht lng ti EasyMart"}},{path:"/categories",name:"Categories",component:()=>Ke(()=>import("./Categories-CzLpa8wv.js"),__vite__mapDeps([8,9])),meta:{title:"Danh mc sn phm - EasyMart",description:"Khm ph tt c danh mc sn phm ti EasyMart"}},{path:"/category/:id",name:"Category",component:()=>Ke(()=>import("./Category-CQlJoCL7.js"),__vite__mapDeps([10,11])),props:!0,meta:{title:"Danh mc sn phm - EasyMart",description:"Xem tt c sn phm trong danh mc"}},{path:"/about",name:"About",component:()=>Ke(()=>import("./About-C4dtUn4N.js"),__vite__mapDeps([12,13])),meta:{title:"Gii thiu - EasyMart",description:"Thng tin v EasyMart - Siu th thc phm online uy tn"}},{path:"/contact",name:"Contact",component:()=>Ke(()=>import("./Contact-DQF_alUS.js"),__vite__mapDeps([14,15])),meta:{title:"Lin h - EasyMart",description:"Thng tin lin h v h tr khch hng"}},{path:"/login",name:"Login",component:()=>Ke(()=>import("./Login-BGSxpaWT.js"),__vite__mapDeps([16,17,18,19])),meta:{title:"ng nhp - EasyMart",description:"ng nhp vo ti khon EasyMart ca bn"}},{path:"/register",name:"Register",component:()=>Ke(()=>import("./Register-Cy0CcOYu.js"),__vite__mapDeps([20,17,18,21])),meta:{title:"ng k - EasyMart",description:"To ti khon mi ti EasyMart"}},{path:"/forgot-password",name:"ForgotPassword",component:()=>Ke(()=>import("./ForgotPassword-B5Jcc_bU.js"),__vite__mapDeps([22,23])),meta:{title:"Qun mt khu - EasyMart",description:"t li mt khu ti khon EasyMart ca bn"}},{path:"/profile",name:"Profile",component:()=>Ke(()=>import("./Profile-DIuKddYb.js"),__vite__mapDeps([24,25])),meta:{title:"H s c nhn - EasyMart",description:"Qun l thng tin c nhn v ti khon EasyMart"}},{path:"/oauth2/success",name:"OAuth2Success",component:()=>Ke(()=>import("./OAuth2Success-hvPb5Kna.js"),__vite__mapDeps([26,27])),meta:{title:"ng nhp thnh cng - EasyMart",description:"ang x l ng nhp OAuth2..."}},{path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/"}],cr=qd({history:wd(),routes:s1,scrollBehavior(e,t,n){return n||{top:0}}});cr.beforeEach((e,t,n)=>{if(e.meta.title&&(document.title=e.meta.title),e.meta.description){const o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content",e.meta.description)}if(["Checkout","PaymentSuccess"].includes(e.name)&&!JSON.parse(localStorage.getItem("easymart-user")||"null")){localStorage.setItem("easymart-redirect-after-login",e.fullPath),n({name:"Login"});return}n()});cr.afterEach(()=>{});async function o1(e,t={}){const n=Pe();if(!n)throw new Error("No JWT token found. Please login again.");const s={headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",...t.headers}},o=e.startsWith("http")?e:`${he.BASE_URL}${e}`;try{const r=await fetch(o,{...t,...s,headers:{...s.headers,...t.headers}});if(!r.ok){if(r.status===401){console.warn("JWT token expired or invalid"),tf(),localStorage.removeItem("easymart-user"),window.location.href="/login";return}const i=await r.json().catch(()=>null);throw new Error(i?.message||`API call failed: ${r.statusText}`)}return await r.json()}catch(r){throw console.error("API call error:",r),r}}function r1(){const e=Pe();if(!e)return!1;try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3);return t.exp>n}catch(t){return console.error("Error validating token:",t),!1}}async function vi(){const e=Pe();if(e)try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3),s=t.exp-n;if(s<300&&s>0){console.log("Token expiring soon, attempting refresh...");const o=await o1("/api/oauth2/get-jwt-token");o.success&&o.result.jwt_token&&(ef(o.result.jwt_token),console.log(" Token refreshed successfully"))}}catch(t){console.error("Auto-refresh failed:",t)}}function i1(){return vi(),setInterval(vi,6e4)}const fl=Ku(_g);fl.use(cr);r1()&&(console.log("Starting JWT token auto-refresh..."),i1());typeof window<"u"&&(setInterval(async()=>{const{autoLogoutIfInvalid:e}=ss();await e()},3e4),window.addEventListener("focus",async()=>{const{autoLogoutIfInvalid:e}=ss();await e()}),console.log(" Auto-logout checking enabled (30s interval + on focus)"));fl.mount("#app");export{rt as A,Na as B,Hu as C,Yn as D,Po as E,pe as F,dl as G,$t as H,$e as I,Ot as J,ss as K,a1 as L,Ua as M,zd as N,he as O,ul as P,Zn as Q,ef as R,Ye as _,a,Dt as b,E as c,ae as d,xe as e,be as f,K as g,ht as h,re as i,Ie as j,cn as k,N as l,xn as m,yn as n,k as o,Js as p,Z as q,J as r,ct as s,B as t,$n as u,_n as v,Ue as w,Du as x,Yd as y,Vf as z};
