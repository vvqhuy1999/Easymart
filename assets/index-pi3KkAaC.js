const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Promotions-XDXBHXLL.js","assets/Promotions-Uo5pcINg.css","assets/Checkout-DVJN_NaK.js","assets/Checkout-CifjzvOF.css","assets/PaymentSuccess-C_TtpQMI.js","assets/PaymentSuccess-DiMNo1Vk.css","assets/Search-DLuqAhB3.js","assets/Search-0TRBME_e.css","assets/Categories-BPd_izC4.js","assets/Categories-B2JZZ1b3.css","assets/Category-Ci0RgqZ8.js","assets/Category-Cavpeh31.css","assets/About-Begs-6It.js","assets/About-eoiSrOrX.css","assets/Contact-DgJAHd6X.js","assets/Contact-Dko7EUlx.css","assets/Login-DIPPVRBA.js","assets/FacebookSignIn-ChQTPga-.js","assets/FacebookSignIn-BGU_Fz4z.css","assets/Login-Br0MiDYh.css","assets/Register-CQI69tCx.js","assets/Register-m9ywLs9E.css","assets/ForgotPassword-DuIwudoE.js","assets/ForgotPassword-ka-IWcgV.css","assets/Profile-Bkv7Fy6F.js","assets/Profile-DblRKRHd.css","assets/Orders-C-46dkgh.js","assets/Orders-CeX2U_SJ.css","assets/OAuth2Success-CucziwrH.js","assets/OAuth2Success-BmvuGF0Q.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Lo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Re={},gn=[],kt=()=>{},bl=()=>!1,Ds=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),No=e=>e.startsWith("onUpdate:"),Be=Object.assign,Uo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Tl=Object.prototype.hasOwnProperty,Ae=(e,t)=>Tl.call(e,t),de=Array.isArray,mn=e=>as(e)==="[object Map]",$n=e=>as(e)==="[object Set]",gr=e=>as(e)==="[object Date]",pe=e=>typeof e=="function",Ue=e=>typeof e=="string",At=e=>typeof e=="symbol",xe=e=>e!==null&&typeof e=="object",_a=e=>(xe(e)||pe(e))&&pe(e.then)&&pe(e.catch),Ca=Object.prototype.toString,as=e=>Ca.call(e),wl=e=>as(e).slice(8,-1),Sa=e=>as(e)==="[object Object]",Ho=e=>Ue(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Un=Lo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ls=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_l=/-(\w)/g,ct=Ls(e=>e.replace(_l,(t,n)=>n?n.toUpperCase():"")),Cl=/\B([A-Z])/g,Xt=Ls(e=>e.replace(Cl,"-$1").toLowerCase()),Ns=Ls(e=>e.charAt(0).toUpperCase()+e.slice(1)),Zs=Ls(e=>e?`on${Ns(e)}`:""),Yt=(e,t)=>!Object.is(e,t),vs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},mo=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Ss=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Sl=e=>{const t=Ue(e)?Number(e):NaN;return isNaN(t)?e:t};let mr;const Us=()=>mr||(mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bn(e){if(de(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=Ue(s)?$l(s):bn(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(Ue(e)||xe(e))return e}const kl=/;(?![^(]*\))/g,El=/:([^]+)/,Al=/\/\*[^]*?\*\//g;function $l(e){const t={};return e.replace(Al,"").split(kl).forEach(n=>{if(n){const s=n.split(El);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Se(e){let t="";if(Ue(e))t=e;else if(de(e))for(let n=0;n<e.length;n++){const s=Se(e[n]);s&&(t+=s+" ")}else if(xe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Il="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Rl=Lo(Il);function ka(e){return!!e||e===""}function xl(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=cn(e[s],t[s]);return n}function cn(e,t){if(e===t)return!0;let n=gr(e),s=gr(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=At(e),s=At(t),n||s)return e===t;if(n=de(e),s=de(t),n||s)return n&&s?xl(e,t):!1;if(n=xe(e),s=xe(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!cn(e[a],t[a]))return!1}}return String(e)===String(t)}function Mo(e,t){return e.findIndex(n=>cn(n,t))}const Ea=e=>!!(e&&e.__v_isRef===!0),q=e=>Ue(e)?e:e==null?"":de(e)||xe(e)&&(e.toString===Ca||!pe(e.toString))?Ea(e)?q(e.value):JSON.stringify(e,Aa,2):String(e),Aa=(e,t)=>Ea(t)?Aa(e,t.value):mn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[eo(s,r)+" =>"]=o,n),{})}:$n(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>eo(n))}:At(t)?eo(t):xe(t)&&!de(t)&&!Sa(t)?String(t):t,eo=(e,t="")=>{var n;return At(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let et;class Ol{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=et,!t&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=et;try{return et=this,t()}finally{et=n}}}on(){++this._on===1&&(this.prevScope=et,et=this)}off(){this._on>0&&--this._on===0&&(et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Pl(){return et}let Pe;const to=new WeakSet;class $a{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,et&&et.active&&et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,to.has(this)&&(to.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ra(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,pr(this),xa(this);const t=Pe,n=dt;Pe=this,dt=!0;try{return this.fn()}finally{Oa(this),Pe=t,dt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fo(t);this.deps=this.depsTail=void 0,pr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?to.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){po(this)&&this.run()}get dirty(){return po(this)}}let Ia=0,Hn,Mn;function Ra(e,t=!1){if(e.flags|=8,t){e.next=Mn,Mn=e;return}e.next=Hn,Hn=e}function Bo(){Ia++}function Ko(){if(--Ia>0)return;if(Mn){let t=Mn;for(Mn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Hn;){let t=Hn;for(Hn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function xa(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Oa(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),Fo(s),Dl(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function po(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Pa(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Pa(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Yn)||(e.globalVersion=Yn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!po(e))))return;e.flags|=2;const t=e.dep,n=Pe,s=dt;Pe=e,dt=!0;try{xa(e);const o=e.fn(e._value);(t.version===0||Yt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{Pe=n,dt=s,Oa(e),e.flags&=-3}}function Fo(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Fo(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Dl(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let dt=!0;const Da=[];function Ut(){Da.push(dt),dt=!1}function Ht(){const e=Da.pop();dt=e===void 0?!0:e}function pr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Pe;Pe=void 0;try{t()}finally{Pe=n}}}let Yn=0;class Ll{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!Pe||!dt||Pe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Pe)n=this.activeLink=new Ll(Pe,this),Pe.deps?(n.prevDep=Pe.depsTail,Pe.depsTail.nextDep=n,Pe.depsTail=n):Pe.deps=Pe.depsTail=n,La(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=Pe.depsTail,n.nextDep=void 0,Pe.depsTail.nextDep=n,Pe.depsTail=n,Pe.deps===n&&(Pe.deps=s)}return n}trigger(t){this.version++,Yn++,this.notify(t)}notify(t){Bo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ko()}}}function La(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)La(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const vo=new WeakMap,ln=Symbol(""),yo=Symbol(""),Wn=Symbol("");function Ye(e,t,n){if(dt&&Pe){let s=vo.get(e);s||vo.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new Vo),o.map=s,o.key=n),o.track()}}function Ot(e,t,n,s,o,r){const a=vo.get(e);if(!a){Yn++;return}const l=c=>{c&&c.trigger()};if(Bo(),t==="clear")a.forEach(l);else{const c=de(e),d=c&&Ho(n);if(c&&n==="length"){const u=Number(s);a.forEach((f,h)=>{(h==="length"||h===Wn||!At(h)&&h>=u)&&l(f)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),d&&l(a.get(Wn)),t){case"add":c?d&&l(a.get("length")):(l(a.get(ln)),mn(e)&&l(a.get(yo)));break;case"delete":c||(l(a.get(ln)),mn(e)&&l(a.get(yo)));break;case"set":mn(e)&&l(a.get(ln));break}}Ko()}function dn(e){const t=_e(e);return t===e?t:(Ye(t,"iterate",Wn),it(e)?t:t.map(Ve))}function Hs(e){return Ye(e=_e(e),"iterate",Wn),e}const Nl={__proto__:null,[Symbol.iterator](){return no(this,Symbol.iterator,Ve)},concat(...e){return dn(this).concat(...e.map(t=>de(t)?dn(t):t))},entries(){return no(this,"entries",e=>(e[1]=Ve(e[1]),e))},every(e,t){return $t(this,"every",e,t,void 0,arguments)},filter(e,t){return $t(this,"filter",e,t,n=>n.map(Ve),arguments)},find(e,t){return $t(this,"find",e,t,Ve,arguments)},findIndex(e,t){return $t(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return $t(this,"findLast",e,t,Ve,arguments)},findLastIndex(e,t){return $t(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return $t(this,"forEach",e,t,void 0,arguments)},includes(...e){return so(this,"includes",e)},indexOf(...e){return so(this,"indexOf",e)},join(e){return dn(this).join(e)},lastIndexOf(...e){return so(this,"lastIndexOf",e)},map(e,t){return $t(this,"map",e,t,void 0,arguments)},pop(){return On(this,"pop")},push(...e){return On(this,"push",e)},reduce(e,...t){return vr(this,"reduce",e,t)},reduceRight(e,...t){return vr(this,"reduceRight",e,t)},shift(){return On(this,"shift")},some(e,t){return $t(this,"some",e,t,void 0,arguments)},splice(...e){return On(this,"splice",e)},toReversed(){return dn(this).toReversed()},toSorted(e){return dn(this).toSorted(e)},toSpliced(...e){return dn(this).toSpliced(...e)},unshift(...e){return On(this,"unshift",e)},values(){return no(this,"values",Ve)}};function no(e,t,n){const s=Hs(e),o=s[t]();return s!==e&&!it(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=n(r.value)),r}),o}const Ul=Array.prototype;function $t(e,t,n,s,o,r){const a=Hs(e),l=a!==e&&!it(e),c=a[t];if(c!==Ul[t]){const f=c.apply(e,r);return l?Ve(f):f}let d=n;a!==e&&(l?d=function(f,h){return n.call(this,Ve(f),h,e)}:n.length>2&&(d=function(f,h){return n.call(this,f,h,e)}));const u=c.call(a,d,s);return l&&o?o(u):u}function vr(e,t,n,s){const o=Hs(e);let r=n;return o!==e&&(it(e)?n.length>3&&(r=function(a,l,c){return n.call(this,a,l,c,e)}):r=function(a,l,c){return n.call(this,a,Ve(l),c,e)}),o[t](r,...s)}function so(e,t,n){const s=_e(e);Ye(s,"iterate",Wn);const o=s[t](...n);return(o===-1||o===!1)&&qo(n[0])?(n[0]=_e(n[0]),s[t](...n)):o}function On(e,t,n=[]){Ut(),Bo();const s=_e(e)[t].apply(e,n);return Ko(),Ht(),s}const Hl=Lo("__proto__,__v_isRef,__isVue"),Na=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(At));function Ml(e){At(e)||(e=String(e));const t=_e(this);return Ye(t,"has",e),t.hasOwnProperty(e)}class Ua{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?zl:Ka:r?Ba:Ma).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=de(t);if(!o){let c;if(a&&(c=Nl[n]))return c;if(n==="hasOwnProperty")return Ml}const l=Reflect.get(t,n,je(t)?t:s);return(At(n)?Na.has(n):Hl(n))||(o||Ye(t,"get",n),r)?l:je(l)?a&&Ho(n)?l:l.value:xe(l)?o?Va(l):Lt(l):l}}class Ha extends Ua{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=Wt(r);if(!it(s)&&!Wt(s)&&(r=_e(r),s=_e(s)),!de(t)&&je(r)&&!je(s))return c?!1:(r.value=s,!0)}const a=de(t)&&Ho(n)?Number(n)<t.length:Ae(t,n),l=Reflect.set(t,n,s,je(t)?t:o);return t===_e(o)&&(a?Yt(s,r)&&Ot(t,"set",n,s):Ot(t,"add",n,s)),l}deleteProperty(t,n){const s=Ae(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&Ot(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!At(n)||!Na.has(n))&&Ye(t,"has",n),s}ownKeys(t){return Ye(t,"iterate",de(t)?"length":ln),Reflect.ownKeys(t)}}class Bl extends Ua{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Kl=new Ha,Fl=new Bl,Vl=new Ha(!0);const bo=e=>e,ds=e=>Reflect.getPrototypeOf(e);function Gl(e,t,n){return function(...s){const o=this.__v_raw,r=_e(o),a=mn(r),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,d=o[e](...s),u=n?bo:t?ks:Ve;return!t&&Ye(r,"iterate",c?yo:ln),{next(){const{value:f,done:h}=d.next();return h?{value:f,done:h}:{value:l?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function jl(e,t){const n={get(o){const r=this.__v_raw,a=_e(r),l=_e(o);e||(Yt(o,l)&&Ye(a,"get",o),Ye(a,"get",l));const{has:c}=ds(a),d=t?bo:e?ks:Ve;if(c.call(a,o))return d(r.get(o));if(c.call(a,l))return d(r.get(l));r!==a&&r.get(o)},get size(){const o=this.__v_raw;return!e&&Ye(_e(o),"iterate",ln),Reflect.get(o,"size",o)},has(o){const r=this.__v_raw,a=_e(r),l=_e(o);return e||(Yt(o,l)&&Ye(a,"has",o),Ye(a,"has",l)),o===l?r.has(o):r.has(o)||r.has(l)},forEach(o,r){const a=this,l=a.__v_raw,c=_e(l),d=t?bo:e?ks:Ve;return!e&&Ye(c,"iterate",ln),l.forEach((u,f)=>o.call(r,d(u),d(f),a))}};return Be(n,e?{add:fs("add"),set:fs("set"),delete:fs("delete"),clear:fs("clear")}:{add(o){!t&&!it(o)&&!Wt(o)&&(o=_e(o));const r=_e(this);return ds(r).has.call(r,o)||(r.add(o),Ot(r,"add",o,o)),this},set(o,r){!t&&!it(r)&&!Wt(r)&&(r=_e(r));const a=_e(this),{has:l,get:c}=ds(a);let d=l.call(a,o);d||(o=_e(o),d=l.call(a,o));const u=c.call(a,o);return a.set(o,r),d?Yt(r,u)&&Ot(a,"set",o,r):Ot(a,"add",o,r),this},delete(o){const r=_e(this),{has:a,get:l}=ds(r);let c=a.call(r,o);c||(o=_e(o),c=a.call(r,o)),l&&l.call(r,o);const d=r.delete(o);return c&&Ot(r,"delete",o,void 0),d},clear(){const o=_e(this),r=o.size!==0,a=o.clear();return r&&Ot(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Gl(o,e,t)}),n}function Go(e,t){const n=jl(e,t);return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(Ae(n,o)&&o in s?n:s,o,r)}const ql={get:Go(!1,!1)},Yl={get:Go(!1,!0)},Wl={get:Go(!0,!1)};const Ma=new WeakMap,Ba=new WeakMap,Ka=new WeakMap,zl=new WeakMap;function Ql(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jl(e){return e.__v_skip||!Object.isExtensible(e)?0:Ql(wl(e))}function Lt(e){return Wt(e)?e:jo(e,!1,Kl,ql,Ma)}function Fa(e){return jo(e,!1,Vl,Yl,Ba)}function Va(e){return jo(e,!0,Fl,Wl,Ka)}function jo(e,t,n,s,o){if(!xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Jl(e);if(r===0)return e;const a=o.get(e);if(a)return a;const l=new Proxy(e,r===2?s:n);return o.set(e,l),l}function pn(e){return Wt(e)?pn(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function it(e){return!!(e&&e.__v_isShallow)}function qo(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function Xl(e){return!Ae(e,"__v_skip")&&Object.isExtensible(e)&&mo(e,"__v_skip",!0),e}const Ve=e=>xe(e)?Lt(e):e,ks=e=>xe(e)?Va(e):e;function je(e){return e?e.__v_isRef===!0:!1}function Q(e){return Ga(e,!1)}function Zl(e){return Ga(e,!0)}function Ga(e,t){return je(e)?e:new ec(e,t)}class ec{constructor(t,n){this.dep=new Vo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:_e(t),this._value=n?t:Ve(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||it(t)||Wt(t);t=s?t:_e(t),Yt(t,n)&&(this._rawValue=t,this._value=s?t:Ve(t),this.dep.trigger())}}function V(e){return je(e)?e.value:e}const tc={get:(e,t,n)=>t==="__v_raw"?e:V(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return je(o)&&!je(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function ja(e){return pn(e)?e:new Proxy(e,tc)}class nc{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Vo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Yn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Pe!==this)return Ra(this,!0),!0}get value(){const t=this.dep.track();return Pa(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function sc(e,t,n=!1){let s,o;return pe(e)?s=e:(s=e.get,o=e.set),new nc(s,o,n)}const hs={},Es=new WeakMap;let on;function oc(e,t=!1,n=on){if(n){let s=Es.get(n);s||Es.set(n,s=[]),s.push(e)}}function rc(e,t,n=Re){const{immediate:s,deep:o,once:r,scheduler:a,augmentJob:l,call:c}=n,d=S=>o?S:it(S)||o===!1||o===0?Pt(S,1):Pt(S);let u,f,h,m,T=!1,y=!1;if(je(e)?(f=()=>e.value,T=it(e)):pn(e)?(f=()=>d(e),T=!0):de(e)?(y=!0,T=e.some(S=>pn(S)||it(S)),f=()=>e.map(S=>{if(je(S))return S.value;if(pn(S))return d(S);if(pe(S))return c?c(S,2):S()})):pe(e)?t?f=c?()=>c(e,2):e:f=()=>{if(h){Ut();try{h()}finally{Ht()}}const S=on;on=u;try{return c?c(e,3,[m]):e(m)}finally{on=S}}:f=kt,t&&o){const S=f,P=o===!0?1/0:o;f=()=>Pt(S(),P)}const B=Pl(),L=()=>{u.stop(),B&&B.active&&Uo(B.effects,u)};if(r&&t){const S=t;t=(...P)=>{S(...P),L()}}let w=y?new Array(e.length).fill(hs):hs;const b=S=>{if(!(!(u.flags&1)||!u.dirty&&!S))if(t){const P=u.run();if(o||T||(y?P.some((D,_)=>Yt(D,w[_])):Yt(P,w))){h&&h();const D=on;on=u;try{const _=[P,w===hs?void 0:y&&w[0]===hs?[]:w,m];w=P,c?c(t,3,_):t(..._)}finally{on=D}}}else u.run()};return l&&l(b),u=new $a(f),u.scheduler=a?()=>a(b,!1):b,m=S=>oc(S,!1,u),h=u.onStop=()=>{const S=Es.get(u);if(S){if(c)c(S,4);else for(const P of S)P();Es.delete(u)}},t?s?b(!0):w=u.run():a?a(b.bind(null,!0),!0):u.run(),L.pause=u.pause.bind(u),L.resume=u.resume.bind(u),L.stop=L,L}function Pt(e,t=1/0,n){if(t<=0||!xe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,je(e))Pt(e.value,t,n);else if(de(e))for(let s=0;s<e.length;s++)Pt(e[s],t,n);else if($n(e)||mn(e))e.forEach(s=>{Pt(s,t,n)});else if(Sa(e)){for(const s in e)Pt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Pt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function is(e,t,n,s){try{return s?e(...s):e()}catch(o){Ms(o,t,n)}}function gt(e,t,n,s){if(pe(e)){const o=is(e,t,n,s);return o&&_a(o)&&o.catch(r=>{Ms(r,t,n)}),o}if(de(e)){const o=[];for(let r=0;r<e.length;r++)o.push(gt(e[r],t,n,s));return o}}function Ms(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Re;if(t){let l=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,c,d)===!1)return}l=l.parent}if(r){Ut(),is(r,null,10,[e,c,d]),Ht();return}}ac(e,n,o,s,a)}function ac(e,t,n,s=!0,o=!1){if(o)throw e;console.error(e)}const Qe=[];let Ct=-1;const vn=[];let Vt=null,fn=0;const qa=Promise.resolve();let As=null;function zn(e){const t=As||qa;return e?t.then(this?e.bind(this):e):t}function ic(e){let t=Ct+1,n=Qe.length;for(;t<n;){const s=t+n>>>1,o=Qe[s],r=Qn(o);r<e||r===e&&o.flags&2?t=s+1:n=s}return t}function Yo(e){if(!(e.flags&1)){const t=Qn(e),n=Qe[Qe.length-1];!n||!(e.flags&2)&&t>=Qn(n)?Qe.push(e):Qe.splice(ic(t),0,e),e.flags|=1,Ya()}}function Ya(){As||(As=qa.then(za))}function lc(e){de(e)?vn.push(...e):Vt&&e.id===-1?Vt.splice(fn+1,0,e):e.flags&1||(vn.push(e),e.flags|=1),Ya()}function yr(e,t,n=Ct+1){for(;n<Qe.length;n++){const s=Qe[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Qe.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Wa(e){if(vn.length){const t=[...new Set(vn)].sort((n,s)=>Qn(n)-Qn(s));if(vn.length=0,Vt){Vt.push(...t);return}for(Vt=t,fn=0;fn<Vt.length;fn++){const n=Vt[fn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Vt=null,fn=0}}const Qn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function za(e){try{for(Ct=0;Ct<Qe.length;Ct++){const t=Qe[Ct];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),is(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ct<Qe.length;Ct++){const t=Qe[Ct];t&&(t.flags&=-2)}Ct=-1,Qe.length=0,Wa(),As=null,(Qe.length||vn.length)&&za()}}let tt=null,Qa=null;function $s(e){const t=tt;return tt=e,Qa=e&&e.type.__scopeId||null,t}function Ne(e,t=tt,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Or(-1);const r=$s(t);let a;try{a=e(...o)}finally{$s(r),s._d&&Or(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function ft(e,t){if(tt===null)return e;const n=Gs(tt),s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,a,l,c=Re]=t[o];r&&(pe(r)&&(r={mounted:r,updated:r}),r.deep&&Pt(a),s.push({dir:r,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function tn(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];r&&(l.oldValue=r[a].value);let c=l.dir[s];c&&(Ut(),gt(c,n,8,[e.el,l,e,t]),Ht())}}const Ja=Symbol("_vte"),Xa=e=>e.__isTeleport,Bn=e=>e&&(e.disabled||e.disabled===""),br=e=>e&&(e.defer||e.defer===""),Tr=e=>typeof SVGElement<"u"&&e instanceof SVGElement,wr=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,To=(e,t)=>{const n=e&&e.to;return Ue(n)?t?t(n):null:n},Za={name:"Teleport",__isTeleport:!0,process(e,t,n,s,o,r,a,l,c,d){const{mc:u,pc:f,pbc:h,o:{insert:m,querySelector:T,createText:y,createComment:B}}=d,L=Bn(t.props);let{shapeFlag:w,children:b,dynamicChildren:S}=t;if(e==null){const P=t.el=y(""),D=t.anchor=y("");m(P,n,s),m(D,n,s);const _=(N,$)=>{w&16&&(o&&o.isCE&&(o.ce._teleportTarget=N),u(b,N,$,o,r,a,l,c))},F=()=>{const N=t.target=To(t.props,T),$=ti(N,t,y,m);N&&(a!=="svg"&&Tr(N)?a="svg":a!=="mathml"&&wr(N)&&(a="mathml"),L||(_(N,$),ys(t,!1)))};L&&(_(n,D),ys(t,!0)),br(t.props)?(t.el.__isMounted=!1,ze(()=>{F(),delete t.el.__isMounted},r)):F()}else{if(br(t.props)&&e.el.__isMounted===!1){ze(()=>{Za.process(e,t,n,s,o,r,a,l,c,d)},r);return}t.el=e.el,t.targetStart=e.targetStart;const P=t.anchor=e.anchor,D=t.target=e.target,_=t.targetAnchor=e.targetAnchor,F=Bn(e.props),N=F?n:D,$=F?P:_;if(a==="svg"||Tr(D)?a="svg":(a==="mathml"||wr(D))&&(a="mathml"),S?(h(e.dynamicChildren,S,N,o,r,a,l),Jo(e,t,!0)):c||f(e,t,N,$,o,r,a,l,!1),L)F?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gs(t,n,P,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const x=t.target=To(t.props,T);x&&gs(t,x,null,d,0)}else F&&gs(t,D,_,d,1);ys(t,L)}},remove(e,t,n,{um:s,o:{remove:o}},r){const{shapeFlag:a,children:l,anchor:c,targetStart:d,targetAnchor:u,target:f,props:h}=e;if(f&&(o(d),o(u)),r&&o(c),a&16){const m=r||!Bn(h);for(let T=0;T<l.length;T++){const y=l[T];s(y,t,n,m,!!y.dynamicChildren)}}},move:gs,hydrate:cc};function gs(e,t,n,{o:{insert:s},m:o},r=2){r===0&&s(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:c,children:d,props:u}=e,f=r===2;if(f&&s(a,t,n),(!f||Bn(u))&&c&16)for(let h=0;h<d.length;h++)o(d[h],t,n,2);f&&s(l,t,n)}function cc(e,t,n,s,o,r,{o:{nextSibling:a,parentNode:l,querySelector:c,insert:d,createText:u}},f){const h=t.target=To(t.props,c);if(h){const m=Bn(t.props),T=h._lpa||h.firstChild;if(t.shapeFlag&16)if(m)t.anchor=f(a(e),t,l(e),n,s,o,r),t.targetStart=T,t.targetAnchor=T&&a(T);else{t.anchor=a(e);let y=T;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")t.targetStart=y;else if(y.data==="teleport anchor"){t.targetAnchor=y,h._lpa=t.targetAnchor&&a(t.targetAnchor);break}}y=a(y)}t.targetAnchor||ti(h,t,u,d),f(T&&a(T),t,h,n,s,o,r)}ys(t,m)}return t.anchor&&a(t.anchor)}const ei=Za;function ys(e,t){const n=e.ctx;if(n&&n.ut){let s,o;for(t?(s=e.el,o=e.anchor):(s=e.targetStart,o=e.targetAnchor);s&&s!==o;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function ti(e,t,n,s){const o=t.targetStart=n(""),r=t.targetAnchor=n("");return o[Ja]=r,e&&(s(o,e),s(r,e)),r}const Gt=Symbol("_leaveCb"),ms=Symbol("_enterCb");function ni(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pt(()=>{e.isMounted=!0}),di(()=>{e.isUnmounting=!0}),e}const at=[Function,Array],si={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:at,onEnter:at,onAfterEnter:at,onEnterCancelled:at,onBeforeLeave:at,onLeave:at,onAfterLeave:at,onLeaveCancelled:at,onBeforeAppear:at,onAppear:at,onAfterAppear:at,onAppearCancelled:at},oi=e=>{const t=e.subTree;return t.component?oi(t.component):t},uc={name:"BaseTransition",props:si,setup(e,{slots:t}){const n=Ri(),s=ni();return()=>{const o=t.default&&Wo(t.default(),!0);if(!o||!o.length)return;const r=ri(o),a=_e(e),{mode:l}=a;if(s.isLeaving)return oo(r);const c=_r(r);if(!c)return oo(r);let d=Jn(c,a,s,n,f=>d=f);c.type!==Je&&un(c,d);let u=n.subTree&&_r(n.subTree);if(u&&u.type!==Je&&!rn(c,u)&&oi(n).type!==Je){let f=Jn(u,a,s,n);if(un(u,f),l==="out-in"&&c.type!==Je)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},oo(r);l==="in-out"&&c.type!==Je?f.delayLeave=(h,m,T)=>{const y=ai(s,u);y[String(u.key)]=u,h[Gt]=()=>{m(),h[Gt]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{T(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function ri(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Je){t=n;break}}return t}const dc=uc;function ai(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Jn(e,t,n,s,o){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:m,onAfterLeave:T,onLeaveCancelled:y,onBeforeAppear:B,onAppear:L,onAfterAppear:w,onAppearCancelled:b}=t,S=String(e.key),P=ai(n,e),D=(N,$)=>{N&&gt(N,s,9,$)},_=(N,$)=>{const x=$[1];D(N,$),de(N)?N.every(v=>v.length<=1)&&x():N.length<=1&&x()},F={mode:a,persisted:l,beforeEnter(N){let $=c;if(!n.isMounted)if(r)$=B||c;else return;N[Gt]&&N[Gt](!0);const x=P[S];x&&rn(e,x)&&x.el[Gt]&&x.el[Gt](),D($,[N])},enter(N){let $=d,x=u,v=f;if(!n.isMounted)if(r)$=L||d,x=w||u,v=b||f;else return;let k=!1;const A=N[ms]=ce=>{k||(k=!0,ce?D(v,[N]):D(x,[N]),F.delayedLeave&&F.delayedLeave(),N[ms]=void 0)};$?_($,[N,A]):A()},leave(N,$){const x=String(e.key);if(N[ms]&&N[ms](!0),n.isUnmounting)return $();D(h,[N]);let v=!1;const k=N[Gt]=A=>{v||(v=!0,$(),A?D(y,[N]):D(T,[N]),N[Gt]=void 0,P[x]===e&&delete P[x])};P[x]=e,m?_(m,[N,k]):k()},clone(N){const $=Jn(N,t,n,s,o);return o&&o($),$}};return F}function oo(e){if(Bs(e))return e=zt(e),e.children=null,e}function _r(e){if(!Bs(e))return Xa(e.type)&&e.children?ri(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&pe(n.default))return n.default()}}function un(e,t){e.shapeFlag&6&&e.component?(e.transition=t,un(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Wo(e,t=!1,n){let s=[],o=0;for(let r=0;r<e.length;r++){let a=e[r];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===ye?(a.patchFlag&128&&o++,s=s.concat(Wo(a.children,t,l))):(t||a.type!==Je)&&s.push(l!=null?zt(a,{key:l}):a)}if(o>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ii(e,t){return pe(e)?Be({name:e.name},t,{setup:e}):e}function li(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Kn(e,t,n,s,o=!1){if(de(e)){e.forEach((T,y)=>Kn(T,t&&(de(t)?t[y]:t),n,s,o));return}if(Fn(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Kn(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Gs(s.component):s.el,a=o?null:r,{i:l,r:c}=e,d=t&&t.r,u=l.refs===Re?l.refs={}:l.refs,f=l.setupState,h=_e(f),m=f===Re?()=>!1:T=>Ae(h,T);if(d!=null&&d!==c&&(Ue(d)?(u[d]=null,m(d)&&(f[d]=null)):je(d)&&(d.value=null)),pe(c))is(c,l,12,[a,u]);else{const T=Ue(c),y=je(c);if(T||y){const B=()=>{if(e.f){const L=T?m(c)?f[c]:u[c]:c.value;o?de(L)&&Uo(L,r):de(L)?L.includes(r)||L.push(r):T?(u[c]=[r],m(c)&&(f[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else T?(u[c]=a,m(c)&&(f[c]=a)):y&&(c.value=a,e.k&&(u[e.k]=a))};a?(B.id=-1,ze(B,n)):B()}}}Us().requestIdleCallback;Us().cancelIdleCallback;const Fn=e=>!!e.type.__asyncLoader,Bs=e=>e.type.__isKeepAlive;function fc(e,t){ci(e,"a",t)}function hc(e,t){ci(e,"da",t)}function ci(e,t,n=Ge){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ks(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Bs(o.parent.vnode)&&gc(s,t,n,o),o=o.parent}}function gc(e,t,n,s){const o=Ks(t,e,s,!0);Zt(()=>{Uo(s[t],o)},n)}function Ks(e,t,n=Ge,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...a)=>{Ut();const l=cs(n),c=gt(t,n,e,a);return l(),Ht(),c});return s?o.unshift(r):o.push(r),r}}const Mt=e=>(t,n=Ge)=>{(!Zn||e==="sp")&&Ks(e,(...s)=>t(...s),n)},mc=Mt("bm"),pt=Mt("m"),pc=Mt("bu"),ui=Mt("u"),di=Mt("bum"),Zt=Mt("um"),vc=Mt("sp"),yc=Mt("rtg"),bc=Mt("rtc");function Tc(e,t=Ge){Ks("ec",e,t)}const wc="components";function In(e,t){return Cc(wc,e,!0,t)||e}const _c=Symbol.for("v-ndc");function Cc(e,t,n=!0,s=!1){const o=tt||Ge;if(o){const r=o.type;{const l=cu(r,!1);if(l&&(l===t||l===ct(t)||l===Ns(ct(t))))return r}const a=Cr(o[e]||r[e],t)||Cr(o.appContext[e],t);return!a&&s?r:a}}function Cr(e,t){return e&&(e[t]||e[ct(t)]||e[Ns(ct(t))])}function De(e,t,n,s){let o;const r=n,a=de(e);if(a||Ue(e)){const l=a&&pn(e);let c=!1,d=!1;l&&(c=!it(e),d=Wt(e),e=Hs(e)),o=new Array(e.length);for(let u=0,f=e.length;u<f;u++)o[u]=t(c?d?ks(Ve(e[u])):Ve(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,r)}else if(xe(e))if(e[Symbol.iterator])o=Array.from(e,(l,c)=>t(l,c,void 0,r));else{const l=Object.keys(e);o=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const u=l[c];o[c]=t(e[u],u,c,r)}}else o=[];return o}const wo=e=>e?xi(e)?Gs(e):wo(e.parent):null,Vn=Be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wo(e.parent),$root:e=>wo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>hi(e),$forceUpdate:e=>e.f||(e.f=()=>{Yo(e.update)}),$nextTick:e=>e.n||(e.n=zn.bind(e.proxy)),$watch:e=>Gc.bind(e)}),ro=(e,t)=>e!==Re&&!e.__isScriptSetup&&Ae(e,t),Sc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:r,accessCache:a,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(ro(s,t))return a[t]=1,s[t];if(o!==Re&&Ae(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Ae(d,t))return a[t]=3,r[t];if(n!==Re&&Ae(n,t))return a[t]=4,n[t];_o&&(a[t]=0)}}const u=Vn[t];let f,h;if(u)return t==="$attrs"&&Ye(e.attrs,"get",""),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==Re&&Ae(n,t))return a[t]=4,n[t];if(h=c.config.globalProperties,Ae(h,t))return h[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return ro(o,t)?(o[t]=n,!0):s!==Re&&Ae(s,t)?(s[t]=n,!0):Ae(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},a){let l;return!!n[a]||e!==Re&&Ae(e,a)||ro(t,a)||(l=r[0])&&Ae(l,a)||Ae(s,a)||Ae(Vn,a)||Ae(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ae(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Sr(e){return de(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let _o=!0;function kc(e){const t=hi(e),n=e.proxy,s=e.ctx;_o=!1,t.beforeCreate&&kr(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:a,watch:l,provide:c,inject:d,created:u,beforeMount:f,mounted:h,beforeUpdate:m,updated:T,activated:y,deactivated:B,beforeDestroy:L,beforeUnmount:w,destroyed:b,unmounted:S,render:P,renderTracked:D,renderTriggered:_,errorCaptured:F,serverPrefetch:N,expose:$,inheritAttrs:x,components:v,directives:k,filters:A}=t;if(d&&Ec(d,s,null),a)for(const ae in a){const se=a[ae];pe(se)&&(s[ae]=se.bind(n))}if(o){const ae=o.call(n,n);xe(ae)&&(e.data=Lt(ae))}if(_o=!0,r)for(const ae in r){const se=r[ae],te=pe(se)?se.bind(n,n):pe(se.get)?se.get.bind(n,n):kt,ke=!pe(se)&&pe(se.set)?se.set.bind(n):kt,be=J({get:te,set:ke});Object.defineProperty(s,ae,{enumerable:!0,configurable:!0,get:()=>be.value,set:oe=>be.value=oe})}if(l)for(const ae in l)fi(l[ae],s,n,ae);if(c){const ae=pe(c)?c.call(n):c;Reflect.ownKeys(ae).forEach(se=>{bs(se,ae[se])})}u&&kr(u,e,"c");function G(ae,se){de(se)?se.forEach(te=>ae(te.bind(n))):se&&ae(se.bind(n))}if(G(mc,f),G(pt,h),G(pc,m),G(ui,T),G(fc,y),G(hc,B),G(Tc,F),G(bc,D),G(yc,_),G(di,w),G(Zt,S),G(vc,N),de($))if($.length){const ae=e.exposed||(e.exposed={});$.forEach(se=>{Object.defineProperty(ae,se,{get:()=>n[se],set:te=>n[se]=te})})}else e.exposed||(e.exposed={});P&&e.render===kt&&(e.render=P),x!=null&&(e.inheritAttrs=x),v&&(e.components=v),k&&(e.directives=k),N&&li(e)}function Ec(e,t,n=kt){de(e)&&(e=Co(e));for(const s in e){const o=e[s];let r;xe(o)?"default"in o?r=ht(o.from||s,o.default,!0):r=ht(o.from||s):r=ht(o),je(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[s]=r}}function kr(e,t,n){gt(de(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function fi(e,t,n,s){let o=s.includes(".")?ki(n,s):()=>n[s];if(Ue(e)){const r=t[e];pe(r)&&ot(o,r)}else if(pe(e))ot(o,e.bind(n));else if(xe(e))if(de(e))e.forEach(r=>fi(r,t,n,s));else{const r=pe(e.handler)?e.handler.bind(n):t[e.handler];pe(r)&&ot(o,r,e)}}function hi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,l=r.get(t);let c;return l?c=l:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(d=>Is(c,d,a,!0)),Is(c,t,a)),xe(t)&&r.set(t,c),c}function Is(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&Is(e,r,n,!0),o&&o.forEach(a=>Is(e,a,n,!0));for(const a in t)if(!(s&&a==="expose")){const l=Ac[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Ac={data:Er,props:Ar,emits:Ar,methods:Nn,computed:Nn,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:Nn,directives:Nn,watch:Ic,provide:Er,inject:$c};function Er(e,t){return t?e?function(){return Be(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function $c(e,t){return Nn(Co(e),Co(t))}function Co(e){if(de(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function We(e,t){return e?[...new Set([].concat(e,t))]:t}function Nn(e,t){return e?Be(Object.create(null),e,t):t}function Ar(e,t){return e?de(e)&&de(t)?[...new Set([...e,...t])]:Be(Object.create(null),Sr(e),Sr(t??{})):t}function Ic(e,t){if(!e)return t;if(!t)return e;const n=Be(Object.create(null),e);for(const s in t)n[s]=We(e[s],t[s]);return n}function gi(){return{app:null,config:{isNativeTag:bl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Rc=0;function xc(e,t){return function(s,o=null){pe(s)||(s=Be({},s)),o!=null&&!xe(o)&&(o=null);const r=gi(),a=new WeakSet,l=[];let c=!1;const d=r.app={_uid:Rc++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:du,get config(){return r.config},set config(u){},use(u,...f){return a.has(u)||(u&&pe(u.install)?(a.add(u),u.install(d,...f)):pe(u)&&(a.add(u),u(d,...f))),d},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),d},component(u,f){return f?(r.components[u]=f,d):r.components[u]},directive(u,f){return f?(r.directives[u]=f,d):r.directives[u]},mount(u,f,h){if(!c){const m=d._ceVNode||he(s,o);return m.appContext=r,h===!0?h="svg":h===!1&&(h=void 0),e(m,u,h),c=!0,d._container=u,u.__vue_app__=d,Gs(m.component)}},onUnmount(u){l.push(u)},unmount(){c&&(gt(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,f){return r.provides[u]=f,d},runWithContext(u){const f=yn;yn=d;try{return u()}finally{yn=f}}};return d}}let yn=null;function bs(e,t){if(Ge){let n=Ge.provides;const s=Ge.parent&&Ge.parent.provides;s===n&&(n=Ge.provides=Object.create(s)),n[e]=t}}function ht(e,t,n=!1){const s=Ge||tt;if(s||yn){let o=yn?yn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&pe(t)?t.call(s&&s.proxy):t}}const mi={},pi=()=>Object.create(mi),vi=e=>Object.getPrototypeOf(e)===mi;function Oc(e,t,n,s=!1){const o={},r=pi();e.propsDefaults=Object.create(null),yi(e,t,o,r);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=s?o:Fa(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Pc(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:a}}=e,l=_e(o),[c]=e.propsOptions;let d=!1;if((s||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Fs(e.emitsOptions,h))continue;const m=t[h];if(c)if(Ae(r,h))m!==r[h]&&(r[h]=m,d=!0);else{const T=ct(h);o[T]=So(c,l,T,m,e,!1)}else m!==r[h]&&(r[h]=m,d=!0)}}}else{yi(e,t,o,r)&&(d=!0);let u;for(const f in l)(!t||!Ae(t,f)&&((u=Xt(f))===f||!Ae(t,u)))&&(c?n&&(n[f]!==void 0||n[u]!==void 0)&&(o[f]=So(c,l,f,void 0,e,!0)):delete o[f]);if(r!==l)for(const f in r)(!t||!Ae(t,f))&&(delete r[f],d=!0)}d&&Ot(e.attrs,"set","")}function yi(e,t,n,s){const[o,r]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Un(c))continue;const d=t[c];let u;o&&Ae(o,u=ct(c))?!r||!r.includes(u)?n[u]=d:(l||(l={}))[u]=d:Fs(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,a=!0)}if(r){const c=_e(n),d=l||Re;for(let u=0;u<r.length;u++){const f=r[u];n[f]=So(o,c,f,d[f],e,!Ae(d,f))}}return a}function So(e,t,n,s,o,r){const a=e[n];if(a!=null){const l=Ae(a,"default");if(l&&s===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&pe(c)){const{propsDefaults:d}=o;if(n in d)s=d[n];else{const u=cs(o);s=d[n]=c.call(null,t),u()}}else s=c;o.ce&&o.ce._setProp(n,s)}a[0]&&(r&&!l?s=!1:a[1]&&(s===""||s===Xt(n))&&(s=!0))}return s}const Dc=new WeakMap;function bi(e,t,n=!1){const s=n?Dc:t.propsCache,o=s.get(e);if(o)return o;const r=e.props,a={},l=[];let c=!1;if(!pe(e)){const u=f=>{c=!0;const[h,m]=bi(f,t,!0);Be(a,h),m&&l.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return xe(e)&&s.set(e,gn),gn;if(de(r))for(let u=0;u<r.length;u++){const f=ct(r[u]);$r(f)&&(a[f]=Re)}else if(r)for(const u in r){const f=ct(u);if($r(f)){const h=r[u],m=a[f]=de(h)||pe(h)?{type:h}:Be({},h),T=m.type;let y=!1,B=!0;if(de(T))for(let L=0;L<T.length;++L){const w=T[L],b=pe(w)&&w.name;if(b==="Boolean"){y=!0;break}else b==="String"&&(B=!1)}else y=pe(T)&&T.name==="Boolean";m[0]=y,m[1]=B,(y||Ae(m,"default"))&&l.push(f)}}const d=[a,l];return xe(e)&&s.set(e,d),d}function $r(e){return e[0]!=="$"&&!Un(e)}const zo=e=>e[0]==="_"||e==="$stable",Qo=e=>de(e)?e.map(St):[St(e)],Lc=(e,t,n)=>{if(t._n)return t;const s=Ne((...o)=>Qo(t(...o)),n);return s._c=!1,s},Ti=(e,t,n)=>{const s=e._ctx;for(const o in e){if(zo(o))continue;const r=e[o];if(pe(r))t[o]=Lc(o,r,s);else if(r!=null){const a=Qo(r);t[o]=()=>a}}},wi=(e,t)=>{const n=Qo(t);e.slots.default=()=>n},_i=(e,t,n)=>{for(const s in t)(n||!zo(s))&&(e[s]=t[s])},Nc=(e,t,n)=>{const s=e.slots=pi();if(e.vnode.shapeFlag&32){const o=t.__;o&&mo(s,"__",o,!0);const r=t._;r?(_i(s,t,n),n&&mo(s,"_",r,!0)):Ti(t,s)}else t&&wi(e,t)},Uc=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,a=Re;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:_i(o,t,n):(r=!t.$stable,Ti(t,o)),a=t}else t&&(wi(e,t),a={default:1});if(r)for(const l in o)!zo(l)&&a[l]==null&&delete o[l]},ze=Jc;function Hc(e){return Mc(e)}function Mc(e,t){const n=Us();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:a,createText:l,createComment:c,setText:d,setElementText:u,parentNode:f,nextSibling:h,setScopeId:m=kt,insertStaticContent:T}=e,y=(g,p,E,H=null,K=null,M=null,X=void 0,W=null,Y=!!p.dynamicChildren)=>{if(g===p)return;g&&!rn(g,p)&&(H=U(g),oe(g,K,M,!0),g=null),p.patchFlag===-2&&(Y=!1,p.dynamicChildren=null);const{type:j,ref:fe,shapeFlag:ee}=p;switch(j){case Vs:B(g,p,E,H);break;case Je:L(g,p,E,H);break;case Ts:g==null&&w(p,E,H,X);break;case ye:v(g,p,E,H,K,M,X,W,Y);break;default:ee&1?P(g,p,E,H,K,M,X,W,Y):ee&6?k(g,p,E,H,K,M,X,W,Y):(ee&64||ee&128)&&j.process(g,p,E,H,K,M,X,W,Y,le)}fe!=null&&K?Kn(fe,g&&g.ref,M,p||g,!p):fe==null&&g&&g.ref!=null&&Kn(g.ref,null,M,g,!0)},B=(g,p,E,H)=>{if(g==null)s(p.el=l(p.children),E,H);else{const K=p.el=g.el;p.children!==g.children&&d(K,p.children)}},L=(g,p,E,H)=>{g==null?s(p.el=c(p.children||""),E,H):p.el=g.el},w=(g,p,E,H)=>{[g.el,g.anchor]=T(g.children,p,E,H,g.el,g.anchor)},b=({el:g,anchor:p},E,H)=>{let K;for(;g&&g!==p;)K=h(g),s(g,E,H),g=K;s(p,E,H)},S=({el:g,anchor:p})=>{let E;for(;g&&g!==p;)E=h(g),o(g),g=E;o(p)},P=(g,p,E,H,K,M,X,W,Y)=>{p.type==="svg"?X="svg":p.type==="math"&&(X="mathml"),g==null?D(p,E,H,K,M,X,W,Y):N(g,p,K,M,X,W,Y)},D=(g,p,E,H,K,M,X,W)=>{let Y,j;const{props:fe,shapeFlag:ee,transition:ue,dirs:ge}=g;if(Y=g.el=a(g.type,M,fe&&fe.is,fe),ee&8?u(Y,g.children):ee&16&&F(g.children,Y,null,H,K,ao(g,M),X,W),ge&&tn(g,null,H,"created"),_(Y,g,g.scopeId,X,H),fe){for(const Oe in fe)Oe!=="value"&&!Un(Oe)&&r(Y,Oe,null,fe[Oe],M,H);"value"in fe&&r(Y,"value",null,fe.value,M),(j=fe.onVnodeBeforeMount)&&wt(j,H,g)}ge&&tn(g,null,H,"beforeMount");const Te=Bc(K,ue);Te&&ue.beforeEnter(Y),s(Y,p,E),((j=fe&&fe.onVnodeMounted)||Te||ge)&&ze(()=>{j&&wt(j,H,g),Te&&ue.enter(Y),ge&&tn(g,null,H,"mounted")},K)},_=(g,p,E,H,K)=>{if(E&&m(g,E),H)for(let M=0;M<H.length;M++)m(g,H[M]);if(K){let M=K.subTree;if(p===M||Ai(M.type)&&(M.ssContent===p||M.ssFallback===p)){const X=K.vnode;_(g,X,X.scopeId,X.slotScopeIds,K.parent)}}},F=(g,p,E,H,K,M,X,W,Y=0)=>{for(let j=Y;j<g.length;j++){const fe=g[j]=W?jt(g[j]):St(g[j]);y(null,fe,p,E,H,K,M,X,W)}},N=(g,p,E,H,K,M,X)=>{const W=p.el=g.el;let{patchFlag:Y,dynamicChildren:j,dirs:fe}=p;Y|=g.patchFlag&16;const ee=g.props||Re,ue=p.props||Re;let ge;if(E&&nn(E,!1),(ge=ue.onVnodeBeforeUpdate)&&wt(ge,E,p,g),fe&&tn(p,g,E,"beforeUpdate"),E&&nn(E,!0),(ee.innerHTML&&ue.innerHTML==null||ee.textContent&&ue.textContent==null)&&u(W,""),j?$(g.dynamicChildren,j,W,E,H,ao(p,K),M):X||se(g,p,W,null,E,H,ao(p,K),M,!1),Y>0){if(Y&16)x(W,ee,ue,E,K);else if(Y&2&&ee.class!==ue.class&&r(W,"class",null,ue.class,K),Y&4&&r(W,"style",ee.style,ue.style,K),Y&8){const Te=p.dynamicProps;for(let Oe=0;Oe<Te.length;Oe++){const $e=Te[Oe],Xe=ee[$e],Ze=ue[$e];(Ze!==Xe||$e==="value")&&r(W,$e,Xe,Ze,K,E)}}Y&1&&g.children!==p.children&&u(W,p.children)}else!X&&j==null&&x(W,ee,ue,E,K);((ge=ue.onVnodeUpdated)||fe)&&ze(()=>{ge&&wt(ge,E,p,g),fe&&tn(p,g,E,"updated")},H)},$=(g,p,E,H,K,M,X)=>{for(let W=0;W<p.length;W++){const Y=g[W],j=p[W],fe=Y.el&&(Y.type===ye||!rn(Y,j)||Y.shapeFlag&198)?f(Y.el):E;y(Y,j,fe,null,H,K,M,X,!0)}},x=(g,p,E,H,K)=>{if(p!==E){if(p!==Re)for(const M in p)!Un(M)&&!(M in E)&&r(g,M,p[M],null,K,H);for(const M in E){if(Un(M))continue;const X=E[M],W=p[M];X!==W&&M!=="value"&&r(g,M,W,X,K,H)}"value"in E&&r(g,"value",p.value,E.value,K)}},v=(g,p,E,H,K,M,X,W,Y)=>{const j=p.el=g?g.el:l(""),fe=p.anchor=g?g.anchor:l("");let{patchFlag:ee,dynamicChildren:ue,slotScopeIds:ge}=p;ge&&(W=W?W.concat(ge):ge),g==null?(s(j,E,H),s(fe,E,H),F(p.children||[],E,fe,K,M,X,W,Y)):ee>0&&ee&64&&ue&&g.dynamicChildren?($(g.dynamicChildren,ue,E,K,M,X,W),(p.key!=null||K&&p===K.subTree)&&Jo(g,p,!0)):se(g,p,E,fe,K,M,X,W,Y)},k=(g,p,E,H,K,M,X,W,Y)=>{p.slotScopeIds=W,g==null?p.shapeFlag&512?K.ctx.activate(p,E,H,X,Y):A(p,E,H,K,M,X,Y):ce(g,p,Y)},A=(g,p,E,H,K,M,X)=>{const W=g.component=ou(g,H,K);if(Bs(g)&&(W.ctx.renderer=le),ru(W,!1,X),W.asyncDep){if(K&&K.registerDep(W,G,X),!g.el){const Y=W.subTree=he(Je);L(null,Y,p,E)}}else G(W,g,p,E,K,M,X)},ce=(g,p,E)=>{const H=p.component=g.component;if(zc(g,p,E))if(H.asyncDep&&!H.asyncResolved){ae(H,p,E);return}else H.next=p,H.update();else p.el=g.el,H.vnode=p},G=(g,p,E,H,K,M,X)=>{const W=()=>{if(g.isMounted){let{next:ee,bu:ue,u:ge,parent:Te,vnode:Oe}=g;{const bt=Ci(g);if(bt){ee&&(ee.el=Oe.el,ae(g,ee,X)),bt.asyncDep.then(()=>{g.isUnmounted||W()});return}}let $e=ee,Xe;nn(g,!1),ee?(ee.el=Oe.el,ae(g,ee,X)):ee=Oe,ue&&vs(ue),(Xe=ee.props&&ee.props.onVnodeBeforeUpdate)&&wt(Xe,Te,ee,Oe),nn(g,!0);const Ze=Rr(g),yt=g.subTree;g.subTree=Ze,y(yt,Ze,f(yt.el),U(yt),g,K,M),ee.el=Ze.el,$e===null&&Qc(g,Ze.el),ge&&ze(ge,K),(Xe=ee.props&&ee.props.onVnodeUpdated)&&ze(()=>wt(Xe,Te,ee,Oe),K)}else{let ee;const{el:ue,props:ge}=p,{bm:Te,m:Oe,parent:$e,root:Xe,type:Ze}=g,yt=Fn(p);nn(g,!1),Te&&vs(Te),!yt&&(ee=ge&&ge.onVnodeBeforeMount)&&wt(ee,$e,p),nn(g,!0);{Xe.ce&&Xe.ce._def.shadowRoot!==!1&&Xe.ce._injectChildStyle(Ze);const bt=g.subTree=Rr(g);y(null,bt,E,H,g,K,M),p.el=bt.el}if(Oe&&ze(Oe,K),!yt&&(ee=ge&&ge.onVnodeMounted)){const bt=p;ze(()=>wt(ee,$e,bt),K)}(p.shapeFlag&256||$e&&Fn($e.vnode)&&$e.vnode.shapeFlag&256)&&g.a&&ze(g.a,K),g.isMounted=!0,p=E=H=null}};g.scope.on();const Y=g.effect=new $a(W);g.scope.off();const j=g.update=Y.run.bind(Y),fe=g.job=Y.runIfDirty.bind(Y);fe.i=g,fe.id=g.uid,Y.scheduler=()=>Yo(fe),nn(g,!0),j()},ae=(g,p,E)=>{p.component=g;const H=g.vnode.props;g.vnode=p,g.next=null,Pc(g,p.props,H,E),Uc(g,p.children,E),Ut(),yr(g),Ht()},se=(g,p,E,H,K,M,X,W,Y=!1)=>{const j=g&&g.children,fe=g?g.shapeFlag:0,ee=p.children,{patchFlag:ue,shapeFlag:ge}=p;if(ue>0){if(ue&128){ke(j,ee,E,H,K,M,X,W,Y);return}else if(ue&256){te(j,ee,E,H,K,M,X,W,Y);return}}ge&8?(fe&16&&Le(j,K,M),ee!==j&&u(E,ee)):fe&16?ge&16?ke(j,ee,E,H,K,M,X,W,Y):Le(j,K,M,!0):(fe&8&&u(E,""),ge&16&&F(ee,E,H,K,M,X,W,Y))},te=(g,p,E,H,K,M,X,W,Y)=>{g=g||gn,p=p||gn;const j=g.length,fe=p.length,ee=Math.min(j,fe);let ue;for(ue=0;ue<ee;ue++){const ge=p[ue]=Y?jt(p[ue]):St(p[ue]);y(g[ue],ge,E,null,K,M,X,W,Y)}j>fe?Le(g,K,M,!0,!1,ee):F(p,E,H,K,M,X,W,Y,ee)},ke=(g,p,E,H,K,M,X,W,Y)=>{let j=0;const fe=p.length;let ee=g.length-1,ue=fe-1;for(;j<=ee&&j<=ue;){const ge=g[j],Te=p[j]=Y?jt(p[j]):St(p[j]);if(rn(ge,Te))y(ge,Te,E,null,K,M,X,W,Y);else break;j++}for(;j<=ee&&j<=ue;){const ge=g[ee],Te=p[ue]=Y?jt(p[ue]):St(p[ue]);if(rn(ge,Te))y(ge,Te,E,null,K,M,X,W,Y);else break;ee--,ue--}if(j>ee){if(j<=ue){const ge=ue+1,Te=ge<fe?p[ge].el:H;for(;j<=ue;)y(null,p[j]=Y?jt(p[j]):St(p[j]),E,Te,K,M,X,W,Y),j++}}else if(j>ue)for(;j<=ee;)oe(g[j],K,M,!0),j++;else{const ge=j,Te=j,Oe=new Map;for(j=Te;j<=ue;j++){const st=p[j]=Y?jt(p[j]):St(p[j]);st.key!=null&&Oe.set(st.key,j)}let $e,Xe=0;const Ze=ue-Te+1;let yt=!1,bt=0;const xn=new Array(Ze);for(j=0;j<Ze;j++)xn[j]=0;for(j=ge;j<=ee;j++){const st=g[j];if(Xe>=Ze){oe(st,K,M,!0);continue}let Tt;if(st.key!=null)Tt=Oe.get(st.key);else for($e=Te;$e<=ue;$e++)if(xn[$e-Te]===0&&rn(st,p[$e])){Tt=$e;break}Tt===void 0?oe(st,K,M,!0):(xn[Tt-Te]=j+1,Tt>=bt?bt=Tt:yt=!0,y(st,p[Tt],E,null,K,M,X,W,Y),Xe++)}const fr=yt?Kc(xn):gn;for($e=fr.length-1,j=Ze-1;j>=0;j--){const st=Te+j,Tt=p[st],hr=st+1<fe?p[st+1].el:H;xn[j]===0?y(null,Tt,E,hr,K,M,X,W,Y):yt&&($e<0||j!==fr[$e]?be(Tt,E,hr,2):$e--)}}},be=(g,p,E,H,K=null)=>{const{el:M,type:X,transition:W,children:Y,shapeFlag:j}=g;if(j&6){be(g.component.subTree,p,E,H);return}if(j&128){g.suspense.move(p,E,H);return}if(j&64){X.move(g,p,E,le);return}if(X===ye){s(M,p,E);for(let ee=0;ee<Y.length;ee++)be(Y[ee],p,E,H);s(g.anchor,p,E);return}if(X===Ts){b(g,p,E);return}if(H!==2&&j&1&&W)if(H===0)W.beforeEnter(M),s(M,p,E),ze(()=>W.enter(M),K);else{const{leave:ee,delayLeave:ue,afterLeave:ge}=W,Te=()=>{g.ctx.isUnmounted?o(M):s(M,p,E)},Oe=()=>{ee(M,()=>{Te(),ge&&ge()})};ue?ue(M,Te,Oe):Oe()}else s(M,p,E)},oe=(g,p,E,H=!1,K=!1)=>{const{type:M,props:X,ref:W,children:Y,dynamicChildren:j,shapeFlag:fe,patchFlag:ee,dirs:ue,cacheIndex:ge}=g;if(ee===-2&&(K=!1),W!=null&&(Ut(),Kn(W,null,E,g,!0),Ht()),ge!=null&&(p.renderCache[ge]=void 0),fe&256){p.ctx.deactivate(g);return}const Te=fe&1&&ue,Oe=!Fn(g);let $e;if(Oe&&($e=X&&X.onVnodeBeforeUnmount)&&wt($e,p,g),fe&6)ie(g.component,E,H);else{if(fe&128){g.suspense.unmount(E,H);return}Te&&tn(g,null,p,"beforeUnmount"),fe&64?g.type.remove(g,p,E,le,H):j&&!j.hasOnce&&(M!==ye||ee>0&&ee&64)?Le(j,p,E,!1,!0):(M===ye&&ee&384||!K&&fe&16)&&Le(Y,p,E),H&&C(g)}(Oe&&($e=X&&X.onVnodeUnmounted)||Te)&&ze(()=>{$e&&wt($e,p,g),Te&&tn(g,null,p,"unmounted")},E)},C=g=>{const{type:p,el:E,anchor:H,transition:K}=g;if(p===ye){O(E,H);return}if(p===Ts){S(g);return}const M=()=>{o(E),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(g.shapeFlag&1&&K&&!K.persisted){const{leave:X,delayLeave:W}=K,Y=()=>X(E,M);W?W(g.el,M,Y):Y()}else M()},O=(g,p)=>{let E;for(;g!==p;)E=h(g),o(g),g=E;o(p)},ie=(g,p,E)=>{const{bum:H,scope:K,job:M,subTree:X,um:W,m:Y,a:j,parent:fe,slots:{__:ee}}=g;Ir(Y),Ir(j),H&&vs(H),fe&&de(ee)&&ee.forEach(ue=>{fe.renderCache[ue]=void 0}),K.stop(),M&&(M.flags|=8,oe(X,g,p,E)),W&&ze(W,p),ze(()=>{g.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Le=(g,p,E,H=!1,K=!1,M=0)=>{for(let X=M;X<g.length;X++)oe(g[X],p,E,H,K)},U=g=>{if(g.shapeFlag&6)return U(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const p=h(g.anchor||g.el),E=p&&p[Ja];return E?h(E):p};let ne=!1;const Z=(g,p,E)=>{g==null?p._vnode&&oe(p._vnode,null,null,!0):y(p._vnode||null,g,p,null,null,null,E),p._vnode=g,ne||(ne=!0,yr(),Wa(),ne=!1)},le={p:y,um:oe,m:be,r:C,mt:A,mc:F,pc:se,pbc:$,n:U,o:e};return{render:Z,hydrate:void 0,createApp:xc(Z)}}function ao({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function nn({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Bc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jo(e,t,n=!1){const s=e.children,o=t.children;if(de(s)&&de(o))for(let r=0;r<s.length;r++){const a=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=jt(o[r]),l.el=a.el),!n&&l.patchFlag!==-2&&Jo(a,l)),l.type===Vs&&(l.el=a.el),l.type===Je&&!l.el&&(l.el=a.el)}}function Kc(e){const t=e.slice(),n=[0];let s,o,r,a,l;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(r=0,a=n.length-1;r<a;)l=r+a>>1,e[n[l]]<d?r=l+1:a=l;d<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=t[a];return n}function Ci(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ci(t)}function Ir(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Fc=Symbol.for("v-scx"),Vc=()=>ht(Fc);function ot(e,t,n){return Si(e,t,n)}function Si(e,t,n=Re){const{immediate:s,deep:o,flush:r,once:a}=n,l=Be({},n),c=t&&s||!t&&r!=="post";let d;if(Zn){if(r==="sync"){const m=Vc();d=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=kt,m.resume=kt,m.pause=kt,m}}const u=Ge;l.call=(m,T,y)=>gt(m,u,T,y);let f=!1;r==="post"?l.scheduler=m=>{ze(m,u&&u.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(m,T)=>{T?m():Yo(m)}),l.augmentJob=m=>{t&&(m.flags|=4),f&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const h=rc(e,t,l);return Zn&&(d?d.push(h):c&&h()),h}function Gc(e,t,n){const s=this.proxy,o=Ue(e)?e.includes(".")?ki(s,e):()=>s[e]:e.bind(s,s);let r;pe(t)?r=t:(r=t.handler,n=t);const a=cs(this),l=Si(o,r.bind(s),n);return a(),l}function ki(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const jc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ct(t)}Modifiers`]||e[`${Xt(t)}Modifiers`];function qc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Re;let o=n;const r=t.startsWith("update:"),a=r&&jc(s,t.slice(7));a&&(a.trim&&(o=n.map(u=>Ue(u)?u.trim():u)),a.number&&(o=n.map(Ss)));let l,c=s[l=Zs(t)]||s[l=Zs(ct(t))];!c&&r&&(c=s[l=Zs(Xt(t))]),c&&gt(c,e,6,o);const d=s[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,gt(d,e,6,o)}}function Ei(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let a={},l=!1;if(!pe(e)){const c=d=>{const u=Ei(d,t,!0);u&&(l=!0,Be(a,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?(xe(e)&&s.set(e,null),null):(de(r)?r.forEach(c=>a[c]=null):Be(a,r),xe(e)&&s.set(e,a),a)}function Fs(e,t){return!e||!Ds(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ae(e,t[0].toLowerCase()+t.slice(1))||Ae(e,Xt(t))||Ae(e,t))}function Rr(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[r],slots:a,attrs:l,emit:c,render:d,renderCache:u,props:f,data:h,setupState:m,ctx:T,inheritAttrs:y}=e,B=$s(e);let L,w;try{if(n.shapeFlag&4){const S=o||s,P=S;L=St(d.call(P,S,u,f,m,h,T)),w=l}else{const S=t;L=St(S.length>1?S(f,{attrs:l,slots:a,emit:c}):S(f,null)),w=t.props?l:Yc(l)}}catch(S){Gn.length=0,Ms(S,e,1),L=he(Je)}let b=L;if(w&&y!==!1){const S=Object.keys(w),{shapeFlag:P}=b;S.length&&P&7&&(r&&S.some(No)&&(w=Wc(w,r)),b=zt(b,w,!1,!0))}return n.dirs&&(b=zt(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&un(b,n.transition),L=b,$s(B),L}const Yc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ds(n))&&((t||(t={}))[n]=e[n]);return t},Wc=(e,t)=>{const n={};for(const s in e)(!No(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function zc(e,t,n){const{props:s,children:o,component:r}=e,{props:a,children:l,patchFlag:c}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?xr(s,a,d):!!a;if(c&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(a[h]!==s[h]&&!Fs(d,h))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?xr(s,a,d):!0:!!a;return!1}function xr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!Fs(n,r))return!0}return!1}function Qc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ai=e=>e.__isSuspense;function Jc(e,t){t&&t.pendingBranch?de(e)?t.effects.push(...e):t.effects.push(e):lc(e)}const ye=Symbol.for("v-fgt"),Vs=Symbol.for("v-txt"),Je=Symbol.for("v-cmt"),Ts=Symbol.for("v-stc"),Gn=[];let rt=null;function I(e=!1){Gn.push(rt=e?null:[])}function Xc(){Gn.pop(),rt=Gn[Gn.length-1]||null}let Xn=1;function Or(e,t=!1){Xn+=e,e<0&&rt&&t&&(rt.hasOnce=!0)}function $i(e){return e.dynamicChildren=Xn>0?rt||gn:null,Xc(),Xn>0&&rt&&rt.push(e),e}function R(e,t,n,s,o,r){return $i(i(e,t,n,s,o,r,!0))}function ls(e,t,n,s,o){return $i(he(e,t,n,s,o,!0))}function Rs(e){return e?e.__v_isVNode===!0:!1}function rn(e,t){return e.type===t.type&&e.key===t.key}const Ii=({key:e})=>e??null,ws=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ue(e)||je(e)||pe(e)?{i:tt,r:e,k:t,f:!!n}:e:null);function i(e,t=null,n=null,s=0,o=null,r=e===ye?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ii(t),ref:t&&ws(t),scopeId:Qa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:tt};return l?(Xo(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=Ue(n)?8:16),Xn>0&&!a&&rt&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&rt.push(c),c}const he=Zc;function Zc(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===_c)&&(e=Je),Rs(e)){const l=zt(e,t,!0);return n&&Xo(l,n),Xn>0&&!r&&rt&&(l.shapeFlag&6?rt[rt.indexOf(e)]=l:rt.push(l)),l.patchFlag=-2,l}if(uu(e)&&(e=e.__vccOpts),t){t=eu(t);let{class:l,style:c}=t;l&&!Ue(l)&&(t.class=Se(l)),xe(c)&&(qo(c)&&!de(c)&&(c=Be({},c)),t.style=bn(c))}const a=Ue(e)?1:Ai(e)?128:Xa(e)?64:xe(e)?4:pe(e)?2:0;return i(e,t,n,s,o,a,r,!0)}function eu(e){return e?qo(e)||vi(e)?Be({},e):e:null}function zt(e,t,n=!1,s=!1){const{props:o,ref:r,patchFlag:a,children:l,transition:c}=e,d=t?tu(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Ii(d),ref:t&&t.ref?n&&r?de(r)?r.concat(ws(t)):[r,ws(t)]:ws(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ye?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zt(e.ssContent),ssFallback:e.ssFallback&&zt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&un(u,c.clone(u)),u}function z(e=" ",t=0){return he(Vs,null,e,t)}function Nt(e,t){const n=he(Ts,null,e);return n.staticCount=t,n}function me(e="",t=!1){return t?(I(),ls(Je,null,e)):he(Je,null,e)}function St(e){return e==null||typeof e=="boolean"?he(Je):de(e)?he(ye,null,e.slice()):Rs(e)?jt(e):he(Vs,null,String(e))}function jt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zt(e)}function Xo(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(de(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Xo(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!vi(t)?t._ctx=tt:o===3&&tt&&(tt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:tt},n=32):(t=String(t),s&64?(n=16,t=[z(t)]):n=8);e.children=t,e.shapeFlag|=n}function tu(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=Se([t.class,s.class]));else if(o==="style")t.style=bn([t.style,s.style]);else if(Ds(o)){const r=t[o],a=s[o];a&&r!==a&&!(de(r)&&r.includes(a))&&(t[o]=r?[].concat(r,a):a)}else o!==""&&(t[o]=s[o])}return t}function wt(e,t,n,s=null){gt(e,t,7,[n,s])}const nu=gi();let su=0;function ou(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||nu,r={uid:su++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ol(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bi(s,o),emitsOptions:Ei(s,o),emit:null,emitted:null,propsDefaults:Re,inheritAttrs:s.inheritAttrs,ctx:Re,data:Re,props:Re,attrs:Re,slots:Re,refs:Re,setupState:Re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=qc.bind(null,r),e.ce&&e.ce(r),r}let Ge=null;const Ri=()=>Ge||tt;let xs,ko;{const e=Us(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(a=>a(r)):o[0](r)}};xs=t("__VUE_INSTANCE_SETTERS__",n=>Ge=n),ko=t("__VUE_SSR_SETTERS__",n=>Zn=n)}const cs=e=>{const t=Ge;return xs(e),e.scope.on(),()=>{e.scope.off(),xs(t)}},Pr=()=>{Ge&&Ge.scope.off(),xs(null)};function xi(e){return e.vnode.shapeFlag&4}let Zn=!1;function ru(e,t=!1,n=!1){t&&ko(t);const{props:s,children:o}=e.vnode,r=xi(e);Oc(e,s,r,t),Nc(e,o,n||t);const a=r?au(e,t):void 0;return t&&ko(!1),a}function au(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Sc);const{setup:s}=n;if(s){Ut();const o=e.setupContext=s.length>1?lu(e):null,r=cs(e),a=is(s,e,0,[e.props,o]),l=_a(a);if(Ht(),r(),(l||e.sp)&&!Fn(e)&&li(e),l){if(a.then(Pr,Pr),t)return a.then(c=>{Dr(e,c)}).catch(c=>{Ms(c,e,0)});e.asyncDep=a}else Dr(e,a)}else Oi(e)}function Dr(e,t,n){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=ja(t)),Oi(e)}function Oi(e,t,n){const s=e.type;e.render||(e.render=s.render||kt);{const o=cs(e);Ut();try{kc(e)}finally{Ht(),o()}}}const iu={get(e,t){return Ye(e,"get",""),e[t]}};function lu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,iu),slots:e.slots,emit:e.emit,expose:t}}function Gs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ja(Xl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Vn)return Vn[n](e)},has(t,n){return n in t||n in Vn}})):e.proxy}function cu(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function uu(e){return pe(e)&&"__vccOpts"in e}const J=(e,t)=>sc(e,t,Zn);function Zo(e,t,n){const s=arguments.length;return s===2?xe(t)&&!de(t)?Rs(t)?he(e,null,[t]):he(e,t):he(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Rs(n)&&(n=[n]),he(e,t,n))}const du="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eo;const Lr=typeof window<"u"&&window.trustedTypes;if(Lr)try{Eo=Lr.createPolicy("vue",{createHTML:e=>e})}catch{}const Pi=Eo?e=>Eo.createHTML(e):e=>e,fu="http://www.w3.org/2000/svg",hu="http://www.w3.org/1998/Math/MathML",Rt=typeof document<"u"?document:null,Nr=Rt&&Rt.createElement("template"),gu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?Rt.createElementNS(fu,e):t==="mathml"?Rt.createElementNS(hu,e):n?Rt.createElement(e,{is:n}):Rt.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>Rt.createTextNode(e),createComment:e=>Rt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Rt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const a=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Nr.innerHTML=Pi(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Nr.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Bt="transition",Pn="animation",Tn=Symbol("_vtc"),Di={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Li=Be({},si,Di),mu=e=>(e.displayName="Transition",e.props=Li,e),js=mu((e,{slots:t})=>Zo(dc,Ni(e),t)),sn=(e,t=[])=>{de(e)?e.forEach(n=>n(...t)):e&&e(...t)},Ur=e=>e?de(e)?e.some(t=>t.length>1):e.length>1:!1;function Ni(e){const t={};for(const v in e)v in Di||(t[v]=e[v]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:d=a,appearToClass:u=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:h=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,T=pu(o),y=T&&T[0],B=T&&T[1],{onBeforeEnter:L,onEnter:w,onEnterCancelled:b,onLeave:S,onLeaveCancelled:P,onBeforeAppear:D=L,onAppear:_=w,onAppearCancelled:F=b}=t,N=(v,k,A,ce)=>{v._enterCancelled=ce,Ft(v,k?u:l),Ft(v,k?d:a),A&&A()},$=(v,k)=>{v._isLeaving=!1,Ft(v,f),Ft(v,m),Ft(v,h),k&&k()},x=v=>(k,A)=>{const ce=v?_:w,G=()=>N(k,v,A);sn(ce,[k,G]),Hr(()=>{Ft(k,v?c:r),_t(k,v?u:l),Ur(ce)||Mr(k,s,y,G)})};return Be(t,{onBeforeEnter(v){sn(L,[v]),_t(v,r),_t(v,a)},onBeforeAppear(v){sn(D,[v]),_t(v,c),_t(v,d)},onEnter:x(!1),onAppear:x(!0),onLeave(v,k){v._isLeaving=!0;const A=()=>$(v,k);_t(v,f),v._enterCancelled?(_t(v,h),Ao()):(Ao(),_t(v,h)),Hr(()=>{v._isLeaving&&(Ft(v,f),_t(v,m),Ur(S)||Mr(v,s,B,A))}),sn(S,[v,A])},onEnterCancelled(v){N(v,!1,void 0,!0),sn(b,[v])},onAppearCancelled(v){N(v,!0,void 0,!0),sn(F,[v])},onLeaveCancelled(v){$(v),sn(P,[v])}})}function pu(e){if(e==null)return null;if(xe(e))return[io(e.enter),io(e.leave)];{const t=io(e);return[t,t]}}function io(e){return Sl(e)}function _t(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Tn]||(e[Tn]=new Set)).add(t)}function Ft(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[Tn];n&&(n.delete(t),n.size||(e[Tn]=void 0))}function Hr(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let vu=0;function Mr(e,t,n,s){const o=e._endId=++vu,r=()=>{o===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:l,propCount:c}=Ui(e,t);if(!a)return s();const d=a+"end";let u=0;const f=()=>{e.removeEventListener(d,h),r()},h=m=>{m.target===e&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},l+1),e.addEventListener(d,h)}function Ui(e,t){const n=window.getComputedStyle(e),s=T=>(n[T]||"").split(", "),o=s(`${Bt}Delay`),r=s(`${Bt}Duration`),a=Br(o,r),l=s(`${Pn}Delay`),c=s(`${Pn}Duration`),d=Br(l,c);let u=null,f=0,h=0;t===Bt?a>0&&(u=Bt,f=a,h=r.length):t===Pn?d>0&&(u=Pn,f=d,h=c.length):(f=Math.max(a,d),u=f>0?a>d?Bt:Pn:null,h=u?u===Bt?r.length:c.length:0);const m=u===Bt&&/\b(transform|all)(,|$)/.test(s(`${Bt}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:m}}function Br(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Kr(n)+Kr(e[s])))}function Kr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ao(){return document.body.offsetHeight}function yu(e,t,n){const s=e[Tn];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Os=Symbol("_vod"),Hi=Symbol("_vsh"),es={beforeMount(e,{value:t},{transition:n}){e[Os]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Dn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Dn(e,!0),s.enter(e)):s.leave(e,()=>{Dn(e,!1)}):Dn(e,t))},beforeUnmount(e,{value:t}){Dn(e,t)}};function Dn(e,t){e.style.display=t?e[Os]:"none",e[Hi]=!t}const bu=Symbol(""),Tu=/(^|;)\s*display\s*:/;function wu(e,t,n){const s=e.style,o=Ue(n);let r=!1;if(n&&!o){if(t)if(Ue(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&_s(s,l,"")}else for(const a in t)n[a]==null&&_s(s,a,"");for(const a in n)a==="display"&&(r=!0),_s(s,a,n[a])}else if(o){if(t!==n){const a=s[bu];a&&(n+=";"+a),s.cssText=n,r=Tu.test(n)}}else t&&e.removeAttribute("style");Os in e&&(e[Os]=r?s.display:"",e[Hi]&&(s.display="none"))}const Fr=/\s*!important$/;function _s(e,t,n){if(de(n))n.forEach(s=>_s(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=_u(e,t);Fr.test(n)?e.setProperty(Xt(s),n.replace(Fr,""),"important"):e[s]=n}}const Vr=["Webkit","Moz","ms"],lo={};function _u(e,t){const n=lo[t];if(n)return n;let s=ct(t);if(s!=="filter"&&s in e)return lo[t]=s;s=Ns(s);for(let o=0;o<Vr.length;o++){const r=Vr[o]+s;if(r in e)return lo[t]=r}return t}const Gr="http://www.w3.org/1999/xlink";function jr(e,t,n,s,o,r=Rl(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Gr,t.slice(6,t.length)):e.setAttributeNS(Gr,t,n):n==null||r&&!ka(n)?e.removeAttribute(t):e.setAttribute(t,r?"":At(n)?String(n):n)}function qr(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Pi(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=ka(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(o||t)}function Dt(e,t,n,s){e.addEventListener(t,n,s)}function Cu(e,t,n,s){e.removeEventListener(t,n,s)}const Yr=Symbol("_vei");function Su(e,t,n,s,o=null){const r=e[Yr]||(e[Yr]={}),a=r[t];if(s&&a)a.value=s;else{const[l,c]=ku(t);if(s){const d=r[t]=$u(s,o);Dt(e,l,d,c)}else a&&(Cu(e,l,a,c),r[t]=void 0)}}const Wr=/(?:Once|Passive|Capture)$/;function ku(e){let t;if(Wr.test(e)){t={};let s;for(;s=e.match(Wr);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Xt(e.slice(2)),t]}let co=0;const Eu=Promise.resolve(),Au=()=>co||(Eu.then(()=>co=0),co=Date.now());function $u(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;gt(Iu(s,n.value),t,5,[s])};return n.value=e,n.attached=Au(),n}function Iu(e,t){if(de(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const zr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ru=(e,t,n,s,o,r)=>{const a=o==="svg";t==="class"?yu(e,s,a):t==="style"?wu(e,n,s):Ds(t)?No(t)||Su(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):xu(e,t,s,a))?(qr(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jr(e,t,s,a,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ue(s))?qr(e,ct(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),jr(e,t,s,a))};function xu(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&zr(t)&&pe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return zr(t)&&Ue(n)?!1:t in e}const Mi=new WeakMap,Bi=new WeakMap,Ps=Symbol("_moveCb"),Qr=Symbol("_enterCb"),Ou=e=>(delete e.props.mode,e),Pu=Ou({name:"TransitionGroup",props:Be({},Li,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ri(),s=ni();let o,r;return ui(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!Hu(o[0].el,n.vnode.el,a)){o=[];return}o.forEach(Lu),o.forEach(Nu);const l=o.filter(Uu);Ao(),l.forEach(c=>{const d=c.el,u=d.style;_t(d,a),u.transform=u.webkitTransform=u.transitionDuration="";const f=d[Ps]=h=>{h&&h.target!==d||(!h||/transform$/.test(h.propertyName))&&(d.removeEventListener("transitionend",f),d[Ps]=null,Ft(d,a))};d.addEventListener("transitionend",f)}),o=[]}),()=>{const a=_e(e),l=Ni(a);let c=a.tag||ye;if(o=[],r)for(let d=0;d<r.length;d++){const u=r[d];u.el&&u.el instanceof Element&&(o.push(u),un(u,Jn(u,l,s,n)),Mi.set(u,u.el.getBoundingClientRect()))}r=t.default?Wo(t.default()):[];for(let d=0;d<r.length;d++){const u=r[d];u.key!=null&&un(u,Jn(u,l,s,n))}return he(c,null,r)}}}),Du=Pu;function Lu(e){const t=e.el;t[Ps]&&t[Ps](),t[Qr]&&t[Qr]()}function Nu(e){Bi.set(e,e.el.getBoundingClientRect())}function Uu(e){const t=Mi.get(e),n=Bi.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${o}px)`,r.transitionDuration="0s",e}}function Hu(e,t,n){const s=e.cloneNode(),o=e[Tn];o&&o.forEach(l=>{l.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:a}=Ui(s);return r.removeChild(s),a}const Qt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return de(t)?n=>vs(t,n):t};function Mu(e){e.target.composing=!0}function Jr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const lt=Symbol("_assign"),wn={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[lt]=Qt(o);const r=s||o.props&&o.props.type==="number";Dt(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=Ss(l)),e[lt](l)}),n&&Dt(e,"change",()=>{e.value=e.value.trim()}),t||(Dt(e,"compositionstart",Mu),Dt(e,"compositionend",Jr),Dt(e,"change",Jr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:o,number:r}},a){if(e[lt]=Qt(a),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?Ss(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||o&&e.value.trim()===c)||(e.value=c))}},Ki={deep:!0,created(e,t,n){e[lt]=Qt(n),Dt(e,"change",()=>{const s=e._modelValue,o=_n(e),r=e.checked,a=e[lt];if(de(s)){const l=Mo(s,o),c=l!==-1;if(r&&!c)a(s.concat(o));else if(!r&&c){const d=[...s];d.splice(l,1),a(d)}}else if($n(s)){const l=new Set(s);r?l.add(o):l.delete(o),a(l)}else a(Vi(e,r))})},mounted:Xr,beforeUpdate(e,t,n){e[lt]=Qt(n),Xr(e,t,n)}};function Xr(e,{value:t,oldValue:n},s){e._modelValue=t;let o;if(de(t))o=Mo(t,s.props.value)>-1;else if($n(t))o=t.has(s.props.value);else{if(t===n)return;o=cn(t,Vi(e,!0))}e.checked!==o&&(e.checked=o)}const Bu={created(e,{value:t},n){e.checked=cn(t,n.props.value),e[lt]=Qt(n),Dt(e,"change",()=>{e[lt](_n(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[lt]=Qt(s),t!==n&&(e.checked=cn(t,s.props.value))}},Fi={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=$n(t);Dt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?Ss(_n(a)):_n(a));e[lt](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,zn(()=>{e._assigning=!1})}),e[lt]=Qt(s)},mounted(e,{value:t}){Zr(e,t)},beforeUpdate(e,t,n){e[lt]=Qt(n)},updated(e,{value:t}){e._assigning||Zr(e,t)}};function Zr(e,t){const n=e.multiple,s=de(t);if(!(n&&!s&&!$n(t))){for(let o=0,r=e.options.length;o<r;o++){const a=e.options[o],l=_n(a);if(n)if(s){const c=typeof l;c==="string"||c==="number"?a.selected=t.some(d=>String(d)===String(l)):a.selected=Mo(t,l)>-1}else a.selected=t.has(l);else if(cn(_n(a),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function _n(e){return"_value"in e?e._value:e.value}function Vi(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const sT={created(e,t,n){ps(e,t,n,null,"created")},mounted(e,t,n){ps(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){ps(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){ps(e,t,n,s,"updated")}};function Ku(e,t){switch(e){case"SELECT":return Fi;case"TEXTAREA":return wn;default:switch(t){case"checkbox":return Ki;case"radio":return Bu;default:return wn}}}function ps(e,t,n,s,o){const a=Ku(e.tagName,n.props&&n.props.type)[o];a&&a(e,t,n,s)}const Fu=["ctrl","shift","alt","meta"],Vu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Fu.some(n=>e[`${n}Key`]&&!t.includes(n))},Fe=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...r)=>{for(let a=0;a<t.length;a++){const l=Vu[t[a]];if(l&&l(o,t))return}return e(o,...r)})},Gu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ju=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=Xt(o.key);if(t.some(a=>a===r||Gu[a]===r))return e(o)})},qu=Be({patchProp:Ru},gu);let ea;function Yu(){return ea||(ea=Hc(qu))}const Wu=(...e)=>{const t=Yu().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=Qu(s);if(!o)return;const r=t._component;!pe(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=n(o,!1,zu(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function zu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Qu(e){return Ue(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const hn=typeof document<"u";function Gi(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ju(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Gi(e.default)}const Ee=Object.assign;function uo(e,t){const n={};for(const s in t){const o=t[s];n[s]=mt(o)?o.map(e):e(o)}return n}const jn=()=>{},mt=Array.isArray,ji=/#/g,Xu=/&/g,Zu=/\//g,ed=/=/g,td=/\?/g,qi=/\+/g,nd=/%5B/g,sd=/%5D/g,Yi=/%5E/g,od=/%60/g,Wi=/%7B/g,rd=/%7C/g,zi=/%7D/g,ad=/%20/g;function er(e){return encodeURI(""+e).replace(rd,"|").replace(nd,"[").replace(sd,"]")}function id(e){return er(e).replace(Wi,"{").replace(zi,"}").replace(Yi,"^")}function $o(e){return er(e).replace(qi,"%2B").replace(ad,"+").replace(ji,"%23").replace(Xu,"%26").replace(od,"`").replace(Wi,"{").replace(zi,"}").replace(Yi,"^")}function ld(e){return $o(e).replace(ed,"%3D")}function cd(e){return er(e).replace(ji,"%23").replace(td,"%3F")}function ud(e){return e==null?"":cd(e).replace(Zu,"%2F")}function ts(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const dd=/\/$/,fd=e=>e.replace(dd,"");function fo(e,t,n="/"){let s,o={},r="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),a=t.slice(l,t.length)),s=pd(s??t,n),{fullPath:s+(r&&"?")+r+a,path:s,query:o,hash:ts(a)}}function hd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ta(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function gd(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Cn(t.matched[s],n.matched[o])&&Qi(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Cn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Qi(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!md(e[n],t[n]))return!1;return!0}function md(e,t){return mt(e)?na(e,t):mt(t)?na(t,e):e===t}function na(e,t){return mt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function pd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,a,l;for(a=0;a<s.length;a++)if(l=s[a],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(a).join("/")}const Kt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ns;(function(e){e.pop="pop",e.push="push"})(ns||(ns={}));var qn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qn||(qn={}));function vd(e){if(!e)if(hn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),fd(e)}const yd=/^[^#]+#/;function bd(e,t){return e.replace(yd,"#")+t}function Td(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const qs=()=>({left:window.scrollX,top:window.scrollY});function wd(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=Td(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function sa(e,t){return(history.state?history.state.position-t:-1)+e}const Io=new Map;function _d(e,t){Io.set(e,t)}function Cd(e){const t=Io.get(e);return Io.delete(e),t}let Sd=()=>location.protocol+"//"+location.host;function Ji(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),ta(c,"")}return ta(n,e)+s+o}function kd(e,t,n,s){let o=[],r=[],a=null;const l=({state:h})=>{const m=Ji(e,location),T=n.value,y=t.value;let B=0;if(h){if(n.value=m,t.value=h,a&&a===T){a=null;return}B=y?h.position-y.position:0}else s(m);o.forEach(L=>{L(n.value,T,{delta:B,type:ns.pop,direction:B?B>0?qn.forward:qn.back:qn.unknown})})};function c(){a=n.value}function d(h){o.push(h);const m=()=>{const T=o.indexOf(h);T>-1&&o.splice(T,1)};return r.push(m),m}function u(){const{history:h}=window;h.state&&h.replaceState(Ee({},h.state,{scroll:qs()}),"")}function f(){for(const h of r)h();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:f}}function oa(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?qs():null}}function Ed(e){const{history:t,location:n}=window,s={value:Ji(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const f=e.indexOf("#"),h=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+c:Sd()+e+c;try{t[u?"replaceState":"pushState"](d,"",h),o.value=d}catch(m){console.error(m),n[u?"replace":"assign"](h)}}function a(c,d){const u=Ee({},t.state,oa(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,u,!0),s.value=c}function l(c,d){const u=Ee({},o.value,t.state,{forward:c,scroll:qs()});r(u.current,u,!0);const f=Ee({},oa(s.value,c,null),{position:u.position+1},d);r(c,f,!1),s.value=c}return{location:s,state:o,push:l,replace:a}}function Ad(e){e=vd(e);const t=Ed(e),n=kd(e,t.state,t.location,t.replace);function s(r,a=!0){a||n.pauseListeners(),history.go(r)}const o=Ee({location:"",base:e,go:s,createHref:bd.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function $d(e){return typeof e=="string"||e&&typeof e=="object"}function Xi(e){return typeof e=="string"||typeof e=="symbol"}const Zi=Symbol("");var ra;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ra||(ra={}));function Sn(e,t){return Ee(new Error,{type:e,[Zi]:!0},t)}function It(e,t){return e instanceof Error&&Zi in e&&(t==null||!!(e.type&t))}const aa="[^/]+?",Id={sensitive:!1,strict:!1,start:!0,end:!0},Rd=/[.+*?^${}()[\]/\\]/g;function xd(e,t){const n=Ee({},Id,t),s=[];let o=n.start?"^":"";const r=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let f=0;f<d.length;f++){const h=d[f];let m=40+(n.sensitive?.25:0);if(h.type===0)f||(o+="/"),o+=h.value.replace(Rd,"\\$&"),m+=40;else if(h.type===1){const{value:T,repeatable:y,optional:B,regexp:L}=h;r.push({name:T,repeatable:y,optional:B});const w=L||aa;if(w!==aa){m+=10;try{new RegExp(`(${w})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${T}" (${w}): `+S.message)}}let b=y?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;f||(b=B&&d.length<2?`(?:/${b})`:"/"+b),B&&(b+="?"),o+=b,m+=20,B&&(m+=-8),y&&(m+=-20),w===".*"&&(m+=-50)}u.push(m)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const u=d.match(a),f={};if(!u)return null;for(let h=1;h<u.length;h++){const m=u[h]||"",T=r[h-1];f[T.name]=m&&T.repeatable?m.split("/"):m}return f}function c(d){let u="",f=!1;for(const h of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const m of h)if(m.type===0)u+=m.value;else if(m.type===1){const{value:T,repeatable:y,optional:B}=m,L=T in d?d[T]:"";if(mt(L)&&!y)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const w=mt(L)?L.join("/"):L;if(!w)if(B)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${T}"`);u+=w}}return u||"/"}return{re:a,score:s,keys:r,parse:l,stringify:c}}function Od(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function el(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=Od(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(ia(s))return 1;if(ia(o))return-1}return o.length-s.length}function ia(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Pd={type:0,value:""},Dd=/[a-zA-Z0-9_]/;function Ld(e){if(!e)return[[]];if(e==="/")return[[Pd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${d}": ${m}`)}let n=0,s=n;const o=[];let r;function a(){r&&o.push(r),r=[]}let l=0,c,d="",u="";function f(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function h(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&f(),a()):c===":"?(f(),n=1):h();break;case 4:h(),n=s;break;case 1:c==="("?n=2:Dd.test(c)?h():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),f(),a(),o}function Nd(e,t,n){const s=xd(Ld(e.path),n),o=Ee(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Ud(e,t){const n=[],s=new Map;t=da({strict:!1,end:!0,sensitive:!1},t);function o(f){return s.get(f)}function r(f,h,m){const T=!m,y=ca(f);y.aliasOf=m&&m.record;const B=da(t,f),L=[y];if("alias"in f){const S=typeof f.alias=="string"?[f.alias]:f.alias;for(const P of S)L.push(ca(Ee({},y,{components:m?m.record.components:y.components,path:P,aliasOf:m?m.record:y})))}let w,b;for(const S of L){const{path:P}=S;if(h&&P[0]!=="/"){const D=h.record.path,_=D[D.length-1]==="/"?"":"/";S.path=h.record.path+(P&&_+P)}if(w=Nd(S,h,B),m?m.alias.push(w):(b=b||w,b!==w&&b.alias.push(w),T&&f.name&&!ua(w)&&a(f.name)),tl(w)&&c(w),y.children){const D=y.children;for(let _=0;_<D.length;_++)r(D[_],w,m&&m.children[_])}m=m||w}return b?()=>{a(b)}:jn}function a(f){if(Xi(f)){const h=s.get(f);h&&(s.delete(f),n.splice(n.indexOf(h),1),h.children.forEach(a),h.alias.forEach(a))}else{const h=n.indexOf(f);h>-1&&(n.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return n}function c(f){const h=Bd(f,n);n.splice(h,0,f),f.record.name&&!ua(f)&&s.set(f.record.name,f)}function d(f,h){let m,T={},y,B;if("name"in f&&f.name){if(m=s.get(f.name),!m)throw Sn(1,{location:f});B=m.record.name,T=Ee(la(h.params,m.keys.filter(b=>!b.optional).concat(m.parent?m.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&la(f.params,m.keys.map(b=>b.name))),y=m.stringify(T)}else if(f.path!=null)y=f.path,m=n.find(b=>b.re.test(y)),m&&(T=m.parse(y),B=m.record.name);else{if(m=h.name?s.get(h.name):n.find(b=>b.re.test(h.path)),!m)throw Sn(1,{location:f,currentLocation:h});B=m.record.name,T=Ee({},h.params,f.params),y=m.stringify(T)}const L=[];let w=m;for(;w;)L.unshift(w.record),w=w.parent;return{name:B,path:y,params:T,matched:L,meta:Md(L)}}e.forEach(f=>r(f));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:a,clearRoutes:u,getRoutes:l,getRecordMatcher:o}}function la(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ca(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Hd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Hd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ua(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Md(e){return e.reduce((t,n)=>Ee(t,n.meta),{})}function da(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Bd(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;el(e,t[r])<0?s=r:n=r+1}const o=Kd(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function Kd(e){let t=e;for(;t=t.parent;)if(tl(t)&&el(e,t)===0)return t}function tl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Fd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(qi," "),a=r.indexOf("="),l=ts(a<0?r:r.slice(0,a)),c=a<0?null:ts(r.slice(a+1));if(l in t){let d=t[l];mt(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function fa(e){let t="";for(let n in e){const s=e[n];if(n=ld(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(mt(s)?s.map(r=>r&&$o(r)):[s&&$o(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function Vd(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=mt(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Gd=Symbol(""),ha=Symbol(""),Ys=Symbol(""),tr=Symbol(""),Ro=Symbol("");function Ln(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function qt(e,t,n,s,o,r=a=>a()){const a=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const d=h=>{h===!1?c(Sn(4,{from:n,to:t})):h instanceof Error?c(h):$d(h)?c(Sn(2,{from:t,to:h})):(a&&s.enterCallbacks[o]===a&&typeof h=="function"&&a.push(h),l())},u=r(()=>e.call(s&&s.instances[o],t,n,d));let f=Promise.resolve(u);e.length<3&&(f=f.then(d)),f.catch(h=>c(h))})}function ho(e,t,n,s,o=r=>r()){const r=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Gi(c)){const u=(c.__vccOpts||c)[t];u&&r.push(qt(u,n,s,a,l,o))}else{let d=c();r.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=Ju(u)?u.default:u;a.mods[l]=u,a.components[l]=f;const m=(f.__vccOpts||f)[t];return m&&qt(m,n,s,a,l,o)()}))}}return r}function ga(e){const t=ht(Ys),n=ht(tr),s=J(()=>{const c=V(e.to);return t.resolve(c)}),o=J(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],f=n.matched;if(!u||!f.length)return-1;const h=f.findIndex(Cn.bind(null,u));if(h>-1)return h;const m=ma(c[d-2]);return d>1&&ma(u)===m&&f[f.length-1].path!==m?f.findIndex(Cn.bind(null,c[d-2])):h}),r=J(()=>o.value>-1&&zd(n.params,s.value.params)),a=J(()=>o.value>-1&&o.value===n.matched.length-1&&Qi(n.params,s.value.params));function l(c={}){if(Wd(c)){const d=t[V(e.replace)?"replace":"push"](V(e.to)).catch(jn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:J(()=>s.value.href),isActive:r,isExactActive:a,navigate:l}}function jd(e){return e.length===1?e[0]:e}const qd=ii({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ga,setup(e,{slots:t}){const n=Lt(ga(e)),{options:s}=ht(Ys),o=J(()=>({[pa(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[pa(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&jd(t.default(n));return e.custom?r:Zo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Yd=qd;function Wd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function zd(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!mt(o)||o.length!==s.length||s.some((r,a)=>r!==o[a]))return!1}return!0}function ma(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const pa=(e,t,n)=>e??t??n,Qd=ii({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ht(Ro),o=J(()=>e.route||s.value),r=ht(ha,0),a=J(()=>{let d=V(r);const{matched:u}=o.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),l=J(()=>o.value.matched[a.value]);bs(ha,J(()=>a.value+1)),bs(Gd,l),bs(Ro,o);const c=Q();return ot(()=>[c.value,l.value,e.name],([d,u,f],[h,m,T])=>{u&&(u.instances[f]=d,m&&m!==u&&d&&d===h&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),d&&u&&(!m||!Cn(u,m)||!h)&&(u.enterCallbacks[f]||[]).forEach(y=>y(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,f=l.value,h=f&&f.components[u];if(!h)return va(n.default,{Component:h,route:d});const m=f.props[u],T=m?m===!0?d.params:typeof m=="function"?m(d):m:null,B=Zo(h,Ee({},T,t,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return va(n.default,{Component:B,route:d})||B}}});function va(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Jd=Qd;function Xd(e){const t=Ud(e.routes,e),n=e.parseQuery||Fd,s=e.stringifyQuery||fa,o=e.history,r=Ln(),a=Ln(),l=Ln(),c=Zl(Kt);let d=Kt;hn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=uo.bind(null,U=>""+U),f=uo.bind(null,ud),h=uo.bind(null,ts);function m(U,ne){let Z,le;return Xi(U)?(Z=t.getRecordMatcher(U),le=ne):le=U,t.addRoute(le,Z)}function T(U){const ne=t.getRecordMatcher(U);ne&&t.removeRoute(ne)}function y(){return t.getRoutes().map(U=>U.record)}function B(U){return!!t.getRecordMatcher(U)}function L(U,ne){if(ne=Ee({},ne||c.value),typeof U=="string"){const E=fo(n,U,ne.path),H=t.resolve({path:E.path},ne),K=o.createHref(E.fullPath);return Ee(E,H,{params:h(H.params),hash:ts(E.hash),redirectedFrom:void 0,href:K})}let Z;if(U.path!=null)Z=Ee({},U,{path:fo(n,U.path,ne.path).path});else{const E=Ee({},U.params);for(const H in E)E[H]==null&&delete E[H];Z=Ee({},U,{params:f(E)}),ne.params=f(ne.params)}const le=t.resolve(Z,ne),Ie=U.hash||"";le.params=u(h(le.params));const g=hd(s,Ee({},U,{hash:id(Ie),path:le.path})),p=o.createHref(g);return Ee({fullPath:g,hash:Ie,query:s===fa?Vd(U.query):U.query||{}},le,{redirectedFrom:void 0,href:p})}function w(U){return typeof U=="string"?fo(n,U,c.value.path):Ee({},U)}function b(U,ne){if(d!==U)return Sn(8,{from:ne,to:U})}function S(U){return _(U)}function P(U){return S(Ee(w(U),{replace:!0}))}function D(U){const ne=U.matched[U.matched.length-1];if(ne&&ne.redirect){const{redirect:Z}=ne;let le=typeof Z=="function"?Z(U):Z;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=w(le):{path:le},le.params={}),Ee({query:U.query,hash:U.hash,params:le.path!=null?{}:U.params},le)}}function _(U,ne){const Z=d=L(U),le=c.value,Ie=U.state,g=U.force,p=U.replace===!0,E=D(Z);if(E)return _(Ee(w(E),{state:typeof E=="object"?Ee({},Ie,E.state):Ie,force:g,replace:p}),ne||Z);const H=Z;H.redirectedFrom=ne;let K;return!g&&gd(s,le,Z)&&(K=Sn(16,{to:H,from:le}),be(le,le,!0,!1)),(K?Promise.resolve(K):$(H,le)).catch(M=>It(M)?It(M,2)?M:ke(M):se(M,H,le)).then(M=>{if(M){if(It(M,2))return _(Ee({replace:p},w(M.to),{state:typeof M.to=="object"?Ee({},Ie,M.to.state):Ie,force:g}),ne||H)}else M=v(H,le,!0,p,Ie);return x(H,le,M),M})}function F(U,ne){const Z=b(U,ne);return Z?Promise.reject(Z):Promise.resolve()}function N(U){const ne=O.values().next().value;return ne&&typeof ne.runWithContext=="function"?ne.runWithContext(U):U()}function $(U,ne){let Z;const[le,Ie,g]=Zd(U,ne);Z=ho(le.reverse(),"beforeRouteLeave",U,ne);for(const E of le)E.leaveGuards.forEach(H=>{Z.push(qt(H,U,ne))});const p=F.bind(null,U,ne);return Z.push(p),Le(Z).then(()=>{Z=[];for(const E of r.list())Z.push(qt(E,U,ne));return Z.push(p),Le(Z)}).then(()=>{Z=ho(Ie,"beforeRouteUpdate",U,ne);for(const E of Ie)E.updateGuards.forEach(H=>{Z.push(qt(H,U,ne))});return Z.push(p),Le(Z)}).then(()=>{Z=[];for(const E of g)if(E.beforeEnter)if(mt(E.beforeEnter))for(const H of E.beforeEnter)Z.push(qt(H,U,ne));else Z.push(qt(E.beforeEnter,U,ne));return Z.push(p),Le(Z)}).then(()=>(U.matched.forEach(E=>E.enterCallbacks={}),Z=ho(g,"beforeRouteEnter",U,ne,N),Z.push(p),Le(Z))).then(()=>{Z=[];for(const E of a.list())Z.push(qt(E,U,ne));return Z.push(p),Le(Z)}).catch(E=>It(E,8)?E:Promise.reject(E))}function x(U,ne,Z){l.list().forEach(le=>N(()=>le(U,ne,Z)))}function v(U,ne,Z,le,Ie){const g=b(U,ne);if(g)return g;const p=ne===Kt,E=hn?history.state:{};Z&&(le||p?o.replace(U.fullPath,Ee({scroll:p&&E&&E.scroll},Ie)):o.push(U.fullPath,Ie)),c.value=U,be(U,ne,Z,p),ke()}let k;function A(){k||(k=o.listen((U,ne,Z)=>{if(!ie.listening)return;const le=L(U),Ie=D(le);if(Ie){_(Ee(Ie,{replace:!0,force:!0}),le).catch(jn);return}d=le;const g=c.value;hn&&_d(sa(g.fullPath,Z.delta),qs()),$(le,g).catch(p=>It(p,12)?p:It(p,2)?(_(Ee(w(p.to),{force:!0}),le).then(E=>{It(E,20)&&!Z.delta&&Z.type===ns.pop&&o.go(-1,!1)}).catch(jn),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),se(p,le,g))).then(p=>{p=p||v(le,g,!1),p&&(Z.delta&&!It(p,8)?o.go(-Z.delta,!1):Z.type===ns.pop&&It(p,20)&&o.go(-1,!1)),x(le,g,p)}).catch(jn)}))}let ce=Ln(),G=Ln(),ae;function se(U,ne,Z){ke(U);const le=G.list();return le.length?le.forEach(Ie=>Ie(U,ne,Z)):console.error(U),Promise.reject(U)}function te(){return ae&&c.value!==Kt?Promise.resolve():new Promise((U,ne)=>{ce.add([U,ne])})}function ke(U){return ae||(ae=!U,A(),ce.list().forEach(([ne,Z])=>U?Z(U):ne()),ce.reset()),U}function be(U,ne,Z,le){const{scrollBehavior:Ie}=e;if(!hn||!Ie)return Promise.resolve();const g=!Z&&Cd(sa(U.fullPath,0))||(le||!Z)&&history.state&&history.state.scroll||null;return zn().then(()=>Ie(U,ne,g)).then(p=>p&&wd(p)).catch(p=>se(p,U,ne))}const oe=U=>o.go(U);let C;const O=new Set,ie={currentRoute:c,listening:!0,addRoute:m,removeRoute:T,clearRoutes:t.clearRoutes,hasRoute:B,getRoutes:y,resolve:L,options:e,push:S,replace:P,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:G.add,isReady:te,install(U){const ne=this;U.component("RouterLink",Yd),U.component("RouterView",Jd),U.config.globalProperties.$router=ne,Object.defineProperty(U.config.globalProperties,"$route",{enumerable:!0,get:()=>V(c)}),hn&&!C&&c.value===Kt&&(C=!0,S(o.location).catch(Ie=>{}));const Z={};for(const Ie in Kt)Object.defineProperty(Z,Ie,{get:()=>c.value[Ie],enumerable:!0});U.provide(Ys,ne),U.provide(tr,Fa(Z)),U.provide(Ro,c);const le=U.unmount;O.add(U),U.unmount=function(){O.delete(U),O.size<1&&(d=Kt,k&&k(),k=null,c.value=Kt,C=!1,ae=!1),le()}}};function Le(U){return U.reduce((ne,Z)=>ne.then(()=>N(Z)),Promise.resolve())}return ie}function Zd(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let a=0;a<r;a++){const l=t.matched[a];l&&(e.matched.find(d=>Cn(d,l))?s.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(d=>Cn(d,c))||o.push(c))}return[n,s,o]}function en(){return ht(Ys)}function ef(e){return ht(tr)}const re={BASE_URL:"http://localhost:8080",AUTH:{LOGIN:"/api/auth/log-in",LOGOUT:"/api/auth/log-out",STATUS:"/api/auth/status",VALIDATE_TOKEN:"/api/auth/validate-token"},PASSWORD_RESET:{SEND_OTP:"/api/forgot-password/send-otp",VERIFY_OTP:"/api/forgot-password/verify-otp",RESET_PASSWORD:"/api/forgot-password/reset-password"},USER:{REGISTER:"/api/khachhang/register",GET_BY_ID:"/api/nguoidung/{maNguoiDung}",GET_BY_EMAIL:"/api/nguoidung/email/{email}",UPDATE:"/api/nguoidung/{maNguoiDung}",DELETE:"/api/nguoidung/{maNguoiDung}",CHECK_EMAIL:"/api/nguoidung/check-email/{email}",CHECK_ID:"/api/nguoidung/check-id/{maNguoiDung}"},OAUTH2:{GET_JWT_TOKEN:"/api/oauth2/get-jwt-token",USER_INFO:"/api/oauth2/user-info",SUCCESS:"/api/oauth2/success",FAILURE:"/api/oauth2/failure",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",TEST_CONFIG:"/api/oauth2/test-config",LOGOUT_DEPRECATED:"/api/oauth2/logout"},AUTHORIZATION:{GOOGLE:"/oauth2/authorization/google",FACEBOOK:"/oauth2/authorization/facebook"}},tf=e=>`${re.BASE_URL}${e}`,xt="http://localhost:8080",ve={OAUTH2:{TEST_CONFIG:"/api/oauth2/test-config",USER_INFO:"/api/oauth2/user-info",ANALYZE:"/api/oauth2/analyze",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",GET_TOKEN:"/api/oauth2/get-token",GOOGLE_CALLBACK:"/api/oauth2/callback/google",GOOGLE_REGISTER:"/api/oauth2/register/google"},CATEGORIES:{LIST:"/api/loaisanpham",BY_ID:e=>`/api/loaisanpham/${e}`},PRODUCTS:{LIST:"/api/sanpham",BY_ID:e=>`/api/sanpham/${e}`,BY_CATEGORY:e=>`/api/sanpham/category/${e}`,BY_CATEGORY_ACTIVE:e=>`/api/sanpham/category/${e}/active`,WITH_STOCK_LIST:"/api/sanpham/with-tonkho",BY_ID_WITH_STOCK:e=>`/api/sanpham/${e}/with-tonkho`},CART:{BY_CUSTOMER:e=>`/api/giohang/by-khachhang/${e}`,BY_CUSTOMER_WITH_ITEMS:e=>`/api/giohang/by-khachhang/${e}/with-items`,UPDATE_STATUS:e=>`/api/giohang/by-khachhang/${e}/status`,CLEAR_ITEMS:e=>`/api/giohang/by-khachhang/${e}/items`,SYNC:"/api/giohang/sync",CURRENT_USER:"/api/giohang/current-user"},CART_ITEMS:{ADD:"/api/giohang/items",UPDATE_QTY:e=>`/api/giohang/items/${e}/quantity`,REMOVE:e=>`/api/giohang/items/${e}`},HOADON:{LIST:"/api/hoadon",BY_ID:e=>`/api/hoadon/${e}`,CREATE:"/api/hoadon",UPDATE:e=>`/api/hoadon/${e}`,DELETE:e=>`/api/hoadon/${e}`,CREATE_FROM_CART:"/api/hoadon/from-cart",BY_CUSTOMER:e=>`/api/hoadon/by-khachhang/${e}`,UPDATE_STATUS:e=>`/api/hoadon/${e}/trangthai`,BY_ID_FULL:e=>`/api/hoadon/${e}/full-details`,BY_CUSTOMER_FULL:e=>`/api/hoadon/by-khachhang/${e}/full-details`,COUNT_BY_STATUS:e=>`/api/hoadon/count/trangthai/${e}`,COUNT_BY_CUSTOMER:e=>`/api/hoadon/count/khachhang/${e}`,BY_STATUS:e=>`/api/hoadon/status/${e}`,BY_CUSTOMER_AND_STATUS:(e,t)=>`/api/hoadon/by-khachhang/${e}/status/${t}`,BY_DATE_RANGE:"/api/hoadon/date-range",BY_CUSTOMER_AND_DATE:e=>`/api/hoadon/by-khachhang/${e}/date-range`,SEARCH:"/api/hoadon/search",CANCEL:e=>`/api/hoadon/${e}/cancel`,STATISTICS:e=>`/api/hoadon/by-khachhang/${e}/statistics`,COUNT_BY_STATUS_CUSTOMER:e=>`/api/hoadon/by-khachhang/${e}/count-by-status`},CHITIETHOADON:{BY_HOADON:e=>`/api/chitiethoadon/hoadon/${e}`,UPDATE:e=>`/api/chitiethoadon/${e}`,BY_HOADON_OLD:e=>`/api/chitiethoadon/${e}`},KHACHHANG:{BY_ID:e=>`/api/khachhang/${e}`,BY_NGUOIDUNG:e=>`/api/khachhang/by-nguoidung/${e}`,UPDATE_INFO:e=>`/api/khachhang/${e}`,REGISTER:"/api/khachhang/register"},IMAGES:{PRODUCT_LIST:e=>`/api/hinhanh/product/${e}`,SERVE_IMAGE:e=>`/api/upload/serve-image/${e}`,PRODUCT_IMAGES:e=>[`/api/upload/serve-image/${e}_main.jfif`,`/api/upload/serve-image/${e}_main1.jfif`,`/api/upload/serve-image/${e}_main2.jfif`]},INVENTORY:{ALL_DETAILS:"/api/tonkhochitiet",BY_ID:e=>`/api/tonkhochitiet/${e}`,BY_PRODUCT:e=>`/api/tonkhochitiet/product/${e}`,BY_WAREHOUSE:e=>`/api/tonkhochitiet/warehouse/${e}`,COMPARE_MASP:"/api/tonkhochitiet/compare-masp"}},nr="easymart-token",nf=1,sf=(e,t,n=1,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let a=`${e}=${t||""}${r}; path=/`;s&&(a+="; Secure"),o&&(a+="; HttpOnly"),a+="; SameSite=Strict",document.cookie=a},of=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},rf=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},af=e=>{{const t=window.location.protocol==="https:";sf(nr,e,nf,t,!1)}},Ce=()=>{let e=null;return e=of(nr),e},lf=()=>{rf(nr)},cf="modulepreload",uf=function(e){return"/"+e},ya={},Ke=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");o=c(n.map(d=>{if(d=uf(d),d in ya)return;ya[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":cf,u||(h.as="script"),h.crossOrigin="",h.href=d,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,T)=>{h.addEventListener("load",m),h.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},df=(e,t,n=7,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let a=`${e}=${t||""}${r}; path=/`;s&&(a+="; Secure"),o&&(a+="; HttpOnly"),a+="; SameSite=Strict",document.cookie=a},ff=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},hf=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},sr=(e,t)=>{df(e,t,7,!1,!1)},vt=e=>ff(e),or=e=>{hf(e)},Me=Q(null),gf=J(()=>!!Me.value),nl=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);Me.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error loading user data:",t),localStorage.removeItem("easymart-user"),Me.value=null}},ss=e=>{const t={id:e.id,name:e.name,avatar:e.avatar,role:e.role,loginMethod:e.loginMethod,displayName:e.name||e.email?.split("@")[0]||"User"};localStorage.setItem("easymart-user",JSON.stringify(t)),Me.value=e,e.triggerEvent!==!1&&window.dispatchEvent(new CustomEvent("user-updated",{detail:t}))},Ws=e=>{try{if(!e)return null;const t=JSON.parse(atob(e.split(".")[1]));return{email:t.sub,issuer:t.iss,role:t.role,exp:t.exp,iat:t.iat,raw:t}}catch(t){return console.error("Error decoding token:",t),null}},zs=e=>{try{if(!e)return!1;const t=Ws(e);if(!t)return!1;const n=Math.floor(Date.now()/1e3);return t.exp>n}catch{return!1}},mf=()=>{const e=vt("easymart-token");if(!e||!zs(e)){or("easymart-token"),localStorage.removeItem("easymart-user"),Me.value=null;return}const t=Ws(e);if(t){const n={id:null,email:t.email,name:t.email.split("@")[0],role:t.role,loginMethod:"token",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.email.split("@")[0])}&background=28a745&color=fff`,tokenInfo:{issuer:t.issuer,exp:new Date(t.exp*1e3),iat:new Date(t.iat*1e3)}};Me.value=n,console.log(" User initialized from token:",n),console.log(" Token payload:",t.raw),setTimeout(async()=>{try{console.log(" Fetching complete user info in background..."),await rl()}catch(s){console.warn(" Could not fetch complete user info in background:",s)}},1e3)}},pf=()=>{const e=vt("easymart-token");if(console.log(" Current token:",e),e){const t=Ws(e);if(console.log(" Decoded token:",t),console.log(" Token valid:",zs(e)),t&&t.exp){const n=new Date(t.exp*1e3),s=new Date;console.log(" Token expires:",n),console.log(" Current time:",s),console.log(" Time until expiry:",Math.round((n-s)/1e3/60),"minutes")}}else console.log(" No token found")},sl=async e=>{try{if(!e)return!1;const t=await fetch(`${re.BASE_URL}/api/auth/validate-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({token:e})});if(!t.ok)return!1;const n=await t.json();if(n&&n.result&&n.result.valid===!0){const s=Me.value;return(!s||!s.id||s.email!==n.result.username)&&await ol(n.result),!0}else return!1}catch(t){return console.error(" Error validating token:",t),!1}},ol=async e=>{try{const{username:t,role:n,expiration:s}=e,o=await rr(t);if(o&&o.success&&o.user){const r={id:o.user.maNguoiDung||o.user.id,email:t,name:o.user.tenNguoiDung||o.user.hoTen||t.split("@")[0],phone:o.user.soDienThoai||o.user.sdt||"",address:o.user.diaChi||"",role:n,avatar:o.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(o.user.tenNguoiDung||t.split("@")[0])}&background=28a745&color=fff`,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};Me.value=r,localStorage.setItem("easymart-user",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("user-updated",{detail:r}))}else{const r={id:null,email:t,name:t.split("@")[0],role:n,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};Me.value=r,localStorage.setItem("easymart-user",JSON.stringify(r))}}catch(t){console.error(" Error updating user from validation:",t)}},vf=async()=>{const e=vt("easymart-token");if(!e)return;if(!zs(e)){await xo("Token  ht hn");return}await sl(e)||await xo("Phin ng nhp khng hp l")},xo=async e=>{console.log(" Performing auto-logout:",e),or("easymart-token"),localStorage.removeItem("easymart-user"),Me.value=null,alert(`${e}. Bn s c chuyn v trang ng nhp.`),window.location.href="/login"},rl=async()=>{const e=Me.value;if(!e)return console.warn(" No user logged in"),null;if(e.id)return console.log(" User already has complete info:",e.id),e;if(e.email){console.log(" Fetching user ID for:",e.email);try{const t=await rr(e.email);if(t&&t.success&&t.user){const n={...e,id:t.user.maNguoiDung||t.user.id,name:t.user.tenNguoiDung||t.user.hoTen||e.name,phone:t.user.soDienThoai||t.user.sdt||e.phone||"",address:t.user.diaChi||e.address||""};return Me.value=n,localStorage.setItem("easymart-user",JSON.stringify(n)),console.log(" User info completed with ID:",n.id),n}}catch(t){console.error(" Error fetching complete user info:",t)}}return console.warn(" Could not complete user info"),e},yf=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);Me.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error reloading user data:",t),localStorage.removeItem("easymart-user"),Me.value=null}},bf=async()=>{try{const e=vt("easymart-token");if(!e)return null;const t=await qe(re.USER.GET_BY_ID,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(t&&t.result)return Me.value=t.result,ss(t.result),t.result}catch(e){return console.error("Error fetching full user data:",e),null}},Cs=async()=>{try{const e=vt("easymart-token");if(!e)throw new Error("Khng c token xc thc");console.log(" Validating token for profile access..."),console.log(" Step 1: Calling validate-token API...");const t=await qe(re.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})});if(console.log(" Validate token response:",t),!t?.result?.valid)throw new Error("Token khng hp l hoc  ht hn");const{username:n,role:s,expiration:o}=t.result;console.log(" Token validated:",{username:n,role:s,expiration:o}),console.log(" Step 2: Calling GET_BY_EMAIL API...");const r=re.USER.GET_BY_EMAIL.replace("{email}",n);console.log(" Email endpoint:",r);const a=await qe(r,{method:"GET"});console.log(" User response:",a);let l=null;if(a?.result)l=a.result;else if(a?.data)l=a.data;else if(a?.maNguoiDung)l=a;else throw console.error(" Unexpected user response format:",a),new Error("Response format khng ng t API ngi dng");const{maNguoiDung:c,vaiTro:d}=l;if(console.log(" User info retrieved:",{maNguoiDung:c,vaiTro:d}),!c)throw new Error("Khng tm thy m ngi dng trong response");console.log(" Step 3: Calling customer API..."),console.log(" Step 3: Calling customer API...");let u=null,f=null;const h=[`/api/khachhang/by-nguoidung/${c}`,`/api/khachhang/${c}`,`/api/nguoidung/${c}`];for(let y=0;y<h.length;y++){const B=h[y];console.log(` Trying endpoint ${y+1}: ${B}`);try{const L=`${re.BASE_URL}${B}`;if(console.log(` Full URL: ${L}`),f=await fetch(L,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),console.log(` Response ${y+1} status:`,f.status),console.log(` Response ${y+1} redirected:`,f.redirected),f.ok){const w=f.headers.get("content-type");if(console.log(` Response ${y+1} Content-Type:`,w),w&&w.includes("application/json")){const b=await f.json();if(console.log(` Endpoint ${y+1} success:`,b),b?.hoTen)console.log(" Response c hoTen - format customer data"),u={hoTen:b.hoTen,soDienThoai:b.sdt,ngaySinh:b.ngaySinh,diaChi:b.diaChi,ngayTao:b.ngayDangKy,tongDonHang:0,tongChiTieu:0,maKH:b.maKH,diemTichLuy:b.diemTichLuy,loaiKhachHang:b.loaiKhachHang,nguoiDung:b.nguoiDung,sdt:b.sdt};else if(b?.token){console.log(" Response ch c token - cn x l khc cho Google OAuth2 user");try{console.log(" Gi API /api/nguoidung  ly customer info...");const S=await fetch(`${re.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(S.ok){const P=await S.json();console.log(" Customer info t /api/nguoidung:",P),u={hoTen:P.tenNguoiDung||n.split("@")[0],soDienThoai:P.soDienThoai||"",ngaySinh:P.ngaySinh||null,diaChi:P.diaChi||"",ngayTao:P.ngayTao||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:P.maNguoiDung,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:P.soDienThoai||""}}else{console.log(" Khng th ly customer info t /api/nguoidung");continue}}catch(S){console.log(" Li khi gi /api/nguoidung:",S.message);continue}}else if(b?.result)u=b.result;else if(b?.data)u=b.data;else if(console.log(" Response khng c hoTen, token, result, data - c th l Google OAuth2 user"),n.includes("@gmail.com")||n.includes("@fpt.edu.vn")){console.log(" Detected Google OAuth2 user, calling /api/nguoidung...");try{console.log(" Gi API /api/nguoidung  ly customer info...");const P=await fetch(`${re.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(P.ok){const D=await P.json();console.log(" Customer info t /api/nguoidung:",D);let _="",F="";D.soDienThoai?_=D.soDienThoai:D.sdt?_=D.sdt:D.phone?_=D.phone:D.dienThoai&&(_=D.dienThoai),D.diaChi?F=D.diaChi:D.address?F=D.address:D.diaChiChiTiet&&(F=D.diaChiChiTiet),u={hoTen:D.tenNguoiDung||D.hoTen||n.split("@")[0],soDienThoai:_,ngaySinh:D.ngaySinh||null,diaChi:F,ngayTao:D.ngayTao||D.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:D.maNguoiDung||D.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:_}}else{console.log(" Khng th ly customer info t /api/nguoidung");continue}}catch(P){console.log(" Li khi gi /api/nguoidung:",P.message);continue}}else{console.log(` Endpoint ${y+1} response format khng xc nh:`,b);continue}console.log(` Found working endpoint: ${B}`);break}else{const b=await f.text();console.log(` Endpoint ${y+1} returned non-JSON:`,b.substring(0,200));continue}}else if(f.redirected)if(console.log(` Endpoint ${y+1} was redirected - trying /api/nguoidung directly...`),n.includes("@gmail.com")||n.includes("@fpt.edu.vn"))try{const b=await fetch(`${re.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(b.ok){const S=await b.json();console.log(" Direct call to /api/nguoidung successful");let P=S.soDienThoai||S.sdt||S.phone||S.dienThoai||"",D=S.diaChi||S.address||S.diaChiChiTiet||"";u={hoTen:S.tenNguoiDung||S.hoTen||n.split("@")[0],soDienThoai:P,ngaySinh:S.ngaySinh||null,diaChi:D,ngayTao:S.ngayTao||S.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:S.maNguoiDung||S.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:P},console.log(" Found working solution: direct call to /api/nguoidung");break}else{console.log(" Direct call to /api/nguoidung failed with status:",b.status);continue}}catch(b){console.log(" Error in direct call to /api/nguoidung:",b.message);continue}else{console.log(` Endpoint ${y+1} failed with status:`,f.status);continue}else{console.log(` Endpoint ${y+1} failed with status:`,f.status);continue}}catch(L){console.log(` Endpoint ${y+1} error:`,L.message);continue}}if(!u){console.log(" No working customer endpoint found, attempting to create customer record...");try{console.log(" Creating new customer record for user:",n);const y={nguoiDung:{maNguoiDung:c},hoTen:n.split("@")[0],soDienThoai:"",diaChi:"",ngaySinh:null,ngayTao:new Date().toISOString()};console.log(" Creating customer with data:",y);const B=await fetch(`${re.BASE_URL}/api/khachhang`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(y)});if(B.ok){const L=await B.json();console.log(" Successfully created customer record:",L),u={hoTen:L.hoTen||n.split("@")[0],soDienThoai:L.soDienThoai||"",ngaySinh:L.ngaySinh||null,diaChi:L.diaChi||"",ngayTao:L.ngayTao||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:L.maKH,diemTichLuy:0,loaiKhachHang:"New User",sdt:L.soDienThoai||""},console.log(" Using newly created customer data:",u)}else{const L=await B.json().catch(()=>({}));console.error(" Failed to create customer record:",B.status,L),console.log(" Fallback: Creating basic data in memory"),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"Fallback User",sdt:""}}}catch(y){console.error(" Error creating customer record:",y.message),console.log(" Fallback: Creating basic data in memory due to error"),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"Error Fallback User",sdt:""}}}console.log(" Final customer data:",u);const m=u.loaiKhachHang==="OAuth2 User",T={id:c,name:u.hoTen||n.split("@")[0],email:n,phone:u.soDienThoai||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(u.hoTen||n.split("@")[0])}&background=007bff&color=fff`,joinDate:u.ngayTao||new Date().toISOString().split("T")[0],totalOrders:u.tongDonHang||0,totalSpent:u.tongChiTieu||0,role:d===3?"CUSTOMER":"USER",loginMethod:m?"google":"traditional",customerInfo:u,userRole:d,userCode:c};return Me.value=T,ss({...T,triggerEvent:!1}),console.log(" Profile validation completed successfully"),{success:!0,user:T}}catch(e){return console.error(" Profile validation failed:",e),(e.message.includes("Token khng hp l")||e.message.includes("Khng c token"))&&ll(),{success:!1,error:e.message}}},Tf=async e=>{try{const t=vt("easymart-token");if(!t)throw new Error("Khng c token xc thc");const n=await Cs();if(!n.success)throw new Error(n.error);const{userCode:s}=Me.value,o=`${re.BASE_URL}/api/khachhang/by-nguoidung/${s}`;console.log(" Update customer endpoint:",o),console.log(" Update data being sent:",e);const r=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.json();if(console.log(" Update response:",a),a?.success||a?.result?.success||a?.message?.includes("thnh cng"))return console.log(" Update successful, refreshing user data..."),await Cs(),{success:!0,message:"Cp nht profile thnh cng!"};if(console.log(" Update response format unexpected:",a),r.ok)return console.log(" Update successful (status 200), refreshing user data..."),await Cs(),{success:!0,message:"Cp nht profile thnh cng!"};throw new Error(a?.message||a?.error||"Cp nht profile tht bi")}catch(t){return console.error(" Update profile failed:",t),{success:!1,error:t.message}}},qe=async(e,t={})=>{try{const n=await fetch(tf(e),{headers:{"Content-Type":"application/json",...t.headers},...t});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("API call error:",n),n}},wf=async(e,t)=>{try{if(e==="demo@easymart.vn"){const n={id:"DEMO_USER",name:"Demo User",email:e,phone:"0123456789",avatar:"https://ui-avatars.com/api/?name=Demo+User&background=007bff&color=fff",joinDate:new Date().toISOString().split("T")[0],totalOrders:5,totalSpent:15e5,role:"USER",loginMethod:"traditional"};return ss(n),{success:!0,user:n}}try{const n=await qe(re.AUTH.LOGIN,{method:"POST",body:JSON.stringify({email:e,matKhau:t})});if(n&&n.result&&n.result.authenticated){const s=n.result;s.token&&sr("easymart-token",s.token);const o={id:null,name:e.split("@")[0],email:e,phone:"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.split("@")[0])}&background=007bff&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"};try{const r=s.token;if(r){const a=await fetch(`${re.BASE_URL}/api/nguoidung/email/${encodeURIComponent(e)}`,{method:"GET",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(a.ok){const l=await a.json();(l.id||l.maNguoiDung)&&(o.id=l.id||l.maNguoiDung,console.log(" Got real user ID from backend:",o.id))}}}catch{console.log(" Could not get real user ID from backend, will use email-based lookup")}ss(o);try{const r=await Ke(()=>Promise.resolve().then(()=>ur),void 0);if(r&&typeof r.useCart=="function"){const{syncLocalCartToDBViaEndpoint:a,persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=r.useCart();if(a?!(await a())?.success&&l&&await l():l&&await l(),c){const u=vt("easymart-token"),f="cart-merged-for-token";u&&sessionStorage.getItem(f)!==u&&(!await c()&&d&&await d(),sessionStorage.setItem(f,u))}}}catch(r){console.warn("Cart merge after login failed (non-blocking):",r?.message||r)}return{success:!0,user:o,message:s.message}}else return{success:!1,error:n?.result?.message||"Email hoc mt khu khng ng"}}catch(n){return console.error("Login API error:",n),{success:!1,error:"ng nhp tht bi. Vui lng kim tra li thng tin."}}}catch(n){return console.error("Login error:",n),{success:!1,error:"ng nhp tht bi. Vui lng th li."}}},_f=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Google OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Google credential payload:",t),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google login error:",t),{success:!1,error:"ng nhp vi Google tht bi. Vui lng th li."}}},Cf=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Facebook OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Facebook credential payload:",t),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook login error:",t),{success:!1,error:"ng nhp vi Facebook tht bi. Vui lng th li."}}},Sf=async(e,t,n="",s,o,r="")=>{try{if(s!==o)return{success:!1,error:"Mt khu khng khp!"};if(n&&n.trim()&&!/^[0-9]{10,11}$/.test(n))return{success:!1,error:"S in thoi phi c 10-11 ch s!"};try{const c=await il(t);if(c&&c.exists)return{success:!1,error:"Email  tn ti trong h thng!"}}catch(c){console.warn("Email check failed, proceeding anyway:",c)}const a={email:t,matKhau:s,hoTen:e,sdt:n||"",diaChi:r||""};console.log(" Sending register data:",a);const l=await qe(re.USER.REGISTER,{method:"POST",body:JSON.stringify(a)});if(console.log(" Received register response:",l),l&&l.login_info&&l.login_info.email){const c=l.login_info;return{success:!0,user:{id:null,name:e,email:c.email,phone:n||"",address:r||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=28a745&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"},message:c.message||"ng k thnh cng! Vui lng ng nhp  tip tc."}}else return{success:!1,error:"ng k tht bi - Khng nhn c thng tin xc nhn t server"}}catch(a){return console.error("Register error:",a),{success:!1,error:"ng k tht bi. Vui lng th li."}}},kf=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Google OAuth2..."}:e.credential?(console.log("Legacy Google register credential"),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google register error:",t),{success:!1,error:"ng k vi Google tht bi. Vui lng th li."}}},Ef=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Facebook OAuth2..."}:e.credential?(console.log("Legacy Facebook register credential"),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook register error:",t),{success:!1,error:"ng k vi Facebook tht bi. Vui lng th li."}}},Af=async()=>{try{const e=await qe(re.OAUTH2.GET_JWT_TOKEN);if(e.success)return sr("easymart-token",e.result.jwt_token),e.result;throw new Error(e.message||"Khng th ly JWT token")}catch(e){throw console.error("Get JWT token error:",e),e}},$f=async()=>{try{const e=vt("easymart-token");if(!e)throw new Error("Khng c token xc thc");const t=await qe(re.OAUTH2.USER_INFO,{headers:{Authorization:`Bearer ${e}`}});if(t.success)return t.result;throw new Error(t.message||"Khng th ly thng tin user")}catch(e){throw console.error("Get user info error:",e),e}},If=async()=>{try{return await qe(re.OAUTH2.TEST_CONFIG)}catch(e){throw console.error("Test OAuth2 config error:",e),e}},al=async e=>{try{return await qe(`${re.OAUTH2.CHECK_EMAIL}?email=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check email duplicate error:",t),t}},il=async e=>{try{const t=re.USER.CHECK_EMAIL.replace("{email}",encodeURIComponent(e));return await qe(t)}catch(t){throw console.error("Check user email exists error:",t),t}},rr=async e=>{try{const t=re.USER.GET_BY_EMAIL.replace("{email}",encodeURIComponent(e));return await qe(t)}catch(t){throw console.error("Get user by email error:",t),t}},Rf=async e=>{try{return await qe(`${re.OAUTH2.CHECK_SUB}?sub=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check OAuth2 sub error:",t),t}},xf=async()=>{try{const e=vt("easymart-token");return e?await qe(re.AUTH.STATUS,{method:"GET",headers:{Authorization:`Bearer ${e}`}}):{success:!1,error:"No token found"}}catch(e){return console.error("Check auth status error:",e),{success:!1,error:"Failed to check auth status"}}},Of=async e=>{try{return await qe(re.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})})}catch(t){return console.error("Validate token error:",t),{success:!1,error:"Token validation failed"}}},Pf=async()=>{try{const e=vt("easymart-token"),t=localStorage.getItem("easymart-user");if(e&&t){const r=JSON.parse(t);try{const a=await Ke(()=>Promise.resolve().then(()=>ur),void 0);if(a&&typeof a.useCart=="function"){const{persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=a.useCart();if(l&&await l(),c){const u="cart-merged-for-token";sessionStorage.getItem(u)!==e&&(!await c()&&d&&await d(),sessionStorage.setItem(u,e))}}}catch(a){console.warn("Cart merge after OAuth2 login failed (non-blocking):",a?.message||a)}return{success:!0,user:r}}const n=new URLSearchParams(window.location.search),s=n.get("code"),o=n.get("error");if(o)return console.error("OAuth2 error:",o),{success:!1,error:`OAuth2 li: ${o}`};if(s){console.log("Legacy OAuth2 callback with code:",s);try{const r=await qe(re.OAUTH2.USER_INFO),a=await qe(re.OAUTH2.GET_JWT_TOKEN);if(r.success&&a.success){const l=r.result,c=a.result,d=l.email||c.user_email,u=await al(d);if(u.success&&u.result.exists){const f={id:l.maNguoiDung||c.user_info?.maNguoiDung||null,name:l.tenNguoiDung||c.user_info?.tenNguoiDung||d.split("@")[0],email:d,phone:l.soDienThoai||c.user_info?.soDienThoai||"",avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||d.split("@")[0])}&background=007bff&color=fff`,joinDate:l.ngayTao||new Date().toISOString().split("T")[0],totalOrders:l.tongDonHang||0,totalSpent:l.tongChiTieu||0,role:l.vaiTro||c.user_role||"USER",loginMethod:"google",sub:l.sub||c.user_info?.sub};return sr("easymart-token",c.jwt_token),ss(f),{success:!0,user:f}}else return{success:!1,needsRegistration:!0,error:"Ti khon cha tn ti. Vui lng ng k trc.",userInfo:{name:l.tenNguoiDung||c.user_info?.tenNguoiDung||d.split("@")[0],email:d,avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||d.split("@")[0])}&background=007bff&color=fff`}}}}catch(r){return console.error("Failed to get user info from APIs:",r),{success:!1,error:"Khng th ly thng tin user t backend"}}}return null}catch(e){return console.error("OAuth2 callback error:",e),{success:!1,error:"X l OAuth2 callback tht bi"}}},ll=async()=>{try{try{const t=await Ke(()=>Promise.resolve().then(()=>ur),void 0);t&&typeof t.useCart=="function"&&(t.useCart().cart.value=[],console.log("[LOGOUT] Cart local state cleared, backend cart preserved"))}catch(t){console.warn("Clear cart state on logout failed (non-blocking):",t?.message||t)}try{localStorage.removeItem("easymart-selected-items"),localStorage.removeItem("easymart-redirect-after-login")}catch{}const e=vt("easymart-token");if(e)try{await qe(re.AUTH.LOGOUT,{method:"POST",headers:{Authorization:`Bearer ${e}`}})}catch(t){console.warn("Logout API call failed:",t)}return localStorage.removeItem("easymart-user"),or("easymart-token"),sessionStorage.removeItem("oauth2-frontend-redirect"),sessionStorage.removeItem("google-credential"),sessionStorage.removeItem("oauth2-login-mode"),sessionStorage.removeItem("google-user-info"),sessionStorage.removeItem("pending-oauth-user-info"),sessionStorage.removeItem("pending-google-credential"),sessionStorage.removeItem("pending-facebook-credential"),Me.value=null,{success:!0}}catch(e){return console.error("Logout error:",e),localStorage.clear(),sessionStorage.clear(),Me.value=null,{success:!1,error:"ng xut c li, nhng  xa d liu local"}}};nl();function os(){return{user:Me,isLoggedIn:gf,login:wf,loginWithGoogle:_f,loginWithFacebook:Cf,register:Sf,registerWithGoogle:kf,registerWithFacebook:Ef,logout:ll,loadUser:nl,forceReloadUser:yf,getJWTToken:Af,getUserInfo:$f,testOAuth2Config:If,checkEmailDuplicate:al,checkUserEmailExists:il,getUserByEmail:rr,checkOAuth2Sub:Rf,checkAuthStatus:xf,validateToken:Of,handleOAuth2Callback:Pf,fetchFullUserData:bf,validateProfileAccess:Cs,updateCustomerProfile:Tf,decodeToken:Ws,isTokenValid:zs,initUserFromToken:mf,debugCurrentToken:pf,checkTokenValidity:sl,autoLogoutIfInvalid:vf,performAutoLogout:xo,updateUserFromValidation:ol,ensureUserComplete:rl}}const we=Q([]),kn=Q(null),En=Q(!1),cl=()=>{we.value=[]},us=()=>{},Et=()=>{const e=Ce();return e?{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"}},Df=e=>we.value.find(t=>t.productId===e),Lf=J(()=>we.value.reduce((e,t)=>e+t.quantity,0)),Nf=J(()=>we.value.reduce((e,t)=>e+(t.product?.price||0)*t.quantity,0)),{user:He,ensureUserComplete:Uf,validateProfileAccess:Hf}=os(),Jt=async()=>{try{const n=await fetch(`${re.BASE_URL}${ve.CART.CURRENT_USER}`,{headers:Et()});if(n.ok){const o=(await n.json().catch(()=>null))?.maKH||null;try{console.log("[CART][RESOLVE_KH] source=current-user maKH=",o)}catch{}if(o)return o}}catch{}if(!He.value)return null;if(He.value?.customerInfo?.maKH){try{console.log("[CART][RESOLVE_KH] source=customerInfo maKH=",He.value.customerInfo.maKH)}catch{}return He.value.customerInfo.maKH}const e=await Uf().catch(()=>He.value);if(!e?.customerInfo?.maKH)try{console.log("[CART][RESOLVE_KH] Trying to validate profile access..."),await Hf()}catch(n){console.warn("[CART][RESOLVE_KH] Profile validation failed:",n.message)}let t=He.value?.customerInfo?.maKH||null;if(!t&&He.value?.email)try{if(console.log("[CART][RESOLVE_KH] No maKH found, attempting to create customer info..."),t=await fl(),t)return console.log("[CART][RESOLVE_KH] Successfully created customer info with maKH:",t),t}catch(n){console.error("[CART][RESOLVE_KH] Failed to create customer info:",n.message)}try{console.log("[CART][RESOLVE_KH] userId=",e?.id,"maKH=",t)}catch{}return t},rs=async e=>{try{const t=Ce();if(!t)return console.warn("[CART][PULL_ITEMS] No token available"),[];const n=`${re.BASE_URL}${ve.CART.BY_CUSTOMER_WITH_ITEMS(e)}`;console.log("[CART][PULL_ITEMS][REQ]",n,"with token:",t.substring(0,20)+"...");const s=await fetch(n,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok){console.error("[CART][PULL_ITEMS][FAIL] status=",s.status,"statusText=",s.statusText);const a=await s.text().catch(()=>"Unable to read response");if(console.error("[CART][PULL_ITEMS][RESPONSE_BODY]",a),s.status===401)return console.error("[CART][PULL_ITEMS] Unauthorized - token may be invalid"),[];if(s.status===404){console.error("[CART][PULL_ITEMS] With-items endpoint not found, trying basic cart endpoint...");const l=`${re.BASE_URL}${ve.CART.BY_CUSTOMER(e)}`;console.log("[CART][PULL_ITEMS][FALLBACK] Trying basic endpoint:",l);const c=await fetch(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const d=await c.json().catch(()=>({}));return console.log("[CART][PULL_ITEMS][FALLBACK] Basic cart data:",d),Array.isArray(d)?(console.warn("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned empty array - endpoint may be incorrect"),[]):d&&typeof d=="object"?(console.log("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned cart info:",d),[]):(console.warn("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned unexpected format:",d),[])}else{console.error("[CART][PULL_ITEMS][FALLBACK] Basic endpoint also failed:",c.status),console.log("[CART][PULL_ITEMS][FINAL_FALLBACK] Both endpoints failed, attempting to create cart via add endpoint...");try{const d=`${re.BASE_URL}${ve.CART_ITEMS.ADD}`,u=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({maSP:"DUMMY_SP",soLuong:1,donGiaHienTai:0})});if(u.ok){console.log("[CART][PULL_ITEMS][FINAL_FALLBACK] Successfully created cart via add endpoint");const f=await u.json().catch(()=>({}));return f.itemId&&await fetch(`${re.BASE_URL}${ve.CART_ITEMS.REMOVE(f.itemId)}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).catch(()=>{}),[]}else return console.warn("[CART][PULL_ITEMS][FINAL_FALLBACK] Failed to create cart via add endpoint:",u.status),[]}catch(d){return console.error("[CART][PULL_ITEMS][FINAL_FALLBACK] Error in final fallback:",d),[]}}}else return console.error("[CART][PULL_ITEMS] Other error status:",s.status),[]}const o=await s.json().catch(()=>({})),r=o?.items||[];return console.log("[CART][PULL_ITEMS][OK] maKH=",e,"count=",r.length,"tongTien=",o.tongTien),r.map(a=>({productId:a.sanPham?.maSP||a.maSP||a.productId,quantity:a.soLuong||a.quantity||1,itemId:a.maGHCT||a.maGioHangChiTiet||a.maCTGH||a.id||a.itemId,price:a.donGiaHienTai||0,product:a.sanPham||a.product||null,originalData:a}))}catch(t){return console.error("[CART][PULL_ITEMS][EXCEPTION]",t),[]}},ul=async()=>{if(!Ce())return;const t=await Jt();if(!t)return;kn.value=t;const n=await Qs();if(n&&n.maKH)console.log("[CART][MERGE] Sync successful"),await An();else{const s=await rs(t);we.value=s}En.value=!0},Mf=async()=>{await dl()},An=async()=>{if(!Ce()){try{console.warn("[CART][RELOAD] No token available")}catch{}return!1}const t=await Jt();if(!t){try{console.warn("[CART][RELOAD] Could not resolve customer ID")}catch{}return!1}kn.value=t;const n=await rs(t);we.value=Array.isArray(n)?n:[],En.value=!0;try{console.log("[CART][RELOAD] maKH=",t,"itemsCount=",we.value.length),we.value.length===0&&console.log("[CART][RELOAD] Cart is empty - this may be normal if backend endpoints are not fully implemented yet")}catch{}return!0},dl=async()=>{if(Ce()){try{console.log("[GIOHANG][PERSIST_LOGOUT] local cart disabled, clearing state")}catch{}try{const t=await Qs();if(t&&t.maKH){console.log("[GIOHANG][PERSIST_LOGOUT] Sync successful, using maKH:",t.maKH),kn.value=t.maKH,we.value=[],us();return}}catch(t){console.error("[GIOHANG][PERSIST_LOGOUT] Sync error:",t)}we.value=[]}},Qs=async()=>{try{const e=we.value.filter(s=>!s.inactive);if(e.length===0)return console.log("[CART][SYNC] No active items to sync"),null;const t={items:e.map(s=>({maSP:s.productId,soLuong:s.quantity}))};console.log("[CART][SYNC] Syncing items:",t);const n=await fetch(`${re.BASE_URL}${ve.CART.SYNC}`,{method:"POST",headers:Et(),body:JSON.stringify(t)});if(n.ok){const s=await n.json();return console.log("[CART][SYNC][SUCCESS]",s),{maKH:s.maKH,items:s.items||[],tongTien:s.tongTien||0}}else{const s=await n.json().catch(()=>({message:"Unknown error"}));throw console.error("[CART][SYNC][ERROR]",n.status,s),new Error(`Sync failed: ${s.message}`)}}catch(e){return console.error("[CART][SYNC][EXCEPTION]",e),null}},Bf=async()=>{try{console.log(" [CART][TEST] Testing cart API connection...");const e=Ce();if(!e)return console.error(" [CART][TEST] No token found"),{success:!1,error:"No authentication token"};console.log(" [CART][TEST] Token found:",e.substring(0,20)+"...");const t=await Jt();if(!t)return console.error(" [CART][TEST] Could not resolve customer ID"),{success:!1,error:"Could not resolve customer ID"};console.log(" [CART][TEST] Customer ID resolved:",t);try{const n=`${re.BASE_URL}${ve.CART.CURRENT_USER}`;console.log(" [CART][TEST] Testing current-user endpoint:",n);const s=await fetch(n,{headers:Et()});if(console.log(" [CART][TEST] Current-user response status:",s.status),s.ok){const o=await s.json();console.log(" [CART][TEST] Current-user data:",o)}else{const o=await s.text().catch(()=>"Unable to read");console.error(" [CART][TEST] Current-user error:",o)}}catch(n){console.error(" [CART][TEST] Current-user exception:",n)}try{const n=`${re.BASE_URL}${ve.CART.BY_CUSTOMER(t)}`;console.log(" [CART][TEST] Testing basic cart endpoint:",n);const s=await fetch(n,{headers:Et()});if(console.log(" [CART][TEST] Basic cart response status:",s.status),s.ok){const o=await s.json();console.log(" [CART][TEST] Basic cart data:",o)}else{const o=await s.text().catch(()=>"Unable to read");console.error(" [CART][TEST] Basic cart error:",o)}}catch(n){console.error(" [CART][TEST] Basic cart exception:",n)}try{const n=`${re.BASE_URL}${ve.CART.BY_CUSTOMER_WITH_ITEMS(t)}`;console.log(" [CART][TEST] Testing with-items endpoint:",n);const s=await fetch(n,{headers:Et()});if(console.log(" [CART][TEST] With-items response status:",s.status),s.ok){const o=await s.json();return console.log(" [CART][TEST] With-items data:",o),{success:!0,maKH:t,data:o}}else{const o=await s.text().catch(()=>"Unable to read");return console.error(" [CART][TEST] With-items error:",o),{success:!1,error:`API returned ${s.status}: ${o}`}}}catch(n){return console.error(" [CART][TEST] With-items exception:",n),{success:!1,error:n.message}}}catch(e){return console.error(" [CART][TEST] General exception:",e),{success:!1,error:e.message}}},fl=async()=>{try{if(!He.value?.email)return console.log("[CART][CREATE_CUSTOMER] No email available for user"),null;console.log("[CART][CREATE_CUSTOMER] Creating customer info for:",He.value.email);const e=Ce(),t=await fetch(`${re.BASE_URL}/api/nguoidung/email/${encodeURIComponent(He.value.email)}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)return console.error("[CART][CREATE_CUSTOMER] Failed to get user info:",t.status),null;const s=(await t.json()).maNguoiDung;if(!s)return console.error("[CART][CREATE_CUSTOMER] No maNguoiDung found in user info"),null;console.log("[CART][CREATE_CUSTOMER] Got maNguoiDung:",s);const o={nguoiDung:{maNguoiDung:s},hoTen:He.value.name||He.value.email.split("@")[0],soDienThoai:He.value.phone||"",diaChi:He.value.address||"",ngaySinh:He.value.birthDate||null,ngayTao:new Date().toISOString()};console.log("[CART][CREATE_CUSTOMER] Creating customer with data:",o);const r=await fetch(`${re.BASE_URL}/api/khachhang`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(o)});if(!r.ok){const c=await r.json().catch(()=>({}));return console.error("[CART][CREATE_CUSTOMER] Failed to create customer:",r.status,c),null}const a=await r.json(),l=a.maKH||a.maKH;return l?(console.log("[CART][CREATE_CUSTOMER] Successfully created customer with maKH:",l),He.value&&(He.value.customerInfo={...He.value.customerInfo,maKH:l},He.value.maKH=l),l):(console.error("[CART][CREATE_CUSTOMER] No maKH in response:",a),null)}catch(e){return console.error("[CART][CREATE_CUSTOMER] Exception:",e),null}},Js=async(e,t=1,n=null)=>{try{const s={maSP:e,soLuong:t};n!==null&&n>0&&(s.donGiaHienTai=n);const o=await fetch(`${re.BASE_URL}${ve.CART_ITEMS.ADD}`,{method:"POST",headers:Et(),body:JSON.stringify(s)});if(o.ok){const r=await o.json();return console.log("[CART][ADD_BACKEND] Success:",r),r}else{const r=await o.json().catch(()=>({message:"Unknown error"}));return console.error("[CART][ADD_BACKEND] Error:",o.status,r),null}}catch(s){return console.error("[CART][ADD_BACKEND] Exception:",s),null}},hl=async(e,t)=>{try{const n=await fetch(`${re.BASE_URL}${ve.CART_ITEMS.UPDATE_QTY(e)}?value=${t}`,{method:"PUT",headers:Et()});return n.ok?(console.log("[CART][UPDATE_QTY] Success for itemId:",e),!0):(console.error("[CART][UPDATE_QTY] Error:",n.status),!1)}catch(n){return console.error("[CART][UPDATE_QTY] Exception:",n),!1}},gl=async e=>{try{const t=await fetch(`${re.BASE_URL}${ve.CART_ITEMS.REMOVE(e)}`,{method:"DELETE",headers:Et()});return t.ok?(console.log("[CART][REMOVE_ITEM] Success for itemId:",e),!0):(console.error("[CART][REMOVE_ITEM] Error:",t.status),!1)}catch(t){return console.error("[CART][REMOVE_ITEM] Exception:",t),!1}},ar=async()=>{try{const e=await Jt();if(!e)return!1;const t=await fetch(`${re.BASE_URL}${ve.CART.CLEAR_ITEMS(e)}`,{method:"DELETE",headers:Et()});return t.ok?(console.log("[CART][CLEAR_ALL] Success for maKH:",e),!0):(console.error("[CART][CLEAR_ALL] Error:",t.status),!1)}catch(e){return console.error("[CART][CLEAR_ALL] Exception:",e),!1}},ir=async e=>{try{const t=await Jt();if(!t)return!1;const n=await fetch(`${re.BASE_URL}${ve.CART.UPDATE_STATUS(t)}?value=${e}`,{method:"PUT",headers:Et()});return n.ok?(console.log("[CART][UPDATE_STATUS] Success:",e),!0):(console.error("[CART][UPDATE_STATUS] Error:",n.status),!1)}catch(t){return console.error("[CART][UPDATE_STATUS] Exception:",t),!1}},lr=async()=>{if(!Ce())return console.log("[CART][SYNC_IDS] No token available"),!1;const t=await Jt();if(!t)return console.log("[CART][SYNC_IDS] No customer ID available"),!1;try{console.log("[CART][SYNC_IDS] Syncing itemIds from backend...");const n=await rs(t);if(!n||n.length===0)return console.log("[CART][SYNC_IDS] No backend items found"),!1;let s=0;return we.value.forEach(o=>{const r=n.find(a=>a.productId===o.productId);r&&r.itemId?(!o.itemId||o.itemId!==r.itemId)&&(o.itemId=r.itemId,s++,console.log("[CART][SYNC_IDS] Updated itemId for",o.productId,":",r.itemId)):console.warn("[CART][SYNC_IDS] No backend item found for",o.productId)}),s>0?(us(),console.log("[CART][SYNC_IDS] Synced",s,"itemIds")):console.log("[CART][SYNC_IDS] No itemIds needed syncing"),s>0}catch(n){return console.error("[CART][SYNC_IDS] Error syncing itemIds:",n),!1}},Kf=async()=>{if(!Ce())throw new Error("Cn ng nhp  thanh ton");try{if(console.log("[CART][CHECKOUT] Processing checkout..."),await ir(1))return console.log("[CART][CHECKOUT] Successfully updated cart status to Paid"),we.value=[],us(),En.value=!1,{success:!0,message:"Thanh ton thnh cng"};throw new Error("Khng th cp nht trng thi gi hng")}catch(t){return console.error("[CART][CHECKOUT] Error:",t),{success:!1,error:t.message}}},Ff=async()=>{if(!Ce())throw new Error("Cn ng nhp  hy gi hng");try{if(console.log("[CART][CANCEL] Cancelling cart..."),await ir(2))return console.log("[CART][CANCEL] Successfully cancelled cart"),we.value=[],us(),En.value=!1,{success:!0,message:" hy gi hng"};throw new Error("Khng th hy gi hng")}catch(t){return console.error("[CART][CANCEL] Error:",t),{success:!1,error:t.message}}},cr=async(e,t=1,n=null)=>{try{console.log("[CART][ADD] productId=",e,"quantity=",t)}catch{}if(!Ce()){try{sessionStorage.setItem("pending-cart-add",JSON.stringify({productId:e,quantity:t})),typeof window<"u"&&(sessionStorage.setItem("easymart-redirect-after-login",window.location.pathname||"/"),window.location.href="/login")}catch{}return{success:!1,needsLogin:!0}}let o=!0,r=n,a=null;try{if(n)typeof n.trangThai<"u"?(o=n.trangThai===1,a=n.trangThai):typeof n.isActive<"u"?(o=!!n.isActive,a=n.isActive?"active":"inactive"):(o=!0,a="unknown");else{const l=await fetch(`${re.BASE_URL}${ve.PRODUCTS.BY_ID(e)}`);if(l.ok){const c=await l.json();r=c,typeof c.trangThai<"u"?(o=c.trangThai===1,a=c.trangThai):typeof c.isActive<"u"&&(o=!!c.isActive,a=c.isActive?"active":"inactive")}}}catch(l){console.warn("[CART][ADD] Could not check product status:",l),o=!0,a="unknown"}if(!o)return console.warn("[CART][ADD] Product is inactive, skip add:",e,"status:",a),typeof window<"u"&&alert(` Sn phm ${e} hin khng kh dng!

Trng thi: ${a===0?"Ngng bn":"Khng kh dng"}

Vui lng chn sn phm khc hoc lin h admin  kch hot sn phm.`),{success:!1,inactive:!0,message:`Sn phm ${e} hin khng kh dng (trng thi: ${a})`};try{console.log("[CART][ADD] Adding to backend:",e,"quantity:",t);const l=r?.giaHienTai||r?.price||0;if(await Js(e,t,l))return await An(),{success:!0,message:` thm ${t} sn phm vo gi hng`}}catch(l){return console.error("[CART][ADD] Backend add error:",l),typeof window<"u"&&alert(` Khng th thm sn phm vo gi hng!

Li: ${l.message||"Li khng xc nh"}

Vui lng th li sau hoc lin h admin.`),{success:!1,error:l.message||"Khng th thm vo gi hng"}}return{success:!1,error:"Khng th thm vo gi hng"}},Oo=async e=>{const t=we.value.findIndex(n=>n.productId===e);if(t!==-1){const n=we.value[t];if(Ce())try{if(!n.itemId){console.log("[CART][REMOVE] Item missing itemId, syncing from backend..."),await lr();const o=we.value.find(r=>r.productId===e);o?.itemId&&(n.itemId=o.itemId)}if(n.itemId)console.log("[CART][REMOVE] Removing from backend:",n.itemId),await gl(n.itemId)?console.log("[CART][REMOVE] Successfully removed from backend"):console.warn("[CART][REMOVE] Failed to remove from backend, continuing with local removal");else{console.log("[CART][REMOVE] No itemId found, using fallback method");const o=we.value.filter(r=>r.productId!==e);await ar();for(const r of o)r.inactive||await Js(r.productId,r.quantity,r.product?.giaHienTai||r.price||0)}}catch(o){console.error("[CART][REMOVE] Backend removal error:",o)}we.value.splice(t,1),console.log("[CART][REMOVE] Removed from local cart:",e)}},Vf=async(e,t)=>{const n=Df(e);if(n)if(t<=0)await Oo(e);else{if(Ce())try{if(!n.itemId){console.log("[CART][UPDATE_QTY] Item missing itemId, syncing from backend..."),await lr();const o=we.value.find(r=>r.productId===e);o?.itemId&&(n.itemId=o.itemId)}if(n.itemId)console.log("[CART][UPDATE_QTY] Updating backend quantity:",n.itemId,"to",t),await hl(n.itemId,t)?console.log("[CART][UPDATE_QTY] Successfully updated backend"):console.warn("[CART][UPDATE_QTY] Failed to update backend, continuing with local update");else{console.log("[CART][UPDATE_QTY] No itemId found, using fallback method"),await Oo(e),await cr(e,t,n.product);return}}catch(o){console.error("[CART][UPDATE_QTY] Backend update error:",o)}n.quantity=t,console.log("[CART][UPDATE_QTY] Updated local quantity:",e,"to",t)}},Gf=async()=>{if(Ce())try{console.log("[CART][CLEAR] Clearing backend cart..."),await ar()?console.log("[CART][CLEAR] Successfully cleared backend cart"):console.warn("[CART][CLEAR] Failed to clear backend cart, continuing with local clear")}catch(t){console.error("[CART][CLEAR] Backend clear error:",t)}we.value=[],console.log("[CART][CLEAR] Cleared local cart")},jf=e=>we.value.map(t=>{const n=e.find(s=>s.id===t.productId);return{...t,product:n||t.product}}).filter(t=>t.product),qf=e=>we.value.reduce((t,n)=>{const s=e.find(o=>o.id===n.productId);return t+(s?s.price*n.quantity:0)},0);cl();ot(He,async(e,t)=>{const n=Ce();if(e&&!t&&n){try{console.log("[GIOHANG][AUTH_WATCH] login detected")}catch{}try{const o=sessionStorage.getItem("pending-cart-add");if(o){const{productId:r,quantity:a}=JSON.parse(o);sessionStorage.removeItem("pending-cart-add"),console.log("[GIOHANG][AUTH_WATCH] Processing pending cart add:",r,a);const l=await cr(r,a);l.success?console.log("[GIOHANG][AUTH_WATCH] Successfully added pending item:",l.message):console.warn("[GIOHANG][AUTH_WATCH] Failed to add pending item:",l.error||l.message)}}catch(o){console.error("[GIOHANG][AUTH_WATCH] Error processing pending cart add:",o)}console.log("[GIOHANG][AUTH_WATCH] Reloading cart from backend..."),await An()?console.log("[GIOHANG][AUTH_WATCH] Cart reload successful, items count:",we.value.length):console.warn("[GIOHANG][AUTH_WATCH] Cart reload failed, but continuing...")}});const Yf=async e=>{try{console.log("[GIOHANG][FALLBACK] Adding items to cart for maKH:",e);for(const t of we.value)if(t.inactive)console.log("[GIOHANG][FALLBACK] Skipping inactive item:",t.productId);else try{await Js(t.productId,t.quantity,t.product?.giaHienTai||t.product?.price||null)?console.log("[GIOHANG][FALLBACK] Item added successfully:",t.productId):console.error("[GIOHANG][FALLBACK] Failed to add item:",t.productId)}catch(n){console.error("[GIOHANG][FALLBACK] Exception adding item:",n)}}catch(t){console.error("[GIOHANG][FALLBACK] Error in fallback persist:",t)}};(async()=>{if(Ce()){try{console.log("[GIOHANG][INIT] token present, syncing cart...")}catch{}if(we.value.length===0){console.log("[GIOHANG][INIT] Local cart empty, just reloading backend"),await An();return}const t=await Qs();t&&t.maKH?(console.log("[GIOHANG][INIT] Sync successful, using maKH:",t.maKH),kn.value=t.maKH,(!t.items||t.items.length===0)&&(console.warn("[GIOHANG][INIT] Sync returned empty items, trying fallback..."),await Yf(t.maKH)),await An()):(console.log("[GIOHANG][INIT] Sync failed, using fallback strategy"),await ul())}})();function Xs(){return{cart:we,backendCartId:kn,backendReady:En,cartCount:Lf,cartTotal:Nf,addToCart:cr,removeFromCart:Oo,updateCartQuantity:Vf,clearCart:Gf,getCartItemsWithProducts:jf,getCartTotal:qf,loadCart:cl,saveCart:us,addItemToBackendCart:Js,updateItemQuantityInBackend:hl,removeItemFromBackend:gl,clearBackendCart:ar,updateCartStatus:ir,syncItemIdsFromBackend:lr,checkoutCart:Kf,cancelCart:Ff,createCustomerInfoForUser:fl,mergeWithBackendOnLogin:ul,persistLocalToBackendAndClear:dl,reloadCartFromBackend:An,syncLocalCartToDBViaEndpoint:Qs,testCartAPIConnection:Bf,debugCartState:()=>(console.log("=== CART DEBUG STATE ==="),console.log("Local cart items:",we.value.map(e=>({productId:e.productId,quantity:e.quantity,itemId:e.itemId,hasItemId:!!e.itemId,inactive:e.inactive}))),console.log("Backend cart ID:",kn.value),console.log("Backend ready:",En.value),console.log("Token available:",!!Ce()),we.value),getLocalCartSnapshot:()=>({count:we.value.length,items:we.value.map(e=>({productId:e.productId,quantity:e.quantity}))}),getBackendCartSnapshot:async()=>{if(!Ce())return{maKH:null,items:[]};const t=await Jt();if(!t)return{maKH:null,items:[]};const n=await rs(t);return{maKH:t,items:n}},compareLocalAndBackend:async()=>{const e={count:we.value.length,items:we.value.map(c=>({productId:c.productId,quantity:c.quantity}))},t=Ce();let n={maKH:null,items:[]};if(t){const c=await Jt();if(c){const d=await rs(c);n={maKH:c,items:d}}}const s=c=>{const d=new Map;for(const u of c){const f=String(u.productId);d.set(f,(d.get(f)||0)+(u.quantity||0))}return d},o=s(e.items),r=s(n.items),a=new Set([...o.keys(),...r.keys()]),l=[];for(const c of a){const d=o.get(c)||0,u=r.get(c)||0;l.push({productId:c,localQty:d,backendQty:u,equal:d===u})}return{local:e,backend:n,diff:l}}}}const ur=Object.freeze(Object.defineProperty({__proto__:null,persistCartOnLogout:Mf,useCart:Xs},Symbol.toStringTag,{value:"Module"})),Wf={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"y",:"y",:"y",:"y",:"y",:"d",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"Y",:"Y",:"Y",:"Y",:"Y",:"D"};function zf(e){return!e||typeof e!="string"?"":e.split("").map(t=>Wf[t]||t).join("")}function Po(e){return!e||typeof e!="string"?"":zf(e.toLowerCase().trim())}function Do(e,t){if(!e||!t)return!1;const n=Po(e),s=Po(t);return n.includes(s)}function Qf(e,t,n){return!e||!Array.isArray(e)||!t||!n||!Array.isArray(n)?e||[]:Po(t)?e.filter(o=>n.some(r=>{const a=o[r];return a?Do(a,t):!1})):e}class an{static async getAllCategories(){try{const t=await fetch(`${xt}${ve.CATEGORIES.LIST}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).map(s=>({id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:an.getCategoryIcon(s.tenLoai),color:an.getCategoryColor(s.tenLoai)}))}catch(t){return console.error("Error fetching categories:",t),an.getDefaultCategories()}}static async getCategoryById(t){try{const n=await fetch(`${xt}${ve.CATEGORIES.BY_ID(t)}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();return{id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:an.getCategoryIcon(s.tenLoai),color:an.getCategoryColor(s.tenLoai)}}catch(n){return console.error(`Error fetching category ${t}:`,n),null}}static getCategoryIcon(t){if(!t)return"fas fa-tags";const n={"ti sng":"fas fa-leaf","rau c":"fas fa-carrot",tht:"fas fa-drumstick-bite",c:"fas fa-fish","tri cy":"fas fa-apple-alt","ng lnh":"fas fa-snowflake",kem:"fas fa-ice-cream","ng hp":"fas fa-box",hp:"fas fa-box",lon:"fas fa-cube"," ung":"fas fa-tint",nc:"fas fa-tint",sa:"fas fa-wine-bottle",tr:"fas fa-mug-hot","c ph":"fas fa-coffee",sa:"fas fa-baby","em b":"fas fa-baby","tr em":"fas fa-child","gia v":"fas fa-pepper-hot","du n":"fas fa-oil-can","nc mm":"fas fa-flask",mui:"fas fa-cube","ha phm":"fas fa-soap","ty ra":"fas fa-broom",git:"fas fa-tshirt","v sinh":"fas fa-spray-can"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("n")||s.includes("thc phm")?"fas fa-utensils":s.includes("")?"fas fa-shopping-basket":"fas fa-tags"}static getCategoryColor(t){if(!t)return"primary";const n={"ti sng":"success","rau c":"success",tht:"danger",c:"info","tri cy":"success","ng lnh":"info",kem:"info","ng hp":"warning",hp:"warning",lon:"warning"," ung":"primary",nc:"primary",sa:"info",tr:"success","c ph":"dark",sa:"info","em b":"info","tr em":"info","gia v":"danger","du n":"warning","nc mm":"danger",mui:"light","ha phm":"success","ty ra":"success",git:"info","v sinh":"success"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("n")||s.includes("thc phm")?"success":(s.includes(""),"primary")}static getDefaultCategories(){return[{id:"LSP001",name:"Ti sng",icon:"fas fa-leaf",color:"success",description:"Cc loi rau c qu ti"},{id:"LSP002",name:"ng lnh",icon:"fas fa-snowflake",color:"info",description:"Thc phm ng lnh"},{id:"LSP003",name:" ng hp",icon:"fas fa-box",color:"warning",description:"Thc phm ng hp"},{id:"LSP004",name:" ung",icon:"fas fa-tint",color:"primary",description:"Cc loi nc gii kht"},{id:"LSP005",name:"Sa & em b",icon:"fas fa-baby",color:"info",description:"Sn phm cho tr em"},{id:"LSP006",name:"Gia v & Du n",icon:"fas fa-pepper-hot",color:"danger",description:"Gia v v du n"},{id:"LSP007",name:"Ha phm & Ty ra",icon:"fas fa-soap",color:"success",description:"Sn phm v sinh"}]}}function Rn(){const e=Q([]),t=Q([]),n=Q([]),s=Q(""),o=Q(null),r=Q({hours:0,minutes:0,seconds:0}),a=Q(!1),{addToCart:l}=Xs(),c=[{id:1,name:"Ti Sng",icon:"fas fa-leaf",color:"success"},{id:2,name:"ng lnh",icon:"fas fa-snowflake",color:"info"},{id:3,name:" ng hp",icon:"fas fa-can-food",color:"warning"},{id:4,name:" Ung",icon:"fas fa-tint",color:"primary"},{id:5,name:"Sa & Em b",icon:"fas fa-baby",color:"info"},{id:6,name:"Gia V & Du n",icon:"fas fa-pepper-hot",color:"danger"},{id:7,name:"Ha Phm & Ty Ra",icon:"fas fa-soap",color:"success"}],d=[{id:1,title:"OMO Gim 20%",description:"p dng cho tt c sn phm OMO",code:"OMO20"},{id:2,title:"Nc git Ariel -15%",description:"n hng t 150k",code:"ARIEL15"},{id:3,title:"Snack Combo - Gim 10%",description:"Mua 2 tng 1",code:"SNACK10"},{id:4,title:"Gim 25k cho n hng > 300k",description:"p dng tt c sn phm",code:"SAVE25K"}],u=J(()=>e.value.filter(_=>_.isFlashSale)),f=J(()=>s.value.trim().length<2?[]:Qf(e.value,s.value,["name","description"]).slice(0,5)),h=async _=>{try{const F=await fetch(`${xt}${ve.PRODUCTS.BY_CATEGORY_ACTIVE(_)}`);if(!F.ok)throw new Error(`HTTP error! status: ${F.status}`);const $=(await F.json()).map(v=>({id:v.maSP||v.id,name:v.tenSP||v.name,price:v.giaHienTai||v.giaBan||v.price,originalPrice:v.giaGoc||v.originalPrice,categoryId:v.loaiSanPham?.maLoaiSP||v.categoryId,categoryName:v.loaiSanPham?.tenLoai||v.categoryName,image:`${xt}${ve.IMAGES.SERVE_IMAGE(v.maSP+"_main.jfif")}`,images:ve.IMAGES.PRODUCT_IMAGES(v.maSP).map(A=>`${xt}${A}`),description:v.moTa||v.description,isFlashSale:v.isFlashSale||!1,isActive:v.isActive!==!1,stock:v.trongLuong||v.stock||0,unit:v.donViTinh||v.unit||"ci",rating:v.danhGia||v.rating||4.5,reviews:v.danhGia||v.reviews||[]}));return await D($)}catch(F){return console.error(`Failed to get products for category ${_} from API:`,F),[]}},m=_=>t.value.find(F=>F.id===_),T=_=>{const F=Number(_),N=Number.isFinite(F)?F:0;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(N)},y=(_,F="success")=>{o.value={message:_,type:F},setTimeout(()=>{o.value=null},3e3)},B=_=>{y(` lu m khuyn mi: ${_}`,"success")},L=()=>{const _=new Date().getTime(),F=new Date;F.setHours(24,0,0,0);const N=F.getTime()-_;r.value={hours:Math.floor(N%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(N%(1e3*60*60)/(1e3*60)),seconds:Math.floor(N%(1e3*60)/1e3)}},w=()=>{L(),setInterval(L,1e3)},b=async()=>{n.value=d,w(),await Promise.all([S(),P()])},S=async()=>{try{a.value=!0;const _=await an.getAllCategories();t.value=_}catch(_){console.error("Failed to load categories from API, using defaults:",_),t.value=c}finally{a.value=!1}},P=async()=>{try{const _=await fetch(`${xt}${ve.PRODUCTS.LIST}`);if(!_.ok)throw new Error(`HTTP error! status: ${_.status}`);const N=(await _.json()).map($=>({id:$.maSP||$.id,name:$.tenSP||$.name,price:$.giaHienTai||$.giaBan||$.price,originalPrice:$.giaGoc||$.originalPrice,categoryId:$.loaiSanPham?.maLoaiSP||$.categoryId,categoryName:$.loaiSanPham?.tenLoai||$.categoryName,image:`${xt}${ve.IMAGES.SERVE_IMAGE($.maSP+"_main.jfif")}`,images:ve.IMAGES.PRODUCT_IMAGES($.maSP).map(v=>`${xt}${v}`),description:$.moTa||$.description,isFlashSale:$.isFlashSale||!1,isActive:$.isActive!==!1,stock:$.trongLuong||$.stock||0,unit:$.donViTinh||$.unit||"ci",rating:$.danhGia||$.rating||4.5,reviews:$.danhGia||$.reviews||[]}));e.value=await D(N)}catch(_){console.error("Failed to load products from API:",_),e.value=[]}},D=async _=>await Promise.all(_.map(async N=>{const $=Number(N.price);if(Number.isFinite($)&&$>0)return N;try{const x=await fetch(`${xt}${ve.PRODUCTS.BY_ID(N.id)}`);if(x.ok){const v=await x.json(),k=v.giaHienTai||v.giaBan||v.price||0;return{...N,price:k}}}catch{}return N}));return pt(()=>{b()}),{products:e,categories:t,coupons:n,searchQuery:s,notification:o,countdown:r,isLoadingCategories:a,flashSaleProducts:u,searchResults:f,getProductsByCategory:h,getCategoryById:m,formatPrice:T,showNotification:y,addToCart:l,saveCoupon:B,initializeData:b,loadCategories:S,loadProducts:P}}const nt=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Jf={class:"d-flex align-items-center justify-content-center rounded-circle me-3 bg-white bg-opacity-20",style:{width:"40px",height:"40px"}},Xf={class:"flex-grow-1"},Zf={class:"fw-medium lh-sm"},eh={key:0,class:"mt-2 rounded-pill overflow-hidden bg-white bg-opacity-30",style:{height:"3px"}},th={__name:"Notification",props:{message:{type:String,required:!0},type:{type:String,default:"success",validator:e=>["success","warning","danger","info"].includes(e)},duration:{type:Number,default:4e3},showProgress:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,o=Q(100);let r=null,a=null;const l=J(()=>{const f={success:"fas fa-check-circle",warning:"fas fa-exclamation-triangle",danger:"fas fa-times-circle",info:"fas fa-info-circle"};return f[n.type]||f.success}),c=()=>{d(),s("close")},d=()=>{r&&(clearInterval(r),r=null),a&&(clearTimeout(a),a=null)},u=()=>{if(!n.showProgress)return;const f=100/(n.duration/50);r=setInterval(()=>{o.value=Math.max(0,o.value-f)},50)};return pt(()=>{u(),a=setTimeout(()=>{c()},n.duration)}),Zt(()=>{d()}),(f,h)=>(I(),ls(ei,{to:"body"},[he(js,{name:"notification","enter-active-class":"animate__animated animate__slideInRight animate__faster","leave-active-class":"animate__animated animate__slideOutRight animate__faster"},{default:Ne(()=>[i("div",{class:Se(["position-fixed top-0 end-0 m-3 shadow-lg rounded-3 border-0 notification-alert d-flex align-items-center",`alert-${e.type}`]),style:{"z-index":"9999","min-width":"350px","max-width":"450px","backdrop-filter":"blur(10px)"},role:"alert"},[i("div",Jf,[i("i",{class:Se(`${l.value} fs-5`)},null,2)]),i("div",Xf,[i("div",Zf,q(e.message),1),e.showProgress?(I(),R("div",eh,[i("div",{class:"h-100 bg-white bg-opacity-80 rounded-pill",style:bn([{transition:"width 0.05s linear"},{width:o.value+"%"}])},null,4)])):me("",!0)]),i("button",{type:"button",class:"btn-close ms-3 opacity-75 hover-scale",onClick:c,"aria-label":"ng"})],2)]),_:1})]))}},nh=nt(th,[["__scopeId","data-v-fc51c166"]]),sh={class:"search-container"},oh={class:"search-icon"},rh={class:"fas fa-search"},ah={class:"spinner-border spinner-border-sm",role:"status"},ih=["placeholder","value"],lh={class:"search-actions"},ch={key:0,class:"quick-search"},uh={class:"dropdown-section"},dh={class:"recent-searches"},fh=["onClick"],hh={class:"dropdown-section"},gh={class:"popular-keywords"},mh=["onClick"],ph={key:1,class:"search-results"},vh={key:0,class:"no-results"},yh={key:1,class:"search-suggestions"},bh={class:"suggestion-items"},Th=["onClick"],wh={key:2,class:"product-results"},_h={class:"results-header"},Ch={class:"section-title"},Sh={class:"product-list"},kh=["onClick"],Eh={class:"product-image"},Ah=["src","alt"],$h={key:0,class:"product-badge"},Ih={class:"product-info"},Rh={class:"product-name"},xh={class:"product-price"},Oh={key:0,class:"original-price"},Ph={class:"current-price"},Dh={class:"product-meta"},Lh={class:"product-rating"},Nh={key:0,class:"out-of-stock-label"},Uh={class:"product-actions"},Hh=["onClick","disabled"],Mh={key:3,class:"category-results"},Bh={class:"category-list"},Kh=["onClick"],Fh={class:"product-count"},Vh={__name:"SearchDropdown",props:{searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart","view-product","view-category"],setup(e,{emit:t}){const n=en(),s=e,o=t,r=Q(null),a=Q(!1),l=Q(!1),c=Q(-1),d=Q(0),u=Q(null),f=["Tm kim sn phm... (c th tm khng du)","Rau c qu ti ngon...","Tht c hi sn...","Sa v cc sn phm t sa...","Bnh ko  ung..."],h=Lt(["Rau xanh organic","Tht b c","Sa ti"]),m=Lt(["Rau organic","Tht ti","Hi sn","Tri cy","Sa ti","Bnh m"," ung","Gia v"]),T=J(()=>f[d.value]),y=J(()=>s.searchQuery.length<2?[]:m.filter(C=>Do(C,s.searchQuery)&&C.toLowerCase()!==s.searchQuery.toLowerCase()).slice(0,3)),B=J(()=>s.searchResults.slice(0,5)),L=J(()=>s.searchQuery.length<2?[]:[{id:1,name:"Rau c qu",icon:"fas fa-carrot",color:"success",productCount:24},{id:2,name:"Tht c",icon:"fas fa-fish",color:"danger",productCount:15},{id:3,name:"Sa",icon:"fas fa-glass-whiskey",color:"info",productCount:8}].filter(C=>Do(C.name,s.searchQuery))),w=J(()=>window.innerWidth<=768),b=C=>{const O=C.target.value;o("update-search",O),O.length>=2&&(l.value=!0,clearTimeout(u.value),u.value=setTimeout(()=>{l.value=!1},500)),a.value=!0,c.value=-1},S=()=>{a.value=!0},P=()=>{setTimeout(()=>{a.value=!1},200)},D=()=>{a.value=!1},_=()=>{r.value?.focus()},F=()=>{o("update-search",""),_()},N=()=>{s.searchQuery.trim()&&($(s.searchQuery),a.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}}))},$=C=>{const O=C.trim();O&&!h.includes(O)&&(h.unshift(O),h.length>5&&h.pop())},x=C=>{o("update-search",C),_()},v=C=>{o("update-search",C),_()},k=C=>{o("update-search",C),$(C),_()},A=C=>{$(s.searchQuery),a.value=!1,o("view-product",C.id)},ce=C=>{a.value=!1,o("view-category",C.id)},G=C=>{o("add-to-cart",C)},ae=()=>{$(s.searchQuery),a.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}})},se=C=>(!s.searchQuery||s.searchQuery.length<2,C),te=C=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(C),ke=C=>{if(!a.value)return;const O=y.value.length+B.value.length;switch(C.key){case"ArrowDown":C.preventDefault(),c.value=Math.min(c.value+1,O-1);break;case"ArrowUp":C.preventDefault(),c.value=Math.max(c.value-1,-1);break;case"Enter":if(C.preventDefault(),c.value>=0)if(c.value<y.value.length)k(y.value[c.value]);else{const ie=c.value-y.value.length;A(B.value[ie])}else N();break;case"Escape":C.preventDefault(),a.value=!1,r.value?.blur();break}},be=()=>{d.value=(d.value+1)%f.length};let oe=null;return pt(()=>{oe=setInterval(be,3e3),document.addEventListener("click",C=>{C.target.closest(".search-container")||(a.value=!1)})}),Zt(()=>{oe&&clearInterval(oe)}),ot(()=>s.searchQuery,C=>{C.length===0&&(l.value=!1)}),(C,O)=>(I(),R("div",sh,[i("div",{class:"search-wrapper",onClick:_},[i("div",oh,[ft(i("i",rh,null,512),[[es,!l.value]]),ft(i("div",ah,O[1]||(O[1]=[i("span",{class:"visually-hidden"},"ang tm kim...",-1)]),512),[[es,l.value]])]),i("input",{ref_key:"searchInput",ref:r,type:"text",class:"form-control search-input",placeholder:T.value,value:e.searchQuery,onInput:b,onFocus:S,onBlur:P,onKeydown:ke,autocomplete:"off",spellcheck:"false"},null,40,ih),i("div",lh,[e.searchQuery.length>0?(I(),R("button",{key:0,class:"btn btn-sm clear-btn",onClick:F,type:"button",title:"Xa tm kim"},O[2]||(O[2]=[i("i",{class:"fas fa-times"},null,-1)]))):me("",!0),i("button",{class:"btn btn-primary search-btn",onClick:N,type:"button",title:"Tm kim"},O[3]||(O[3]=[i("i",{class:"fas fa-search"},null,-1)]))])]),he(js,{name:"dropdown"},{default:Ne(()=>[a.value?(I(),R("div",{key:0,class:"search-dropdown",onMousedown:O[0]||(O[0]=Fe(()=>{},["prevent"]))},[e.searchQuery.length===0?(I(),R("div",ch,[i("div",uh,[O[5]||(O[5]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-history text-muted me-2"}),z("Tm kim gn y ")],-1)),i("div",dh,[(I(!0),R(ye,null,De(h,ie=>(I(),R("button",{key:ie,class:"btn btn-sm btn-outline-secondary recent-search-item",onClick:Le=>x(ie)},[O[4]||(O[4]=i("i",{class:"fas fa-history me-2"},null,-1)),z(q(ie),1)],8,fh))),128))])]),i("div",hh,[O[6]||(O[6]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-fire text-danger me-2"}),z("T kha ph bin ")],-1)),i("div",gh,[(I(!0),R(ye,null,De(m,ie=>(I(),R("button",{key:ie,class:"btn btn-sm btn-outline-primary popular-keyword",onClick:Le=>v(ie)},q(ie),9,mh))),128))])])])):(I(),R("div",ph,[e.searchResults.length===0&&!l.value?(I(),R("div",vh,O[7]||(O[7]=[i("div",{class:"no-results-content"},[i("i",{class:"fas fa-search-minus text-muted"}),i("h6",null,"Khng tm thy kt qu"),i("p",null,"Th tm kim vi t kha khc")],-1)]))):me("",!0),y.value.length>0?(I(),R("div",yh,[O[9]||(O[9]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-lightbulb text-warning me-2"}),z("Gi  tm kim ")],-1)),i("div",bh,[(I(!0),R(ye,null,De(y.value,(ie,Le)=>(I(),R("button",{key:ie,class:Se(["suggestion-item",{active:c.value===Le}]),onClick:U=>k(ie)},[O[8]||(O[8]=i("i",{class:"fas fa-search me-2"},null,-1)),z(q(ie),1)],10,Th))),128))])])):me("",!0),e.searchResults.length>0?(I(),R("div",wh,[i("div",_h,[i("h6",Ch,[O[10]||(O[10]=i("i",{class:"fas fa-box text-primary me-2"},null,-1)),z(" Sn phm ("+q(e.searchResults.length)+") ",1)]),i("button",{class:"btn btn-sm btn-outline-primary view-all-btn",onClick:ae}," Xem tt c ")]),i("div",Sh,[(I(!0),R(ye,null,De(B.value,(ie,Le)=>(I(),R("div",{key:ie.id,class:Se(["product-item",{active:c.value===y.value.length+Le,"out-of-stock":ie.stock===0||ie.inStock===!1}]),onClick:U=>A(ie)},[i("div",Eh,[i("img",{src:ie.image,alt:ie.name,loading:"lazy"},null,8,Ah),ie.discount?(I(),R("div",$h," -"+q(ie.discount)+"% ",1)):me("",!0)]),i("div",Ih,[i("h6",Rh,q(se(ie.name)),1),i("div",xh,[ie.originalPrice?(I(),R("span",Oh,q(te(ie.originalPrice)),1)):me("",!0),i("span",Ph,q(te(ie.price)),1)]),i("div",Dh,[i("div",Lh,[O[11]||(O[11]=i("i",{class:"fas fa-star text-warning"},null,-1)),i("span",null,q(ie.rating||4.5),1)]),ie.stock===0||ie.inStock===!1?(I(),R("div",Nh," Ht hng ")):me("",!0)])]),i("div",Uh,[i("button",{class:"btn btn-sm btn-primary quick-add-btn",onClick:Fe(U=>G(ie.id),["stop"]),disabled:ie.stock===0||ie.inStock===!1,title:"Thm vo gi hng"},O[12]||(O[12]=[i("i",{class:"fas fa-cart-plus"},null,-1)]),8,Hh)])],10,kh))),128))])])):me("",!0),L.value.length>0?(I(),R("div",Mh,[O[13]||(O[13]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-layer-group text-success me-2"}),z("Danh mc ")],-1)),i("div",Bh,[(I(!0),R(ye,null,De(L.value,ie=>(I(),R("button",{key:ie.id,class:"category-item",onClick:Le=>ce(ie)},[i("i",{class:Se(`${ie.icon} text-${ie.color} me-2`)},null,2),z(" "+q(ie.name)+" ",1),i("span",Fh,"("+q(ie.productCount)+")",1)],8,Kh))),128))])])):me("",!0)])),O[14]||(O[14]=i("div",{class:"search-footer"},[i("div",{class:"search-tips"},[i("small",{class:"text-muted"},[i("i",{class:"fas fa-keyboard me-1"}),z(" Enter  tm kim,   iu hng, Esc  ng ")])])],-1))],32)):me("",!0)]),_:1}),a.value&&w.value?(I(),R("div",{key:0,class:"search-overlay",onClick:D})):me("",!0)]))}},Gh=nt(Vh,[["__scopeId","data-v-5509d394"]]);class ut{static async createOrderFromCart(t){try{console.log(" OrderService.createOrderFromCart - Starting invoice creation..."),console.log(" Order data received:",JSON.stringify(t,null,2));const n=Ce();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");console.log(" JWT token found:",n.substring(0,20)+"...");const s=`${re.BASE_URL}${ve.HOADON.CREATE_FROM_CART}`;if(console.log(" Calling API:",s),console.log(" Request payload:"),console.log("   - maKH:",t.maKH),console.log("   - maNV:",t.maNV||"N/A"),console.log("   - ghiChu:",t.ghiChu||"N/A"),console.log("   - selectedCartItemIds:",t.selectedCartItemIds),console.log("   - trangThai:",t.trangThai||0),!t.selectedCartItemIds||t.selectedCartItemIds.length===0)throw new Error("Phi chn t nht mt item t gi hng  to ha n");console.log(" Creating invoice with selectedCartItemIds:"),console.log("   - selectedCartItemIds:",t.selectedCartItemIds),console.log("   - selectedCartItemIds count:",t.selectedCartItemIds?.length||0);const o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});if(console.log(" API Response status:",o.status),console.log(" API Response ok:",o.ok),console.log(" API Response headers:",Object.fromEntries(o.headers.entries())),!o.ok){const a=await o.json().catch(()=>null);console.error(" API Error response:",a);let l="To ha n tht bi";throw a?.message?l=a.message:a?.error?l=a.error:o.statusText&&(l+=`: ${o.statusText}`),new Error(l)}const r=await o.json();if(console.log(" Invoice creation successful!"),console.log(" Full API Response data:",JSON.stringify(r,null,2)),r.success||(console.warn(" Response success = false, but HTTP status is OK"),console.warn("   - Message:",r.message||"N/A"),console.warn("   - Error:",r.error||"N/A")),console.log(`
 === INVOICE DETAILS (HOADON) ===`),r.result?(console.log(" Invoice result object found in response"),console.log(`   - M ha n: ${r.result.maHD||"N/A"}`),console.log(`   - M khch hng: ${r.result.maKH||"N/A"}`),console.log(`   - M nhn vin: ${r.result.maNV||"N/A"}`),console.log(`   - M khuyn mi: ${r.result.maKM||"N/A"}`),console.log(`   - Ngy lp: ${r.result.ngayLap||"N/A"}`),console.log(`   - Tng tin hng: ${r.result.tongTienHang||"N/A"}`),console.log(`   - Tin gim gi: ${r.result.tienGiamGia||"N/A"}`),console.log(`   - Tng tin: ${r.result.tongTien||"N/A"}`),console.log(`   - Trng thi: ${r.result.trangThai||"N/A"}`),console.log(`   - im tch ly: ${r.result.diemTichLuy||"N/A"}`),console.log(`   - Ghi ch: ${r.result.ghiChu||"N/A"}`)):console.log(" Invoice result object missing from response"),console.log(`
 === INVOICE ITEMS (CHITIETHOADON) ===`),r.result&&r.result.items){console.log(` Chi tit ha n found: ${r.result.items.length} items`),r.result.items.forEach((d,u)=>{console.log(`
    Item ${u+1}:`),console.log(`      - M sn phm: ${d.maSP||"N/A"}`),console.log(`      - Tn sn phm: ${d.tenSP||"N/A"}`),console.log(`      - S lng: ${d.soLuong||"N/A"}`),console.log(`      - n gi bn: ${d.donGiaBan||d.donGia||"N/A"}`),console.log(`      - Thnh tin: ${d.thanhTien||"N/A"}`),console.log(`      - Gim gi: ${d.giamGia||"N/A"}`),console.log(`      - Thnh tin sau gim: ${d.thanhTienSauGiam||"N/A"}`)});const a=r.result.items.length,l=r.result.items.reduce((d,u)=>d+(u.soLuong||0),0),c=r.result.items.reduce((d,u)=>d+(u.thanhTien||0),0);console.log(`
 === SUMMARY ===`),console.log(`   - Tng s sn phm: ${a}`),console.log(`   - Tng s lng: ${l}`),console.log(`   - Tng thnh tin: ${c}`),console.log(`   - Tng tin ha n: ${r.result.tongTien||"N/A"}`)}else console.log(" Chi tit ha n missing or empty"),r.result&&(console.log("   - Invoice result exists but no items"),console.log("   - Result keys:",Object.keys(r.result)));return console.log(`
 === RESPONSE STRUCTURE ===`),console.log("   - Response keys:",Object.keys(r)),console.log("   - success:",r.success),console.log("   - message:",r.message||"N/A"),console.log("   - error:",r.error||"N/A"),console.log("   - result exists:",!!r.result),console.log("   - items exists:",!!(r.result&&r.result.items)),r}catch(n){throw console.error(" Error creating invoice from cart:",n),console.error("   - Error name:",n.name),console.error("   - Error message:",n.message),console.error("   - Error stack:",n.stack),n}}static async getOrdersByCustomer(t){try{const n=Ce();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=new Date().getTime(),o=`${re.BASE_URL}${ve.HOADON.BY_CUSTOMER(t)}?_t=${s}`,r=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(!r.ok)throw new Error(`Ly ha n tht bi: ${r.statusText}`);return await r.json()}catch(n){throw console.error(`Error getting invoices for customer ${t}:`,n),n}}static async getOrdersByCustomerFullDetails(t){try{console.log(" Getting orders with full details for customer:",t);const n=Ce();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=new Date().getTime(),o=`${re.BASE_URL}${ve.HOADON.BY_CUSTOMER_FULL(t)}?_t=${s}`,r=await fetch(o,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(console.log(" Full details API response status:",r.status),!r.ok)throw new Error(`Ly ha n chi tit tht bi: ${r.statusText}`);const a=await r.json();if(console.log(" Orders with full details received:",a),console.log(" Result structure:"),console.log("   - success:",a.success),console.log("   - result is array:",Array.isArray(a.result)),console.log("   - result length:",a.result?.length),a.result&&Array.isArray(a.result)&&a.result.length>0){const l=a.result[0];console.log(" First order structure:"),console.log("   - Keys:",Object.keys(l)),console.log("   - Has chiTietHoaDon:",!!l.chiTietHoaDon),console.log("   - ChiTietHoaDon length:",l.chiTietHoaDon?.length)}return a}catch(n){throw console.error(`Error getting full details for customer ${t}:`,n),n}}static async getOrderById(t){try{const n=Ce();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=await fetch(`${re.BASE_URL}${ve.HOADON.BY_ID(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`Ly ha n tht bi: ${s.statusText}`);return await s.json()}catch(n){throw console.error(`Error getting invoice ${t}:`,n),n}}static async getOrderDetails(t){try{console.log(" Getting order details for maHD:",t);const n=Ce();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");let s=await fetch(`${re.BASE_URL}${ve.CHITIETHOADON.BY_HOADON(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(console.log(" Order details API response status:",s.status),!s.ok){console.log(" New API failed, trying fallback methods...");try{if(s=await fetch(`${re.BASE_URL}${ve.HOADON.BY_ID_FULL(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}}),console.log(" Full details fallback API response status:",s.status),s.ok){const r=await s.json();if(console.log(" Full invoice data received:",r),r&&r.success&&r.result){const a=r.result;if(a.chiTietHoaDon&&Array.isArray(a.chiTietHoaDon))return console.log(` Found ${a.chiTietHoaDon.length} items in full invoice`),{success:!0,result:a.chiTietHoaDon,message:"Chi tit t ha n full details"}}}}catch(r){console.warn(" Fallback API also failed:",r.message)}try{if(s=await fetch(`${re.BASE_URL}${ve.CHITIETHOADON.BY_HOADON_OLD(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}}),console.log(" Old API fallback response status:",s.status),!s.ok)throw new Error(`Tt c API endpoints u tht bi: ${s.statusText}`)}catch(r){throw new Error(`Khng th ly chi tit ha n: ${r.message}`)}}const o=await s.json();return console.log(" Order details received:",o),console.log(" Result structure:"),console.log("   - success:",o.success),console.log("   - result:",o.result),console.log("   - result is array:",Array.isArray(o.result)),console.log("   - result length:",o.result?.length),o.result&&Array.isArray(o.result)&&o.result.length>0&&console.log(" First item in result:",o.result[0]),o}catch(n){throw console.error(`Error getting order details for ${t}:`,n),n}}static async updateOrderStatus(t,n){try{const s=Ce();if(!s)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const o=await fetch(`${re.BASE_URL}${ve.HOADON.UPDATE_STATUS(t)}?trangThaiMoi=${encodeURIComponent(n)}`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`}});if(!o.ok)throw new Error(`Cp nht trng thi ha n tht bi: ${o.statusText}`);return await o.json()}catch(s){throw console.error(`Error updating invoice ${t} status:`,s),s}}static async cancelOrder(t,n="Khch hng yu cu hy"){try{console.log(" Cancelling order:",t,"with reason:",n);const s=Ce();if(!s)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const o=`${re.BASE_URL}${ve.HOADON.CANCEL(t)}?lyDoHuy=${encodeURIComponent(n)}`;console.log(" Cancel API URL:",o);const r=await fetch(o,{method:"PATCH",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(console.log(" Cancel API response status:",r.status),!r.ok){let l=r.statusText||"Unknown error";try{const c=await r.json();console.log(" Error response data:",c),c?.message?l=c.message:c?.error?l=c.error:c?.details?l=c.details:typeof c=="string"?l=c:l=JSON.stringify(c)}catch(c){console.warn(" Could not parse error response as JSON:",c);try{const d=await r.text();console.log(" Error response text:",d),d&&(l=d)}catch(d){console.warn(" Could not get error response text:",d)}}throw console.log(" Final error message:",l),new Error(`Hy ha n tht bi: ${l}`)}const a=await r.json();return console.log(" Order cancelled successfully:",a),a}catch(s){throw console.error(`Error cancelling invoice ${t}:`,s),s}}static async getCustomerStatistics(t){try{console.log(" Getting customer statistics for:",t);const n=Ce();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=await fetch(`${re.BASE_URL}${ve.HOADON.STATISTICS(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(console.log(" Statistics API response status:",s.status),!s.ok)throw new Error(`Ly thng k tht bi: ${s.statusText}`);const o=await s.json();return console.log(" Customer statistics received:",o),o}catch(n){throw console.error(`Error getting customer statistics for ${t}:`,n),n}}static async getCustomerStatusCounts(t){try{console.log(" Getting status counts for customer:",t);const n=Ce();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=await fetch(`${re.BASE_URL}${ve.HOADON.COUNT_BY_STATUS_CUSTOMER(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(console.log(" Status counts API response status:",s.status),!s.ok)throw new Error(`Ly thng k trng thi tht bi: ${s.statusText}`);const o=await s.json();return console.log(" Status counts received:",o),o}catch(n){throw console.error(`Error getting status counts for ${t}:`,n),n}}static async getOrdersByCustomerAndStatus(t,n){try{console.log(" Getting orders by customer and status:",t,n);const s=Ce();if(!s)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const o=await fetch(`${re.BASE_URL}${ve.HOADON.BY_CUSTOMER_AND_STATUS(t,n)}`,{method:"GET",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(console.log(" Orders by status API response status:",o.status),!o.ok)throw new Error(`Ly ha n theo trng thi tht bi: ${o.statusText}`);const r=await o.json();return console.log(" Orders by status received:",r),r}catch(s){throw console.error(`Error getting orders by customer ${t} and status ${n}:`,s),s}}}function ml(){const e=Q([]),t=Q(null),n=Q(!1),s=Q(null),o=async w=>{try{console.log(" useOrders.createOrderFromCart - Starting..."),console.log(" Order data:",JSON.stringify(w,null,2)),n.value=!0,s.value=null,console.log(" Calling OrderService.createOrderFromCart...");const b=await ut.createOrderFromCart(w);return console.log(" Service result received:",JSON.stringify(b,null,2)),b.success&&b.result?(console.log(" Invoice created successfully, updating local state..."),console.log(`   - Invoice ID: ${b.result.maHD||b.result.id}`),console.log(`   - Customer: ${b.result.maKH}`),console.log(`   - Status: ${b.result.trangThai}`),e.value.unshift(b.result),t.value=b.result,console.log(" Local state updated:"),console.log(`   - Total invoices: ${e.value.length}`),console.log(`   - Current invoice set: ${t.value?"Yes":"No"}`)):(console.log(" Invoice creation result missing success or result data"),console.log("   - success:",b.success),console.log("   - result:",b.result?"Present":"Missing")),b}catch(b){throw console.error(" Error in useOrders.createOrderFromCart:",b),s.value=b.message,console.error("Error creating order from cart:",b),b}finally{n.value=!1,console.log(" createOrderFromCart completed, loading set to false")}},r=async w=>{try{n.value=!0,s.value=null,console.log(" Loading orders with full details for customer:",w);let b,S=!0;try{b=await ut.getOrdersByCustomerFullDetails(w),console.log(" Successfully used full-details API")}catch(_){console.warn(" Full-details API failed, falling back to basic API:",_.message),S=!1,b=await ut.getOrdersByCustomer(w)}let P=[];if(b&&b.success&&Array.isArray(b.result)?(P=b.result,console.log(` Got customer invoices from response.result: ${P.length} orders`)):Array.isArray(b)?(P=b,console.log(` Got customer invoices from direct array: ${P.length} orders`)):(console.warn(" Unexpected response format:",b),P=[]),P.length>0){const _=P[0];console.log(" First invoice structure:"),console.log("   - Keys:",Object.keys(_)),console.log("   - Has chiTietHoaDon:",!!_.chiTietHoaDon),console.log("   - Has chiTietList:",!!_.chiTietList),console.log("   - ChiTietHoaDon length:",_.chiTietHoaDon?.length),console.log("   - ChiTietList length:",_.chiTietList?.length),_.chiTietHoaDon&&_.chiTietHoaDon.length>0?console.log(" First item in chiTietHoaDon:",_.chiTietHoaDon[0]):_.chiTietList&&_.chiTietList.length>0&&console.log(" First item in chiTietList:",_.chiTietList[0])}let D=[];if(S)console.log(" Using full-details API - orders already have complete details"),D=P.map(_=>{const F={..._};return _.chiTietList&&!_.chiTietHoaDon&&(console.log(` Normalizing order ${_.maHD}: chiTietList  chiTietHoaDon`),F.chiTietHoaDon=_.chiTietList,console.log(`   - Converted ${_.chiTietList.length} items`)),F});else{console.log(` Using basic API - loading details for ${P.length} orders...`);const _=3;for(let F=0;F<P.length;F+=_){const N=P.slice(F,F+_),$=await Promise.all(N.map(async x=>{try{if(console.log(` Loading details for order ${x.maHD}`),x.chiTietHoaDon&&Array.isArray(x.chiTietHoaDon)&&x.chiTietHoaDon.length>0)return console.log(` Order ${x.maHD} already has ${x.chiTietHoaDon.length} items in chiTietHoaDon`),x;if(x.chiTietList&&Array.isArray(x.chiTietList)&&x.chiTietList.length>0)return console.log(` Order ${x.maHD} has ${x.chiTietList.length} items in chiTietList, normalizing...`),{...x,chiTietHoaDon:x.chiTietList};const v=await ut.getOrderDetails(x.maHD);let k=[];if(v&&v.success&&Array.isArray(v.result))k=v.result;else if(Array.isArray(v))k=v;else if(v&&v.result){const A=v.result;A.items&&Array.isArray(A.items)?k=A.items:A.chiTietHoaDon&&Array.isArray(A.chiTietHoaDon)?k=A.chiTietHoaDon:(console.warn(` Unexpected details format for order ${x.maHD}:`,v),k=[])}else console.warn(` Unexpected details format for order ${x.maHD}:`,v),k=[];return console.log(` Loaded ${k.length} items for order ${x.maHD}`),{...x,chiTietHoaDon:k}}catch(v){return console.error(` Error loading details for order ${x.maHD}:`,v),{...x,chiTietHoaDon:x.chiTietHoaDon||[]}}}));D.push(...$),console.log(` Batch ${Math.floor(F/_)+1} completed: ${$.length} orders`)}}if(e.value=D,console.log(" All orders processed, final count:",e.value.length),e.value.length>0){const _=e.value.reduce((F,N)=>{const $=N.chiTietHoaDon?.length||N.chiTietList?.length||0;return F+$},0);console.log(` Final summary: ${e.value.length} orders with ${_} total items`),e.value.forEach(F=>{const N=F.chiTietHoaDon?.length||F.chiTietList?.length||0;console.log(`   - Order ${F.maHD}: ${N} items, Status: ${F.trangThai} (${typeof F.trangThai})`)})}return D}catch(b){return s.value=b.message,console.error("Error loading customer invoices:",b),[]}finally{n.value=!1}},a=async w=>{try{n.value=!0,s.value=null;const b=await ut.getOrderById(w);return t.value=b,b}catch(b){return s.value=b.message,console.error("Error loading invoice by ID:",b),null}finally{n.value=!1}},l=async(w,b)=>{try{n.value=!0,s.value=null;const S=await ut.updateOrderStatus(w,b),P=e.value.findIndex(D=>D.id===w||D.maHD===w);return P!==-1&&(e.value[P].trangThai=b),t.value&&(t.value.id===w||t.value.maHD===w)&&(t.value.trangThai=b),S}catch(S){throw s.value=S.message,console.error("Error updating invoice status:",S),S}finally{n.value=!1}},c=w=>{e.value=e.value.filter(b=>b.id!==w&&b.maHD!==w),t.value&&(t.value.id===w||t.value.maHD===w)&&(t.value=null)},d=()=>{e.value=[],t.value=null},u=w=>e.value.find(b=>b.id===w||b.maHD===w)||null,f=w=>e.value.filter(b=>b.trangThai===w),h=async w=>{try{return n.value=!0,s.value=null,await ut.getOrderDetails(w)}catch(b){return s.value=b.message,console.error("Error loading order details:",b),null}finally{n.value=!1}},m=w=>!w||!w.items?0:w.items.reduce((b,S)=>{const P=S.donGia||S.giaBan||S.gia||0,D=S.soLuong||0;return b+P*D},0),T=async(w,b)=>{try{n.value=!0,s.value=null;const S=await ut.cancelOrder(w,b),P=e.value.findIndex(D=>D.id===w||D.maHD===w);return P!==-1&&(e.value[P].trangThai=3),t.value&&(t.value.id===w||t.value.maHD===w)&&(t.value.trangThai=3),S}catch(S){throw s.value=S.message,console.error("Error cancelling order:",S),S}finally{n.value=!1}},y=async w=>{try{return n.value=!0,s.value=null,await ut.getCustomerStatistics(w)}catch(b){return s.value=b.message,console.error("Error loading customer statistics:",b),null}finally{n.value=!1}},B=async w=>{try{return n.value=!0,s.value=null,await ut.getCustomerStatusCounts(w)}catch(b){return s.value=b.message,console.error("Error loading customer status counts:",b),null}finally{n.value=!1}},L=async(w,b)=>{try{n.value=!0,s.value=null;const S=await ut.getOrdersByCustomerAndStatus(w,b);let P=[];return S&&S.success&&Array.isArray(S.result)?P=S.result:Array.isArray(S)?P=S:(console.warn(" Unexpected response format:",S),P=[]),P}catch(S){return s.value=S.message,console.error("Error loading orders by status:",S),[]}finally{n.value=!1}};return{orders:J(()=>e.value),currentOrder:J(()=>t.value),loading:J(()=>n.value),error:J(()=>s.value),createOrderFromCart:o,loadCustomerOrders:r,loadOrderById:a,loadOrderDetails:h,updateOrderStatus:l,removeOrderFromList:c,clearOrders:d,findOrderById:u,filterOrdersByStatus:f,calculateOrderTotal:m,cancelOrder:T,loadCustomerStatistics:y,loadCustomerStatusCounts:B,loadOrdersByStatus:L}}const jh={class:"cart-dropdown"},qh={class:"nav-link px-3 py-2 rounded-pill position-relative cart-icon-wrapper"},Yh={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-count",style:{"font-size":"0.7rem"}},Wh={class:"card shadow-lg border-0",style:{width:"350px"}},zh={class:"card-header bg-primary text-white d-flex justify-content-between align-items-center"},Qh={class:"mb-0"},Jh={class:"d-flex align-items-center"},Xh={class:"form-check me-3"},Zh=["checked"],eg={class:"card-body p-0",style:{"max-height":"400px","overflow-y":"auto"}},tg={key:0,class:"text-center p-4"},ng={key:1},sg={class:"form-check me-2"},og=["checked","onChange","id"],rg={class:"flex-shrink-0 me-3"},ag=["src","alt"],ig={class:"flex-grow-1"},lg={class:"mb-1 text-truncate",style:{"max-width":"180px"}},cg={class:"d-flex justify-content-between align-items-center"},ug={class:"text-primary fw-bold"},dg={class:"quantity-controls d-flex align-items-center"},fg=["onClick","disabled"],hg={class:"mx-2 fw-bold"},gg=["onClick"],mg={class:"d-flex justify-content-between align-items-center mt-1"},pg={class:"text-muted"},vg=["onClick"],yg={key:0,class:"card-footer bg-light"},bg={class:"d-flex justify-content-between align-items-center mb-2"},Tg={class:"text-muted"},wg={class:"text-primary"},_g={class:"d-grid gap-1"},Cg=["disabled"],Sg={__name:"CartDropdown",setup(e){const t=en(),{cart:n,cartCount:s,removeFromCart:o,updateCartQuantity:r,reloadCartFromBackend:a,getBackendCartSnapshot:l}=Xs(),{createOrderFromCart:c}=ml(),{products:d,formatPrice:u,showNotification:f}=Rn(),h=Q(!1),m=Q(new Set);let T=null;const y=J(()=>n.value.map(v=>{const k=d.value.find(A=>A.id===v.productId);return{...v,product:k||v.product}}).filter(v=>v.product));J(()=>y.value.reduce((v,k)=>v+(k.product?.price||0)*k.quantity,0));const B=J(()=>y.value.filter(v=>m.value.has(v.productId))),L=J(()=>B.value.reduce((v,k)=>v+(k.product?.price||0)*k.quantity,0)),w=()=>{h.value=!0,y.value.length>0&&(m.value.clear(),y.value.forEach(v=>{const k=v.productId||v.maSP;m.value.add(k),console.log(` [CartDropdown] Auto-selected item: ${k}`,v)}),console.log(" [CartDropdown] Auto-selected all cart items:",m.value.size),console.log(" [CartDropdown] Selected productIds:",Array.from(m.value)))},b=J(()=>y.value.length>0&&y.value.every(v=>m.value.has(v.productId))),S=()=>{h.value?h.value=!1:w()},P=()=>{T&&clearTimeout(T),T=setTimeout(()=>{h.value=!1},200)},D=()=>{T&&(clearTimeout(T),T=null),h.value?h.value=!0:w()},_=(v,k)=>{k<=0?F(v):r(v,k)},F=v=>{const k=y.value.find(A=>A.productId===v);k&&(o(v),f(` xa ${k.product.name} khi gi hng!`,"info"))},N=async()=>{try{if(m.value.size===0){f("Vui lng chn sn phm  thanh ton!","warning");return}const v=JSON.parse(localStorage.getItem("easymart-user")||"null");if(!v){const be=Array.from(m.value);localStorage.setItem("easymart-selected-items",JSON.stringify(be)),localStorage.setItem("easymart-redirect-after-login","/checkout"),f("Vui lng ng nhp  tin hnh thanh ton!","warning"),h.value=!1,t.push("/login");return}h.value=!1,console.log(" [CartDropdown] Loading cart data before checkout..."),await a();const k=n.value;if(console.log(" [CartDropdown] Backend cart items:",k),console.log(" [CartDropdown] Selected items:",Array.from(m.value)),!k||!Array.isArray(k)||k.length===0){f("Gi hng trng. Vui lng thm sn phm trc khi thanh ton!","warning");return}const A=[],ce=Array.from(m.value);if(console.log(" [CartDropdown] Backend cart structure:",k.map(be=>({id:be.id,productId:be.productId,maSP:be.maSP,keys:Object.keys(be)}))),ce.forEach(be=>{const oe=k.find(C=>C.productId===be||C.maSP===be);if(console.log(` [CartDropdown] Looking for productId=${be}, found:`,oe),oe){const C=oe.itemId||oe.id||oe.maGH||oe.cartId;C?(A.push(String(C)),console.log(` [CartDropdown] Added cart item ID: ${C}`)):console.warn(" [CartDropdown] Cart item found but no ID field:",Object.keys(oe))}else console.warn(` [CartDropdown] No cart item found for productId: ${be}`)}),console.log(" [CartDropdown] Selected cart item IDs:",A),A.length===0){console.error(" [CartDropdown] No selected cart item IDs found"),f("Khng tm thy sn phm  chn trong gi hng!","error");return}console.log(" [CartDropdown] Validation passed, proceeding with order creation..."),console.log(" [CartDropdown] User object:",v),console.log(" [CartDropdown] Getting cart snapshot for maKH...");const G=await l();console.log(" [CartDropdown] Cart snapshot:",G);const ae=G.maKH||v?.maKH||v?.id||v?.maNguoiDung||localStorage.getItem("easymart-user-id");if(console.log(" [CartDropdown] Resolved maKH:",ae),console.log(" [CartDropdown] cartSnapshot.maKH:",G.maKH),console.log(" [CartDropdown] user.maKH:",v?.maKH),console.log(" [CartDropdown] user.id:",v?.id),!ae){console.error(" [CartDropdown] No customer ID found"),f("Khng tm thy thng tin khch hng. Vui lng ng nhp li!","error");return}const se=v?.maNV||"NV001",te={maKH:ae,maNV:se,ghiChu:"t hng t CartDropdown",selectedCartItemIds:A,trangThai:0};console.log(" [CartDropdown] Creating order with payload:",te),console.log(" [CartDropdown] Order payload details:"),console.log("   - maKH:",te.maKH),console.log("   - maNV:",te.maNV),console.log("   - selectedCartItemIds:",te.selectedCartItemIds),console.log("   - selectedCartItemIds length:",te.selectedCartItemIds.length),f("ang to ha n t gi...","info"),console.log(" [CartDropdown] Calling createOrderFromCart with payload:",te);const ke=await c(te);if(console.log(" [CartDropdown] createOrderFromCart result:",ke),console.log(" [CartDropdown] Result success:",ke?.success),console.log(" [CartDropdown] Result message:",ke?.message),ke?.success){f("To ha n thnh cng!","success");const be={maHD:ke.result?.maHD,maKH:ke.result?.maKH,items:ke.result?.items||[],tongTien:ke.result?.tongTien,ngayLap:ke.result?.ngayLap,trangThai:ke.result?.trangThai};localStorage.setItem("easymart-invoice",JSON.stringify(be)),localStorage.setItem("easymart-selected-items",JSON.stringify(A));try{await a(),console.log(" [CartDropdown] Cart reloaded after order creation")}catch(oe){console.warn(" [CartDropdown] Failed to reload cart:",oe)}console.log(" [CartDropdown] Navigating to checkout in 1 second..."),setTimeout(()=>{console.log(' [CartDropdown] Executing router.push("/checkout")'),t.push("/checkout").then(()=>{console.log(" [CartDropdown] Successfully navigated to /checkout")}).catch(oe=>{console.error(" [CartDropdown] Navigation failed:",oe)})},1e3)}else console.error(" [CartDropdown] Order creation failed:",ke),f(ke?.message||"Khng th to ha n","error")}catch(v){console.error(" [CartDropdown] Checkout failed:",v),console.error(" [CartDropdown] Error stack:",v.stack),f(v?.message||"Thanh ton tht bi","error")}},$=v=>{m.value.has(v)?m.value.delete(v):m.value.add(v)},x=()=>{b.value?m.value.clear():y.value.forEach(v=>{m.value.add(v.productId)})};return Zt(()=>{T&&clearTimeout(T)}),(v,k)=>{const A=In("router-link");return I(),R("div",jh,[i("div",{class:"cart-trigger position-relative",onClick:S,onMouseenter:D,onMouseleave:P},[i("div",qh,[k[2]||(k[2]=i("i",{class:"fas fa-shopping-bag fs-5"},null,-1)),i("span",Yh,q(V(s)),1)]),k[3]||(k[3]=i("i",{class:"fas fa-chevron-down ms-1 text-muted",style:{"font-size":"0.7rem"}},null,-1))],32),ft(i("div",{class:"cart-dropdown-content position-absolute",onMouseenter:D,onMouseleave:P},[i("div",Wh,[i("div",zh,[i("h6",Qh,[k[4]||(k[4]=i("i",{class:"fas fa-shopping-cart me-2"},null,-1)),z("Gi hng ("+q(V(s))+") ",1)]),i("div",Jh,[i("div",Xh,[i("input",{class:"form-check-input",type:"checkbox",checked:b.value,onChange:x,id:"selectAllDropdown"},null,40,Zh),k[5]||(k[5]=i("label",{class:"form-check-label text-white small",for:"selectAllDropdown"}," Tt c ",-1))]),i("button",{class:"btn btn-sm btn-outline-light",onClick:k[0]||(k[0]=ce=>h.value=!1)},k[6]||(k[6]=[i("i",{class:"fas fa-times"},null,-1)]))])]),i("div",eg,[y.value.length===0?(I(),R("div",tg,k[7]||(k[7]=[i("i",{class:"fas fa-shopping-cart text-muted fs-1 mb-3"},null,-1),i("p",{class:"text-muted mb-0"},"Gi hng trng",-1),i("small",{class:"text-muted"},"Thm sn phm  bt u mua sm",-1)]))):(I(),R("div",ng,[(I(!0),R(ye,null,De(y.value,ce=>(I(),R("div",{key:ce.productId,class:"cart-item d-flex align-items-center p-3 border-bottom"},[i("div",sg,[i("input",{class:"form-check-input",type:"checkbox",checked:m.value.has(ce.productId),onChange:G=>$(ce.productId),id:`dropdown-item-${ce.productId}`},null,40,og)]),i("div",rg,[i("img",{src:ce.product?.image||"https://via.placeholder.com/60",alt:ce.product?.name||"Product",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,ag)]),i("div",ig,[i("h6",lg,q(ce.product?.name||"Sn phm"),1),i("div",cg,[i("span",ug,q(V(u)(ce.product?.price||0)),1),i("div",dg,[i("button",{class:"btn btn-sm btn-outline-secondary",onClick:G=>_(ce.productId,ce.quantity-1),disabled:ce.quantity<=1},k[8]||(k[8]=[i("i",{class:"fas fa-minus"},null,-1)]),8,fg),i("span",hg,q(ce.quantity),1),i("button",{class:"btn btn-sm btn-outline-secondary",onClick:G=>_(ce.productId,ce.quantity+1)},k[9]||(k[9]=[i("i",{class:"fas fa-plus"},null,-1)]),8,gg)])]),i("div",mg,[i("small",pg," Tng: "+q(V(u)((ce.product?.price||0)*ce.quantity)),1),i("button",{class:"btn btn-sm btn-outline-danger",onClick:G=>F(ce.productId)},k[10]||(k[10]=[i("i",{class:"fas fa-trash"},null,-1)]),8,vg)])])]))),128))]))]),y.value.length>0?(I(),R("div",yg,[i("div",bg,[i("small",Tg," chn: "+q(m.value.size)+"/"+q(y.value.length)+" sn phm",1),i("strong",wg,q(V(u)(L.value)),1)]),i("div",_g,[he(A,{to:"/cart",class:"btn btn-outline-primary w-100 py-2",onClick:k[1]||(k[1]=ce=>h.value=!1)},{default:Ne(()=>k[11]||(k[11]=[i("i",{class:"fas fa-shopping-cart me-2"},null,-1),z("Xem gi hng ")])),_:1,__:[11]}),i("button",{class:"btn btn-primary w-100 py-2",onClick:N,disabled:m.value.size===0},[k[12]||(k[12]=i("i",{class:"fas fa-credit-card me-2"},null,-1)),z("Thanh ton ("+q(m.value.size)+") ",1)],8,Cg)])])):me("",!0)])],544),[[es,h.value]])])}}},kg=nt(Sg,[["__scopeId","data-v-b00133c7"]]),Eg={class:"navbar navbar-expand-lg navbar-light main-nav shadow-sm py-3"},Ag={class:"container"},$g={class:"flex-grow-1 mx-4"},Ig={class:"collapse navbar-collapse",id:"navbarNav"},Rg={class:"navbar-nav ms-auto align-items-center"},xg=["aria-expanded"],Og={class:"nav-item"},Pg={class:"dropdown-item-text text-center mb-2"},Dg={class:"fw-bold"},Lg={class:"small text-muted"},Ng={__name:"Header",props:{categories:{type:Array,required:!0},searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart"],setup(e,{emit:t}){const{user:n,isLoggedIn:s,logout:o}=os(),r=en(),a=Q(!1),l=Q(!1),c=Q(!1),d=Q(!0),u=Q(0),f=Q("up"),h=Q(null),m=Q(null),T=()=>{h.value&&(clearTimeout(h.value),h.value=null),a.value=!0,l.value=!1,zn(()=>{const x=document.getElementById("category-trigger"),v=document.querySelector(".category-dropdown");if(x&&v){const k=x.getBoundingClientRect();v.style.top=`${k.bottom+8}px`,v.style.left=`${k.left}px`,v.style.right="auto"}})},y=()=>{h.value=setTimeout(()=>{a.value=!1},200)},B=()=>{h.value&&(clearTimeout(h.value),h.value=null)},L=()=>{m.value&&(clearTimeout(m.value),m.value=null),l.value=!0,a.value=!1,zn(()=>{const x=document.getElementById("account-trigger"),v=document.querySelector(".account-dropdown");if(x&&v){const k=x.getBoundingClientRect();v.style.top=`${k.bottom+8}px`,v.style.left=`${k.left}px`,v.style.right="auto"}})},w=()=>{m.value=setTimeout(()=>{l.value=!1},200)},b=()=>{m.value&&(clearTimeout(m.value),m.value=null)},S=x=>{!x.target.closest(".dropdown")&&!x.target.closest(".cart-dropdown")&&(a.value=!1,l.value=!1)},P=()=>{const x=window.scrollY;c.value=x>50,x>u.value?f.value="down":f.value="up",x<10?d.value=!0:f.value==="down"&&x>100?(d.value=!1,a.value=!1,l.value=!1):f.value==="up"&&(d.value=!0),D(),u.value=x},D=()=>{if(a.value){const x=document.getElementById("category-trigger"),v=document.querySelector(".category-dropdown");if(x&&v){const k=x.getBoundingClientRect();v.style.top=`${k.bottom+8}px`,v.style.left=`${k.left}px`,v.style.right="auto"}}if(l.value){const x=document.getElementById("account-trigger"),v=document.querySelector(".account-dropdown");if(x&&v){const k=x.getBoundingClientRect();v.style.top=`${k.bottom+8}px`,v.style.left=`${k.left}px`,v.style.right="auto"}}},_=()=>{D()};let F=null;const N=()=>{F===null&&(F=setTimeout(()=>{P(),F=null},10))},$=async()=>{try{const x=await o();l.value=!1,x.success||console.warn("Logout warning:",x.error),r.push("/")}catch(x){console.error("Logout error:",x),r.push("/")}};return pt(()=>{document.addEventListener("click",S),window.addEventListener("scroll",N,{passive:!0}),window.addEventListener("resize",_,{passive:!0});const x=()=>{};window.addEventListener("user-updated",x),P()}),Zt(()=>{document.removeEventListener("click",S),window.removeEventListener("scroll",N),window.removeEventListener("resize",_),window.removeEventListener("user-updated",handleUserUpdated),h.value&&clearTimeout(h.value),m.value&&clearTimeout(m.value),F!==null&&(clearTimeout(F),F=null)}),(x,v)=>{const k=In("router-link");return I(),R(ye,null,[i("header",{class:Se(["header-container fixed-top",{"header-scrolled":c.value,"header-visible":d.value,"header-hidden":!d.value}])},[i("div",{class:Se(["top-bar py-2 border-bottom",{"top-bar-hidden":!d.value}])},v[4]||(v[4]=[Nt('<div class="container" data-v-ebaba0a3><div class="row align-items-center" data-v-ebaba0a3><div class="col-md-6" data-v-ebaba0a3><small class="text-muted" data-v-ebaba0a3><i class="fas fa-phone-alt text-primary me-2" data-v-ebaba0a3></i>Hotline: 1900 1234 | <i class="fas fa-envelope text-primary ms-3 me-2" data-v-ebaba0a3></i>cskh@easymart.vn </small></div><div class="col-md-6 text-end" data-v-ebaba0a3><small class="text-muted" data-v-ebaba0a3><i class="fas fa-truck text-primary me-2" data-v-ebaba0a3></i>Min ph vn chuyn n hng t 200k </small></div></div></div>',1)]),2),i("nav",Eg,[i("div",Ag,[he(k,{to:"/",class:"navbar-brand fw-bold text-primary fs-4"},{default:Ne(()=>v[5]||(v[5]=[i("i",{class:"fas fa-shopping-cart me-2"},null,-1),z("EasyMart ")])),_:1,__:[5]}),i("div",$g,[he(Gh,{searchQuery:e.searchQuery,searchResults:e.searchResults,onUpdateSearch:v[0]||(v[0]=A=>x.$emit("update-search",A)),onAddToCart:v[1]||(v[1]=A=>x.$emit("add-to-cart",A))},null,8,["searchQuery","searchResults"])]),v[8]||(v[8]=i("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[i("span",{class:"navbar-toggler-icon"})],-1)),i("div",Ig,[i("ul",Rg,[i("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:T,onMouseleave:y},[he(k,{to:"/categories",class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",role:"button","aria-expanded":a.value,id:"category-trigger"},{default:Ne(()=>v[6]||(v[6]=[i("i",{class:"fas fa-th-large me-2"},null,-1),z("Danh mc ")])),_:1,__:[6]},8,["aria-expanded"])],32),i("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:L,onMouseleave:w},[i("a",{class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",href:"#",role:"button","aria-expanded":l.value,id:"account-trigger"},v[7]||(v[7]=[i("i",{class:"fas fa-user me-2"},null,-1),z("Ti khon ")]),8,xg)],32),i("li",Og,[he(kg)])])])])])],2),(I(),ls(ei,{to:"body"},[a.value?(I(),R("ul",{key:0,class:Se(["dropdown-menu dropdown-menu-end category-dropdown",{show:a.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:B,onMouseleave:y},[(I(!0),R(ye,null,De(e.categories,A=>(I(),R("li",{key:A.id},[he(k,{to:{name:"Category",params:{id:A.id}},class:"dropdown-item rounded-2 mx-2 my-1",onClick:v[2]||(v[2]=ce=>a.value=!1)},{default:Ne(()=>[i("i",{class:Se(`${A.icon} text-${A.color} me-3`)},null,2),z(q(A.name),1)]),_:2},1032,["to"])]))),128))],34)):me("",!0),l.value?(I(),R("ul",{key:1,class:Se(["dropdown-menu dropdown-menu-end account-dropdown",{show:l.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:b,onMouseleave:w},[V(s)?(I(),R(ye,{key:0},[i("li",Pg,[v[9]||(v[9]=i("i",{class:"fas fa-user-circle fa-2x text-primary mb-2"},null,-1)),i("div",Dg,q(V(n)?.name||"Ti khon ca bn"),1),i("div",Lg,q(V(n)?.email),1)]),i("li",null,[he(k,{to:"/profile",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ne(()=>v[10]||(v[10]=[i("i",{class:"fas fa-user me-3 text-primary"},null,-1),z("Thng tin ti khon")])),_:1,__:[10]})]),i("li",null,[he(k,{to:"/orders",class:"dropdown-item rounded-2 mx-2 my-1",onClick:v[3]||(v[3]=A=>l.value=!1)},{default:Ne(()=>v[11]||(v[11]=[i("i",{class:"fas fa-box me-3 text-success"},null,-1),z("n hng ca ti")])),_:1,__:[11]})]),i("li",null,[he(k,{to:"/wishlist",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ne(()=>v[12]||(v[12]=[i("i",{class:"fas fa-heart me-3 text-danger"},null,-1),z("Sn phm yu thch")])),_:1,__:[12]})]),v[14]||(v[14]=i("li",null,[i("hr",{class:"dropdown-divider"})],-1)),i("li",null,[i("a",{href:"#",class:"dropdown-item rounded-2 mx-2 my-1 text-danger",onClick:Fe($,["prevent"])},v[13]||(v[13]=[i("i",{class:"fas fa-sign-out-alt me-3"},null,-1),z("ng xut")]))])],64)):(I(),R(ye,{key:1},[i("li",null,[he(k,{to:"/login",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ne(()=>v[15]||(v[15]=[i("i",{class:"fas fa-sign-in-alt text-primary me-3"},null,-1),z("ng nhp")])),_:1,__:[15]})]),i("li",null,[he(k,{to:"/register",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Ne(()=>v[16]||(v[16]=[i("i",{class:"fas fa-user-plus text-primary me-3"},null,-1),z("ng k")])),_:1,__:[16]})])],64))],34)):me("",!0)]))],64)}}},Ug=nt(Ng,[["__scopeId","data-v-ebaba0a3"]]),Hg={class:"main-footer"},Mg={class:"footer-content"},Bg={class:"container"},Kg={class:"newsletter-section"},Fg={class:"row align-items-center"},Vg={class:"col-lg-6"},Gg={class:"newsletter-form"},jg={class:"input-group"},qg=["disabled"],Yg={key:0,class:"fas fa-paper-plane"},Wg={key:1,class:"spinner-border spinner-border-sm",role:"status"},zg={class:"footer-main"},Qg={class:"row g-4"},Jg={class:"col-lg-2 col-md-6"},Xg={class:"footer-section"},Zg={class:"footer-links"},em=["href","onClick"],tm={class:"col-lg-2 col-md-6"},nm={class:"footer-section"},sm={class:"footer-links"},om=["href","onClick"],rm={class:"col-lg-3 col-md-12"},am={class:"footer-section"},im={class:"social-links"},lm=["href","title","onClick"],cm={class:"app-download"},um={class:"download-buttons"},dm={class:"footer-bottom"},fm={class:"row align-items-center"},hm={class:"col-md-6"},gm={class:"copyright"},mm={class:"copyright-text"},pm={class:"legal-links"},vm={class:"col-md-6"},ym={class:"footer-stats"},bm={class:"stat-item"},Tm={class:"stat-item"},wm={class:"stat-item"},_m={__name:"Footer",setup(e){const t=Q(""),n=Q(!1),s=Q(""),o=Q(""),r=Q(!1),a=J(()=>new Date().getFullYear()),l=J(()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value)),c=J(()=>o.value==="success"?"fas fa-check-circle":"fas fa-exclamation-circle"),d=Lt([{name:"Gii thiu EasyMart",url:"/about",icon:"fas fa-info-circle"},{name:"Danh sch ca hng",url:"/stores",icon:"fas fa-store"},{name:"Tin tc & S kin",url:"/news",icon:"fas fa-newspaper"},{name:"Tuyn dng",url:"/careers",icon:"fas fa-briefcase"},{name:"Nh u t",url:"/investors",icon:"fas fa-chart-line"}]),u=Lt([{name:"Trung tm tr gip",url:"/help",icon:"fas fa-question-circle"},{name:"Chnh sch i tr",url:"/return-policy",icon:"fas fa-undo-alt"},{name:"Phng thc thanh ton",url:"/payment",icon:"fas fa-credit-card"},{name:"Vn chuyn & Giao hng",url:"/shipping",icon:"fas fa-shipping-fast"},{name:"Khiu ni & Gp ",url:"/feedback",icon:"fas fa-comment-dots"}]),f=Lt([{name:"Facebook",url:"https://facebook.com/easymart",icon:"fab fa-facebook"},{name:"Instagram",url:"https://instagram.com/easymart",icon:"fab fa-instagram"},{name:"YouTube",url:"https://youtube.com/easymart",icon:"fab fa-youtube"},{name:"TikTok",url:"https://tiktok.com/@easymart",icon:"fab fa-tiktok"},{name:"Zalo",url:"https://zalo.me/easymart",icon:"fas fa-comments"}]),h=Q(125e3),m=Q(35e4),T=Q(4.8),y=async()=>{if(!(!l.value||n.value)){n.value=!0,s.value="";try{await new Promise(N=>setTimeout(N,1500)),o.value="success",s.value="ng k thnh cng! Kim tra email  xc nhn.",t.value="",setTimeout(()=>{s.value=""},5e3)}catch{o.value="error",s.value="C li xy ra. Vui lng th li sau.",setTimeout(()=>{s.value=""},3e3)}finally{n.value=!1}}},B=N=>{console.log(`Navigating to: ${N.name}`)},L=N=>{console.log(`Opening ${N.name}`),window.open(N.url,"_blank")},w=N=>{console.log(`Downloading ${N} app`)},b=()=>{console.log("Show privacy policy")},S=()=>{console.log("Show terms of service")},P=()=>{console.log("Show cookie policy")},D=N=>new Intl.NumberFormat("vi-VN").format(N),_=()=>{window.scrollTo({top:0,behavior:"smooth"})},F=()=>{r.value=window.scrollY>300};return pt(()=>{window.addEventListener("scroll",F)}),Zt(()=>{window.removeEventListener("scroll",F)}),(N,$)=>(I(),R("footer",Hg,[i("div",Mg,[i("div",Bg,[i("div",Kg,[i("div",Fg,[$[4]||($[4]=i("div",{class:"col-lg-6"},[i("div",{class:"newsletter-content"},[i("h4",{class:"newsletter-title"},"ng k nhn tin khuyn mi"),i("p",{class:"newsletter-subtitle"}," Nhn ngay thng tin v cc chng trnh u i mi nht t EasyMart ")])],-1)),i("div",Vg,[i("div",Gg,[i("div",jg,[ft(i("input",{type:"email",class:"form-control newsletter-input",placeholder:"Nhp email ca bn...","onUpdate:modelValue":$[0]||($[0]=x=>t.value=x),onKeyup:ju(y,["enter"])},null,544),[[wn,t.value]]),i("button",{class:"btn btn-primary newsletter-btn",onClick:y,disabled:n.value||!l.value},[n.value?(I(),R("div",Wg,$[3]||($[3]=[i("span",{class:"visually-hidden"},"Loading...",-1)]))):(I(),R("i",Yg)),z(" "+q(n.value?"ang ng k...":"ng k"),1)],8,qg)]),s.value?(I(),R("div",{key:0,class:Se(["subscription-message",o.value])},[i("i",{class:Se(c.value)},null,2),z(" "+q(s.value),1)],2)):me("",!0)])])])]),i("div",zg,[i("div",Qg,[$[12]||($[12]=Nt('<div class="col-lg-3 col-md-6" data-v-8ac511af><div class="footer-section" data-v-8ac511af><div class="company-info" data-v-8ac511af><div class="footer-logo" data-v-8ac511af><i class="fas fa-shopping-cart logo-icon" data-v-8ac511af></i><span class="logo-text" data-v-8ac511af>EasyMart</span></div><p class="company-description" data-v-8ac511af> Cng Ty C Phn Dch V Thng Mi Tng Hp EasyMart - Mang n nhng sn phm cht lng, dch v tn tm. </p><div class="company-certifications" data-v-8ac511af><div class="cert-item" data-v-8ac511af><i class="fas fa-certificate text-warning" data-v-8ac511af></i><span data-v-8ac511af>Chng nhn ISO 9001</span></div><div class="cert-item" data-v-8ac511af><i class="fas fa-shield-alt text-success" data-v-8ac511af></i><span data-v-8ac511af>An ton thc phm</span></div></div></div></div></div>',1)),i("div",Jg,[i("div",Xg,[$[5]||($[5]=i("h6",{class:"footer-title"},"V Chng Ti",-1)),i("ul",Zg,[(I(!0),R(ye,null,De(d,x=>(I(),R("li",{key:x.name,class:"footer-link-item"},[i("a",{href:x.url,class:"footer-link",onClick:Fe(v=>B(x),["prevent"])},[i("i",{class:Se(`${x.icon} me-2`)},null,2),z(q(x.name),1)],8,em)]))),128))])])]),i("div",tm,[i("div",nm,[$[6]||($[6]=i("h6",{class:"footer-title"},"H Tr Khch Hng",-1)),i("ul",sm,[(I(!0),R(ye,null,De(u,x=>(I(),R("li",{key:x.name,class:"footer-link-item"},[i("a",{href:x.url,class:"footer-link",onClick:Fe(v=>B(x),["prevent"])},[i("i",{class:Se(`${x.icon} me-2`)},null,2),z(q(x.name),1)],8,om)]))),128))])])]),$[13]||($[13]=Nt('<div class="col-lg-2 col-md-6" data-v-8ac511af><div class="footer-section" data-v-8ac511af><h6 class="footer-title" data-v-8ac511af>Lin H</h6><div class="contact-info" data-v-8ac511af><div class="contact-item" data-v-8ac511af><i class="fas fa-map-marker-alt text-primary" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>a ch:</strong><span data-v-8ac511af>123 ng ABC, Qun XYZ, TP.HCM</span></div></div><div class="contact-item" data-v-8ac511af><i class="fas fa-phone-alt text-success" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>Hotline:</strong><a href="tel:19001234" data-v-8ac511af>1900 1234</a></div></div><div class="contact-item" data-v-8ac511af><i class="fas fa-envelope text-info" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>Email:</strong><a href="mailto:cskh@easymart.vn" data-v-8ac511af>cskh@easymart.vn</a></div></div></div></div></div>',1)),i("div",rm,[i("div",am,[$[10]||($[10]=i("h6",{class:"footer-title"},"Kt Ni Vi Chng Ti",-1)),i("div",im,[(I(!0),R(ye,null,De(f,x=>(I(),R("a",{key:x.name,href:x.url,class:"social-link",title:x.name,onClick:Fe(v=>L(x),["prevent"])},[i("i",{class:Se(x.icon)},null,2)],8,lm))),128))]),i("div",cm,[$[9]||($[9]=i("h6",{class:"download-title"},"Ti ng Dng",-1)),i("div",um,[i("a",{href:"#",class:"download-btn",onClick:$[1]||($[1]=Fe(x=>w("ios"),["prevent"]))},$[7]||($[7]=[i("i",{class:"fab fa-apple"},null,-1),i("div",{class:"download-text"},[i("small",null,"Download on the"),i("strong",null,"App Store")],-1)])),i("a",{href:"#",class:"download-btn",onClick:$[2]||($[2]=Fe(x=>w("android"),["prevent"]))},$[8]||($[8]=[i("i",{class:"fab fa-google-play"},null,-1),i("div",{class:"download-text"},[i("small",null,"Get it on"),i("strong",null,"Google Play")],-1)]))])]),$[11]||($[11]=Nt('<div class="payment-methods" data-v-8ac511af><h6 class="payment-title" data-v-8ac511af>Phng Thc Thanh Ton</h6><div class="payment-icons" data-v-8ac511af><i class="fab fa-cc-visa payment-icon" title="Visa" data-v-8ac511af></i><i class="fab fa-cc-mastercard payment-icon" title="Mastercard" data-v-8ac511af></i><i class="fas fa-money-bill-wave payment-icon" title="Tin mt" data-v-8ac511af></i><i class="fas fa-mobile-alt payment-icon" title="Mobile Banking" data-v-8ac511af></i></div></div>',1))])])])]),i("div",dm,[i("div",fm,[i("div",hm,[i("div",gm,[i("p",mm,"  "+q(a.value)+" EasyMart. Tt c cc quyn c bo lu. ",1),i("div",pm,[i("a",{href:"#",onClick:Fe(b,["prevent"])},"Chnh sch bo mt"),$[14]||($[14]=i("span",{class:"separator"},"|",-1)),i("a",{href:"#",onClick:Fe(S,["prevent"])},"iu khon s dng"),$[15]||($[15]=i("span",{class:"separator"},"|",-1)),i("a",{href:"#",onClick:Fe(P,["prevent"])},"Chnh sch Cookie")])])]),i("div",vm,[i("div",ym,[i("div",bm,[$[16]||($[16]=i("i",{class:"fas fa-users text-primary"},null,-1)),i("span",null,q(D(h.value))+"+ khch hng",1)]),i("div",Tm,[$[17]||($[17]=i("i",{class:"fas fa-shopping-bag text-success"},null,-1)),i("span",null,q(D(m.value))+"+ n hng",1)]),i("div",wm,[$[18]||($[18]=i("i",{class:"fas fa-star text-warning"},null,-1)),i("span",null,q(T.value)+"/5 sao",1)])])])])])])]),he(js,{name:"fade"},{default:Ne(()=>[r.value?(I(),R("button",{key:0,class:"back-to-top-btn",onClick:_,title:"Ln u trang"},$[19]||($[19]=[i("i",{class:"fas fa-arrow-up"},null,-1)]))):me("",!0)]),_:1})]))}},Cm=nt(_m,[["__scopeId","data-v-8ac511af"]]),Sm={id:"app",class:"bg-white"},km={class:"router-view-container"},Em={__name:"App",setup(e){const{notification:t,categories:n,searchQuery:s,searchResults:o,addToCart:r}=Rn();return en(),(a,l)=>{const c=In("router-view");return I(),R("div",Sm,[V(t)?(I(),ls(nh,{key:0,message:V(t).message,type:V(t).type},null,8,["message","type"])):me("",!0),he(Ug,{categories:V(n),searchQuery:V(s),searchResults:V(o),onUpdateSearch:l[0]||(l[0]=d=>s.value=d),onAddToCart:V(r)},null,8,["categories","searchQuery","searchResults","onAddToCart"]),i("div",km,[he(c)]),he(Cm)])}}},Am={class:"hero-fullscreen mb-4"},$m={id:"heroCarousel",class:"carousel slide carousel-fade hero-carousel-animated","data-bs-ride":"carousel","data-bs-interval":"4000"},Im={class:"carousel-indicators"},Rm=["data-bs-slide-to"],xm={class:"carousel-inner overflow-hidden"},Om=["src","alt"],Pm={class:"carousel-caption animated-caption"},Dm={class:"bg-dark bg-opacity-50 rounded-3 p-4"},Lm={class:"fw-bold"},Nm={class:"mb-0"},Um={__name:"HeroCarousel",setup(e){const t=[{image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Sn phm ti ngon mi ngy",description:"Cht lng hng u - Gi c cnh tranh"},{image:"https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Mua sm tin li",description:"Giao hng tn ni - Thanh ton a dng"},{image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Khuyn mi hp dn",description:"Tit kim ln n 50% cho cc sn phm chn lc"}];return(n,s)=>(I(),R("div",Am,[i("div",$m,[i("div",Im,[(I(),R(ye,null,De(t,(o,r)=>i("button",{key:r,type:"button","data-bs-target":"#heroCarousel","data-bs-slide-to":r,class:Se({active:r===0})},null,10,Rm)),64))]),i("div",xm,[(I(),R(ye,null,De(t,(o,r)=>i("div",{key:r,class:Se(["carousel-item animated-slide",{active:r===0}])},[i("img",{src:o.image,class:"d-block w-100 carousel-image",style:{height:"400px","object-fit":"cover"},alt:o.title},null,8,Om),i("div",Pm,[i("div",Dm,[i("h3",Lm,q(o.title),1),i("p",Nm,q(o.description),1)])])],2)),64))]),s[0]||(s[0]=Nt('<button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev" data-v-a2750e6a><div class="bg-primary rounded-circle p-3" data-v-a2750e6a><span class="carousel-control-prev-icon" data-v-a2750e6a></span></div></button><button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next" data-v-a2750e6a><div class="bg-primary rounded-circle p-3" data-v-a2750e6a><span class="carousel-control-next-icon" data-v-a2750e6a></span></div></button>',2))])]))}},Hm=nt(Um,[["__scopeId","data-v-a2750e6a"]]);class go{static async getAllProductsWithStock(t){try{let n=`${re.BASE_URL}${ve.PRODUCTS.WITH_STOCK_LIST}`;t&&(n+=`?maKho=${encodeURIComponent(t)}`);const s=await fetch(n);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){throw console.error("Error fetching products with stock:",n),n}}static async getProductWithStock(t,n){try{let s=`${re.BASE_URL}${ve.PRODUCTS.BY_ID_WITH_STOCK(t)}`;n&&(s+=`?maKho=${encodeURIComponent(n)}`);const o=await fetch(s);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(s){throw console.error(`Error fetching product ${t} with stock:`,s),s}}static async compareMaSP(t=void 0){try{let n=`${re.BASE_URL}${ve.INVENTORY.COMPARE_MASP}`;t&&(n+=`?type=${encodeURIComponent(t)}`);const s=await fetch(n);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){throw console.error("Error comparing maSP:",n),n}}static async getSanPhamOnlyMaSP(){return await this.compareMaSP("sanpham-only")}static async getTonKhoOnlyMaSP(){return await this.compareMaSP("tonkho-only")}static async getBothMaSP(){return await this.compareMaSP("both")}}function pl(){const e=Q({}),t=Q(!1),n=Q(null),s=async(T,y)=>{if(!T)return 0;try{t.value=!0,n.value=null;const B=await go.getProductWithStock(T,y),L=B?.soLuongTon??B?.stock??0,w=y?`${T}@${y}`:`${T}`;return e.value[w]=L,L}catch(B){return n.value=B.message,0}finally{t.value=!1}},o=async T=>{try{return t.value=!0,n.value=null,await go.getAllProductsWithStock(T)}catch(y){return n.value=y.message,[]}finally{t.value=!1}},r=J(()=>T=>{const y=e.value[T];return typeof y=="number"?y>0:!1}),a=J(()=>T=>{const y=e.value[T];return typeof y!="number"?"Khng xc nh":y===0?"Ht hng":y<=10?"Sp ht hng":"Cn hng"}),l=J(()=>T=>{const y=e.value[T];return typeof y!="number"?"text-muted":y===0?"text-danger":y<=10?"text-warning":"text-success"}),c=J(()=>T=>{const y=e.value[T];return typeof y!="number"?"fas fa-question-circle":y===0?"fas fa-times-circle":y<=10?"fas fa-exclamation-triangle":"fas fa-check-circle"}),d=(T,y)=>{const B=y?`${T}@${y}`:`${T}`,L=e.value[B];return typeof L=="number"?L:null},u=(T,y,B)=>{const L=B?`${T}@${B}`:`${T}`,w=d(T,B);w!==null&&(e.value[L]=Math.max(0,w-y))},f=(T,y)=>{const B=y?`${T}@${y}`:`${T}`;delete e.value[B]},h=()=>{e.value={}},m=async T=>{try{return t.value=!0,n.value=null,await go.compareMaSP(T)}catch(y){return n.value=y.message,T?[]:{sanPhamOnly:[],tonKhoOnly:[],both:[]}}finally{t.value=!1}};return{inventoryData:J(()=>e.value),loading:J(()=>t.value),error:J(()=>n.value),getProductStock:s,getAllProductsWithStock:o,isProductInStock:r,getStockStatus:a,getStockStatusClass:l,getStockStatusIcon:c,getCurrentStock:d,updateStock:u,clearProductStock:f,clearAllStock:h,compareMaSP:m}}const Mm={class:"position-relative overflow-hidden",style:{height:"200px"}},Bm=["src","alt"],Km={class:"position-absolute top-0 start-0 end-0 bottom-0 d-flex flex-column justify-content-between p-3 product-overlay"},Fm={class:"d-flex flex-wrap gap-2"},Vm={key:0,class:"badge bg-danger rounded-pill"},Gm={key:1,class:"badge bg-success rounded-pill"},jm={key:2,class:"badge bg-warning rounded-pill"},qm={class:"d-flex justify-content-center gap-2 quick-actions"},Ym=["title"],Wm=["title"],zm=["title"],Qm={class:"card-body d-flex flex-column"},Jm={class:"d-flex align-items-center justify-content-between mb-2"},Xm={class:"d-flex gap-1"},Zm={key:1,class:"text-muted ms-2"},ep={class:"card-title fw-semibold text-dark mb-3 lh-sm",style:{height:"2.8rem",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},tp={class:"mb-auto"},np={key:0,class:"text-muted text-decoration-line-through me-2",style:{"font-size":"0.875rem"}},sp={class:"fw-bold text-primary fs-5"},op={class:"mt-3"},rp=["disabled"],ap={key:0,class:"fas fa-cart-plus me-2"},ip={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},ba=1,lp={__name:"ProductCard",props:{product:{type:Object,required:!0},formatPrice:{type:Function,required:!0}},emits:["add-to-cart","view-detail","add-to-wishlist"],setup(e,{emit:t}){const n=e,s=t,o=Q(!1),{getProductStock:r,getStockStatusClass:a}=pl(),l=Q(null),c=Q("text-muted"),d=J(()=>n.product.originalPrice?Math.round((1-n.product.price/n.product.originalPrice)*100):0),u=J(()=>n.product.isNew||Math.random()>.7),f=J(()=>n.product.isBestSeller||Math.random()>.8),h=b=>{const S=Number(b);return Number.isFinite(S)?S:0},m=J(()=>{const b=h(n.product.price),S=h(n.product.giaHienTai);return b>0?b:S>0?S:0}),T=async()=>{o.value=!0;try{await new Promise(b=>setTimeout(b,500)),s("add-to-cart",n.product.maSP||n.product.id)}finally{o.value=!1}},y=()=>{s("view-detail",n.product.maSP||n.product.id)},B=()=>{s("add-to-wishlist",n.product.maSP||n.product.id)},L=()=>{y()},w=async()=>{const b=[n.product?.maSP,n.product?.id,n.product?.maSanPham,n.product?.productId,n.product?.code].filter(Boolean);if(b.length>0){for(const S of b)try{const P=await r(S,ba);if(P!=null&&P>0){l.value=P,c.value=a.value(`${S}@${ba}`);return}}catch{continue}l.value=0,c.value="text-muted"}else l.value=0,c.value="text-muted"};return ot(()=>n.product,()=>{w()},{immediate:!1,deep:!1}),pt(()=>{w()}),(b,S)=>(I(),R("div",{class:"card h-100 shadow-sm border-0 position-relative overflow-hidden product-card",onClick:L},[i("div",Mm,[i("img",{src:e.product.image,class:"card-img-top w-100 h-100 object-fit-cover",alt:e.product.name,loading:"lazy"},null,8,Bm),i("div",Km,[i("div",Fm,[d.value>0?(I(),R("span",Vm," -"+q(d.value)+"% ",1)):me("",!0),u.value?(I(),R("span",Gm," Mi ")):me("",!0),f.value?(I(),R("span",jm," Bn chy ")):me("",!0)]),i("div",qm,[i("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Fe(T,["stop"]),title:"Thm "+e.product.name+" vo gi hng",style:{width:"40px",height:"40px"}},S[0]||(S[0]=[i("i",{class:"fas fa-cart-plus"},null,-1)]),8,Ym),i("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Fe(y,["stop"]),title:"Xem chi tit "+e.product.name,style:{width:"40px",height:"40px"}},S[1]||(S[1]=[i("i",{class:"fas fa-eye"},null,-1)]),8,Wm),i("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:Fe(B,["stop"]),title:"Thm "+e.product.name+" vo yu thch",style:{width:"40px",height:"40px"}},S[2]||(S[2]=[i("i",{class:"fas fa-heart"},null,-1)]),8,zm)])])]),i("div",Qm,[i("div",Jm,[i("div",Xm,[(I(),R(ye,null,De(5,P=>i("i",{key:P,class:Se(["fas fa-star",P<=e.product.rating?"text-warning":"text-muted"]),style:{"font-size":"0.875rem"}},null,2)),64))]),l.value!==null?(I(),R("small",{key:0,class:Se([c.value,"ms-2"])},"("+q(l.value)+")",3)):(I(),R("small",Zm,"(ang ti...)"))]),i("h6",ep,q(e.product.name),1),i("div",tp,[e.product.originalPrice?(I(),R("span",np,q(e.formatPrice(h(e.product.originalPrice))),1)):me("",!0),i("span",sp,q(e.formatPrice(m.value)),1)]),i("div",op,[i("button",{class:"btn btn-primary w-100 fw-semibold rounded-3 py-2",onClick:Fe(T,["stop"]),disabled:o.value},[o.value?(I(),R("div",ip,S[3]||(S[3]=[i("span",{class:"visually-hidden"},"Loading...",-1)]))):(I(),R("i",ap)),z(" "+q(o.value?"ang thm...":"Thm gi hng"),1)],8,rp)])])]))}},vl=nt(lp,[["__scopeId","data-v-0b0cc175"]]),cp=["id"],up={class:"container"},dp={class:"d-flex flex-column flex-md-row align-items-center justify-content-between mb-4 p-4 bg-light rounded-4 shadow-sm"},fp={class:"d-flex align-items-center gap-4 mb-3 mb-md-0"},hp={class:"bg-white rounded-4 p-3 shadow-sm border",style:{width:"90px",height:"90px",display:"flex","align-items":"center","justify-content":"center"}},gp={class:"fw-bold text-dark mb-2 fs-2"},mp={key:0,class:"text-muted mb-3 fs-6"},pp={class:"d-flex flex-wrap gap-3"},vp={class:"badge bg-primary bg-opacity-10 text-primary p-2 rounded-pill"},yp={class:"badge bg-warning bg-opacity-10 text-warning p-2 rounded-pill"},bp={key:0,class:"badge bg-danger p-2 rounded-pill"},Tp={class:"d-flex align-items-center gap-3"},wp={class:"mt-4 mb-5"},_p={key:0,class:"text-center py-5"},Cp={key:1},Sp={key:2,class:"text-center py-5"},kp={class:"text-center mt-5 p-4 bg-light bg-opacity-50 rounded-4 border"},Ep={key:0,class:"d-flex flex-column align-items-center gap-3 py-4"},Ap={key:1},$p={key:0,class:"d-flex justify-content-center align-items-center gap-3 flex-wrap"},Ip={key:1,class:"mt-3"},Rp={key:2,class:"text-muted"},xp={class:"mt-3"},Op={key:0,class:"mt-5 pt-4 border-top"},Pp={class:"row g-3"},Dp={class:"d-flex align-items-center gap-3 p-3 bg-white rounded-3 shadow-sm border feature-item"},Lp={class:"fw-semibold text-dark"},Np={__name:"CategorySection",props:{category:{type:Object,required:!0},products:{type:Array,required:!0},isLoadingProducts:{type:Boolean,default:!1},formatPrice:{type:Function,required:!0},initialDisplayCount:{type:Number,default:8}},emits:["add-to-cart","view-product","add-to-wishlist","show-more","show-all","load-products"],setup(e,{emit:t}){const n=e,s=t,o=Q("default"),r=Q(n.initialDisplayCount),a=Q(!1),l=Q(!1),c=J(()=>{let D=[...n.products].map(_=>({..._,price:Number.isFinite(Number(_.price))&&Number(_.price)>0?Number(_.price):Number(_.giaHienTai)||0}));switch(o.value){case"name":return D.sort((_,F)=>_.name.localeCompare(F.name,"vi"));case"price-low":return D.sort((_,F)=>_.price-F.price);case"price-high":return D.sort((_,F)=>F.price-_.price);case"newest":return D.sort((_,F)=>new Date(F.createdAt||Date.now())-new Date(_.createdAt||Date.now()));case"popular":return D.sort((_,F)=>(F.popularity||0)-(_.popularity||0));default:return D}}),d=J(()=>c.value.slice(0,r.value)),u=J(()=>r.value<n.products.length),f=J(()=>n.products.length-r.value),h=J(()=>n.products.length===0?0:n.products.reduce((_,F)=>_+(F.rating||4.5),0)/n.products.length),m=J(()=>n.products.some(D=>D.isNew||Math.random()>.8)),T=()=>({primary:"#0d6efd",success:"#198754",danger:"#dc3545",warning:"#ffc107",info:"#0dcaf0",secondary:"#6c757d"})[n.category.color]||"#0d6efd",y=()=>{},B=async()=>{a.value=!0,l.value=!0,await new Promise(D=>setTimeout(D,1e3)),r.value=Math.min(r.value+n.initialDisplayCount,n.products.length),a.value=!1,l.value=!1,s("show-more",{categoryId:n.category.id,displayCount:r.value})},L=()=>{r.value=n.products.length,s("show-all",{categoryId:n.category.id,totalProducts:n.products.length})},w=()=>{r.value=n.initialDisplayCount,document.getElementById(`category-${n.category.id}`)?.scrollIntoView({behavior:"smooth",block:"start"})},b=D=>{s("add-to-cart",D)},S=D=>{s("view-product",D)},P=D=>{s("add-to-wishlist",D)};return ot(()=>n.category.id,()=>{r.value=n.initialDisplayCount,o.value="default"}),(D,_)=>{const F=In("router-link");return e.products.length>0?(I(),R("section",{key:0,class:"py-5 my-4",id:`category-${e.category.id}`},[i("div",up,[i("div",dp,[i("div",fp,[i("div",hp,[i("i",{class:Se(`${e.category.icon} fs-1`),style:bn({color:T()})},null,6)]),i("div",null,[i("h2",gp,q(e.category.name),1),e.category.description?(I(),R("p",mp,q(e.category.description),1)):me("",!0),i("div",pp,[i("span",vp,[_[2]||(_[2]=i("i",{class:"fas fa-box me-2"},null,-1)),z(" "+q(e.products.length)+" sn phm ",1)]),i("span",yp,[_[3]||(_[3]=i("i",{class:"fas fa-star me-2"},null,-1)),z(" "+q(h.value.toFixed(1))+" sao ",1)]),m.value?(I(),R("span",bp,_[4]||(_[4]=[i("i",{class:"fas fa-sparkles me-2"},null,-1),z(" C sn phm mi ")]))):me("",!0)])])]),i("div",Tp,[_[6]||(_[6]=i("div",{class:"bg-primary bg-opacity-10 border border-primary border-opacity-25 rounded-3 px-3 py-2"},[i("span",{class:"text-primary fw-semibold small"},[i("i",{class:"fas fa-th me-2"}),z(" Hin th dng li ")])],-1)),i("div",null,[ft(i("select",{"onUpdate:modelValue":_[0]||(_[0]=N=>o.value=N),class:"form-select form-select-sm rounded-3 border-primary border-opacity-25 fw-semibold",onChange:y,style:{"min-width":"160px"}},_[5]||(_[5]=[Nt('<option value="default" data-v-996cfb6f>Mc nh</option><option value="name" data-v-996cfb6f>Tn A-Z</option><option value="price-low" data-v-996cfb6f>Gi thp - cao</option><option value="price-high" data-v-996cfb6f>Gi cao - thp</option><option value="newest" data-v-996cfb6f>Mi nht</option><option value="popular" data-v-996cfb6f>Ph bin</option>',6)]),544),[[Fi,o.value]])])])]),i("div",wp,[e.isLoadingProducts?(I(),R("div",_p,_[7]||(_[7]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti sn phm...")],-1),i("p",{class:"text-muted mt-3"},"ang ti sn phm trong danh mc...",-1)]))):e.products.length>0?(I(),R("div",Cp,[he(Du,{name:"products",tag:"div",class:"row g-3"},{default:Ne(()=>[(I(!0),R(ye,null,De(d.value,(N,$)=>(I(),R("div",{key:N.id,class:Se(["col-12","col-sm-6","col-md-4","col-lg-3","product-item"]),style:bn({animationDelay:`${$*.1}s`})},[he(vl,{product:N,formatPrice:e.formatPrice,onAddToCart:b,onViewDetail:S,onAddToWishlist:P},null,8,["product","formatPrice"])],4))),128))]),_:1})])):(I(),R("div",Sp,[_[9]||(_[9]=i("div",{class:"empty-icon mb-4"},[i("i",{class:"fas fa-box-open fa-4x text-muted"})],-1)),_[10]||(_[10]=i("h4",{class:"text-muted mb-3"},"Cha c sn phm no",-1)),_[11]||(_[11]=i("p",{class:"text-muted mb-4"},"Danh mc ny cha c sn phm no c thm vo",-1)),i("button",{class:"btn btn-primary",onClick:_[1]||(_[1]=N=>s("load-products",e.category.id))},_[8]||(_[8]=[i("i",{class:"fas fa-refresh me-2"},null,-1),z("Ti li sn phm ")]))]))]),i("div",kp,[a.value?(I(),R("div",Ep,_[12]||(_[12]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti...")],-1),i("p",{class:"text-muted fw-semibold mb-0 fs-6"},"ang ti thm sn phm...",-1)]))):(I(),R("div",Ap,[u.value?(I(),R("div",$p,[i("button",{class:"btn btn-primary fw-bold px-4 py-2 rounded-3",onClick:B},[_[13]||(_[13]=i("i",{class:"fas fa-plus me-2"},null,-1)),z("Xem thm "+q(f.value)+" sn phm ",1)]),i("button",{class:"btn btn-outline-primary fw-bold px-4 py-2 rounded-3",onClick:L},_[14]||(_[14]=[i("i",{class:"fas fa-expand me-2"},null,-1),z("Hin th tt c ")])),he(F,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Ne(()=>_[15]||(_[15]=[i("i",{class:"fas fa-arrow-right me-2"},null,-1),z("Xem trang danh mc ")])),_:1,__:[15]},8,["to"])])):d.value.length>e.initialDisplayCount?(I(),R("div",Ip,[i("button",{class:"btn btn-outline-secondary fw-semibold px-4 py-2 rounded-3",onClick:w},_[16]||(_[16]=[i("i",{class:"fas fa-compress me-2"},null,-1),z("Thu gn ")])),he(F,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3 ms-2"},{default:Ne(()=>_[17]||(_[17]=[i("i",{class:"fas fa-arrow-right me-2"},null,-1),z("Xem trang danh mc ")])),_:1,__:[17]},8,["to"])])):(I(),R("div",Rp,[_[19]||(_[19]=i("i",{class:"fas fa-check-circle text-success me-2"},null,-1)),_[20]||(_[20]=z("  hin th tt c sn phm trong danh mc ")),i("div",xp,[he(F,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Ne(()=>_[18]||(_[18]=[i("i",{class:"fas fa-arrow-right me-2"},null,-1),z("Xem trang danh mc ")])),_:1,__:[18]},8,["to"])])]))]))]),D.categoryFeatures&&D.categoryFeatures.length>0?(I(),R("div",Op,[_[21]||(_[21]=i("h5",{class:"fw-bold text-dark text-center mb-4"},"c im danh mc",-1)),i("div",Pp,[(I(!0),R(ye,null,De(D.categoryFeatures,N=>(I(),R("div",{key:N.id,class:"col-md-6 col-lg-4"},[i("div",Dp,[i("i",{class:Se(`${N.icon} fs-4 text-primary`)},null,2),i("span",Lp,q(N.text),1)])]))),128))])])):me("",!0)])],8,cp)):me("",!0)}}},Up=nt(Np,[["__scopeId","data-v-996cfb6f"]]),Hp={id:"productCategories"},Mp={key:0,class:"text-center py-5"},Bp={__name:"Home",setup(e){const t=en(),n=Q(!1),{categories:s,getProductsByCategory:o,formatPrice:r,addToCart:a,isLoadingCategories:l}=Rn(),c=Q({}),d=Q({}),u=T=>{t.push({name:"ProductDetail",params:{id:T}})},f=async T=>{if(c.value[T])return c.value[T];try{d.value[T]=!0;const y=await o(T);return c.value[T]=y,y}catch(y){return console.error(`Failed to load products for category ${T}:`,y),[]}finally{d.value[T]=!1}},h=()=>{t.push({name:"Promotions"})},m=()=>{const T=window.scrollY;n.value=T>300};return pt(()=>{window.addEventListener("scroll",m),m(),ot(s,async T=>{if(T.length>0){const y=T.slice(0,3);for(const B of y)await f(B.id)}},{immediate:!0})}),Zt(()=>{window.removeEventListener("scroll",m)}),(T,y)=>(I(),R("div",null,[he(Hm),i("div",Hp,[V(l)?(I(),R("div",Mp,y[0]||(y[0]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti danh mc...")],-1),i("p",{class:"text-muted mt-3"},"ang ti danh mc sn phm...",-1)]))):(I(!0),R(ye,{key:1},De(V(s),B=>(I(),ls(Up,{key:B.id,category:B,products:c.value[B.id]||[],isLoadingProducts:d.value[B.id],formatPrice:V(r),onAddToCart:V(a),onViewProduct:u,onLoadProducts:f},null,8,["category","products","isLoadingProducts","formatPrice","onAddToCart"]))),128))]),he(js,{name:"fade"},{default:Ne(()=>[n.value?(I(),R("button",{key:0,class:"promotion-btn",onClick:h,title:"Xem khuyn mi"},y[1]||(y[1]=[i("i",{class:"fas fa-gift"},null,-1)]))):me("",!0)]),_:1})]))}},Kp=nt(Bp,[["__scopeId","data-v-7ff373c1"]]);function Fp(e,t=null){const{products:n,categories:s,addToCart:o,formatPrice:r,showNotification:a}=Rn(),l=Q(null),c=Q({}),d=Q([]),u=Q([]),f=Q(1),h=Q(0),m=Q("description"),T=Q(!1),y=J(()=>l.value?c.value[l.value.id]||{description:"Sn phm cht lng cao, c chn lc k cng  m bo ti ngon v an ton cho sc khe. c nui trng theo quy trnh khp kn, m bo v sinh an ton thc phm.",nutrition:"Giu protein, t cht bo, cung cp cc vitamin v khong cht thit yu cho c th. c bit tt cho vic pht trin c bp v duy tr sc khe tng th.",storage:"Bo qun trong t lnh t 0-4C, s dng trong vng 2-3 ngy sau khi m gi",origin:"Vit Nam - ng bng sng Cu Long"}:null),B=J(()=>l.value?l.value.reviews||d.value[l.value.id]||[{id:1,name:"Nguyn Vn A",rating:5,content:"Sn phm rt tt, ti ngon! Cht lng vt mong i, s tip tc ng h.",date:"2025-01-01"},{id:2,name:"Trn Th B",rating:4,content:"Cht lng n, s mua li. Gi c hp l, giao hng nhanh.",date:"2025-01-02"},{id:3,name:"L Vn C",rating:5,content:"Tuyt vi! Gia nh ti rt hi lng vi sn phm ny.",date:"2025-01-03"}]:[]),L=J(()=>{if(!l.value)return[];if(l.value?.images&&l.value.images.length>0)return l.value.images.map((ae,se)=>({id:se+1,url:ae,alt:se===0?"Hnh chnh":`Gc nhn ${se+1}`,isMain:se===0}));const G=l.value?.image||"https://via.placeholder.com/800x600?text=No+Image";return u.value[l.value.id]||[{id:1,url:G,alt:"Hnh chnh",isMain:!0},{id:2,url:G,alt:"Gc nhn 2",isMain:!1},{id:3,url:G,alt:"Gc nhn 3",isMain:!1}]}),w=J(()=>B.value.length===0?0:B.value.reduce((G,ae)=>G+ae.rating,0)/B.value.length),b=J(()=>!l.value||!l.value.originalPrice?0:Math.round((1-l.value.price/l.value.originalPrice)*100)),S=J(()=>l.value?n.value.filter(G=>G.categoryId===l.value.categoryId&&(G.maSP||G.id)!==(l.value.maSP||l.value.id)).slice(0,4):[]),P=J(()=>l.value?s.value.find(G=>G.id===l.value.categoryId):null),D=J(()=>{const G=[{name:"Trang ch",href:"#",icon:"fas fa-home"}];return P.value&&G.push({name:P.value.name,href:`#category-${P.value.id}`}),l.value&&G.push({name:l.value.name,active:!0}),G}),_=async G=>{console.log(" loadProduct called with ID:",G),console.log(" Current products.value:",n.value),T.value=!0;try{const ae=`http://localhost:8080/api/sanpham/${G}`;console.log(" Calling API:",ae);const se=await fetch(ae);if(console.log(" API Response status:",se.status),console.log(" API Response ok:",se.ok),!se.ok)throw new Error(`HTTP error! status: ${se.status}`);const te=await se.json();console.log(" API Response data:",te);const ke={id:te.maSP||te.id,name:te.tenSP||te.name,price:te.giaHienTai||te.giaBan||te.price,originalPrice:te.giaGoc||te.originalPrice,categoryId:te.loaiSanPham?.maLoaiSP||te.categoryId,categoryName:te.loaiSanPham?.tenLoai||te.categoryName,image:`http://localhost:8080/api/upload/serve-image/${te.maSP}_main.jfif`,images:[`http://localhost:8080/api/upload/serve-image/${te.maSP}_main.jfif`,`http://localhost:8080/api/upload/serve-image/${te.maSP}_main1.jfif`,`http://localhost:8080/api/upload/serve-image/${te.maSP}_main2.jfif`],description:te.moTa||te.description,isFlashSale:te.isFlashSale||!1,isActive:te.isActive!==!1,stock:te.trongLuong||te.stock||0,unit:te.donViTinh||te.unit||"ci",rating:te.danhGia||te.rating||4.5,reviews:te.danhGia||te.reviews||[],weight:te.trongLuong||null,weightUnit:te.donViTinh||null,shelfLifeDays:te.hanSuDung||null};l.value=ke,h.value=0,f.value=1}catch(ae){console.error(` Failed to load product ${G} from API:`,ae);const se=n.value.find(te=>te.id===G||te.id===String(G)||te.id===parseInt(G)||te.maSP===G||te.maSP===String(G));se?(l.value=se,h.value=0,f.value=1):(console.error(" Product not found in local data either"),l.value=null)}finally{T.value=!1}},F=(G,ae=10)=>{const se=Math.max(1,Math.min(ae,f.value+G));f.value=se},N=G=>{h.value=G},$=()=>{l.value&&o(l.value.maSP||l.value.id,f.value)},x=()=>{if(!l.value){a("Khng tm thy sn phm!","error");return}if(!JSON.parse(localStorage.getItem("easymart-user")||"null")){localStorage.setItem("easymart-selected-items",JSON.stringify([l.value.maSP||l.value.id])),localStorage.setItem("easymart-redirect-after-login","/checkout"),a("Vui lng ng nhp  tin hnh thanh ton!","warning"),setTimeout(()=>{window.location.href="/login"},800);return}$(),localStorage.setItem("easymart-selected-items",JSON.stringify([l.value.maSP||l.value.id])),localStorage.setItem("easymart-invoice",JSON.stringify({items:[{maSP:l.value.maSP||l.value.id,tenSP:l.value.name,donGia:l.value.price,soLuong:f.value}],orderId:"NEW",timestamp:new Date().toISOString()})),a("Chuyn n trang thanh ton...","info"),setTimeout(()=>{t?t.push("/checkout"):window.location.href="/checkout"},800)},v=()=>{a(" thm vo danh sch yu thch!","success")},k=()=>{navigator.share&&l.value?navigator.share({title:l.value.name,text:`Xem sn phm tuyt vi ny ti EasyMart: ${l.value.name}`,url:window.location.href}).catch(()=>{G()}):G();function G(){navigator.clipboard.writeText(window.location.href).then(()=>{a(" copy link sn phm!","info")})}},A=()=>{a("Tnh nng so snh s c trong phin bn tip theo!","info")},ce=G=>{m.value=G};return pt(()=>{e&&_(e)}),{currentProduct:l,quantity:f,selectedImageIndex:h,activeTab:m,isLoading:T,currentProductDetail:y,currentReviews:B,currentImages:L,averageRating:w,discountPercentage:b,relatedProducts:S,currentCategory:P,breadcrumbs:D,loadProduct:_,changeQuantity:F,changeMainImage:N,addToCartWithQuantity:$,buyNow:x,addToWishlist:v,shareProduct:k,compareProduct:A,setActiveTab:ce,formatPrice:r,addToCart:o}}const Vp={class:"product-reviews"},Gp={class:"row"},jp={class:"col-lg-10 mx-auto"},qp={class:"mb-4 text-center"},Yp={class:"d-flex justify-content-center align-items-center mb-3"},Wp={class:"text-muted"},zp={class:"row g-4"},Qp={class:"card mb-3 border-primary"},Jp={class:"card-body"},Xp={class:"d-flex justify-content-between align-items-start mb-2"},Zp={class:"card-title mb-0 text-primary"},ev={class:"text-muted"},tv={class:"text-warning mb-2"},nv={class:"card-text"},sv={key:0,class:"text-center text-muted py-5"},ov={__name:"ProductReviews",props:{product:{type:Object,required:!0},reviews:{type:Array,required:!1}},setup(e){const t=e,n=J(()=>(console.log(" ProductReviews - Props reviews:",t.reviews),console.log(" ProductReviews - Reviews length:",t.reviews?.length||0),t.reviews||[]));return(s,o)=>(I(),R("div",Vp,[i("div",Gp,[i("div",jp,[i("div",qp,[o[2]||(o[2]=i("h5",{class:"text-primary mb-3"},"nh gi t khch hng",-1)),i("div",Yp,[o[1]||(o[1]=Nt('<div class="text-warning fs-3 me-3" data-v-bc63e91b><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star-half-alt" data-v-bc63e91b></i></div>',1)),i("div",null,[o[0]||(o[0]=i("div",{class:"fs-4 fw-bold text-primary"},"4.5/5",-1)),i("small",Wp,"("+q(n.value.length)+" nh gi)",1)])])]),i("div",zp,[(I(!0),R(ye,null,De(n.value,r=>(I(),R("div",{class:"col-12",key:r.id},[i("div",Qp,[i("div",Jp,[i("div",Xp,[i("h6",Zp,q(r.name),1),i("small",ev,q(r.date),1)]),i("div",tv,[(I(!0),R(ye,null,De(r.rating,a=>(I(),R("i",{key:a,class:"fas fa-star"}))),128)),(I(!0),R(ye,null,De(5-r.rating,a=>(I(),R("i",{key:a+r.rating,class:"far fa-star"}))),128))]),i("p",nv,q(r.content),1)])])]))),128))]),n.value.length===0?(I(),R("div",sv,o[3]||(o[3]=[i("i",{class:"fas fa-info-circle fa-2x mb-3"},null,-1),i("div",null,"Cha c nh gi no cho sn phm ny.",-1)]))):me("",!0)])])]))}},rv=nt(ov,[["__scopeId","data-v-bc63e91b"]]),av={class:"write-review-section"},iv={key:0,class:"text-center mb-4"},lv={key:1,class:"text-center mb-4"},cv={key:2,class:"card shadow-sm border-0 mb-4"},uv={class:"card-body"},dv={class:"d-flex align-items-center mb-3 p-3 bg-light rounded"},fv=["src","alt"],hv={class:"mb-0"},gv={class:"text-muted"},mv={class:"mb-3"},pv={class:"rating-input d-flex align-items-center gap-3"},vv={class:"star-rating"},yv=["onClick","onMouseover"],bv={class:"text-muted"},Tv={class:"mb-3"},wv={class:"form-text"},_v={class:"mb-3"},Cv={class:"mb-4"},Sv={class:"form-check"},kv={class:"d-flex gap-2"},Ev=["disabled"],Av={key:0,class:"fas fa-paper-plane me-2"},$v={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},Iv=["disabled"],Rv={key:3,class:"alert alert-success alert-dismissible fade show",role:"alert"},xv={__name:"WriteReview",props:{product:{type:Object,required:!0}},emits:["review-submitted"],setup(e,{emit:t}){const n=t,{user:s,isLoggedIn:o}=os(),r=Q(!1),a=Q(0),l=Q(0),c=Q(""),d=Q(""),u=Q(!1),f=Q(!1),h=Q(!1),m=J(()=>{switch(l.value||a.value){case 1:return"Rt t";case 2:return"T";case 3:return"Bnh thng";case 4:return"Tt";case 5:return"Tuyt vi";default:return"Chn s sao"}}),T=async()=>{if(!(a.value===0||c.value.trim().length<10)){f.value=!0;try{await new Promise(w=>setTimeout(w,1500));const L={id:Date.now(),name:s.value.name,email:s.value.email,avatar:s.value.avatar,rating:a.value,title:d.value.trim()||null,content:c.value.trim(),wouldRecommend:u.value,date:new Date().toISOString().split("T")[0],isVerifiedPurchase:!0};n("review-submitted",L),h.value=!0,B(),setTimeout(()=>{h.value=!1},5e3)}catch(L){console.error("Error submitting review:",L)}finally{f.value=!1}}},y=()=>{B()},B=()=>{r.value=!1,a.value=0,l.value=0,c.value="",d.value="",u.value=!1};return(L,w)=>{const b=In("router-link");return I(),R("div",av,[!V(o)&&!r.value?(I(),R("div",iv,[w[7]||(w[7]=i("div",{class:"alert alert-info"},[i("i",{class:"fas fa-info-circle me-2"}),i("strong",null,"Bn cn ng nhp  vit nh gi")],-1)),he(b,{to:"/login",class:"btn btn-primary"},{default:Ne(()=>w[6]||(w[6]=[i("i",{class:"fas fa-sign-in-alt me-2"},null,-1),z("ng nhp ngay ")])),_:1,__:[6]})])):V(o)&&!r.value?(I(),R("div",lv,[i("button",{class:"btn btn-success btn-lg",onClick:w[0]||(w[0]=S=>r.value=!0)},w[8]||(w[8]=[i("i",{class:"fas fa-pen me-2"},null,-1),z("Vit nh gi ")]))])):me("",!0),r.value&&V(o)?(I(),R("div",cv,[w[14]||(w[14]=i("div",{class:"card-header bg-primary text-white"},[i("h5",{class:"mb-0"},[i("i",{class:"fas fa-star me-2"}),z("Vit nh gi cho sn phm ny ")])],-1)),i("div",uv,[i("form",{onSubmit:Fe(T,["prevent"])},[i("div",dv,[i("img",{src:V(s).avatar,class:"rounded-circle me-3",width:"50",height:"50",alt:V(s).name},null,8,fv),i("div",null,[i("h6",hv,q(V(s).name),1),i("small",gv,q(V(s).email),1)])]),i("div",mv,[w[9]||(w[9]=i("label",{class:"form-label fw-semibold"},"nh gi ca bn *",-1)),i("div",pv,[i("div",vv,[(I(),R(ye,null,De(5,S=>i("i",{key:S,class:Se(["fas fa-star star-clickable",S<=a.value?"text-warning":"text-muted"]),onClick:P=>a.value=S,onMouseover:P=>l.value=S,onMouseleave:w[1]||(w[1]=P=>l.value=0),style:{cursor:"pointer","font-size":"1.5rem","margin-right":"0.25rem"}},null,42,yv)),64))]),i("span",bv,q(m.value),1)])]),i("div",Tv,[w[10]||(w[10]=i("label",{for:"reviewContent",class:"form-label fw-semibold"},"Ni dung nh gi *",-1)),ft(i("textarea",{"onUpdate:modelValue":w[2]||(w[2]=S=>c.value=S),class:"form-control",id:"reviewContent",rows:"4",required:"",placeholder:"Chia s tri nghim ca bn v sn phm ny...",maxlength:"500"},null,512),[[wn,c.value]]),i("div",wv,q(c.value.length)+"/500 k t",1)]),i("div",_v,[w[11]||(w[11]=i("label",{for:"reviewTitle",class:"form-label fw-semibold"},"Tiu  nh gi (ty chn)",-1)),ft(i("input",{"onUpdate:modelValue":w[3]||(w[3]=S=>d.value=S),type:"text",class:"form-control",id:"reviewTitle",placeholder:"V d: Sn phm tuyt vi!",maxlength:"100"},null,512),[[wn,d.value]])]),i("div",Cv,[i("div",Sv,[ft(i("input",{"onUpdate:modelValue":w[4]||(w[4]=S=>u.value=S),class:"form-check-input",type:"checkbox",id:"wouldRecommend"},null,512),[[Ki,u.value]]),w[12]||(w[12]=i("label",{class:"form-check-label",for:"wouldRecommend"},[i("i",{class:"fas fa-thumbs-up me-2"}),z("Ti s gii thiu sn phm ny cho bn b ")],-1))])]),i("div",kv,[i("button",{type:"submit",class:"btn btn-success",disabled:f.value||a.value===0||c.value.trim().length<10},[f.value?me("",!0):(I(),R("i",Av)),f.value?(I(),R("span",$v)):me("",!0),z(" "+q(f.value?"ang gi...":"Gi nh gi"),1)],8,Ev),i("button",{type:"button",class:"btn btn-outline-secondary",onClick:y,disabled:f.value},w[13]||(w[13]=[i("i",{class:"fas fa-times me-2"},null,-1),z("Hy ")]),8,Iv)])],32)])])):me("",!0),h.value?(I(),R("div",Rv,[w[15]||(w[15]=i("i",{class:"fas fa-check-circle me-2"},null,-1)),w[16]||(w[16]=i("strong",null,"Cm n bn!",-1)),w[17]||(w[17]=z(" nh gi ca bn  c gi thnh cng. ")),i("button",{type:"button",class:"btn-close",onClick:w[5]||(w[5]=S=>h.value=!1)})])):me("",!0)])}}},Ov=nt(xv,[["__scopeId","data-v-d2a00896"]]),Pv={id:"productDetail",class:"bg-white"},Dv={class:"container mt-4"},Lv={"aria-label":"breadcrumb"},Nv={class:"breadcrumb mb-0"},Uv={class:"breadcrumb-item"},Hv={key:0,class:"breadcrumb-item"},Mv=["href"],Bv={key:1,class:"breadcrumb-item active"},Kv={class:"container my-5"},Fv={key:0,class:"row"},Vv={key:1,class:"row"},Gv={class:"col-12 text-center"},jv={class:"debug-info mt-4 p-3 bg-light rounded text-start"},qv={key:2,class:"row animate-fade-in"},Yv={class:"col-lg-6"},Wv={class:"position-relative"},zv=["src","alt"],Qv={class:"row g-2 mt-3"},Jv={class:"product-thumbnail-container"},Xv=["src","onClick","alt"],Zv={class:"col-lg-6"},ey={class:"ps-lg-4"},ty={class:"fs-2 fw-bold text-dark mb-3"},ny={class:"mb-3"},sy={key:0,class:"feature-badge"},oy={class:"d-flex align-items-center mb-3"},ry={class:"text-warning me-3"},ay={class:"text-muted ms-3"},iy={class:"mb-4"},ly={key:0,class:"discount-badge"},cy={class:"d-flex align-items-baseline"},uy={key:0,class:"original-price"},dy={class:"detail-price"},fy={key:1,class:"text-muted"},hy={class:"stock-info mb-4"},gy={class:"row"},my={class:"col-6"},py={class:"text-center"},vy={class:"mt-2"},yy={class:"small text-muted"},by={key:0},Ty={key:1},wy={class:"row g-3 mb-4"},_y={class:"col-md-4"},Cy={class:"quantity-selector d-flex"},Sy=["disabled"],ky=["max","disabled"],Ey=["disabled"],Ay={key:0,class:"text-danger"},$y={key:1,class:"text-muted"},Iy={class:"col-md-8"},Ry={class:"d-flex gap-2"},xy=["disabled"],Oy=["disabled"],Py={class:"row g-2 mt-3"},Dy={class:"col-4"},Ly={class:"col-4"},Ny={class:"col-4"},Uy={key:0,class:"container my-5"},Hy={class:"nav nav-pills product-tabs justify-content-center mb-4",role:"tablist"},My={class:"nav-item",role:"presentation"},By={class:"nav-item",role:"presentation"},Ky={class:"tab-content",style:{"min-height":"400px",background:"white","border-radius":"10px",padding:"20px"}},Fy={class:"tab-pane",style:{display:"block"}},Vy={class:"row"},Gy={class:"col-lg-8 mx-auto"},jy={class:"card border-0 shadow-sm rounded-4"},qy={class:"card-body p-5"},Yy={class:"text-primary mb-4"},Wy={class:"lead"},zy={class:"mt-4"},Qy={class:"list-unstyled small mb-0"},Jy={key:0},Xy={key:0},Zy={key:1},eb={key:2},tb={class:"tab-pane",style:{display:"block",width:"100%"}},nb={key:1,class:"container my-5"},sb={class:"row g-4"},Ta=1,ob={__name:"ProductDetail",props:{productId:{type:[Number,String],required:!0}},emits:["go-home","view-product"],setup(e,{emit:t}){const n=e,s=en(),{products:o,addToCart:r,formatPrice:a,showNotification:l}=Rn(),{currentProduct:c,quantity:d,selectedImageIndex:u,activeTab:f,currentReviews:h,currentImages:m,discountPercentage:T,relatedProducts:y,currentCategory:B,isLoading:L,loadProduct:w,changeQuantity:b,addToCartWithQuantity:S,buyNow:P,addToWishlist:D,shareProduct:_,compareProduct:F}=Fp(n.productId,s),{getProductStock:N,getStockStatus:$,getStockStatusClass:x,getStockStatusIcon:v}=pl(),k=J(()=>{const oe=c.value?.maSP||c.value?.id;return oe?`${oe}@${Ta}`:null}),A=Q(null),ce=Q("ang kim tra..."),G=Q("text-muted"),ae=Q("fas fa-spinner fa-spin"),se=Q("text-muted"),te=J(()=>c.value?.description||"Sn phm cht lng cao, c chn lc k cng  m bo ti ngon v an ton cho sc khe. c nui trng theo quy trnh khp kn, m bo v sinh an ton thc phm."),ke=oe=>{console.log(" New review submitted:",oe),c.value&&c.value.reviews&&c.value.reviews.unshift(oe),l("Cm n bn  nh gi sn phm!","success")},be=async()=>{const oe=c.value?.maSP||c.value?.id;if(oe)try{const C=await N(oe,Ta);A.value=C,k.value&&(ce.value=$.value(k.value),G.value=x.value(k.value),ae.value=v.value(k.value),se.value=G.value)}catch(C){console.error("Error loading stock info:",C),ce.value="Khng xc nh",G.value="text-muted",ae.value="fas fa-question-circle",se.value="text-muted"}};return ot(()=>n.productId,async oe=>{console.log(" ProductDetail - ProductId changed to:",oe),console.log(" ProductDetail - currentProduct before load:",c.value),oe&&(await w(oe),console.log(" ProductDetail - currentProduct after load:",c.value),await be())},{immediate:!0}),ot(h,oe=>{console.log(" ProductDetail - currentReviews changed:",oe),console.log(" ProductDetail - currentReviews length:",oe?.length||0)},{immediate:!0}),ot(c,async oe=>{(oe?.maSP||oe?.id)&&await be()},{immediate:!1,deep:!1}),ot(f,oe=>{console.log(" ProductDetail - activeTab changed to:",oe)},{immediate:!0}),pt(async()=>{console.log(" ProductDetail - Component mounted with productId:",n.productId),console.log(" ProductDetail - currentProduct on mount:",c.value),n.productId&&(await w(n.productId),console.log(" ProductDetail - currentProduct after mount load:",c.value),await be())}),(oe,C)=>(I(),R("div",Pv,[i("div",Dv,[i("nav",Lv,[i("ol",Nv,[i("li",Uv,[i("a",{href:"#",onClick:C[0]||(C[0]=Fe(O=>oe.$emit("go-home"),["prevent"])),class:"text-decoration-none"},C[13]||(C[13]=[i("i",{class:"fas fa-home me-1"},null,-1),z("Trang ch ")]))]),V(B)?(I(),R("li",Hv,[i("a",{href:`#category-${V(B).id}`,class:"text-decoration-none"},q(V(B).name),9,Mv)])):me("",!0),V(c)?(I(),R("li",Bv,q(V(c).name),1)):me("",!0)])])]),i("div",Kv,[!V(c)&&V(L)?(I(),R("div",Fv,C[14]||(C[14]=[i("div",{class:"col-12 text-center py-5"},[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti sn phm...")]),i("p",{class:"text-muted mt-3"},"ang ti thng tin sn phm...")],-1)]))):V(c)?(I(),R("div",qv,[i("div",Yv,[i("div",Wv,[i("img",{src:V(m)[V(u)]?.url||V(c).image,class:"w-100 product-image-main shadow-product",alt:V(c).name},null,8,zv),C[24]||(C[24]=i("div",{class:"position-absolute top-0 end-0 m-3 bg-dark bg-opacity-75 text-white p-2 rounded"},[i("i",{class:"fas fa-search-plus me-1"}),z("Zoom ")],-1))]),i("div",Qv,[(I(!0),R(ye,null,De(V(m),(O,ie)=>(I(),R("div",{key:ie,class:"col-3"},[i("div",Jv,[i("img",{src:O.url,class:Se(["w-100 product-thumbnail",{active:ie===V(u)}]),onClick:Le=>u.value=ie,alt:O.alt},null,10,Xv)])]))),128))])]),i("div",Zv,[i("div",ey,[i("h1",ty,q(V(c).name),1),i("div",ny,[C[25]||(C[25]=i("span",{class:"feature-badge"},"Ti sng",-1)),C[26]||(C[26]=i("span",{class:"feature-badge"},"Cht lng cao",-1)),C[27]||(C[27]=i("span",{class:"feature-badge"},"An ton",-1)),V(c).originalPrice?(I(),R("span",sy,"Gim gi")):me("",!0)]),i("div",oy,[i("div",ry,[(I(),R(ye,null,De(5,O=>i("i",{key:O,class:"fas fa-star"})),64)),C[28]||(C[28]=i("span",{class:"text-dark ms-2 fw-semibold"},"4.8",-1))]),C[30]||(C[30]=i("span",{class:"text-muted"},"|",-1)),i("span",ay,[C[29]||(C[29]=i("i",{class:"fas fa-shopping-cart me-1"},null,-1)),z(q(Math.floor(Math.random()*500)+100)+"  bn ",1)])]),i("div",iy,[V(T)>0?(I(),R("div",ly," -"+q(V(T))+"% GIM GI ",1)):me("",!0),i("div",cy,[V(c).originalPrice?(I(),R("span",uy,q(V(a)(V(c).originalPrice)),1)):me("",!0),i("span",dy,q(V(a)(V(c).price)),1)]),V(c).originalPrice?(I(),R("small",fy," Tit kim: "+q(V(a)(V(c).originalPrice-V(c).price)),1)):me("",!0)]),i("div",hy,[i("div",gy,[i("div",my,[i("div",py,[i("i",{class:Se([ae.value,se.value])},null,2),i("div",vy,[i("strong",{class:Se(G.value)},q(ce.value),3),i("div",yy,[A.value!==null?(I(),R("span",by,"Cn "+q(A.value)+" sn phm",1)):(I(),R("span",Ty,"ang kim tra..."))])])])]),C[31]||(C[31]=Nt('<div class="col-6" data-v-7c5929bf><div class="text-center" data-v-7c5929bf><i class="fas fa-shield-alt text-primary fs-4" data-v-7c5929bf></i><div class="mt-2" data-v-7c5929bf><strong class="text-primary" data-v-7c5929bf>Cht lng</strong><div class="small text-muted" data-v-7c5929bf>m bo ti ngon</div></div></div></div>',1))])]),i("div",wy,[i("div",_y,[C[34]||(C[34]=i("label",{class:"form-label fw-semibold"},"S lng:",-1)),i("div",Cy,[i("button",{class:"quantity-btn",onClick:C[2]||(C[2]=O=>V(b)(-1,A.value)),disabled:A.value===0},C[32]||(C[32]=[i("i",{class:"fas fa-minus"},null,-1)]),8,Sy),ft(i("input",{type:"number",class:"form-control quantity-input","onUpdate:modelValue":C[3]||(C[3]=O=>je(d)?d.value=O:null),min:1,max:A.value||10,disabled:A.value===0},null,8,ky),[[wn,V(d)]]),i("button",{class:"quantity-btn",onClick:C[4]||(C[4]=O=>V(b)(1,A.value)),disabled:A.value===0},C[33]||(C[33]=[i("i",{class:"fas fa-plus"},null,-1)]),8,Ey)]),A.value===0?(I(),R("small",Ay,"Sn phm  ht hng")):A.value!==null?(I(),R("small",$y,"Cn "+q(A.value)+" sn phm",1)):me("",!0)]),i("div",Iy,[C[37]||(C[37]=i("label",{class:"form-label fw-semibold"},"Hnh ng:",-1)),i("div",Ry,[i("button",{class:"btn add-to-cart-btn text-white flex-fill",onClick:C[5]||(C[5]=(...O)=>V(S)&&V(S)(...O)),disabled:A.value===0},[C[35]||(C[35]=i("i",{class:"fas fa-cart-plus me-2"},null,-1)),z(q(A.value===0?"Ht hng":"Thm vo gi"),1)],8,xy),i("button",{class:"btn buy-now-btn text-white flex-fill",onClick:C[6]||(C[6]=(...O)=>V(P)&&V(P)(...O)),disabled:A.value===0},[C[36]||(C[36]=i("i",{class:"fas fa-bolt me-2"},null,-1)),z(q(A.value===0?"Ht hng":"Mua ngay"),1)],8,Oy)])])]),C[41]||(C[41]=Nt('<div class="delivery-info p-3" data-v-7c5929bf><h6 class="fw-bold text-success mb-3" data-v-7c5929bf><i class="fas fa-shipping-fast me-2" data-v-7c5929bf></i>Thng tin giao hng </h6><div class="row g-3" data-v-7c5929bf><div class="col-md-6" data-v-7c5929bf><div class="d-flex align-items-center" data-v-7c5929bf><i class="fas fa-clock text-success me-3" data-v-7c5929bf></i><div data-v-7c5929bf><strong data-v-7c5929bf>Giao hng nhanh</strong><div class="small text-muted" data-v-7c5929bf>Trong 2 gi</div></div></div></div><div class="col-md-6" data-v-7c5929bf><div class="d-flex align-items-center" data-v-7c5929bf><i class="fas fa-truck text-success me-3" data-v-7c5929bf></i><div data-v-7c5929bf><strong data-v-7c5929bf>Min ph ship</strong><div class="small text-muted" data-v-7c5929bf>n t 200k</div></div></div></div></div></div>',1)),i("div",Py,[i("div",Dy,[i("button",{class:"btn btn-outline-primary w-100 rounded-pill",onClick:C[7]||(C[7]=(...O)=>V(D)&&V(D)(...O))},C[38]||(C[38]=[i("i",{class:"fas fa-heart me-1"},null,-1),z("Yu thch ")]))]),i("div",Ly,[i("button",{class:"btn btn-outline-secondary w-100 rounded-pill",onClick:C[8]||(C[8]=(...O)=>V(_)&&V(_)(...O))},C[39]||(C[39]=[i("i",{class:"fas fa-share-alt me-1"},null,-1),z("Chia s ")]))]),i("div",Ny,[i("button",{class:"btn btn-outline-info w-100 rounded-pill",onClick:C[9]||(C[9]=(...O)=>V(F)&&V(F)(...O))},C[40]||(C[40]=[i("i",{class:"fas fa-balance-scale me-1"},null,-1),z("So snh ")]))])])])])])):(I(),R("div",Vv,[i("div",Gv,[C[22]||(C[22]=i("h3",null,"Khng tm thy sn phm",-1)),C[23]||(C[23]=i("p",{class:"text-muted"},"Sn phm bn tm kim khng tn ti.",-1)),i("div",jv,[C[20]||(C[20]=i("h6",{class:"text-muted"},"Debug Info:",-1)),i("p",null,[C[15]||(C[15]=i("strong",null,"Product ID:",-1)),z(" "+q(n.productId),1)]),i("p",null,[C[16]||(C[16]=i("strong",null,"Current Product:",-1)),z(" "+q(V(c)),1)]),i("p",null,[C[17]||(C[17]=i("strong",null,"Is Loading:",-1)),z(" "+q(V(L)),1)]),i("p",null,[C[18]||(C[18]=i("strong",null,"Products Count:",-1)),z(" "+q(V(o).length),1)]),i("p",null,[C[19]||(C[19]=i("strong",null,"Available Product IDs:",-1)),z(" "+q(V(o).map(O=>O.id).join(", ")),1)])]),i("button",{class:"btn btn-primary mt-3",onClick:C[1]||(C[1]=O=>oe.$emit("go-home"))},C[21]||(C[21]=[i("i",{class:"fas fa-home me-2"},null,-1),z("V trang ch ")]))])]))]),V(c)?(I(),R("div",Uy,[i("ul",Hy,[i("li",My,[i("button",{class:Se(["nav-link",{active:V(f)==="description"}]),onClick:C[10]||(C[10]=O=>f.value="description")},C[42]||(C[42]=[i("i",{class:"fas fa-info-circle me-2"},null,-1),z("M t sn phm ")]),2)]),i("li",By,[i("button",{class:Se(["nav-link",{active:V(f)==="reviews"}]),onClick:C[11]||(C[11]=O=>f.value="reviews")},C[43]||(C[43]=[i("i",{class:"fas fa-star me-2"},null,-1),z("nh gi ")]),2)])]),i("div",Ky,[ft(i("div",Fy,[i("div",Vy,[i("div",Gy,[i("div",jy,[i("div",qy,[i("h5",Yy,[C[44]||(C[44]=i("i",{class:"fas fa-info-circle me-2"},null,-1)),z("V sn phm "+q(V(c).name),1)]),i("p",Wy,q(te.value),1),C[53]||(C[53]=i("div",{class:"feature-highlight"},[i("h6",{class:"text-primary mb-2"},[i("i",{class:"fas fa-certificate me-2"}),z("Cam kt cht lng ")]),i("p",{class:"mb-0"}," Chng ti cam kt 100% sn phm ti ngon, an ton. Nu khng hi lng, hon tin trong 24h. ")],-1)),i("div",zy,[C[52]||(C[52]=i("h6",{class:"text-primary mb-3"},[i("i",{class:"fas fa-list-ul me-2"}),z("Thng s sn phm ")],-1)),i("ul",Qy,[V(c).weight?(I(),R("li",Jy,[C[45]||(C[45]=i("i",{class:"fas fa-weight-hanging text-muted me-2"},null,-1)),C[46]||(C[46]=z(" Trng lng: ")),i("strong",null,q(V(c).weight),1),C[47]||(C[47]=z()),V(c).weightUnit?(I(),R("span",Xy,q(V(c).weightUnit),1)):me("",!0)])):me("",!0),V(c).weightUnit&&!V(c).weight?(I(),R("li",Zy,[C[48]||(C[48]=i("i",{class:"fas fa-balance-scale text-muted me-2"},null,-1)),C[49]||(C[49]=z(" n v tnh: ")),i("strong",null,q(V(c).weightUnit),1)])):me("",!0),V(c).shelfLifeDays?(I(),R("li",eb,[C[50]||(C[50]=i("i",{class:"fas fa-hourglass-half text-muted me-2"},null,-1)),C[51]||(C[51]=z(" Hn s dng: ")),i("strong",null,q(V(c).shelfLifeDays)+" ngy",1)])):me("",!0)])])])])])])],512),[[es,V(f)==="description"]]),ft(i("div",tb,[he(Ov,{product:V(c),onReviewSubmitted:ke},null,8,["product"]),he(rv,{product:V(c),reviews:V(h)},null,8,["product","reviews"])],512),[[es,V(f)==="reviews"]])])])):me("",!0),V(y).length>0?(I(),R("div",nb,[C[54]||(C[54]=i("h3",{class:"section-title fs-2 fw-bold text-dark mb-4"},[i("i",{class:"fas fa-heart text-danger me-3"}),z("Sn phm lin quan ")],-1)),i("div",sb,[(I(!0),R(ye,null,De(V(y),O=>(I(),R("div",{key:O.id,class:"col-lg-3 col-md-4 col-sm-6"},[he(vl,{product:O,formatPrice:V(a),onAddToCart:V(r),onViewDetail:C[12]||(C[12]=ie=>oe.$emit("view-product",ie))},null,8,["product","formatPrice","onAddToCart"])]))),128))])])):me("",!0)]))}},rb=nt(ob,[["__scopeId","data-v-7c5929bf"]]),ab={__name:"ProductDetail",setup(e){const t=en(),n=ef(),s=J(()=>n.params.id),o=()=>{t.push({name:"Home"})},r=a=>{t.push({name:"ProductDetail",params:{id:a}})};return(a,l)=>(I(),R("div",null,[he(rb,{productId:s.value,onGoHome:o,onViewProduct:r},null,8,["productId"])]))}},ib=nt(ab,[["__scopeId","data-v-2119db9b"]]),lb={class:"cart-page"},cb={class:"container py-5 mt-5"},ub={"aria-label":"breadcrumb",class:"mb-4"},db={class:"breadcrumb"},fb={class:"breadcrumb-item"},hb={key:0,class:"row"},gb={class:"col-lg-8"},mb={class:"card"},pb={class:"card-body"},vb={class:"table-responsive"},yb={class:"table align-middle"},bb={class:"table-light"},Tb={width:"50"},wb={class:"form-check"},_b=["checked"],Cb={class:"form-check"},Sb=["checked","onChange","id"],kb={class:"d-flex align-items-center"},Eb=["src","alt","onClick"],Ab=["onClick"],$b={class:"text-muted"},Ib={class:"fw-bold text-danger"},Rb={class:"quantity-controls"},xb=["onClick","disabled"],Ob={class:"quantity-display"},Pb=["onClick"],Db={class:"fw-bold text-danger fs-6"},Lb=["onClick"],Nb={class:"col-lg-4"},Ub={class:"card sticky-top",style:{top:"100px"}},Hb={class:"card-body"},Mb={class:"order-summary"},Bb={class:"d-flex justify-content-between mb-2"},Kb={class:"d-flex justify-content-between mb-3"},Fb={class:"text-danger fs-5"},Vb=["disabled"],Gb={key:1,class:"row"},jb={class:"col-12"},qb={class:"empty-cart text-center py-5"},Yb={__name:"Cart",setup(e){const t=en(),{formatPrice:n,getCategoryById:s,products:o,showNotification:r}=Rn(),{cart:a,cartCount:l,removeFromCart:c,updateCartQuantity:d,reloadCartFromBackend:u,getBackendCartSnapshot:f}=Xs(),{createOrderFromCart:h}=ml(),m=Q(new Set);Q("123 ng ABC, Qun 1, TP.HCM");const T=J(()=>a.value.map(k=>{const A=o.value.find(ce=>ce.id===k.productId);return{...k,product:A}}).filter(k=>k.product)),y=J(()=>T.value.reduce((k,A)=>k+(A.product?.price||0)*A.quantity,0)),B=J(()=>y.value>=2e5?0:3e4);J(()=>y.value+B.value),J(()=>T.value.reduce((k,A)=>k+A.quantity,0));const L=J(()=>T.value.filter(k=>m.value.has(k.productId))),w=J(()=>L.value.reduce((k,A)=>k+(A.product?.price||0)*A.quantity,0)),b=J(()=>w.value),S=J(()=>L.value.reduce((k,A)=>k+A.quantity,0)),P=J(()=>T.value.length>0&&T.value.every(k=>m.value.has(k.productId))),D=k=>{t.push({name:"ProductDetail",params:{id:k}})},_=k=>{const A=s(k);return A?A.name:"Khng xc nh"},F=(k,A)=>{if(A<=0){const ce=T.value.find(G=>G.productId===k);N(k,ce?.product?.name||"Sn phm")}else d(k,A)},N=(k,A)=>{confirm(`Bn c chc mun xa "${A}" khi gi hng?`)&&(c(k),m.value.delete(k),r(` xa ${A} khi gi hng!`,"info"))},$=async()=>{try{if(m.value.size===0){r("Vui lng chn sn phm  thanh ton!","warning");return}const k=JSON.parse(localStorage.getItem("easymart-user")||"null");if(!k){const O=Array.from(m.value);localStorage.setItem("easymart-selected-items",JSON.stringify(O)),localStorage.setItem("easymart-redirect-after-login","/checkout"),r("Vui lng ng nhp  tin hnh thanh ton!","warning"),t.push("/login");return}console.log(" Loading cart data before checkout..."),await u();const A=a.value;try{console.log(" Backend cart items:",A),console.log(" Backend cart items type:",typeof A),console.log(" Backend cart items length:",A?.length)}catch(O){console.error(" Error logging backend cart items:",O),r("Li khi x l d liu gi hng. Vui lng th li.","error");return}console.log(" User object from localStorage:",k);const ce=await f(),G=ce.maKH||k?.maKH||k?.id||k?.maNguoiDung||localStorage.getItem("easymart-user-id");if(console.log(" maKH resolved:",G),console.log(" cartSnapshot.maKH:",ce.maKH),!G){r("Khng th xc nh m khch hng. Vui lng ng nhp li.","error");return}const ae=k?.maNV||"NV001";console.log(" User info for checkout:"),console.log("   - user object:",k),console.log("   - maKH resolved:",G),console.log("   - maNV resolved:",ae),console.log(" selectedItems.value:",m.value);const se=Array.from(m.value);console.log(" Selected product IDs:",se),console.log(" Filtering backend items..."),console.log(" backendCartItems:",A),console.log(" selectedProductIds:",se);const te=A.filter(O=>(console.log(" Checking backendItem:",O),console.log(" backendItem.productId:",O.productId),console.log(" selectedProductIds.includes(backendItem.productId):",se.includes(O.productId)),se.includes(O.productId)));console.log(" Selected backend items:",te);try{console.log(" Backend cart items structure:"),A.forEach((O,ie)=>{console.log(`   Item ${ie}:`,{keys:Object.keys(O),values:Object.values(O)})}),console.log(" Selected backend items structure:"),te.forEach((O,ie)=>{console.log(`   Selected Item ${ie}:`,{keys:Object.keys(O),values:Object.values(O)}),console.log(`   Selected Item ${ie} details:`,{productId:O.productId,itemId:O.itemId,quantity:O.quantity,price:O.price}),console.log(`   Selected Item ${ie} original data:`,O.originalData)})}catch(O){console.error(" Error logging cart structure:",O),r("Li khi x l cu trc gi hng. Vui lng th li.","error");return}const ke=O=>O.itemId,be=te.filter(O=>!ke(O));if(be.length>0){console.warn(" Some selected items are missing cart item ID. Items:",be.map(O=>O.productId)),console.log(" Available fields for missing items:"),be.forEach(O=>{console.log(`   Product ${O.productId}:`,Object.keys(O))}),r("Khng th to ha n: mt s sn phm cha c ID gi hng. Vui lng lm mi gi hng v th li.","error");return}const oe=te.map(O=>String(ke(O)));console.log(" Selected cart item IDs:",oe);const C={maKH:G,maNV:ae||"NV001",selectedCartItemIds:oe,trangThai:0};console.log(" Building invoice payload from cart:"),console.log("   - maKH:",C.maKH),console.log("   - maNV:",C.maNV),console.log("   - selectedCartItemIds:",C.selectedCartItemIds),console.log("   - trangThai:",C.trangThai);try{r("ang to ha n t gi...","info"),console.log(" Calling createOrderFromCart with payload:",C);const O=await h(C);if(console.log(" createOrderFromCart result:",O),O?.success){r("To ha n thnh cng!","success");const ie={maHD:O.result?.maHD,maKH:O.result?.maKH,items:O.result?.items||[],tongTien:O.result?.tongTien,ngayLap:O.result?.ngayLap,trangThai:O.result?.trangThai};localStorage.setItem("easymart-invoice",JSON.stringify(ie)),localStorage.setItem("easymart-selected-items",JSON.stringify(oe)),console.log(" Items  c chuyn sang ha n, clearing cart...");try{await u(),console.log(" Cart reloaded after order creation")}catch(Le){console.warn(" Failed to reload cart after order creation:",Le)}setTimeout(()=>{t.push("/checkout")},1e3)}else r(O?.message||"Khng th to ha n","error")}catch(O){console.error(" Checkout failed:",O),r(O?.message||"Thanh ton tht bi","error")}}catch(k){console.error(" Checkout function error:",k),r("Li khng mong mun trong qu trnh thanh ton. Vui lng th li.","error")}},x=k=>{m.value.has(k)?m.value.delete(k):m.value.add(k)},v=()=>{P.value?m.value.clear():T.value.forEach(k=>{m.value.add(k.productId)})};return(k,A)=>{const ce=In("router-link");return I(),R("div",lb,[i("div",cb,[i("nav",ub,[i("ol",db,[i("li",fb,[he(ce,{to:"/",class:"text-decoration-none"},{default:Ne(()=>A[0]||(A[0]=[i("i",{class:"fas fa-home"},null,-1),z(" Trang ch ")])),_:1,__:[0]})]),A[1]||(A[1]=i("li",{class:"breadcrumb-item active","aria-current":"page"},[i("i",{class:"fas fa-shopping-cart"}),z(" Gi hng ")],-1))])]),A[20]||(A[20]=i("h2",{class:"mb-4"},[i("i",{class:"fas fa-shopping-cart text-primary me-2"}),z(" Gi hng ca bn ")],-1)),V(a).length>0?(I(),R("div",hb,[i("div",gb,[i("div",mb,[i("div",pb,[i("div",vb,[i("table",yb,[i("thead",bb,[i("tr",null,[i("th",Tb,[i("div",wb,[i("input",{class:"form-check-input",type:"checkbox",checked:P.value,onChange:v,id:"selectAll"},null,40,_b),A[2]||(A[2]=i("label",{class:"form-check-label",for:"selectAll"}," Tt c ",-1))])]),A[3]||(A[3]=i("th",null,"Sn phm",-1)),A[4]||(A[4]=i("th",null,"n gi",-1)),A[5]||(A[5]=i("th",null,"S lng",-1)),A[6]||(A[6]=i("th",null,"Thnh tin",-1)),A[7]||(A[7]=i("th",null,null,-1))])]),i("tbody",null,[(I(!0),R(ye,null,De(T.value,G=>(I(),R("tr",{key:G.productId},[i("td",null,[i("div",Cb,[i("input",{class:"form-check-input",type:"checkbox",checked:m.value.has(G.productId),onChange:ae=>x(G.productId),id:`item-${G.productId}`},null,40,Sb)])]),i("td",null,[i("div",kb,[i("img",{src:G.product?.image,alt:G.product?.name,class:"cart-item-image me-3",onClick:ae=>D(G.productId)},null,8,Eb),i("div",null,[i("h6",{class:"mb-1 product-name",onClick:ae=>D(G.productId)},q(G.product?.name),9,Ab),i("small",$b," Danh mc: "+q(_(G.product?.categoryId)),1)])])]),i("td",null,[i("span",Ib,q(V(n)(G.product?.price||0)),1)]),i("td",null,[i("div",Rb,[i("button",{class:"btn btn-outline-secondary btn-sm",onClick:ae=>F(G.productId,G.quantity-1),disabled:G.quantity<=1},A[8]||(A[8]=[i("i",{class:"fas fa-minus"},null,-1)]),8,xb),i("span",Ob,q(G.quantity),1),i("button",{class:"btn btn-outline-secondary btn-sm",onClick:ae=>F(G.productId,G.quantity+1)},A[9]||(A[9]=[i("i",{class:"fas fa-plus"},null,-1)]),8,Pb)])]),i("td",null,[i("span",Db,q(V(n)((G.product?.price||0)*G.quantity)),1)]),i("td",null,[i("button",{class:"btn btn-outline-danger btn-sm",onClick:ae=>N(G.productId,G.product?.name),title:"Xa sn phm"},A[10]||(A[10]=[i("i",{class:"fas fa-trash"},null,-1)]),8,Lb)])]))),128))])])])])])]),i("div",Nb,[i("div",Ub,[A[15]||(A[15]=i("div",{class:"card-header bg-primary text-white"},[i("h5",{class:"mb-0"},[i("i",{class:"fas fa-receipt me-2"}),z(" Tng kt n hng ")])],-1)),i("div",Hb,[i("div",Mb,[i("div",Bb,[i("span",null," chn ("+q(S.value)+" sn phm):",1),i("span",null,q(V(n)(w.value)),1)]),A[14]||(A[14]=i("hr",null,null,-1)),i("div",Kb,[A[11]||(A[11]=i("strong",{class:"fs-5"},"Tng cng:",-1)),i("strong",Fb,q(V(n)(b.value)),1)]),i("button",{class:"btn btn-primary w-100 mb-2 py-2",onClick:$,disabled:m.value.size===0},A[12]||(A[12]=[i("i",{class:"fas fa-credit-card me-2"},null,-1),z(" Tin hnh thanh ton ")]),8,Vb),he(ce,{to:"/",class:"btn btn-outline-secondary w-100"},{default:Ne(()=>A[13]||(A[13]=[i("i",{class:"fas fa-arrow-left me-2"},null,-1),z(" Tip tc mua sm ")])),_:1,__:[13]})])])])])])):(I(),R("div",Gb,[i("div",jb,[i("div",qb,[A[17]||(A[17]=i("div",{class:"empty-cart-icon mb-4"},[i("i",{class:"fas fa-shopping-cart fa-5x text-muted"})],-1)),A[18]||(A[18]=i("h3",{class:"text-muted mb-3"},"Gi hng trng",-1)),A[19]||(A[19]=i("p",{class:"text-muted mb-4"},"Bn cha c sn phm no trong gi hng",-1)),he(ce,{to:"/",class:"btn btn-primary btn-lg"},{default:Ne(()=>A[16]||(A[16]=[i("i",{class:"fas fa-shopping-bag me-2"},null,-1),z(" Bt u mua sm ")])),_:1,__:[16]})])])]))])])}}},Wb=nt(Yb,[["__scopeId","data-v-0f60b109"]]),zb=[{path:"/",name:"Home",component:Kp,meta:{title:"EasyMart - Siu th thc phm online",description:"Mua sm thc phm ti sng, hng ha cht lng cao vi gi tt nht"}},{path:"/promotions",name:"Promotions",component:()=>Ke(()=>import("./Promotions-XDXBHXLL.js"),__vite__mapDeps([0,1])),meta:{title:"Khuyn mi - EasyMart",description:"Khm ph cc u i v m gim gi hp dn ti EasyMart"}},{path:"/product/:id",name:"ProductDetail",component:ib,props:!0,meta:{title:"Chi tit sn phm - EasyMart",description:"Xem chi tit sn phm vi thng tin y , hnh nh cht lng cao"}},{path:"/cart",name:"Cart",component:Wb,meta:{title:"Gi hng - EasyMart",description:"Xem v qun l sn phm trong gi hng ca bn"}},{path:"/checkout",name:"Checkout",component:()=>Ke(()=>import("./Checkout-DVJN_NaK.js"),__vite__mapDeps([2,3])),meta:{title:"Thanh ton - EasyMart",description:"Tin hnh thanh ton n hng"}},{path:"/payment-success",name:"PaymentSuccess",component:()=>Ke(()=>import("./PaymentSuccess-C_TtpQMI.js"),__vite__mapDeps([4,5])),meta:{title:"Thanh ton thnh cng - EasyMart",description:"Xc nhn n hng  c thanh ton thnh cng"}},{path:"/search",name:"Search",component:()=>Ke(()=>import("./Search-DLuqAhB3.js"),__vite__mapDeps([6,7])),meta:{title:"Tm kim sn phm - EasyMart",description:"Tm kim v khm ph hng nghn sn phm cht lng ti EasyMart"}},{path:"/categories",name:"Categories",component:()=>Ke(()=>import("./Categories-BPd_izC4.js"),__vite__mapDeps([8,9])),meta:{title:"Danh mc sn phm - EasyMart",description:"Khm ph tt c danh mc sn phm ti EasyMart"}},{path:"/category/:id",name:"Category",component:()=>Ke(()=>import("./Category-Ci0RgqZ8.js"),__vite__mapDeps([10,11])),props:!0,meta:{title:"Danh mc sn phm - EasyMart",description:"Xem tt c sn phm trong danh mc"}},{path:"/about",name:"About",component:()=>Ke(()=>import("./About-Begs-6It.js"),__vite__mapDeps([12,13])),meta:{title:"Gii thiu - EasyMart",description:"Thng tin v EasyMart - Siu th thc phm online uy tn"}},{path:"/contact",name:"Contact",component:()=>Ke(()=>import("./Contact-DgJAHd6X.js"),__vite__mapDeps([14,15])),meta:{title:"Lin h - EasyMart",description:"Thng tin lin h v h tr khch hng"}},{path:"/login",name:"Login",component:()=>Ke(()=>import("./Login-DIPPVRBA.js"),__vite__mapDeps([16,17,18,19])),meta:{title:"ng nhp - EasyMart",description:"ng nhp vo ti khon EasyMart ca bn"}},{path:"/register",name:"Register",component:()=>Ke(()=>import("./Register-CQI69tCx.js"),__vite__mapDeps([20,17,18,21])),meta:{title:"ng k - EasyMart",description:"To ti khon mi ti EasyMart"}},{path:"/forgot-password",name:"ForgotPassword",component:()=>Ke(()=>import("./ForgotPassword-DuIwudoE.js"),__vite__mapDeps([22,23])),meta:{title:"Qun mt khu - EasyMart",description:"t li mt khu ti khon EasyMart ca bn"}},{path:"/profile",name:"Profile",component:()=>Ke(()=>import("./Profile-Bkv7Fy6F.js"),__vite__mapDeps([24,25])),meta:{title:"H s c nhn - EasyMart",description:"Qun l thng tin c nhn v ti khon EasyMart"}},{path:"/orders",name:"Orders",component:()=>Ke(()=>import("./Orders-C-46dkgh.js"),__vite__mapDeps([26,27])),meta:{title:"n hng ca ti - EasyMart",description:"Xem v qun l tt c n hng ca bn ti EasyMart"}},{path:"/oauth2/success",name:"OAuth2Success",component:()=>Ke(()=>import("./OAuth2Success-CucziwrH.js"),__vite__mapDeps([28,29])),meta:{title:"ng nhp thnh cng - EasyMart",description:"ang x l ng nhp OAuth2..."}},{path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/"}],dr=Xd({history:Ad(),routes:zb,scrollBehavior(e,t,n){return n||{top:0}}});dr.beforeEach((e,t,n)=>{if(e.meta.title&&(document.title=e.meta.title),e.meta.description){const o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content",e.meta.description)}if(["Checkout","PaymentSuccess","Orders","Profile"].includes(e.name)&&!JSON.parse(localStorage.getItem("easymart-user")||"null")){localStorage.setItem("easymart-redirect-after-login",e.fullPath),n({name:"Login"});return}n()});dr.afterEach(()=>{});async function Qb(e,t={}){const n=Ce();if(!n)throw new Error("No JWT token found. Please login again.");const s={headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",...t.headers}},o=e.startsWith("http")?e:`${re.BASE_URL}${e}`;try{const r=await fetch(o,{...t,...s,headers:{...s.headers,...t.headers}});if(!r.ok){if(r.status===401){console.warn("JWT token expired or invalid"),lf(),localStorage.removeItem("easymart-user"),window.location.href="/login";return}const a=await r.json().catch(()=>null);throw new Error(a?.message||`API call failed: ${r.statusText}`)}return await r.json()}catch(r){throw console.error("API call error:",r),r}}function Jb(){const e=Ce();if(!e)return!1;try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3);return t.exp>n}catch(t){return console.error("Error validating token:",t),!1}}async function wa(){const e=Ce();if(e)try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3),s=t.exp-n;if(s<300&&s>0){console.log("Token expiring soon, attempting refresh...");const o=await Qb("/api/oauth2/get-jwt-token");o.success&&o.result.jwt_token&&(af(o.result.jwt_token),console.log(" Token refreshed successfully"))}}catch(t){console.error("Auto-refresh failed:",t)}}function Xb(){return wa(),setInterval(wa,6e4)}const Zb={USER:"easymart-user",TOKEN:"easymart-token",SELECTED_ITEMS:"easymart-selected-items",INVOICE:"easymart-invoice",LAST_ORDER:"easymart-last-order",REDIRECT_AFTER_LOGIN:"easymart-redirect-after-login"},eT=()=>{["easymart-user-email","easymart-user-role","easymart-user-id","easymart-user-maKH","easymart-orders","easymart-cart","easymart-auth","checkout-order","single-product-checkout"].forEach(t=>{try{localStorage.removeItem(t),console.log(` Removed deprecated localStorage key: ${t}`)}catch(n){console.warn(`Failed to remove ${t}:`,n)}})},tT=()=>{const e=Object.values(Zb),t=Object.keys(localStorage),n=t.filter(o=>o.startsWith("easymart-")&&!e.includes(o)),s=t.filter(o=>!o.startsWith("easymart-")&&!o.startsWith("oauth2-")&&!o.startsWith("google-")&&!o.startsWith("facebook-"));return console.log(" LocalStorage Health Check:"),console.log(`   - Essential keys: ${e.length}`),console.log(`   - Deprecated keys: ${n.length}`),console.log(`   - Unknown keys: ${s.length}`),n.length>0&&console.warn(" Deprecated keys found:",n),s.length>0&&console.warn(" Unknown keys found:",s),{essential:e.length,deprecated:n.length,unknown:s.length,deprecatedKeys:n,unknownKeys:s}},nT=()=>{eT(),tT(),console.log(" LocalStorage Manager initialized")};nT();const yl=Wu(Em);yl.use(dr);Jb()&&(console.log("Starting JWT token auto-refresh..."),Xb());typeof window<"u"&&(setInterval(async()=>{const{autoLogoutIfInvalid:e}=os();await e()},3e4),window.addEventListener("focus",async()=>{const{autoLogoutIfInvalid:e}=os();await e()}),console.log(" Auto-logout checking enabled (30s interval + on focus)"));yl.mount("#app");export{Ce as A,re as B,ve as C,ef as D,Qf as E,ye as F,ot as G,Fi as H,ju as I,zn as J,Do as K,xt as L,Lt as M,sT as N,Ki as O,vl as P,tf as Q,es as R,ml as S,Zt as T,af as U,nt as _,i as a,Nt as b,R as c,me as d,De as e,Se as f,z as g,J as h,pt as i,ls as j,he as k,Ne as l,In as m,bn as n,I as o,en as p,Xs as q,Q as r,os as s,q as t,Rn as u,ft as v,Fe as w,wn as x,V as y,Bu as z};
