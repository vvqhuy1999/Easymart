const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Promotions-DxAgVKtf.js","assets/Promotions-BlNg8Auk.css","assets/Checkout-CUBi731r.js","assets/Checkout-DwFYmqAg.css","assets/PaymentSuccess-BAbGEoL6.js","assets/PaymentSuccess-BCbCYnIA.css","assets/Search-DcD-tK2v.js","assets/Search-0TRBME_e.css","assets/Categories-DVV6Mhlf.js","assets/Categories-B2JZZ1b3.css","assets/Category-DfQ5Adph.js","assets/Category-D5oOeu2v.css","assets/About-XCDrGJEQ.js","assets/About-eoiSrOrX.css","assets/Contact-B30jjcXg.js","assets/Contact-Dko7EUlx.css","assets/Login-CbmnDf1U.js","assets/FacebookSignIn-BWjzhheo.js","assets/FacebookSignIn-BGU_Fz4z.css","assets/Login-Br0MiDYh.css","assets/Register-BIAH007S.js","assets/Register-m9ywLs9E.css","assets/ForgotPassword-DUDTU-wH.js","assets/ForgotPassword-ka-IWcgV.css","assets/Profile-D8mA0_64.js","assets/Profile-CwOIXYIF.css","assets/Orders-BJABqWIw.js","assets/Orders-KiNz14LF.css","assets/OAuth2Success-jTegFWck.js","assets/OAuth2Success-BtngB-lt.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Lo(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Ae={},gn=[],Ct=()=>{},yl=()=>!1,Ds=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Mo=e=>e.startsWith("onUpdate:"),Ue=Object.assign,No=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},bl=Object.prototype.hasOwnProperty,Ce=(e,t)=>bl.call(e,t),ie=Array.isArray,pn=e=>as(e)==="[object Map]",$n=e=>as(e)==="[object Set]",gr=e=>as(e)==="[object Date]",pe=e=>typeof e=="function",De=e=>typeof e=="string",St=e=>typeof e=="symbol",$e=e=>e!==null&&typeof e=="object",Ta=e=>($e(e)||pe(e))&&pe(e.then)&&pe(e.catch),Ca=Object.prototype.toString,as=e=>Ca.call(e),_l=e=>as(e).slice(8,-1),ka=e=>as(e)==="[object Object]",Uo=e=>De(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Nn=Lo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ls=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},wl=/-(\w)/g,lt=Ls(e=>e.replace(wl,(t,n)=>n?n.toUpperCase():"")),Tl=/\B([A-Z])/g,Jt=Ls(e=>e.replace(Tl,"-$1").toLowerCase()),Ms=Ls(e=>e.charAt(0).toUpperCase()+e.slice(1)),Zs=Ls(e=>e?`on${Ms(e)}`:""),qt=(e,t)=>!Object.is(e,t),vs=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},po=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},ks=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Cl=e=>{const t=De(e)?Number(e):NaN;return isNaN(t)?e:t};let pr;const Ns=()=>pr||(pr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bn(e){if(ie(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],o=De(s)?Al(s):bn(s);if(o)for(const r in o)t[r]=o[r]}return t}else if(De(e)||$e(e))return e}const kl=/;(?![^(]*\))/g,Sl=/:([^]+)/,El=/\/\*[^]*?\*\//g;function Al(e){const t={};return e.replace(El,"").split(kl).forEach(n=>{if(n){const s=n.split(Sl);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function ve(e){let t="";if(De(e))t=e;else if(ie(e))for(let n=0;n<e.length;n++){const s=ve(e[n]);s&&(t+=s+" ")}else if($e(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const $l="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Il=Lo($l);function Sa(e){return!!e||e===""}function xl(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=an(e[s],t[s]);return n}function an(e,t){if(e===t)return!0;let n=gr(e),s=gr(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=St(e),s=St(t),n||s)return e===t;if(n=ie(e),s=ie(t),n||s)return n&&s?xl(e,t):!1;if(n=$e(e),s=$e(t),n||s){if(!n||!s)return!1;const o=Object.keys(e).length,r=Object.keys(t).length;if(o!==r)return!1;for(const a in e){const l=e.hasOwnProperty(a),c=t.hasOwnProperty(a);if(l&&!c||!l&&c||!an(e[a],t[a]))return!1}}return String(e)===String(t)}function Ho(e,t){return e.findIndex(n=>an(n,t))}const Ea=e=>!!(e&&e.__v_isRef===!0),K=e=>De(e)?e:e==null?"":ie(e)||$e(e)&&(e.toString===Ca||!pe(e.toString))?Ea(e)?K(e.value):JSON.stringify(e,Aa,2):String(e),Aa=(e,t)=>Ea(t)?Aa(e,t.value):pn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,o],r)=>(n[eo(s,r)+" =>"]=o,n),{})}:$n(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>eo(n))}:St(t)?eo(t):$e(t)&&!ie(t)&&!ka(t)?String(t):t,eo=(e,t="")=>{var n;return St(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let et;class Rl{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=et,!t&&et&&(this.index=(et.scopes||(et.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=et;try{return et=this,t()}finally{et=n}}}on(){++this._on===1&&(this.prevScope=et,et=this)}off(){this._on>0&&--this._on===0&&(et=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0}}}function Pl(){return et}let xe;const to=new WeakSet;class $a{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,et&&et.active&&et.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,to.has(this)&&(to.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||xa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mr(this),Ra(this);const t=xe,n=ut;xe=this,ut=!0;try{return this.fn()}finally{Pa(this),xe=t,ut=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Fo(t);this.deps=this.depsTail=void 0,mr(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?to.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){mo(this)&&this.run()}get dirty(){return mo(this)}}let Ia=0,Un,Hn;function xa(e,t=!1){if(e.flags|=8,t){e.next=Hn,Hn=e;return}e.next=Un,Un=e}function Bo(){Ia++}function Ko(){if(--Ia>0)return;if(Hn){let t=Hn;for(Hn=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;Un;){let t=Un;for(Un=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function Ra(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Pa(e){let t,n=e.depsTail,s=n;for(;s;){const o=s.prevDep;s.version===-1?(s===n&&(n=o),Fo(s),Ol(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=o}e.deps=t,e.depsTail=n}function mo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Oa(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Oa(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Wn)||(e.globalVersion=Wn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!mo(e))))return;e.flags|=2;const t=e.dep,n=xe,s=ut;xe=e,ut=!0;try{Ra(e);const o=e.fn(e._value);(t.version===0||qt(o,e._value))&&(e.flags|=128,e._value=o,t.version++)}catch(o){throw t.version++,o}finally{xe=n,ut=s,Pa(e),e.flags&=-3}}function Fo(e,t=!1){const{dep:n,prevSub:s,nextSub:o}=e;if(s&&(s.nextSub=o,e.prevSub=void 0),o&&(o.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Fo(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ol(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let ut=!0;const Da=[];function Lt(){Da.push(ut),ut=!1}function Mt(){const e=Da.pop();ut=e===void 0?!0:e}function mr(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=xe;xe=void 0;try{t()}finally{xe=n}}}let Wn=0;class Dl{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Vo{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!xe||!ut||xe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==xe)n=this.activeLink=new Dl(xe,this),xe.deps?(n.prevDep=xe.depsTail,xe.depsTail.nextDep=n,xe.depsTail=n):xe.deps=xe.depsTail=n,La(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=xe.depsTail,n.nextDep=void 0,xe.depsTail.nextDep=n,xe.depsTail=n,xe.deps===n&&(xe.deps=s)}return n}trigger(t){this.version++,Wn++,this.notify(t)}notify(t){Bo();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ko()}}}function La(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)La(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const vo=new WeakMap,rn=Symbol(""),yo=Symbol(""),Yn=Symbol("");function qe(e,t,n){if(ut&&xe){let s=vo.get(e);s||vo.set(e,s=new Map);let o=s.get(n);o||(s.set(n,o=new Vo),o.map=s,o.key=n),o.track()}}function xt(e,t,n,s,o,r){const a=vo.get(e);if(!a){Wn++;return}const l=c=>{c&&c.trigger()};if(Bo(),t==="clear")a.forEach(l);else{const c=ie(e),d=c&&Uo(n);if(c&&n==="length"){const u=Number(s);a.forEach((f,g)=>{(g==="length"||g===Yn||!St(g)&&g>=u)&&l(f)})}else switch((n!==void 0||a.has(void 0))&&l(a.get(n)),d&&l(a.get(Yn)),t){case"add":c?d&&l(a.get("length")):(l(a.get(rn)),pn(e)&&l(a.get(yo)));break;case"delete":c||(l(a.get(rn)),pn(e)&&l(a.get(yo)));break;case"set":pn(e)&&l(a.get(rn));break}}Ko()}function un(e){const t=_e(e);return t===e?t:(qe(t,"iterate",Yn),at(e)?t:t.map(Fe))}function Us(e){return qe(e=_e(e),"iterate",Yn),e}const Ll={__proto__:null,[Symbol.iterator](){return no(this,Symbol.iterator,Fe)},concat(...e){return un(this).concat(...e.map(t=>ie(t)?un(t):t))},entries(){return no(this,"entries",e=>(e[1]=Fe(e[1]),e))},every(e,t){return Et(this,"every",e,t,void 0,arguments)},filter(e,t){return Et(this,"filter",e,t,n=>n.map(Fe),arguments)},find(e,t){return Et(this,"find",e,t,Fe,arguments)},findIndex(e,t){return Et(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Et(this,"findLast",e,t,Fe,arguments)},findLastIndex(e,t){return Et(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Et(this,"forEach",e,t,void 0,arguments)},includes(...e){return so(this,"includes",e)},indexOf(...e){return so(this,"indexOf",e)},join(e){return un(this).join(e)},lastIndexOf(...e){return so(this,"lastIndexOf",e)},map(e,t){return Et(this,"map",e,t,void 0,arguments)},pop(){return Pn(this,"pop")},push(...e){return Pn(this,"push",e)},reduce(e,...t){return vr(this,"reduce",e,t)},reduceRight(e,...t){return vr(this,"reduceRight",e,t)},shift(){return Pn(this,"shift")},some(e,t){return Et(this,"some",e,t,void 0,arguments)},splice(...e){return Pn(this,"splice",e)},toReversed(){return un(this).toReversed()},toSorted(e){return un(this).toSorted(e)},toSpliced(...e){return un(this).toSpliced(...e)},unshift(...e){return Pn(this,"unshift",e)},values(){return no(this,"values",Fe)}};function no(e,t,n){const s=Us(e),o=s[t]();return s!==e&&!at(e)&&(o._next=o.next,o.next=()=>{const r=o._next();return r.value&&(r.value=n(r.value)),r}),o}const Ml=Array.prototype;function Et(e,t,n,s,o,r){const a=Us(e),l=a!==e&&!at(e),c=a[t];if(c!==Ml[t]){const f=c.apply(e,r);return l?Fe(f):f}let d=n;a!==e&&(l?d=function(f,g){return n.call(this,Fe(f),g,e)}:n.length>2&&(d=function(f,g){return n.call(this,f,g,e)}));const u=c.call(a,d,s);return l&&o?o(u):u}function vr(e,t,n,s){const o=Us(e);let r=n;return o!==e&&(at(e)?n.length>3&&(r=function(a,l,c){return n.call(this,a,l,c,e)}):r=function(a,l,c){return n.call(this,a,Fe(l),c,e)}),o[t](r,...s)}function so(e,t,n){const s=_e(e);qe(s,"iterate",Yn);const o=s[t](...n);return(o===-1||o===!1)&&qo(n[0])?(n[0]=_e(n[0]),s[t](...n)):o}function Pn(e,t,n=[]){Lt(),Bo();const s=_e(e)[t].apply(e,n);return Ko(),Mt(),s}const Nl=Lo("__proto__,__v_isRef,__isVue"),Ma=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(St));function Ul(e){St(e)||(e=String(e));const t=_e(this);return qe(t,"has",e),t.hasOwnProperty(e)}class Na{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const o=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!o;if(n==="__v_isReadonly")return o;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(o?r?Yl:Ka:r?Ba:Ha).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const a=ie(t);if(!o){let c;if(a&&(c=Ll[n]))return c;if(n==="hasOwnProperty")return Ul}const l=Reflect.get(t,n,Ge(t)?t:s);return(St(n)?Ma.has(n):Nl(n))||(o||qe(t,"get",n),r)?l:Ge(l)?a&&Uo(n)?l:l.value:$e(l)?o?Va(l):Ot(l):l}}class Ua extends Na{constructor(t=!1){super(!1,t)}set(t,n,s,o){let r=t[n];if(!this._isShallow){const c=Wt(r);if(!at(s)&&!Wt(s)&&(r=_e(r),s=_e(s)),!ie(t)&&Ge(r)&&!Ge(s))return c?!1:(r.value=s,!0)}const a=ie(t)&&Uo(n)?Number(n)<t.length:Ce(t,n),l=Reflect.set(t,n,s,Ge(t)?t:o);return t===_e(o)&&(a?qt(s,r)&&xt(t,"set",n,s):xt(t,"add",n,s)),l}deleteProperty(t,n){const s=Ce(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&xt(t,"delete",n,void 0),o}has(t,n){const s=Reflect.has(t,n);return(!St(n)||!Ma.has(n))&&qe(t,"has",n),s}ownKeys(t){return qe(t,"iterate",ie(t)?"length":rn),Reflect.ownKeys(t)}}class Hl extends Na{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Bl=new Ua,Kl=new Hl,Fl=new Ua(!0);const bo=e=>e,ds=e=>Reflect.getPrototypeOf(e);function Vl(e,t,n){return function(...s){const o=this.__v_raw,r=_e(o),a=pn(r),l=e==="entries"||e===Symbol.iterator&&a,c=e==="keys"&&a,d=o[e](...s),u=n?bo:t?Ss:Fe;return!t&&qe(r,"iterate",c?yo:rn),{next(){const{value:f,done:g}=d.next();return g?{value:f,done:g}:{value:l?[u(f[0]),u(f[1])]:u(f),done:g}},[Symbol.iterator](){return this}}}}function fs(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Gl(e,t){const n={get(o){const r=this.__v_raw,a=_e(r),l=_e(o);e||(qt(o,l)&&qe(a,"get",o),qe(a,"get",l));const{has:c}=ds(a),d=t?bo:e?Ss:Fe;if(c.call(a,o))return d(r.get(o));if(c.call(a,l))return d(r.get(l));r!==a&&r.get(o)},get size(){const o=this.__v_raw;return!e&&qe(_e(o),"iterate",rn),Reflect.get(o,"size",o)},has(o){const r=this.__v_raw,a=_e(r),l=_e(o);return e||(qt(o,l)&&qe(a,"has",o),qe(a,"has",l)),o===l?r.has(o):r.has(o)||r.has(l)},forEach(o,r){const a=this,l=a.__v_raw,c=_e(l),d=t?bo:e?Ss:Fe;return!e&&qe(c,"iterate",rn),l.forEach((u,f)=>o.call(r,d(u),d(f),a))}};return Ue(n,e?{add:fs("add"),set:fs("set"),delete:fs("delete"),clear:fs("clear")}:{add(o){!t&&!at(o)&&!Wt(o)&&(o=_e(o));const r=_e(this);return ds(r).has.call(r,o)||(r.add(o),xt(r,"add",o,o)),this},set(o,r){!t&&!at(r)&&!Wt(r)&&(r=_e(r));const a=_e(this),{has:l,get:c}=ds(a);let d=l.call(a,o);d||(o=_e(o),d=l.call(a,o));const u=c.call(a,o);return a.set(o,r),d?qt(r,u)&&xt(a,"set",o,r):xt(a,"add",o,r),this},delete(o){const r=_e(this),{has:a,get:l}=ds(r);let c=a.call(r,o);c||(o=_e(o),c=a.call(r,o)),l&&l.call(r,o);const d=r.delete(o);return c&&xt(r,"delete",o,void 0),d},clear(){const o=_e(this),r=o.size!==0,a=o.clear();return r&&xt(o,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(o=>{n[o]=Vl(o,e,t)}),n}function Go(e,t){const n=Gl(e,t);return(s,o,r)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?s:Reflect.get(Ce(n,o)&&o in s?n:s,o,r)}const jl={get:Go(!1,!1)},ql={get:Go(!1,!0)},Wl={get:Go(!0,!1)};const Ha=new WeakMap,Ba=new WeakMap,Ka=new WeakMap,Yl=new WeakMap;function zl(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ql(e){return e.__v_skip||!Object.isExtensible(e)?0:zl(_l(e))}function Ot(e){return Wt(e)?e:jo(e,!1,Bl,jl,Ha)}function Fa(e){return jo(e,!1,Fl,ql,Ba)}function Va(e){return jo(e,!0,Kl,Wl,Ka)}function jo(e,t,n,s,o){if(!$e(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=Ql(e);if(r===0)return e;const a=o.get(e);if(a)return a;const l=new Proxy(e,r===2?s:n);return o.set(e,l),l}function mn(e){return Wt(e)?mn(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function at(e){return!!(e&&e.__v_isShallow)}function qo(e){return e?!!e.__v_raw:!1}function _e(e){const t=e&&e.__v_raw;return t?_e(t):e}function Jl(e){return!Ce(e,"__v_skip")&&Object.isExtensible(e)&&po(e,"__v_skip",!0),e}const Fe=e=>$e(e)?Ot(e):e,Ss=e=>$e(e)?Va(e):e;function Ge(e){return e?e.__v_isRef===!0:!1}function z(e){return Ga(e,!1)}function Xl(e){return Ga(e,!0)}function Ga(e,t){return Ge(e)?e:new Zl(e,t)}class Zl{constructor(t,n){this.dep=new Vo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:_e(t),this._value=n?t:Fe(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||at(t)||Wt(t);t=s?t:_e(t),qt(t,n)&&(this._rawValue=t,this._value=s?t:Fe(t),this.dep.trigger())}}function H(e){return Ge(e)?e.value:e}const ec={get:(e,t,n)=>t==="__v_raw"?e:H(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const o=e[t];return Ge(o)&&!Ge(n)?(o.value=n,!0):Reflect.set(e,t,n,s)}};function ja(e){return mn(e)?e:new Proxy(e,ec)}class tc{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Vo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Wn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&xe!==this)return xa(this,!0),!0}get value(){const t=this.dep.track();return Oa(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function nc(e,t,n=!1){let s,o;return pe(e)?s=e:(s=e.get,o=e.set),new tc(s,o,n)}const hs={},Es=new WeakMap;let tn;function sc(e,t=!1,n=tn){if(n){let s=Es.get(n);s||Es.set(n,s=[]),s.push(e)}}function oc(e,t,n=Ae){const{immediate:s,deep:o,once:r,scheduler:a,augmentJob:l,call:c}=n,d=k=>o?k:at(k)||o===!1||o===0?Rt(k,1):Rt(k);let u,f,g,m,y=!1,h=!1;if(Ge(e)?(f=()=>e.value,y=at(e)):mn(e)?(f=()=>d(e),y=!0):ie(e)?(h=!0,y=e.some(k=>mn(k)||at(k)),f=()=>e.map(k=>{if(Ge(k))return k.value;if(mn(k))return d(k);if(pe(k))return c?c(k,2):k()})):pe(e)?t?f=c?()=>c(e,2):e:f=()=>{if(g){Lt();try{g()}finally{Mt()}}const k=tn;tn=u;try{return c?c(e,3,[m]):e(m)}finally{tn=k}}:f=Ct,t&&o){const k=f,G=o===!0?1/0:o;f=()=>Rt(k(),G)}const $=Pl(),E=()=>{u.stop(),$&&$.active&&No($.effects,u)};if(r&&t){const k=t;t=(...G)=>{k(...G),E()}}let C=h?new Array(e.length).fill(hs):hs;const x=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(t){const G=u.run();if(o||y||(h?G.some((N,b)=>qt(N,C[b])):qt(G,C))){g&&g();const N=tn;tn=u;try{const b=[G,C===hs?void 0:h&&C[0]===hs?[]:C,m];C=G,c?c(t,3,b):t(...b)}finally{tn=N}}}else u.run()};return l&&l(x),u=new $a(f),u.scheduler=a?()=>a(x,!1):x,m=k=>sc(k,!1,u),g=u.onStop=()=>{const k=Es.get(u);if(k){if(c)c(k,4);else for(const G of k)G();Es.delete(u)}},t?s?x(!0):C=u.run():a?a(x.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Rt(e,t=1/0,n){if(t<=0||!$e(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Ge(e))Rt(e.value,t,n);else if(ie(e))for(let s=0;s<e.length;s++)Rt(e[s],t,n);else if($n(e)||pn(e))e.forEach(s=>{Rt(s,t,n)});else if(ka(e)){for(const s in e)Rt(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Rt(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function is(e,t,n,s){try{return s?e(...s):e()}catch(o){Hs(o,t,n)}}function ht(e,t,n,s){if(pe(e)){const o=is(e,t,n,s);return o&&Ta(o)&&o.catch(r=>{Hs(r,t,n)}),o}if(ie(e)){const o=[];for(let r=0;r<e.length;r++)o.push(ht(e[r],t,n,s));return o}}function Hs(e,t,n,s=!0){const o=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||Ae;if(t){let l=t.parent;const c=t.proxy,d=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](e,c,d)===!1)return}l=l.parent}if(r){Lt(),is(r,null,10,[e,c,d]),Mt();return}}rc(e,n,o,s,a)}function rc(e,t,n,s=!0,o=!1){if(o)throw e;console.error(e)}const ze=[];let wt=-1;const vn=[];let Ft=null,fn=0;const qa=Promise.resolve();let As=null;function zn(e){const t=As||qa;return e?t.then(this?e.bind(this):e):t}function ac(e){let t=wt+1,n=ze.length;for(;t<n;){const s=t+n>>>1,o=ze[s],r=Qn(o);r<e||r===e&&o.flags&2?t=s+1:n=s}return t}function Wo(e){if(!(e.flags&1)){const t=Qn(e),n=ze[ze.length-1];!n||!(e.flags&2)&&t>=Qn(n)?ze.push(e):ze.splice(ac(t),0,e),e.flags|=1,Wa()}}function Wa(){As||(As=qa.then(za))}function ic(e){ie(e)?vn.push(...e):Ft&&e.id===-1?Ft.splice(fn+1,0,e):e.flags&1||(vn.push(e),e.flags|=1),Wa()}function yr(e,t,n=wt+1){for(;n<ze.length;n++){const s=ze[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;ze.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Ya(e){if(vn.length){const t=[...new Set(vn)].sort((n,s)=>Qn(n)-Qn(s));if(vn.length=0,Ft){Ft.push(...t);return}for(Ft=t,fn=0;fn<Ft.length;fn++){const n=Ft[fn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ft=null,fn=0}}const Qn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function za(e){try{for(wt=0;wt<ze.length;wt++){const t=ze[wt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),is(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;wt<ze.length;wt++){const t=ze[wt];t&&(t.flags&=-2)}wt=-1,ze.length=0,Ya(),As=null,(ze.length||vn.length)&&za()}}let tt=null,Qa=null;function $s(e){const t=tt;return tt=e,Qa=e&&e.type.__scopeId||null,t}function Oe(e,t=tt,n){if(!t||e._n)return e;const s=(...o)=>{s._d&&Pr(-1);const r=$s(t);let a;try{a=e(...o)}finally{$s(r),s._d&&Pr(1)}return a};return s._n=!0,s._c=!0,s._d=!0,s}function dt(e,t){if(tt===null)return e;const n=Gs(tt),s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[r,a,l,c=Ae]=t[o];r&&(pe(r)&&(r={mounted:r,updated:r}),r.deep&&Rt(a),s.push({dir:r,instance:n,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Xt(e,t,n,s){const o=e.dirs,r=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];r&&(l.oldValue=r[a].value);let c=l.dir[s];c&&(Lt(),ht(c,n,8,[e.el,l,e,t]),Mt())}}const Ja=Symbol("_vte"),Xa=e=>e.__isTeleport,Bn=e=>e&&(e.disabled||e.disabled===""),br=e=>e&&(e.defer||e.defer===""),_r=e=>typeof SVGElement<"u"&&e instanceof SVGElement,wr=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,_o=(e,t)=>{const n=e&&e.to;return De(n)?t?t(n):null:n},Za={name:"Teleport",__isTeleport:!0,process(e,t,n,s,o,r,a,l,c,d){const{mc:u,pc:f,pbc:g,o:{insert:m,querySelector:y,createText:h,createComment:$}}=d,E=Bn(t.props);let{shapeFlag:C,children:x,dynamicChildren:k}=t;if(e==null){const G=t.el=h(""),N=t.anchor=h("");m(G,n,s),m(N,n,s);const b=(D,S)=>{C&16&&(o&&o.isCE&&(o.ce._teleportTarget=D),u(x,D,S,o,r,a,l,c))},P=()=>{const D=t.target=_o(t.props,y),S=ti(D,t,h,m);D&&(a!=="svg"&&_r(D)?a="svg":a!=="mathml"&&wr(D)&&(a="mathml"),E||(b(D,S),ys(t,!1)))};E&&(b(n,N),ys(t,!0)),br(t.props)?(t.el.__isMounted=!1,Ye(()=>{P(),delete t.el.__isMounted},r)):P()}else{if(br(t.props)&&e.el.__isMounted===!1){Ye(()=>{Za.process(e,t,n,s,o,r,a,l,c,d)},r);return}t.el=e.el,t.targetStart=e.targetStart;const G=t.anchor=e.anchor,N=t.target=e.target,b=t.targetAnchor=e.targetAnchor,P=Bn(e.props),D=P?n:N,S=P?G:b;if(a==="svg"||_r(N)?a="svg":(a==="mathml"||wr(N))&&(a="mathml"),k?(g(e.dynamicChildren,k,D,o,r,a,l),Jo(e,t,!0)):c||f(e,t,D,S,o,r,a,l,!1),E)P?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gs(t,n,G,d,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const B=t.target=_o(t.props,y);B&&gs(t,B,null,d,0)}else P&&gs(t,N,b,d,1);ys(t,E)}},remove(e,t,n,{um:s,o:{remove:o}},r){const{shapeFlag:a,children:l,anchor:c,targetStart:d,targetAnchor:u,target:f,props:g}=e;if(f&&(o(d),o(u)),r&&o(c),a&16){const m=r||!Bn(g);for(let y=0;y<l.length;y++){const h=l[y];s(h,t,n,m,!!h.dynamicChildren)}}},move:gs,hydrate:lc};function gs(e,t,n,{o:{insert:s},m:o},r=2){r===0&&s(e.targetAnchor,t,n);const{el:a,anchor:l,shapeFlag:c,children:d,props:u}=e,f=r===2;if(f&&s(a,t,n),(!f||Bn(u))&&c&16)for(let g=0;g<d.length;g++)o(d[g],t,n,2);f&&s(l,t,n)}function lc(e,t,n,s,o,r,{o:{nextSibling:a,parentNode:l,querySelector:c,insert:d,createText:u}},f){const g=t.target=_o(t.props,c);if(g){const m=Bn(t.props),y=g._lpa||g.firstChild;if(t.shapeFlag&16)if(m)t.anchor=f(a(e),t,l(e),n,s,o,r),t.targetStart=y,t.targetAnchor=y&&a(y);else{t.anchor=a(e);let h=y;for(;h;){if(h&&h.nodeType===8){if(h.data==="teleport start anchor")t.targetStart=h;else if(h.data==="teleport anchor"){t.targetAnchor=h,g._lpa=t.targetAnchor&&a(t.targetAnchor);break}}h=a(h)}t.targetAnchor||ti(g,t,u,d),f(y&&a(y),t,g,n,s,o,r)}ys(t,m)}return t.anchor&&a(t.anchor)}const ei=Za;function ys(e,t){const n=e.ctx;if(n&&n.ut){let s,o;for(t?(s=e.el,o=e.anchor):(s=e.targetStart,o=e.targetAnchor);s&&s!==o;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function ti(e,t,n,s){const o=t.targetStart=n(""),r=t.targetAnchor=n("");return o[Ja]=r,e&&(s(o,e),s(r,e)),r}const Vt=Symbol("_leaveCb"),ps=Symbol("_enterCb");function ni(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ct(()=>{e.isMounted=!0}),di(()=>{e.isUnmounting=!0}),e}const rt=[Function,Array],si={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rt,onEnter:rt,onAfterEnter:rt,onEnterCancelled:rt,onBeforeLeave:rt,onLeave:rt,onAfterLeave:rt,onLeaveCancelled:rt,onBeforeAppear:rt,onAppear:rt,onAfterAppear:rt,onAppearCancelled:rt},oi=e=>{const t=e.subTree;return t.component?oi(t.component):t},cc={name:"BaseTransition",props:si,setup(e,{slots:t}){const n=xi(),s=ni();return()=>{const o=t.default&&Yo(t.default(),!0);if(!o||!o.length)return;const r=ri(o),a=_e(e),{mode:l}=a;if(s.isLeaving)return oo(r);const c=Tr(r);if(!c)return oo(r);let d=Jn(c,a,s,n,f=>d=f);c.type!==Qe&&ln(c,d);let u=n.subTree&&Tr(n.subTree);if(u&&u.type!==Qe&&!sn(c,u)&&oi(n).type!==Qe){let f=Jn(u,a,s,n);if(ln(u,f),l==="out-in"&&c.type!==Qe)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},oo(r);l==="in-out"&&c.type!==Qe?f.delayLeave=(g,m,y)=>{const h=ai(s,u);h[String(u.key)]=u,g[Vt]=()=>{m(),g[Vt]=void 0,delete d.delayedLeave,u=void 0},d.delayedLeave=()=>{y(),delete d.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function ri(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Qe){t=n;break}}return t}const uc=cc;function ai(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function Jn(e,t,n,s,o){const{appear:r,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:g,onLeave:m,onAfterLeave:y,onLeaveCancelled:h,onBeforeAppear:$,onAppear:E,onAfterAppear:C,onAppearCancelled:x}=t,k=String(e.key),G=ai(n,e),N=(D,S)=>{D&&ht(D,s,9,S)},b=(D,S)=>{const B=S[1];N(D,S),ie(D)?D.every(_=>_.length<=1)&&B():D.length<=1&&B()},P={mode:a,persisted:l,beforeEnter(D){let S=c;if(!n.isMounted)if(r)S=$||c;else return;D[Vt]&&D[Vt](!0);const B=G[k];B&&sn(e,B)&&B.el[Vt]&&B.el[Vt](),N(S,[D])},enter(D){let S=d,B=u,_=f;if(!n.isMounted)if(r)S=E||d,B=C||u,_=x||f;else return;let X=!1;const j=D[ps]=R=>{X||(X=!0,R?N(_,[D]):N(B,[D]),P.delayedLeave&&P.delayedLeave(),D[ps]=void 0)};S?b(S,[D,j]):j()},leave(D,S){const B=String(e.key);if(D[ps]&&D[ps](!0),n.isUnmounting)return S();N(g,[D]);let _=!1;const X=D[Vt]=j=>{_||(_=!0,S(),j?N(h,[D]):N(y,[D]),D[Vt]=void 0,G[B]===e&&delete G[B])};G[B]=e,m?b(m,[D,X]):X()},clone(D){const S=Jn(D,t,n,s,o);return o&&o(S),S}};return P}function oo(e){if(Bs(e))return e=Yt(e),e.children=null,e}function Tr(e){if(!Bs(e))return Xa(e.type)&&e.children?ri(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&pe(n.default))return n.default()}}function ln(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ln(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Yo(e,t=!1,n){let s=[],o=0;for(let r=0;r<e.length;r++){let a=e[r];const l=n==null?a.key:String(n)+String(a.key!=null?a.key:r);a.type===me?(a.patchFlag&128&&o++,s=s.concat(Yo(a.children,t,l))):(t||a.type!==Qe)&&s.push(l!=null?Yt(a,{key:l}):a)}if(o>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function ii(e,t){return pe(e)?Ue({name:e.name},t,{setup:e}):e}function li(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Kn(e,t,n,s,o=!1){if(ie(e)){e.forEach((y,h)=>Kn(y,t&&(ie(t)?t[h]:t),n,s,o));return}if(Fn(s)&&!o){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Kn(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?Gs(s.component):s.el,a=o?null:r,{i:l,r:c}=e,d=t&&t.r,u=l.refs===Ae?l.refs={}:l.refs,f=l.setupState,g=_e(f),m=f===Ae?()=>!1:y=>Ce(g,y);if(d!=null&&d!==c&&(De(d)?(u[d]=null,m(d)&&(f[d]=null)):Ge(d)&&(d.value=null)),pe(c))is(c,l,12,[a,u]);else{const y=De(c),h=Ge(c);if(y||h){const $=()=>{if(e.f){const E=y?m(c)?f[c]:u[c]:c.value;o?ie(E)&&No(E,r):ie(E)?E.includes(r)||E.push(r):y?(u[c]=[r],m(c)&&(f[c]=u[c])):(c.value=[r],e.k&&(u[e.k]=c.value))}else y?(u[c]=a,m(c)&&(f[c]=a)):h&&(c.value=a,e.k&&(u[e.k]=a))};a?($.id=-1,Ye($,n)):$()}}}Ns().requestIdleCallback;Ns().cancelIdleCallback;const Fn=e=>!!e.type.__asyncLoader,Bs=e=>e.type.__isKeepAlive;function dc(e,t){ci(e,"a",t)}function fc(e,t){ci(e,"da",t)}function ci(e,t,n=Ve){const s=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Ks(t,s,n),n){let o=n.parent;for(;o&&o.parent;)Bs(o.parent.vnode)&&hc(s,t,n,o),o=o.parent}}function hc(e,t,n,s){const o=Ks(t,e,s,!0);Ut(()=>{No(s[t],o)},n)}function Ks(e,t,n=Ve,s=!1){if(n){const o=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...a)=>{Lt();const l=cs(n),c=ht(t,n,e,a);return l(),Mt(),c});return s?o.unshift(r):o.push(r),r}}const Nt=e=>(t,n=Ve)=>{(!Zn||e==="sp")&&Ks(e,(...s)=>t(...s),n)},gc=Nt("bm"),ct=Nt("m"),pc=Nt("bu"),ui=Nt("u"),di=Nt("bum"),Ut=Nt("um"),mc=Nt("sp"),vc=Nt("rtg"),yc=Nt("rtc");function bc(e,t=Ve){Ks("ec",e,t)}const _c="components";function cn(e,t){return Tc(_c,e,!0,t)||e}const wc=Symbol.for("v-ndc");function Tc(e,t,n=!0,s=!1){const o=tt||Ve;if(o){const r=o.type;{const l=lu(r,!1);if(l&&(l===t||l===lt(t)||l===Ms(lt(t))))return r}const a=Cr(o[e]||r[e],t)||Cr(o.appContext[e],t);return!a&&s?r:a}}function Cr(e,t){return e&&(e[t]||e[lt(t)]||e[Ms(lt(t))])}function Pe(e,t,n,s){let o;const r=n,a=ie(e);if(a||De(e)){const l=a&&mn(e);let c=!1,d=!1;l&&(c=!at(e),d=Wt(e),e=Us(e)),o=new Array(e.length);for(let u=0,f=e.length;u<f;u++)o[u]=t(c?d?Ss(Fe(e[u])):Fe(e[u]):e[u],u,void 0,r)}else if(typeof e=="number"){o=new Array(e);for(let l=0;l<e;l++)o[l]=t(l+1,l,void 0,r)}else if($e(e))if(e[Symbol.iterator])o=Array.from(e,(l,c)=>t(l,c,void 0,r));else{const l=Object.keys(e);o=new Array(l.length);for(let c=0,d=l.length;c<d;c++){const u=l[c];o[c]=t(e[u],u,c,r)}}else o=[];return o}const wo=e=>e?Ri(e)?Gs(e):wo(e.parent):null,Vn=Ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>wo(e.parent),$root:e=>wo(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>hi(e),$forceUpdate:e=>e.f||(e.f=()=>{Wo(e.update)}),$nextTick:e=>e.n||(e.n=zn.bind(e.proxy)),$watch:e=>Vc.bind(e)}),ro=(e,t)=>e!==Ae&&!e.__isScriptSetup&&Ce(e,t),Cc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:o,props:r,accessCache:a,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const m=a[t];if(m!==void 0)switch(m){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return r[t]}else{if(ro(s,t))return a[t]=1,s[t];if(o!==Ae&&Ce(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Ce(d,t))return a[t]=3,r[t];if(n!==Ae&&Ce(n,t))return a[t]=4,n[t];To&&(a[t]=0)}}const u=Vn[t];let f,g;if(u)return t==="$attrs"&&qe(e.attrs,"get",""),u(e);if((f=l.__cssModules)&&(f=f[t]))return f;if(n!==Ae&&Ce(n,t))return a[t]=4,n[t];if(g=c.config.globalProperties,Ce(g,t))return g[t]},set({_:e},t,n){const{data:s,setupState:o,ctx:r}=e;return ro(o,t)?(o[t]=n,!0):s!==Ae&&Ce(s,t)?(s[t]=n,!0):Ce(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:o,propsOptions:r}},a){let l;return!!n[a]||e!==Ae&&Ce(e,a)||ro(t,a)||(l=r[0])&&Ce(l,a)||Ce(s,a)||Ce(Vn,a)||Ce(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ce(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function kr(e){return ie(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let To=!0;function kc(e){const t=hi(e),n=e.proxy,s=e.ctx;To=!1,t.beforeCreate&&Sr(t.beforeCreate,e,"bc");const{data:o,computed:r,methods:a,watch:l,provide:c,inject:d,created:u,beforeMount:f,mounted:g,beforeUpdate:m,updated:y,activated:h,deactivated:$,beforeDestroy:E,beforeUnmount:C,destroyed:x,unmounted:k,render:G,renderTracked:N,renderTriggered:b,errorCaptured:P,serverPrefetch:D,expose:S,inheritAttrs:B,components:_,directives:X,filters:j}=t;if(d&&Sc(d,s,null),a)for(const J in a){const q=a[J];pe(q)&&(s[J]=q.bind(n))}if(o){const J=o.call(n,n);$e(J)&&(e.data=Ot(J))}if(To=!0,r)for(const J in r){const q=r[J],Le=pe(q)?q.bind(n,n):pe(q.get)?q.get.bind(n,n):Ct,Ne=!pe(q)&&pe(q.set)?q.set.bind(n):Ct,Be=ee({get:Le,set:Ne});Object.defineProperty(s,J,{enumerable:!0,configurable:!0,get:()=>Be.value,set:de=>Be.value=de})}if(l)for(const J in l)fi(l[J],s,n,J);if(c){const J=pe(c)?c.call(n):c;Reflect.ownKeys(J).forEach(q=>{bs(q,J[q])})}u&&Sr(u,e,"c");function ue(J,q){ie(q)?q.forEach(Le=>J(Le.bind(n))):q&&J(q.bind(n))}if(ue(gc,f),ue(ct,g),ue(pc,m),ue(ui,y),ue(dc,h),ue(fc,$),ue(bc,P),ue(yc,N),ue(vc,b),ue(di,C),ue(Ut,k),ue(mc,D),ie(S))if(S.length){const J=e.exposed||(e.exposed={});S.forEach(q=>{Object.defineProperty(J,q,{get:()=>n[q],set:Le=>n[q]=Le})})}else e.exposed||(e.exposed={});G&&e.render===Ct&&(e.render=G),B!=null&&(e.inheritAttrs=B),_&&(e.components=_),X&&(e.directives=X),D&&li(e)}function Sc(e,t,n=Ct){ie(e)&&(e=Co(e));for(const s in e){const o=e[s];let r;$e(o)?"default"in o?r=ft(o.from||s,o.default,!0):r=ft(o.from||s):r=ft(o),Ge(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:a=>r.value=a}):t[s]=r}}function Sr(e,t,n){ht(ie(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function fi(e,t,n,s){let o=s.includes(".")?Si(n,s):()=>n[s];if(De(e)){const r=t[e];pe(r)&&st(o,r)}else if(pe(e))st(o,e.bind(n));else if($e(e))if(ie(e))e.forEach(r=>fi(r,t,n,s));else{const r=pe(e.handler)?e.handler.bind(n):t[e.handler];pe(r)&&st(o,r,e)}}function hi(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:o,optionsCache:r,config:{optionMergeStrategies:a}}=e.appContext,l=r.get(t);let c;return l?c=l:!o.length&&!n&&!s?c=t:(c={},o.length&&o.forEach(d=>Is(c,d,a,!0)),Is(c,t,a)),$e(t)&&r.set(t,c),c}function Is(e,t,n,s=!1){const{mixins:o,extends:r}=t;r&&Is(e,r,n,!0),o&&o.forEach(a=>Is(e,a,n,!0));for(const a in t)if(!(s&&a==="expose")){const l=Ec[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const Ec={data:Er,props:Ar,emits:Ar,methods:Mn,computed:Mn,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:Mn,directives:Mn,watch:$c,provide:Er,inject:Ac};function Er(e,t){return t?e?function(){return Ue(pe(e)?e.call(this,this):e,pe(t)?t.call(this,this):t)}:t:e}function Ac(e,t){return Mn(Co(e),Co(t))}function Co(e){if(ie(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function We(e,t){return e?[...new Set([].concat(e,t))]:t}function Mn(e,t){return e?Ue(Object.create(null),e,t):t}function Ar(e,t){return e?ie(e)&&ie(t)?[...new Set([...e,...t])]:Ue(Object.create(null),kr(e),kr(t??{})):t}function $c(e,t){if(!e)return t;if(!t)return e;const n=Ue(Object.create(null),e);for(const s in t)n[s]=We(e[s],t[s]);return n}function gi(){return{app:null,config:{isNativeTag:yl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ic=0;function xc(e,t){return function(s,o=null){pe(s)||(s=Ue({},s)),o!=null&&!$e(o)&&(o=null);const r=gi(),a=new WeakSet,l=[];let c=!1;const d=r.app={_uid:Ic++,_component:s,_props:o,_container:null,_context:r,_instance:null,version:uu,get config(){return r.config},set config(u){},use(u,...f){return a.has(u)||(u&&pe(u.install)?(a.add(u),u.install(d,...f)):pe(u)&&(a.add(u),u(d,...f))),d},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),d},component(u,f){return f?(r.components[u]=f,d):r.components[u]},directive(u,f){return f?(r.directives[u]=f,d):r.directives[u]},mount(u,f,g){if(!c){const m=d._ceVNode||ce(s,o);return m.appContext=r,g===!0?g="svg":g===!1&&(g=void 0),e(m,u,g),c=!0,d._container=u,u.__vue_app__=d,Gs(m.component)}},onUnmount(u){l.push(u)},unmount(){c&&(ht(l,d._instance,16),e(null,d._container),delete d._container.__vue_app__)},provide(u,f){return r.provides[u]=f,d},runWithContext(u){const f=yn;yn=d;try{return u()}finally{yn=f}}};return d}}let yn=null;function bs(e,t){if(Ve){let n=Ve.provides;const s=Ve.parent&&Ve.parent.provides;s===n&&(n=Ve.provides=Object.create(s)),n[e]=t}}function ft(e,t,n=!1){const s=Ve||tt;if(s||yn){let o=yn?yn._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(o&&e in o)return o[e];if(arguments.length>1)return n&&pe(t)?t.call(s&&s.proxy):t}}const pi={},mi=()=>Object.create(pi),vi=e=>Object.getPrototypeOf(e)===pi;function Rc(e,t,n,s=!1){const o={},r=mi();e.propsDefaults=Object.create(null),yi(e,t,o,r);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=s?o:Fa(o):e.type.props?e.props=o:e.props=r,e.attrs=r}function Pc(e,t,n,s){const{props:o,attrs:r,vnode:{patchFlag:a}}=e,l=_e(o),[c]=e.propsOptions;let d=!1;if((s||a>0)&&!(a&16)){if(a&8){const u=e.vnode.dynamicProps;for(let f=0;f<u.length;f++){let g=u[f];if(Fs(e.emitsOptions,g))continue;const m=t[g];if(c)if(Ce(r,g))m!==r[g]&&(r[g]=m,d=!0);else{const y=lt(g);o[y]=ko(c,l,y,m,e,!1)}else m!==r[g]&&(r[g]=m,d=!0)}}}else{yi(e,t,o,r)&&(d=!0);let u;for(const f in l)(!t||!Ce(t,f)&&((u=Jt(f))===f||!Ce(t,u)))&&(c?n&&(n[f]!==void 0||n[u]!==void 0)&&(o[f]=ko(c,l,f,void 0,e,!0)):delete o[f]);if(r!==l)for(const f in r)(!t||!Ce(t,f))&&(delete r[f],d=!0)}d&&xt(e.attrs,"set","")}function yi(e,t,n,s){const[o,r]=e.propsOptions;let a=!1,l;if(t)for(let c in t){if(Nn(c))continue;const d=t[c];let u;o&&Ce(o,u=lt(c))?!r||!r.includes(u)?n[u]=d:(l||(l={}))[u]=d:Fs(e.emitsOptions,c)||(!(c in s)||d!==s[c])&&(s[c]=d,a=!0)}if(r){const c=_e(n),d=l||Ae;for(let u=0;u<r.length;u++){const f=r[u];n[f]=ko(o,c,f,d[f],e,!Ce(d,f))}}return a}function ko(e,t,n,s,o,r){const a=e[n];if(a!=null){const l=Ce(a,"default");if(l&&s===void 0){const c=a.default;if(a.type!==Function&&!a.skipFactory&&pe(c)){const{propsDefaults:d}=o;if(n in d)s=d[n];else{const u=cs(o);s=d[n]=c.call(null,t),u()}}else s=c;o.ce&&o.ce._setProp(n,s)}a[0]&&(r&&!l?s=!1:a[1]&&(s===""||s===Jt(n))&&(s=!0))}return s}const Oc=new WeakMap;function bi(e,t,n=!1){const s=n?Oc:t.propsCache,o=s.get(e);if(o)return o;const r=e.props,a={},l=[];let c=!1;if(!pe(e)){const u=f=>{c=!0;const[g,m]=bi(f,t,!0);Ue(a,g),m&&l.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!c)return $e(e)&&s.set(e,gn),gn;if(ie(r))for(let u=0;u<r.length;u++){const f=lt(r[u]);$r(f)&&(a[f]=Ae)}else if(r)for(const u in r){const f=lt(u);if($r(f)){const g=r[u],m=a[f]=ie(g)||pe(g)?{type:g}:Ue({},g),y=m.type;let h=!1,$=!0;if(ie(y))for(let E=0;E<y.length;++E){const C=y[E],x=pe(C)&&C.name;if(x==="Boolean"){h=!0;break}else x==="String"&&($=!1)}else h=pe(y)&&y.name==="Boolean";m[0]=h,m[1]=$,(h||Ce(m,"default"))&&l.push(f)}}const d=[a,l];return $e(e)&&s.set(e,d),d}function $r(e){return e[0]!=="$"&&!Nn(e)}const zo=e=>e[0]==="_"||e==="$stable",Qo=e=>ie(e)?e.map(Tt):[Tt(e)],Dc=(e,t,n)=>{if(t._n)return t;const s=Oe((...o)=>Qo(t(...o)),n);return s._c=!1,s},_i=(e,t,n)=>{const s=e._ctx;for(const o in e){if(zo(o))continue;const r=e[o];if(pe(r))t[o]=Dc(o,r,s);else if(r!=null){const a=Qo(r);t[o]=()=>a}}},wi=(e,t)=>{const n=Qo(t);e.slots.default=()=>n},Ti=(e,t,n)=>{for(const s in t)(n||!zo(s))&&(e[s]=t[s])},Lc=(e,t,n)=>{const s=e.slots=mi();if(e.vnode.shapeFlag&32){const o=t.__;o&&po(s,"__",o,!0);const r=t._;r?(Ti(s,t,n),n&&po(s,"_",r,!0)):_i(t,s)}else t&&wi(e,t)},Mc=(e,t,n)=>{const{vnode:s,slots:o}=e;let r=!0,a=Ae;if(s.shapeFlag&32){const l=t._;l?n&&l===1?r=!1:Ti(o,t,n):(r=!t.$stable,_i(t,o)),a=t}else t&&(wi(e,t),a={default:1});if(r)for(const l in o)!zo(l)&&a[l]==null&&delete o[l]},Ye=Qc;function Nc(e){return Uc(e)}function Uc(e,t){const n=Ns();n.__VUE__=!0;const{insert:s,remove:o,patchProp:r,createElement:a,createText:l,createComment:c,setText:d,setElementText:u,parentNode:f,nextSibling:g,setScopeId:m=Ct,insertStaticContent:y}=e,h=(p,v,w,L=null,U=null,M=null,te=void 0,Z=null,Q=!!v.dynamicChildren)=>{if(p===v)return;p&&!sn(p,v)&&(L=O(p),de(p,U,M,!0),p=null),v.patchFlag===-2&&(Q=!1,v.dynamicChildren=null);const{type:V,ref:le,shapeFlag:se}=v;switch(V){case Vs:$(p,v,w,L);break;case Qe:E(p,v,w,L);break;case _s:p==null&&C(v,w,L,te);break;case me:_(p,v,w,L,U,M,te,Z,Q);break;default:se&1?G(p,v,w,L,U,M,te,Z,Q):se&6?X(p,v,w,L,U,M,te,Z,Q):(se&64||se&128)&&V.process(p,v,w,L,U,M,te,Z,Q,re)}le!=null&&U?Kn(le,p&&p.ref,M,v||p,!v):le==null&&p&&p.ref!=null&&Kn(p.ref,null,M,p,!0)},$=(p,v,w,L)=>{if(p==null)s(v.el=l(v.children),w,L);else{const U=v.el=p.el;v.children!==p.children&&d(U,v.children)}},E=(p,v,w,L)=>{p==null?s(v.el=c(v.children||""),w,L):v.el=p.el},C=(p,v,w,L)=>{[p.el,p.anchor]=y(p.children,v,w,L,p.el,p.anchor)},x=({el:p,anchor:v},w,L)=>{let U;for(;p&&p!==v;)U=g(p),s(p,w,L),p=U;s(v,w,L)},k=({el:p,anchor:v})=>{let w;for(;p&&p!==v;)w=g(p),o(p),p=w;o(v)},G=(p,v,w,L,U,M,te,Z,Q)=>{v.type==="svg"?te="svg":v.type==="math"&&(te="mathml"),p==null?N(v,w,L,U,M,te,Z,Q):D(p,v,U,M,te,Z,Q)},N=(p,v,w,L,U,M,te,Z)=>{let Q,V;const{props:le,shapeFlag:se,transition:ae,dirs:ge}=p;if(Q=p.el=a(p.type,M,le&&le.is,le),se&8?u(Q,p.children):se&16&&P(p.children,Q,null,L,U,ao(p,M),te,Z),ge&&Xt(p,null,L,"created"),b(Q,p,p.scopeId,te,L),le){for(const Ie in le)Ie!=="value"&&!Nn(Ie)&&r(Q,Ie,null,le[Ie],M,L);"value"in le&&r(Q,"value",null,le.value,M),(V=le.onVnodeBeforeMount)&&bt(V,L,p)}ge&&Xt(p,null,L,"beforeMount");const ye=Hc(U,ae);ye&&ae.beforeEnter(Q),s(Q,v,w),((V=le&&le.onVnodeMounted)||ye||ge)&&Ye(()=>{V&&bt(V,L,p),ye&&ae.enter(Q),ge&&Xt(p,null,L,"mounted")},U)},b=(p,v,w,L,U)=>{if(w&&m(p,w),L)for(let M=0;M<L.length;M++)m(p,L[M]);if(U){let M=U.subTree;if(v===M||Ai(M.type)&&(M.ssContent===v||M.ssFallback===v)){const te=U.vnode;b(p,te,te.scopeId,te.slotScopeIds,U.parent)}}},P=(p,v,w,L,U,M,te,Z,Q=0)=>{for(let V=Q;V<p.length;V++){const le=p[V]=Z?Gt(p[V]):Tt(p[V]);h(null,le,v,w,L,U,M,te,Z)}},D=(p,v,w,L,U,M,te)=>{const Z=v.el=p.el;let{patchFlag:Q,dynamicChildren:V,dirs:le}=v;Q|=p.patchFlag&16;const se=p.props||Ae,ae=v.props||Ae;let ge;if(w&&Zt(w,!1),(ge=ae.onVnodeBeforeUpdate)&&bt(ge,w,v,p),le&&Xt(v,p,w,"beforeUpdate"),w&&Zt(w,!0),(se.innerHTML&&ae.innerHTML==null||se.textContent&&ae.textContent==null)&&u(Z,""),V?S(p.dynamicChildren,V,Z,w,L,ao(v,U),M):te||q(p,v,Z,null,w,L,ao(v,U),M,!1),Q>0){if(Q&16)B(Z,se,ae,w,U);else if(Q&2&&se.class!==ae.class&&r(Z,"class",null,ae.class,U),Q&4&&r(Z,"style",se.style,ae.style,U),Q&8){const ye=v.dynamicProps;for(let Ie=0;Ie<ye.length;Ie++){const ke=ye[Ie],Xe=se[ke],Ze=ae[ke];(Ze!==Xe||ke==="value")&&r(Z,ke,Xe,Ze,U,w)}}Q&1&&p.children!==v.children&&u(Z,v.children)}else!te&&V==null&&B(Z,se,ae,w,U);((ge=ae.onVnodeUpdated)||le)&&Ye(()=>{ge&&bt(ge,w,v,p),le&&Xt(v,p,w,"updated")},L)},S=(p,v,w,L,U,M,te)=>{for(let Z=0;Z<v.length;Z++){const Q=p[Z],V=v[Z],le=Q.el&&(Q.type===me||!sn(Q,V)||Q.shapeFlag&198)?f(Q.el):w;h(Q,V,le,null,L,U,M,te,!0)}},B=(p,v,w,L,U)=>{if(v!==w){if(v!==Ae)for(const M in v)!Nn(M)&&!(M in w)&&r(p,M,v[M],null,U,L);for(const M in w){if(Nn(M))continue;const te=w[M],Z=v[M];te!==Z&&M!=="value"&&r(p,M,Z,te,U,L)}"value"in w&&r(p,"value",v.value,w.value,U)}},_=(p,v,w,L,U,M,te,Z,Q)=>{const V=v.el=p?p.el:l(""),le=v.anchor=p?p.anchor:l("");let{patchFlag:se,dynamicChildren:ae,slotScopeIds:ge}=v;ge&&(Z=Z?Z.concat(ge):ge),p==null?(s(V,w,L),s(le,w,L),P(v.children||[],w,le,U,M,te,Z,Q)):se>0&&se&64&&ae&&p.dynamicChildren?(S(p.dynamicChildren,ae,w,U,M,te,Z),(v.key!=null||U&&v===U.subTree)&&Jo(p,v,!0)):q(p,v,w,le,U,M,te,Z,Q)},X=(p,v,w,L,U,M,te,Z,Q)=>{v.slotScopeIds=Z,p==null?v.shapeFlag&512?U.ctx.activate(v,w,L,te,Q):j(v,w,L,U,M,te,Q):R(p,v,Q)},j=(p,v,w,L,U,M,te)=>{const Z=p.component=su(p,L,U);if(Bs(p)&&(Z.ctx.renderer=re),ou(Z,!1,te),Z.asyncDep){if(U&&U.registerDep(Z,ue,te),!p.el){const Q=Z.subTree=ce(Qe);E(null,Q,v,w)}}else ue(Z,p,v,w,U,M,te)},R=(p,v,w)=>{const L=v.component=p.component;if(Yc(p,v,w))if(L.asyncDep&&!L.asyncResolved){J(L,v,w);return}else L.next=v,L.update();else v.el=p.el,L.vnode=v},ue=(p,v,w,L,U,M,te)=>{const Z=()=>{if(p.isMounted){let{next:se,bu:ae,u:ge,parent:ye,vnode:Ie}=p;{const vt=Ci(p);if(vt){se&&(se.el=Ie.el,J(p,se,te)),vt.asyncDep.then(()=>{p.isUnmounted||Z()});return}}let ke=se,Xe;Zt(p,!1),se?(se.el=Ie.el,J(p,se,te)):se=Ie,ae&&vs(ae),(Xe=se.props&&se.props.onVnodeBeforeUpdate)&&bt(Xe,ye,se,Ie),Zt(p,!0);const Ze=xr(p),mt=p.subTree;p.subTree=Ze,h(mt,Ze,f(mt.el),O(mt),p,U,M),se.el=Ze.el,ke===null&&zc(p,Ze.el),ge&&Ye(ge,U),(Xe=se.props&&se.props.onVnodeUpdated)&&Ye(()=>bt(Xe,ye,se,Ie),U)}else{let se;const{el:ae,props:ge}=v,{bm:ye,m:Ie,parent:ke,root:Xe,type:Ze}=p,mt=Fn(v);Zt(p,!1),ye&&vs(ye),!mt&&(se=ge&&ge.onVnodeBeforeMount)&&bt(se,ke,v),Zt(p,!0);{Xe.ce&&Xe.ce._def.shadowRoot!==!1&&Xe.ce._injectChildStyle(Ze);const vt=p.subTree=xr(p);h(null,vt,w,L,p,U,M),v.el=vt.el}if(Ie&&Ye(Ie,U),!mt&&(se=ge&&ge.onVnodeMounted)){const vt=v;Ye(()=>bt(se,ke,vt),U)}(v.shapeFlag&256||ke&&Fn(ke.vnode)&&ke.vnode.shapeFlag&256)&&p.a&&Ye(p.a,U),p.isMounted=!0,v=w=L=null}};p.scope.on();const Q=p.effect=new $a(Z);p.scope.off();const V=p.update=Q.run.bind(Q),le=p.job=Q.runIfDirty.bind(Q);le.i=p,le.id=p.uid,Q.scheduler=()=>Wo(le),Zt(p,!0),V()},J=(p,v,w)=>{v.component=p;const L=p.vnode.props;p.vnode=v,p.next=null,Pc(p,v.props,L,w),Mc(p,v.children,w),Lt(),yr(p),Mt()},q=(p,v,w,L,U,M,te,Z,Q=!1)=>{const V=p&&p.children,le=p?p.shapeFlag:0,se=v.children,{patchFlag:ae,shapeFlag:ge}=v;if(ae>0){if(ae&128){Ne(V,se,w,L,U,M,te,Z,Q);return}else if(ae&256){Le(V,se,w,L,U,M,te,Z,Q);return}}ge&8?(le&16&&Se(V,U,M),se!==V&&u(w,se)):le&16?ge&16?Ne(V,se,w,L,U,M,te,Z,Q):Se(V,U,M,!0):(le&8&&u(w,""),ge&16&&P(se,w,L,U,M,te,Z,Q))},Le=(p,v,w,L,U,M,te,Z,Q)=>{p=p||gn,v=v||gn;const V=p.length,le=v.length,se=Math.min(V,le);let ae;for(ae=0;ae<se;ae++){const ge=v[ae]=Q?Gt(v[ae]):Tt(v[ae]);h(p[ae],ge,w,null,U,M,te,Z,Q)}V>le?Se(p,U,M,!0,!1,se):P(v,w,L,U,M,te,Z,Q,se)},Ne=(p,v,w,L,U,M,te,Z,Q)=>{let V=0;const le=v.length;let se=p.length-1,ae=le-1;for(;V<=se&&V<=ae;){const ge=p[V],ye=v[V]=Q?Gt(v[V]):Tt(v[V]);if(sn(ge,ye))h(ge,ye,w,null,U,M,te,Z,Q);else break;V++}for(;V<=se&&V<=ae;){const ge=p[se],ye=v[ae]=Q?Gt(v[ae]):Tt(v[ae]);if(sn(ge,ye))h(ge,ye,w,null,U,M,te,Z,Q);else break;se--,ae--}if(V>se){if(V<=ae){const ge=ae+1,ye=ge<le?v[ge].el:L;for(;V<=ae;)h(null,v[V]=Q?Gt(v[V]):Tt(v[V]),w,ye,U,M,te,Z,Q),V++}}else if(V>ae)for(;V<=se;)de(p[V],U,M,!0),V++;else{const ge=V,ye=V,Ie=new Map;for(V=ye;V<=ae;V++){const nt=v[V]=Q?Gt(v[V]):Tt(v[V]);nt.key!=null&&Ie.set(nt.key,V)}let ke,Xe=0;const Ze=ae-ye+1;let mt=!1,vt=0;const Rn=new Array(Ze);for(V=0;V<Ze;V++)Rn[V]=0;for(V=ge;V<=se;V++){const nt=p[V];if(Xe>=Ze){de(nt,U,M,!0);continue}let yt;if(nt.key!=null)yt=Ie.get(nt.key);else for(ke=ye;ke<=ae;ke++)if(Rn[ke-ye]===0&&sn(nt,v[ke])){yt=ke;break}yt===void 0?de(nt,U,M,!0):(Rn[yt-ye]=V+1,yt>=vt?vt=yt:mt=!0,h(nt,v[yt],w,null,U,M,te,Z,Q),Xe++)}const fr=mt?Bc(Rn):gn;for(ke=fr.length-1,V=Ze-1;V>=0;V--){const nt=ye+V,yt=v[nt],hr=nt+1<le?v[nt+1].el:L;Rn[V]===0?h(null,yt,w,hr,U,M,te,Z,Q):mt&&(ke<0||V!==fr[ke]?Be(yt,w,hr,2):ke--)}}},Be=(p,v,w,L,U=null)=>{const{el:M,type:te,transition:Z,children:Q,shapeFlag:V}=p;if(V&6){Be(p.component.subTree,v,w,L);return}if(V&128){p.suspense.move(v,w,L);return}if(V&64){te.move(p,v,w,re);return}if(te===me){s(M,v,w);for(let se=0;se<Q.length;se++)Be(Q[se],v,w,L);s(p.anchor,v,w);return}if(te===_s){x(p,v,w);return}if(L!==2&&V&1&&Z)if(L===0)Z.beforeEnter(M),s(M,v,w),Ye(()=>Z.enter(M),U);else{const{leave:se,delayLeave:ae,afterLeave:ge}=Z,ye=()=>{p.ctx.isUnmounted?o(M):s(M,v,w)},Ie=()=>{se(M,()=>{ye(),ge&&ge()})};ae?ae(M,ye,Ie):Ie()}else s(M,v,w)},de=(p,v,w,L=!1,U=!1)=>{const{type:M,props:te,ref:Z,children:Q,dynamicChildren:V,shapeFlag:le,patchFlag:se,dirs:ae,cacheIndex:ge}=p;if(se===-2&&(U=!1),Z!=null&&(Lt(),Kn(Z,null,w,p,!0),Mt()),ge!=null&&(v.renderCache[ge]=void 0),le&256){v.ctx.deactivate(p);return}const ye=le&1&&ae,Ie=!Fn(p);let ke;if(Ie&&(ke=te&&te.onVnodeBeforeUnmount)&&bt(ke,v,p),le&6)F(p.component,w,L);else{if(le&128){p.suspense.unmount(w,L);return}ye&&Xt(p,null,v,"beforeUnmount"),le&64?p.type.remove(p,v,w,re,L):V&&!V.hasOnce&&(M!==me||se>0&&se&64)?Se(V,v,w,!1,!0):(M===me&&se&384||!U&&le&16)&&Se(Q,v,w),L&&T(p)}(Ie&&(ke=te&&te.onVnodeUnmounted)||ye)&&Ye(()=>{ke&&bt(ke,v,p),ye&&Xt(p,null,v,"unmounted")},w)},T=p=>{const{type:v,el:w,anchor:L,transition:U}=p;if(v===me){Y(w,L);return}if(v===_s){k(p);return}const M=()=>{o(w),U&&!U.persisted&&U.afterLeave&&U.afterLeave()};if(p.shapeFlag&1&&U&&!U.persisted){const{leave:te,delayLeave:Z}=U,Q=()=>te(w,M);Z?Z(p.el,M,Q):Q()}else M()},Y=(p,v)=>{let w;for(;p!==v;)w=g(p),o(p),p=w;o(v)},F=(p,v,w)=>{const{bum:L,scope:U,job:M,subTree:te,um:Z,m:Q,a:V,parent:le,slots:{__:se}}=p;Ir(Q),Ir(V),L&&vs(L),le&&ie(se)&&se.forEach(ae=>{le.renderCache[ae]=void 0}),U.stop(),M&&(M.flags|=8,de(te,p,v,w)),Z&&Ye(Z,v),Ye(()=>{p.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},Se=(p,v,w,L=!1,U=!1,M=0)=>{for(let te=M;te<p.length;te++)de(p[te],v,w,L,U)},O=p=>{if(p.shapeFlag&6)return O(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const v=g(p.anchor||p.el),w=v&&v[Ja];return w?g(w):v};let oe=!1;const ne=(p,v,w)=>{p==null?v._vnode&&de(v._vnode,null,null,!0):h(v._vnode||null,p,v,null,null,null,w),v._vnode=p,oe||(oe=!0,yr(),Ya(),oe=!1)},re={p:h,um:de,m:Be,r:T,mt:j,mc:P,pc:q,pbc:S,n:O,o:e};return{render:ne,hydrate:void 0,createApp:xc(ne)}}function ao({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Zt({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Hc(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Jo(e,t,n=!1){const s=e.children,o=t.children;if(ie(s)&&ie(o))for(let r=0;r<s.length;r++){const a=s[r];let l=o[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[r]=Gt(o[r]),l.el=a.el),!n&&l.patchFlag!==-2&&Jo(a,l)),l.type===Vs&&(l.el=a.el),l.type===Qe&&!l.el&&(l.el=a.el)}}function Bc(e){const t=e.slice(),n=[0];let s,o,r,a,l;const c=e.length;for(s=0;s<c;s++){const d=e[s];if(d!==0){if(o=n[n.length-1],e[o]<d){t[s]=o,n.push(s);continue}for(r=0,a=n.length-1;r<a;)l=r+a>>1,e[n[l]]<d?r=l+1:a=l;d<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,a=n[r-1];r-- >0;)n[r]=a,a=t[a];return n}function Ci(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ci(t)}function Ir(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Kc=Symbol.for("v-scx"),Fc=()=>ft(Kc);function st(e,t,n){return ki(e,t,n)}function ki(e,t,n=Ae){const{immediate:s,deep:o,flush:r,once:a}=n,l=Ue({},n),c=t&&s||!t&&r!=="post";let d;if(Zn){if(r==="sync"){const m=Fc();d=m.__watcherHandles||(m.__watcherHandles=[])}else if(!c){const m=()=>{};return m.stop=Ct,m.resume=Ct,m.pause=Ct,m}}const u=Ve;l.call=(m,y,h)=>ht(m,u,y,h);let f=!1;r==="post"?l.scheduler=m=>{Ye(m,u&&u.suspense)}:r!=="sync"&&(f=!0,l.scheduler=(m,y)=>{y?m():Wo(m)}),l.augmentJob=m=>{t&&(m.flags|=4),f&&(m.flags|=2,u&&(m.id=u.uid,m.i=u))};const g=oc(e,t,l);return Zn&&(d?d.push(g):c&&g()),g}function Vc(e,t,n){const s=this.proxy,o=De(e)?e.includes(".")?Si(s,e):()=>s[e]:e.bind(s,s);let r;pe(t)?r=t:(r=t.handler,n=t);const a=cs(this),l=ki(o,r.bind(s),n);return a(),l}function Si(e,t){const n=t.split(".");return()=>{let s=e;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}const Gc=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${lt(t)}Modifiers`]||e[`${Jt(t)}Modifiers`];function jc(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||Ae;let o=n;const r=t.startsWith("update:"),a=r&&Gc(s,t.slice(7));a&&(a.trim&&(o=n.map(u=>De(u)?u.trim():u)),a.number&&(o=n.map(ks)));let l,c=s[l=Zs(t)]||s[l=Zs(lt(t))];!c&&r&&(c=s[l=Zs(Jt(t))]),c&&ht(c,e,6,o);const d=s[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,ht(d,e,6,o)}}function Ei(e,t,n=!1){const s=t.emitsCache,o=s.get(e);if(o!==void 0)return o;const r=e.emits;let a={},l=!1;if(!pe(e)){const c=d=>{const u=Ei(d,t,!0);u&&(l=!0,Ue(a,u))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!r&&!l?($e(e)&&s.set(e,null),null):(ie(r)?r.forEach(c=>a[c]=null):Ue(a,r),$e(e)&&s.set(e,a),a)}function Fs(e,t){return!e||!Ds(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ce(e,t[0].toLowerCase()+t.slice(1))||Ce(e,Jt(t))||Ce(e,t))}function xr(e){const{type:t,vnode:n,proxy:s,withProxy:o,propsOptions:[r],slots:a,attrs:l,emit:c,render:d,renderCache:u,props:f,data:g,setupState:m,ctx:y,inheritAttrs:h}=e,$=$s(e);let E,C;try{if(n.shapeFlag&4){const k=o||s,G=k;E=Tt(d.call(G,k,u,f,m,g,y)),C=l}else{const k=t;E=Tt(k.length>1?k(f,{attrs:l,slots:a,emit:c}):k(f,null)),C=t.props?l:qc(l)}}catch(k){Gn.length=0,Hs(k,e,1),E=ce(Qe)}let x=E;if(C&&h!==!1){const k=Object.keys(C),{shapeFlag:G}=x;k.length&&G&7&&(r&&k.some(Mo)&&(C=Wc(C,r)),x=Yt(x,C,!1,!0))}return n.dirs&&(x=Yt(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&ln(x,n.transition),E=x,$s($),E}const qc=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ds(n))&&((t||(t={}))[n]=e[n]);return t},Wc=(e,t)=>{const n={};for(const s in e)(!Mo(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function Yc(e,t,n){const{props:s,children:o,component:r}=e,{props:a,children:l,patchFlag:c}=t,d=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Rr(s,a,d):!!a;if(c&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const g=u[f];if(a[g]!==s[g]&&!Fs(d,g))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:s===a?!1:s?a?Rr(s,a,d):!0:!!a;return!1}function Rr(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let o=0;o<s.length;o++){const r=s[o];if(t[r]!==e[r]&&!Fs(n,r))return!0}return!1}function zc({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Ai=e=>e.__isSuspense;function Qc(e,t){t&&t.pendingBranch?ie(e)?t.effects.push(...e):t.effects.push(e):ic(e)}const me=Symbol.for("v-fgt"),Vs=Symbol.for("v-txt"),Qe=Symbol.for("v-cmt"),_s=Symbol.for("v-stc"),Gn=[];let ot=null;function A(e=!1){Gn.push(ot=e?null:[])}function Jc(){Gn.pop(),ot=Gn[Gn.length-1]||null}let Xn=1;function Pr(e,t=!1){Xn+=e,e<0&&ot&&t&&(ot.hasOnce=!0)}function $i(e){return e.dynamicChildren=Xn>0?ot||gn:null,Jc(),Xn>0&&ot&&ot.push(e),e}function I(e,t,n,s,o,r){return $i(i(e,t,n,s,o,r,!0))}function ls(e,t,n,s,o){return $i(ce(e,t,n,s,o,!0))}function xs(e){return e?e.__v_isVNode===!0:!1}function sn(e,t){return e.type===t.type&&e.key===t.key}const Ii=({key:e})=>e??null,ws=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?De(e)||Ge(e)||pe(e)?{i:tt,r:e,k:t,f:!!n}:e:null);function i(e,t=null,n=null,s=0,o=null,r=e===me?0:1,a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ii(t),ref:t&&ws(t),scopeId:Qa,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:tt};return l?(Xo(c,n),r&128&&e.normalize(c)):n&&(c.shapeFlag|=De(n)?8:16),Xn>0&&!a&&ot&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&ot.push(c),c}const ce=Xc;function Xc(e,t=null,n=null,s=0,o=null,r=!1){if((!e||e===wc)&&(e=Qe),xs(e)){const l=Yt(e,t,!0);return n&&Xo(l,n),Xn>0&&!r&&ot&&(l.shapeFlag&6?ot[ot.indexOf(e)]=l:ot.push(l)),l.patchFlag=-2,l}if(cu(e)&&(e=e.__vccOpts),t){t=Zc(t);let{class:l,style:c}=t;l&&!De(l)&&(t.class=ve(l)),$e(c)&&(qo(c)&&!ie(c)&&(c=Ue({},c)),t.style=bn(c))}const a=De(e)?1:Ai(e)?128:Xa(e)?64:$e(e)?4:pe(e)?2:0;return i(e,t,n,s,o,a,r,!0)}function Zc(e){return e?qo(e)||vi(e)?Ue({},e):e:null}function Yt(e,t,n=!1,s=!1){const{props:o,ref:r,patchFlag:a,children:l,transition:c}=e,d=t?eu(o||{},t):o,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:d,key:d&&Ii(d),ref:t&&t.ref?n&&r?ie(r)?r.concat(ws(t)):[r,ws(t)]:ws(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==me?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yt(e.ssContent),ssFallback:e.ssFallback&&Yt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&s&&ln(u,c.clone(u)),u}function W(e=" ",t=0){return ce(Vs,null,e,t)}function Dt(e,t){const n=ce(_s,null,e);return n.staticCount=t,n}function he(e="",t=!1){return t?(A(),ls(Qe,null,e)):ce(Qe,null,e)}function Tt(e){return e==null||typeof e=="boolean"?ce(Qe):ie(e)?ce(me,null,e.slice()):xs(e)?Gt(e):ce(Vs,null,String(e))}function Gt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Yt(e)}function Xo(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(ie(t))n=16;else if(typeof t=="object")if(s&65){const o=t.default;o&&(o._c&&(o._d=!1),Xo(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!vi(t)?t._ctx=tt:o===3&&tt&&(tt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pe(t)?(t={default:t,_ctx:tt},n=32):(t=String(t),s&64?(n=16,t=[W(t)]):n=8);e.children=t,e.shapeFlag|=n}function eu(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const o in s)if(o==="class")t.class!==s.class&&(t.class=ve([t.class,s.class]));else if(o==="style")t.style=bn([t.style,s.style]);else if(Ds(o)){const r=t[o],a=s[o];a&&r!==a&&!(ie(r)&&r.includes(a))&&(t[o]=r?[].concat(r,a):a)}else o!==""&&(t[o]=s[o])}return t}function bt(e,t,n,s=null){ht(e,t,7,[n,s])}const tu=gi();let nu=0;function su(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||tu,r={uid:nu++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Rl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bi(s,o),emitsOptions:Ei(s,o),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:s.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=jc.bind(null,r),e.ce&&e.ce(r),r}let Ve=null;const xi=()=>Ve||tt;let Rs,So;{const e=Ns(),t=(n,s)=>{let o;return(o=e[n])||(o=e[n]=[]),o.push(s),r=>{o.length>1?o.forEach(a=>a(r)):o[0](r)}};Rs=t("__VUE_INSTANCE_SETTERS__",n=>Ve=n),So=t("__VUE_SSR_SETTERS__",n=>Zn=n)}const cs=e=>{const t=Ve;return Rs(e),e.scope.on(),()=>{e.scope.off(),Rs(t)}},Or=()=>{Ve&&Ve.scope.off(),Rs(null)};function Ri(e){return e.vnode.shapeFlag&4}let Zn=!1;function ou(e,t=!1,n=!1){t&&So(t);const{props:s,children:o}=e.vnode,r=Ri(e);Rc(e,s,r,t),Lc(e,o,n||t);const a=r?ru(e,t):void 0;return t&&So(!1),a}function ru(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Cc);const{setup:s}=n;if(s){Lt();const o=e.setupContext=s.length>1?iu(e):null,r=cs(e),a=is(s,e,0,[e.props,o]),l=Ta(a);if(Mt(),r(),(l||e.sp)&&!Fn(e)&&li(e),l){if(a.then(Or,Or),t)return a.then(c=>{Dr(e,c)}).catch(c=>{Hs(c,e,0)});e.asyncDep=a}else Dr(e,a)}else Pi(e)}function Dr(e,t,n){pe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:$e(t)&&(e.setupState=ja(t)),Pi(e)}function Pi(e,t,n){const s=e.type;e.render||(e.render=s.render||Ct);{const o=cs(e);Lt();try{kc(e)}finally{Mt(),o()}}}const au={get(e,t){return qe(e,"get",""),e[t]}};function iu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,au),slots:e.slots,emit:e.emit,expose:t}}function Gs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ja(Jl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Vn)return Vn[n](e)},has(t,n){return n in t||n in Vn}})):e.proxy}function lu(e,t=!0){return pe(e)?e.displayName||e.name:e.name||t&&e.__name}function cu(e){return pe(e)&&"__vccOpts"in e}const ee=(e,t)=>nc(e,t,Zn);function Zo(e,t,n){const s=arguments.length;return s===2?$e(t)&&!ie(t)?xs(t)?ce(e,null,[t]):ce(e,t):ce(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&xs(n)&&(n=[n]),ce(e,t,n))}const uu="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eo;const Lr=typeof window<"u"&&window.trustedTypes;if(Lr)try{Eo=Lr.createPolicy("vue",{createHTML:e=>e})}catch{}const Oi=Eo?e=>Eo.createHTML(e):e=>e,du="http://www.w3.org/2000/svg",fu="http://www.w3.org/1998/Math/MathML",$t=typeof document<"u"?document:null,Mr=$t&&$t.createElement("template"),hu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const o=t==="svg"?$t.createElementNS(du,e):t==="mathml"?$t.createElementNS(fu,e):n?$t.createElement(e,{is:n}):$t.createElement(e);return e==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:e=>$t.createTextNode(e),createComment:e=>$t.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>$t.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,o,r){const a=n?n.previousSibling:t.lastChild;if(o&&(o===r||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===r||!(o=o.nextSibling)););else{Mr.innerHTML=Oi(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const l=Mr.content;if(s==="svg"||s==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ht="transition",On="animation",_n=Symbol("_vtc"),Di={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Li=Ue({},si,Di),gu=e=>(e.displayName="Transition",e.props=Li,e),js=gu((e,{slots:t})=>Zo(uc,Mi(e),t)),en=(e,t=[])=>{ie(e)?e.forEach(n=>n(...t)):e&&e(...t)},Nr=e=>e?ie(e)?e.some(t=>t.length>1):e.length>1:!1;function Mi(e){const t={};for(const _ in e)_ in Di||(t[_]=e[_]);if(e.css===!1)return t;const{name:n="v",type:s,duration:o,enterFromClass:r=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=r,appearActiveClass:d=a,appearToClass:u=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=e,y=pu(o),h=y&&y[0],$=y&&y[1],{onBeforeEnter:E,onEnter:C,onEnterCancelled:x,onLeave:k,onLeaveCancelled:G,onBeforeAppear:N=E,onAppear:b=C,onAppearCancelled:P=x}=t,D=(_,X,j,R)=>{_._enterCancelled=R,Kt(_,X?u:l),Kt(_,X?d:a),j&&j()},S=(_,X)=>{_._isLeaving=!1,Kt(_,f),Kt(_,m),Kt(_,g),X&&X()},B=_=>(X,j)=>{const R=_?b:C,ue=()=>D(X,_,j);en(R,[X,ue]),Ur(()=>{Kt(X,_?c:r),_t(X,_?u:l),Nr(R)||Hr(X,s,h,ue)})};return Ue(t,{onBeforeEnter(_){en(E,[_]),_t(_,r),_t(_,a)},onBeforeAppear(_){en(N,[_]),_t(_,c),_t(_,d)},onEnter:B(!1),onAppear:B(!0),onLeave(_,X){_._isLeaving=!0;const j=()=>S(_,X);_t(_,f),_._enterCancelled?(_t(_,g),Ao()):(Ao(),_t(_,g)),Ur(()=>{_._isLeaving&&(Kt(_,f),_t(_,m),Nr(k)||Hr(_,s,$,j))}),en(k,[_,j])},onEnterCancelled(_){D(_,!1,void 0,!0),en(x,[_])},onAppearCancelled(_){D(_,!0,void 0,!0),en(P,[_])},onLeaveCancelled(_){S(_),en(G,[_])}})}function pu(e){if(e==null)return null;if($e(e))return[io(e.enter),io(e.leave)];{const t=io(e);return[t,t]}}function io(e){return Cl(e)}function _t(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[_n]||(e[_n]=new Set)).add(t)}function Kt(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[_n];n&&(n.delete(t),n.size||(e[_n]=void 0))}function Ur(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let mu=0;function Hr(e,t,n,s){const o=e._endId=++mu,r=()=>{o===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:a,timeout:l,propCount:c}=Ni(e,t);if(!a)return s();const d=a+"end";let u=0;const f=()=>{e.removeEventListener(d,g),r()},g=m=>{m.target===e&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},l+1),e.addEventListener(d,g)}function Ni(e,t){const n=window.getComputedStyle(e),s=y=>(n[y]||"").split(", "),o=s(`${Ht}Delay`),r=s(`${Ht}Duration`),a=Br(o,r),l=s(`${On}Delay`),c=s(`${On}Duration`),d=Br(l,c);let u=null,f=0,g=0;t===Ht?a>0&&(u=Ht,f=a,g=r.length):t===On?d>0&&(u=On,f=d,g=c.length):(f=Math.max(a,d),u=f>0?a>d?Ht:On:null,g=u?u===Ht?r.length:c.length:0);const m=u===Ht&&/\b(transform|all)(,|$)/.test(s(`${Ht}Property`).toString());return{type:u,timeout:f,propCount:g,hasTransform:m}}function Br(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>Kr(n)+Kr(e[s])))}function Kr(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Ao(){return document.body.offsetHeight}function vu(e,t,n){const s=e[_n];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Ps=Symbol("_vod"),Ui=Symbol("_vsh"),es={beforeMount(e,{value:t},{transition:n}){e[Ps]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Dn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Dn(e,!0),s.enter(e)):s.leave(e,()=>{Dn(e,!1)}):Dn(e,t))},beforeUnmount(e,{value:t}){Dn(e,t)}};function Dn(e,t){e.style.display=t?e[Ps]:"none",e[Ui]=!t}const yu=Symbol(""),bu=/(^|;)\s*display\s*:/;function _u(e,t,n){const s=e.style,o=De(n);let r=!1;if(n&&!o){if(t)if(De(t))for(const a of t.split(";")){const l=a.slice(0,a.indexOf(":")).trim();n[l]==null&&Ts(s,l,"")}else for(const a in t)n[a]==null&&Ts(s,a,"");for(const a in n)a==="display"&&(r=!0),Ts(s,a,n[a])}else if(o){if(t!==n){const a=s[yu];a&&(n+=";"+a),s.cssText=n,r=bu.test(n)}}else t&&e.removeAttribute("style");Ps in e&&(e[Ps]=r?s.display:"",e[Ui]&&(s.display="none"))}const Fr=/\s*!important$/;function Ts(e,t,n){if(ie(n))n.forEach(s=>Ts(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=wu(e,t);Fr.test(n)?e.setProperty(Jt(s),n.replace(Fr,""),"important"):e[s]=n}}const Vr=["Webkit","Moz","ms"],lo={};function wu(e,t){const n=lo[t];if(n)return n;let s=lt(t);if(s!=="filter"&&s in e)return lo[t]=s;s=Ms(s);for(let o=0;o<Vr.length;o++){const r=Vr[o]+s;if(r in e)return lo[t]=r}return t}const Gr="http://www.w3.org/1999/xlink";function jr(e,t,n,s,o,r=Il(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Gr,t.slice(6,t.length)):e.setAttributeNS(Gr,t,n):n==null||r&&!Sa(n)?e.removeAttribute(t):e.setAttribute(t,r?"":St(n)?String(n):n)}function qr(e,t,n,s,o){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Oi(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?e.getAttribute("value")||"":e.value,c=n==null?e.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in e))&&(e.value=c),n==null&&e.removeAttribute(t),e._value=n;return}let a=!1;if(n===""||n==null){const l=typeof e[t];l==="boolean"?n=Sa(n):n==null&&l==="string"?(n="",a=!0):l==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(o||t)}function Pt(e,t,n,s){e.addEventListener(t,n,s)}function Tu(e,t,n,s){e.removeEventListener(t,n,s)}const Wr=Symbol("_vei");function Cu(e,t,n,s,o=null){const r=e[Wr]||(e[Wr]={}),a=r[t];if(s&&a)a.value=s;else{const[l,c]=ku(t);if(s){const d=r[t]=Au(s,o);Pt(e,l,d,c)}else a&&(Tu(e,l,a,c),r[t]=void 0)}}const Yr=/(?:Once|Passive|Capture)$/;function ku(e){let t;if(Yr.test(e)){t={};let s;for(;s=e.match(Yr);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jt(e.slice(2)),t]}let co=0;const Su=Promise.resolve(),Eu=()=>co||(Su.then(()=>co=0),co=Date.now());function Au(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;ht($u(s,n.value),t,5,[s])};return n.value=e,n.attached=Eu(),n}function $u(e,t){if(ie(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>o=>!o._stopped&&s&&s(o))}else return t}const zr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Iu=(e,t,n,s,o,r)=>{const a=o==="svg";t==="class"?vu(e,s,a):t==="style"?_u(e,n,s):Ds(t)?Mo(t)||Cu(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):xu(e,t,s,a))?(qr(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&jr(e,t,s,a,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!De(s))?qr(e,lt(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),jr(e,t,s,a))};function xu(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&zr(t)&&pe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const o=e.tagName;if(o==="IMG"||o==="VIDEO"||o==="CANVAS"||o==="SOURCE")return!1}return zr(t)&&De(n)?!1:t in e}const Hi=new WeakMap,Bi=new WeakMap,Os=Symbol("_moveCb"),Qr=Symbol("_enterCb"),Ru=e=>(delete e.props.mode,e),Pu=Ru({name:"TransitionGroup",props:Ue({},Li,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=xi(),s=ni();let o,r;return ui(()=>{if(!o.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!Nu(o[0].el,n.vnode.el,a)){o=[];return}o.forEach(Du),o.forEach(Lu);const l=o.filter(Mu);Ao(),l.forEach(c=>{const d=c.el,u=d.style;_t(d,a),u.transform=u.webkitTransform=u.transitionDuration="";const f=d[Os]=g=>{g&&g.target!==d||(!g||/transform$/.test(g.propertyName))&&(d.removeEventListener("transitionend",f),d[Os]=null,Kt(d,a))};d.addEventListener("transitionend",f)}),o=[]}),()=>{const a=_e(e),l=Mi(a);let c=a.tag||me;if(o=[],r)for(let d=0;d<r.length;d++){const u=r[d];u.el&&u.el instanceof Element&&(o.push(u),ln(u,Jn(u,l,s,n)),Hi.set(u,u.el.getBoundingClientRect()))}r=t.default?Yo(t.default()):[];for(let d=0;d<r.length;d++){const u=r[d];u.key!=null&&ln(u,Jn(u,l,s,n))}return ce(c,null,r)}}}),Ou=Pu;function Du(e){const t=e.el;t[Os]&&t[Os](),t[Qr]&&t[Qr]()}function Lu(e){Bi.set(e,e.el.getBoundingClientRect())}function Mu(e){const t=Hi.get(e),n=Bi.get(e),s=t.left-n.left,o=t.top-n.top;if(s||o){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${o}px)`,r.transitionDuration="0s",e}}function Nu(e,t,n){const s=e.cloneNode(),o=e[_n];o&&o.forEach(l=>{l.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&s.classList.add(l)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:a}=Ni(s);return r.removeChild(s),a}const zt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ie(t)?n=>vs(t,n):t};function Uu(e){e.target.composing=!0}function Jr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const it=Symbol("_assign"),wn={created(e,{modifiers:{lazy:t,trim:n,number:s}},o){e[it]=zt(o);const r=s||o.props&&o.props.type==="number";Pt(e,t?"change":"input",a=>{if(a.target.composing)return;let l=e.value;n&&(l=l.trim()),r&&(l=ks(l)),e[it](l)}),n&&Pt(e,"change",()=>{e.value=e.value.trim()}),t||(Pt(e,"compositionstart",Uu),Pt(e,"compositionend",Jr),Pt(e,"change",Jr))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:o,number:r}},a){if(e[it]=zt(a),e.composing)return;const l=(r||e.type==="number")&&!/^0\d/.test(e.value)?ks(e.value):e.value,c=t??"";l!==c&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||o&&e.value.trim()===c)||(e.value=c))}},Ki={deep:!0,created(e,t,n){e[it]=zt(n),Pt(e,"change",()=>{const s=e._modelValue,o=Tn(e),r=e.checked,a=e[it];if(ie(s)){const l=Ho(s,o),c=l!==-1;if(r&&!c)a(s.concat(o));else if(!r&&c){const d=[...s];d.splice(l,1),a(d)}}else if($n(s)){const l=new Set(s);r?l.add(o):l.delete(o),a(l)}else a(Vi(e,r))})},mounted:Xr,beforeUpdate(e,t,n){e[it]=zt(n),Xr(e,t,n)}};function Xr(e,{value:t,oldValue:n},s){e._modelValue=t;let o;if(ie(t))o=Ho(t,s.props.value)>-1;else if($n(t))o=t.has(s.props.value);else{if(t===n)return;o=an(t,Vi(e,!0))}e.checked!==o&&(e.checked=o)}const Hu={created(e,{value:t},n){e.checked=an(t,n.props.value),e[it]=zt(n),Pt(e,"change",()=>{e[it](Tn(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[it]=zt(s),t!==n&&(e.checked=an(t,s.props.value))}},Fi={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const o=$n(t);Pt(e,"change",()=>{const r=Array.prototype.filter.call(e.options,a=>a.selected).map(a=>n?ks(Tn(a)):Tn(a));e[it](e.multiple?o?new Set(r):r:r[0]),e._assigning=!0,zn(()=>{e._assigning=!1})}),e[it]=zt(s)},mounted(e,{value:t}){Zr(e,t)},beforeUpdate(e,t,n){e[it]=zt(n)},updated(e,{value:t}){e._assigning||Zr(e,t)}};function Zr(e,t){const n=e.multiple,s=ie(t);if(!(n&&!s&&!$n(t))){for(let o=0,r=e.options.length;o<r;o++){const a=e.options[o],l=Tn(a);if(n)if(s){const c=typeof l;c==="string"||c==="number"?a.selected=t.some(d=>String(d)===String(l)):a.selected=Ho(t,l)>-1}else a.selected=t.has(l);else if(an(Tn(a),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Tn(e){return"_value"in e?e._value:e.value}function Vi(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const T1={created(e,t,n){ms(e,t,n,null,"created")},mounted(e,t,n){ms(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){ms(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){ms(e,t,n,s,"updated")}};function Bu(e,t){switch(e){case"SELECT":return Fi;case"TEXTAREA":return wn;default:switch(t){case"checkbox":return Ki;case"radio":return Hu;default:return wn}}}function ms(e,t,n,s,o){const a=Bu(e.tagName,n.props&&n.props.type)[o];a&&a(e,t,n,s)}const Ku=["ctrl","shift","alt","meta"],Fu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Ku.some(n=>e[`${n}Key`]&&!t.includes(n))},He=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(o,...r)=>{for(let a=0;a<t.length;a++){const l=Fu[t[a]];if(l&&l(o,t))return}return e(o,...r)})},Vu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Gu=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=o=>{if(!("key"in o))return;const r=Jt(o.key);if(t.some(a=>a===r||Vu[a]===r))return e(o)})},ju=Ue({patchProp:Iu},hu);let ea;function qu(){return ea||(ea=Nc(ju))}const Wu=(...e)=>{const t=qu().createApp(...e),{mount:n}=t;return t.mount=s=>{const o=zu(s);if(!o)return;const r=t._component;!pe(r)&&!r.render&&!r.template&&(r.template=o.innerHTML),o.nodeType===1&&(o.textContent="");const a=n(o,!1,Yu(o));return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function Yu(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function zu(e){return De(e)?document.querySelector(e):e}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const hn=typeof document<"u";function Gi(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Qu(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Gi(e.default)}const Te=Object.assign;function uo(e,t){const n={};for(const s in t){const o=t[s];n[s]=gt(o)?o.map(e):e(o)}return n}const jn=()=>{},gt=Array.isArray,ji=/#/g,Ju=/&/g,Xu=/\//g,Zu=/=/g,ed=/\?/g,qi=/\+/g,td=/%5B/g,nd=/%5D/g,Wi=/%5E/g,sd=/%60/g,Yi=/%7B/g,od=/%7C/g,zi=/%7D/g,rd=/%20/g;function er(e){return encodeURI(""+e).replace(od,"|").replace(td,"[").replace(nd,"]")}function ad(e){return er(e).replace(Yi,"{").replace(zi,"}").replace(Wi,"^")}function $o(e){return er(e).replace(qi,"%2B").replace(rd,"+").replace(ji,"%23").replace(Ju,"%26").replace(sd,"`").replace(Yi,"{").replace(zi,"}").replace(Wi,"^")}function id(e){return $o(e).replace(Zu,"%3D")}function ld(e){return er(e).replace(ji,"%23").replace(ed,"%3F")}function cd(e){return e==null?"":ld(e).replace(Xu,"%2F")}function ts(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ud=/\/$/,dd=e=>e.replace(ud,"");function fo(e,t,n="/"){let s,o={},r="",a="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,l>-1?l:t.length),o=e(r)),l>-1&&(s=s||t.slice(0,l),a=t.slice(l,t.length)),s=pd(s??t,n),{fullPath:s+(r&&"?")+r+a,path:s,query:o,hash:ts(a)}}function fd(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function ta(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function hd(e,t,n){const s=t.matched.length-1,o=n.matched.length-1;return s>-1&&s===o&&Cn(t.matched[s],n.matched[o])&&Qi(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Cn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Qi(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!gd(e[n],t[n]))return!1;return!0}function gd(e,t){return gt(e)?na(e,t):gt(t)?na(t,e):e===t}function na(e,t){return gt(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function pd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),o=s[s.length-1];(o===".."||o===".")&&s.push("");let r=n.length-1,a,l;for(a=0;a<s.length;a++)if(l=s[a],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(a).join("/")}const Bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var ns;(function(e){e.pop="pop",e.push="push"})(ns||(ns={}));var qn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(qn||(qn={}));function md(e){if(!e)if(hn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),dd(e)}const vd=/^[^#]+#/;function yd(e,t){return e.replace(vd,"#")+t}function bd(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const qs=()=>({left:window.scrollX,top:window.scrollY});function _d(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=bd(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function sa(e,t){return(history.state?history.state.position-t:-1)+e}const Io=new Map;function wd(e,t){Io.set(e,t)}function Td(e){const t=Io.get(e);return Io.delete(e),t}let Cd=()=>location.protocol+"//"+location.host;function Ji(e,t){const{pathname:n,search:s,hash:o}=t,r=e.indexOf("#");if(r>-1){let l=o.includes(e.slice(r))?e.slice(r).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),ta(c,"")}return ta(n,e)+s+o}function kd(e,t,n,s){let o=[],r=[],a=null;const l=({state:g})=>{const m=Ji(e,location),y=n.value,h=t.value;let $=0;if(g){if(n.value=m,t.value=g,a&&a===y){a=null;return}$=h?g.position-h.position:0}else s(m);o.forEach(E=>{E(n.value,y,{delta:$,type:ns.pop,direction:$?$>0?qn.forward:qn.back:qn.unknown})})};function c(){a=n.value}function d(g){o.push(g);const m=()=>{const y=o.indexOf(g);y>-1&&o.splice(y,1)};return r.push(m),m}function u(){const{history:g}=window;g.state&&g.replaceState(Te({},g.state,{scroll:qs()}),"")}function f(){for(const g of r)g();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:d,destroy:f}}function oa(e,t,n,s=!1,o=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:o?qs():null}}function Sd(e){const{history:t,location:n}=window,s={value:Ji(e,n)},o={value:t.state};o.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,d,u){const f=e.indexOf("#"),g=f>-1?(n.host&&document.querySelector("base")?e:e.slice(f))+c:Cd()+e+c;try{t[u?"replaceState":"pushState"](d,"",g),o.value=d}catch(m){console.error(m),n[u?"replace":"assign"](g)}}function a(c,d){const u=Te({},t.state,oa(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});r(c,u,!0),s.value=c}function l(c,d){const u=Te({},o.value,t.state,{forward:c,scroll:qs()});r(u.current,u,!0);const f=Te({},oa(s.value,c,null),{position:u.position+1},d);r(c,f,!1),s.value=c}return{location:s,state:o,push:l,replace:a}}function Ed(e){e=md(e);const t=Sd(e),n=kd(e,t.state,t.location,t.replace);function s(r,a=!0){a||n.pauseListeners(),history.go(r)}const o=Te({location:"",base:e,go:s,createHref:yd.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function Ad(e){return typeof e=="string"||e&&typeof e=="object"}function Xi(e){return typeof e=="string"||typeof e=="symbol"}const Zi=Symbol("");var ra;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ra||(ra={}));function kn(e,t){return Te(new Error,{type:e,[Zi]:!0},t)}function At(e,t){return e instanceof Error&&Zi in e&&(t==null||!!(e.type&t))}const aa="[^/]+?",$d={sensitive:!1,strict:!1,start:!0,end:!0},Id=/[.+*?^${}()[\]/\\]/g;function xd(e,t){const n=Te({},$d,t),s=[];let o=n.start?"^":"";const r=[];for(const d of e){const u=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let f=0;f<d.length;f++){const g=d[f];let m=40+(n.sensitive?.25:0);if(g.type===0)f||(o+="/"),o+=g.value.replace(Id,"\\$&"),m+=40;else if(g.type===1){const{value:y,repeatable:h,optional:$,regexp:E}=g;r.push({name:y,repeatable:h,optional:$});const C=E||aa;if(C!==aa){m+=10;try{new RegExp(`(${C})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${y}" (${C}): `+k.message)}}let x=h?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;f||(x=$&&d.length<2?`(?:/${x})`:"/"+x),$&&(x+="?"),o+=x,m+=20,$&&(m+=-8),h&&(m+=-20),C===".*"&&(m+=-50)}u.push(m)}s.push(u)}if(n.strict&&n.end){const d=s.length-1;s[d][s[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&!o.endsWith("/")&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const u=d.match(a),f={};if(!u)return null;for(let g=1;g<u.length;g++){const m=u[g]||"",y=r[g-1];f[y.name]=m&&y.repeatable?m.split("/"):m}return f}function c(d){let u="",f=!1;for(const g of e){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const m of g)if(m.type===0)u+=m.value;else if(m.type===1){const{value:y,repeatable:h,optional:$}=m,E=y in d?d[y]:"";if(gt(E)&&!h)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const C=gt(E)?E.join("/"):E;if(!C)if($)g.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);u+=C}}return u||"/"}return{re:a,score:s,keys:r,parse:l,stringify:c}}function Rd(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function el(e,t){let n=0;const s=e.score,o=t.score;for(;n<s.length&&n<o.length;){const r=Rd(s[n],o[n]);if(r)return r;n++}if(Math.abs(o.length-s.length)===1){if(ia(s))return 1;if(ia(o))return-1}return o.length-s.length}function ia(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Pd={type:0,value:""},Od=/[a-zA-Z0-9_]/;function Dd(e){if(!e)return[[]];if(e==="/")return[[Pd]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${d}": ${m}`)}let n=0,s=n;const o=[];let r;function a(){r&&o.push(r),r=[]}let l=0,c,d="",u="";function f(){d&&(n===0?r.push({type:0,value:d}):n===1||n===2||n===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:d,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function g(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(d&&f(),a()):c===":"?(f(),n=1):g();break;case 4:g(),n=s;break;case 1:c==="("?n=2:Od.test(c)?g():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),f(),a(),o}function Ld(e,t,n){const s=xd(Dd(e.path),n),o=Te(s,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Md(e,t){const n=[],s=new Map;t=da({strict:!1,end:!0,sensitive:!1},t);function o(f){return s.get(f)}function r(f,g,m){const y=!m,h=ca(f);h.aliasOf=m&&m.record;const $=da(t,f),E=[h];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const G of k)E.push(ca(Te({},h,{components:m?m.record.components:h.components,path:G,aliasOf:m?m.record:h})))}let C,x;for(const k of E){const{path:G}=k;if(g&&G[0]!=="/"){const N=g.record.path,b=N[N.length-1]==="/"?"":"/";k.path=g.record.path+(G&&b+G)}if(C=Ld(k,g,$),m?m.alias.push(C):(x=x||C,x!==C&&x.alias.push(C),y&&f.name&&!ua(C)&&a(f.name)),tl(C)&&c(C),h.children){const N=h.children;for(let b=0;b<N.length;b++)r(N[b],C,m&&m.children[b])}m=m||C}return x?()=>{a(x)}:jn}function a(f){if(Xi(f)){const g=s.get(f);g&&(s.delete(f),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(f);g>-1&&(n.splice(g,1),f.record.name&&s.delete(f.record.name),f.children.forEach(a),f.alias.forEach(a))}}function l(){return n}function c(f){const g=Hd(f,n);n.splice(g,0,f),f.record.name&&!ua(f)&&s.set(f.record.name,f)}function d(f,g){let m,y={},h,$;if("name"in f&&f.name){if(m=s.get(f.name),!m)throw kn(1,{location:f});$=m.record.name,y=Te(la(g.params,m.keys.filter(x=>!x.optional).concat(m.parent?m.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&la(f.params,m.keys.map(x=>x.name))),h=m.stringify(y)}else if(f.path!=null)h=f.path,m=n.find(x=>x.re.test(h)),m&&(y=m.parse(h),$=m.record.name);else{if(m=g.name?s.get(g.name):n.find(x=>x.re.test(g.path)),!m)throw kn(1,{location:f,currentLocation:g});$=m.record.name,y=Te({},g.params,f.params),h=m.stringify(y)}const E=[];let C=m;for(;C;)E.unshift(C.record),C=C.parent;return{name:$,path:h,params:y,matched:E,meta:Ud(E)}}e.forEach(f=>r(f));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:d,removeRoute:a,clearRoutes:u,getRoutes:l,getRecordMatcher:o}}function la(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function ca(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Nd(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Nd(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function ua(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ud(e){return e.reduce((t,n)=>Te(t,n.meta),{})}function da(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function Hd(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;el(e,t[r])<0?s=r:n=r+1}const o=Bd(e);return o&&(s=t.lastIndexOf(o,s-1)),s}function Bd(e){let t=e;for(;t=t.parent;)if(tl(t)&&el(e,t)===0)return t}function tl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Kd(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<s.length;++o){const r=s[o].replace(qi," "),a=r.indexOf("="),l=ts(a<0?r:r.slice(0,a)),c=a<0?null:ts(r.slice(a+1));if(l in t){let d=t[l];gt(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function fa(e){let t="";for(let n in e){const s=e[n];if(n=id(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(gt(s)?s.map(r=>r&&$o(r)):[s&&$o(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function Fd(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=gt(s)?s.map(o=>o==null?null:""+o):s==null?s:""+s)}return t}const Vd=Symbol(""),ha=Symbol(""),Ws=Symbol(""),tr=Symbol(""),xo=Symbol("");function Ln(){let e=[];function t(s){return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function jt(e,t,n,s,o,r=a=>a()){const a=s&&(s.enterCallbacks[o]=s.enterCallbacks[o]||[]);return()=>new Promise((l,c)=>{const d=g=>{g===!1?c(kn(4,{from:n,to:t})):g instanceof Error?c(g):Ad(g)?c(kn(2,{from:t,to:g})):(a&&s.enterCallbacks[o]===a&&typeof g=="function"&&a.push(g),l())},u=r(()=>e.call(s&&s.instances[o],t,n,d));let f=Promise.resolve(u);e.length<3&&(f=f.then(d)),f.catch(g=>c(g))})}function ho(e,t,n,s,o=r=>r()){const r=[];for(const a of e)for(const l in a.components){let c=a.components[l];if(!(t!=="beforeRouteEnter"&&!a.instances[l]))if(Gi(c)){const u=(c.__vccOpts||c)[t];u&&r.push(jt(u,n,s,a,l,o))}else{let d=c();r.push(()=>d.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${a.path}"`);const f=Qu(u)?u.default:u;a.mods[l]=u,a.components[l]=f;const m=(f.__vccOpts||f)[t];return m&&jt(m,n,s,a,l,o)()}))}}return r}function ga(e){const t=ft(Ws),n=ft(tr),s=ee(()=>{const c=H(e.to);return t.resolve(c)}),o=ee(()=>{const{matched:c}=s.value,{length:d}=c,u=c[d-1],f=n.matched;if(!u||!f.length)return-1;const g=f.findIndex(Cn.bind(null,u));if(g>-1)return g;const m=pa(c[d-2]);return d>1&&pa(u)===m&&f[f.length-1].path!==m?f.findIndex(Cn.bind(null,c[d-2])):g}),r=ee(()=>o.value>-1&&Yd(n.params,s.value.params)),a=ee(()=>o.value>-1&&o.value===n.matched.length-1&&Qi(n.params,s.value.params));function l(c={}){if(Wd(c)){const d=t[H(e.replace)?"replace":"push"](H(e.to)).catch(jn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:s,href:ee(()=>s.value.href),isActive:r,isExactActive:a,navigate:l}}function Gd(e){return e.length===1?e[0]:e}const jd=ii({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ga,setup(e,{slots:t}){const n=Ot(ga(e)),{options:s}=ft(Ws),o=ee(()=>({[ma(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[ma(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&Gd(t.default(n));return e.custom?r:Zo("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),qd=jd;function Wd(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Yd(e,t){for(const n in t){const s=t[n],o=e[n];if(typeof s=="string"){if(s!==o)return!1}else if(!gt(o)||o.length!==s.length||s.some((r,a)=>r!==o[a]))return!1}return!0}function pa(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ma=(e,t,n)=>e??t??n,zd=ii({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=ft(xo),o=ee(()=>e.route||s.value),r=ft(ha,0),a=ee(()=>{let d=H(r);const{matched:u}=o.value;let f;for(;(f=u[d])&&!f.components;)d++;return d}),l=ee(()=>o.value.matched[a.value]);bs(ha,ee(()=>a.value+1)),bs(Vd,l),bs(xo,o);const c=z();return st(()=>[c.value,l.value,e.name],([d,u,f],[g,m,y])=>{u&&(u.instances[f]=d,m&&m!==u&&d&&d===g&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),d&&u&&(!m||!Cn(u,m)||!g)&&(u.enterCallbacks[f]||[]).forEach(h=>h(d))},{flush:"post"}),()=>{const d=o.value,u=e.name,f=l.value,g=f&&f.components[u];if(!g)return va(n.default,{Component:g,route:d});const m=f.props[u],y=m?m===!0?d.params:typeof m=="function"?m(d):m:null,$=Zo(g,Te({},y,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return va(n.default,{Component:$,route:d})||$}}});function va(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Qd=zd;function Jd(e){const t=Md(e.routes,e),n=e.parseQuery||Kd,s=e.stringifyQuery||fa,o=e.history,r=Ln(),a=Ln(),l=Ln(),c=Xl(Bt);let d=Bt;hn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=uo.bind(null,O=>""+O),f=uo.bind(null,cd),g=uo.bind(null,ts);function m(O,oe){let ne,re;return Xi(O)?(ne=t.getRecordMatcher(O),re=oe):re=O,t.addRoute(re,ne)}function y(O){const oe=t.getRecordMatcher(O);oe&&t.removeRoute(oe)}function h(){return t.getRoutes().map(O=>O.record)}function $(O){return!!t.getRecordMatcher(O)}function E(O,oe){if(oe=Te({},oe||c.value),typeof O=="string"){const w=fo(n,O,oe.path),L=t.resolve({path:w.path},oe),U=o.createHref(w.fullPath);return Te(w,L,{params:g(L.params),hash:ts(w.hash),redirectedFrom:void 0,href:U})}let ne;if(O.path!=null)ne=Te({},O,{path:fo(n,O.path,oe.path).path});else{const w=Te({},O.params);for(const L in w)w[L]==null&&delete w[L];ne=Te({},O,{params:f(w)}),oe.params=f(oe.params)}const re=t.resolve(ne,oe),Ee=O.hash||"";re.params=u(g(re.params));const p=fd(s,Te({},O,{hash:ad(Ee),path:re.path})),v=o.createHref(p);return Te({fullPath:p,hash:Ee,query:s===fa?Fd(O.query):O.query||{}},re,{redirectedFrom:void 0,href:v})}function C(O){return typeof O=="string"?fo(n,O,c.value.path):Te({},O)}function x(O,oe){if(d!==O)return kn(8,{from:oe,to:O})}function k(O){return b(O)}function G(O){return k(Te(C(O),{replace:!0}))}function N(O){const oe=O.matched[O.matched.length-1];if(oe&&oe.redirect){const{redirect:ne}=oe;let re=typeof ne=="function"?ne(O):ne;return typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=C(re):{path:re},re.params={}),Te({query:O.query,hash:O.hash,params:re.path!=null?{}:O.params},re)}}function b(O,oe){const ne=d=E(O),re=c.value,Ee=O.state,p=O.force,v=O.replace===!0,w=N(ne);if(w)return b(Te(C(w),{state:typeof w=="object"?Te({},Ee,w.state):Ee,force:p,replace:v}),oe||ne);const L=ne;L.redirectedFrom=oe;let U;return!p&&hd(s,re,ne)&&(U=kn(16,{to:L,from:re}),Be(re,re,!0,!1)),(U?Promise.resolve(U):S(L,re)).catch(M=>At(M)?At(M,2)?M:Ne(M):q(M,L,re)).then(M=>{if(M){if(At(M,2))return b(Te({replace:v},C(M.to),{state:typeof M.to=="object"?Te({},Ee,M.to.state):Ee,force:p}),oe||L)}else M=_(L,re,!0,v,Ee);return B(L,re,M),M})}function P(O,oe){const ne=x(O,oe);return ne?Promise.reject(ne):Promise.resolve()}function D(O){const oe=Y.values().next().value;return oe&&typeof oe.runWithContext=="function"?oe.runWithContext(O):O()}function S(O,oe){let ne;const[re,Ee,p]=Xd(O,oe);ne=ho(re.reverse(),"beforeRouteLeave",O,oe);for(const w of re)w.leaveGuards.forEach(L=>{ne.push(jt(L,O,oe))});const v=P.bind(null,O,oe);return ne.push(v),Se(ne).then(()=>{ne=[];for(const w of r.list())ne.push(jt(w,O,oe));return ne.push(v),Se(ne)}).then(()=>{ne=ho(Ee,"beforeRouteUpdate",O,oe);for(const w of Ee)w.updateGuards.forEach(L=>{ne.push(jt(L,O,oe))});return ne.push(v),Se(ne)}).then(()=>{ne=[];for(const w of p)if(w.beforeEnter)if(gt(w.beforeEnter))for(const L of w.beforeEnter)ne.push(jt(L,O,oe));else ne.push(jt(w.beforeEnter,O,oe));return ne.push(v),Se(ne)}).then(()=>(O.matched.forEach(w=>w.enterCallbacks={}),ne=ho(p,"beforeRouteEnter",O,oe,D),ne.push(v),Se(ne))).then(()=>{ne=[];for(const w of a.list())ne.push(jt(w,O,oe));return ne.push(v),Se(ne)}).catch(w=>At(w,8)?w:Promise.reject(w))}function B(O,oe,ne){l.list().forEach(re=>D(()=>re(O,oe,ne)))}function _(O,oe,ne,re,Ee){const p=x(O,oe);if(p)return p;const v=oe===Bt,w=hn?history.state:{};ne&&(re||v?o.replace(O.fullPath,Te({scroll:v&&w&&w.scroll},Ee)):o.push(O.fullPath,Ee)),c.value=O,Be(O,oe,ne,v),Ne()}let X;function j(){X||(X=o.listen((O,oe,ne)=>{if(!F.listening)return;const re=E(O),Ee=N(re);if(Ee){b(Te(Ee,{replace:!0,force:!0}),re).catch(jn);return}d=re;const p=c.value;hn&&wd(sa(p.fullPath,ne.delta),qs()),S(re,p).catch(v=>At(v,12)?v:At(v,2)?(b(Te(C(v.to),{force:!0}),re).then(w=>{At(w,20)&&!ne.delta&&ne.type===ns.pop&&o.go(-1,!1)}).catch(jn),Promise.reject()):(ne.delta&&o.go(-ne.delta,!1),q(v,re,p))).then(v=>{v=v||_(re,p,!1),v&&(ne.delta&&!At(v,8)?o.go(-ne.delta,!1):ne.type===ns.pop&&At(v,20)&&o.go(-1,!1)),B(re,p,v)}).catch(jn)}))}let R=Ln(),ue=Ln(),J;function q(O,oe,ne){Ne(O);const re=ue.list();return re.length?re.forEach(Ee=>Ee(O,oe,ne)):console.error(O),Promise.reject(O)}function Le(){return J&&c.value!==Bt?Promise.resolve():new Promise((O,oe)=>{R.add([O,oe])})}function Ne(O){return J||(J=!O,j(),R.list().forEach(([oe,ne])=>O?ne(O):oe()),R.reset()),O}function Be(O,oe,ne,re){const{scrollBehavior:Ee}=e;if(!hn||!Ee)return Promise.resolve();const p=!ne&&Td(sa(O.fullPath,0))||(re||!ne)&&history.state&&history.state.scroll||null;return zn().then(()=>Ee(O,oe,p)).then(v=>v&&_d(v)).catch(v=>q(v,O,oe))}const de=O=>o.go(O);let T;const Y=new Set,F={currentRoute:c,listening:!0,addRoute:m,removeRoute:y,clearRoutes:t.clearRoutes,hasRoute:$,getRoutes:h,resolve:E,options:e,push:k,replace:G,go:de,back:()=>de(-1),forward:()=>de(1),beforeEach:r.add,beforeResolve:a.add,afterEach:l.add,onError:ue.add,isReady:Le,install(O){const oe=this;O.component("RouterLink",qd),O.component("RouterView",Qd),O.config.globalProperties.$router=oe,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>H(c)}),hn&&!T&&c.value===Bt&&(T=!0,k(o.location).catch(Ee=>{}));const ne={};for(const Ee in Bt)Object.defineProperty(ne,Ee,{get:()=>c.value[Ee],enumerable:!0});O.provide(Ws,oe),O.provide(tr,Fa(ne)),O.provide(xo,c);const re=O.unmount;Y.add(O),O.unmount=function(){Y.delete(O),Y.size<1&&(d=Bt,X&&X(),X=null,c.value=Bt,T=!1,J=!1),re()}}};function Se(O){return O.reduce((oe,ne)=>oe.then(()=>D(ne)),Promise.resolve())}return F}function Xd(e,t){const n=[],s=[],o=[],r=Math.max(t.matched.length,e.matched.length);for(let a=0;a<r;a++){const l=t.matched[a];l&&(e.matched.find(d=>Cn(d,l))?s.push(l):n.push(l));const c=e.matched[a];c&&(t.matched.find(d=>Cn(d,c))||o.push(c))}return[n,s,o]}function In(){return ft(Ws)}function Zd(e){return ft(tr)}const fe={BASE_URL:"http://localhost:8080",AUTH:{LOGIN:"/api/auth/log-in",LOGOUT:"/api/auth/log-out",STATUS:"/api/auth/status",VALIDATE_TOKEN:"/api/auth/validate-token"},PASSWORD_RESET:{SEND_OTP:"/api/forgot-password/send-otp",VERIFY_OTP:"/api/forgot-password/verify-otp",RESET_PASSWORD:"/api/forgot-password/reset-password"},USER:{REGISTER:"/api/khachhang/register",GET_BY_ID:"/api/nguoidung/{maNguoiDung}",GET_BY_EMAIL:"/api/nguoidung/email/{email}",UPDATE:"/api/nguoidung/{maNguoiDung}",DELETE:"/api/nguoidung/{maNguoiDung}",CHECK_EMAIL:"/api/nguoidung/check-email/{email}",CHECK_ID:"/api/nguoidung/check-id/{maNguoiDung}"},OAUTH2:{GET_JWT_TOKEN:"/api/oauth2/get-jwt-token",USER_INFO:"/api/oauth2/user-info",SUCCESS:"/api/oauth2/success",FAILURE:"/api/oauth2/failure",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",TEST_CONFIG:"/api/oauth2/test-config",LOGOUT_DEPRECATED:"/api/oauth2/logout"},AUTHORIZATION:{GOOGLE:"/oauth2/authorization/google",FACEBOOK:"/oauth2/authorization/facebook"}},ef=e=>`${fe.BASE_URL}${e}`,It="http://localhost:8080",we={OAUTH2:{TEST_CONFIG:"/api/oauth2/test-config",USER_INFO:"/api/oauth2/user-info",ANALYZE:"/api/oauth2/analyze",CHECK_EMAIL:"/api/oauth2/check-email",CHECK_SUB:"/api/oauth2/check-sub",GET_TOKEN:"/api/oauth2/get-token",GOOGLE_CALLBACK:"/api/oauth2/callback/google",GOOGLE_REGISTER:"/api/oauth2/register/google"},CATEGORIES:{LIST:"/api/loaisanpham",BY_ID:e=>`/api/loaisanpham/${e}`},PRODUCTS:{LIST:"/api/sanpham",BY_ID:e=>`/api/sanpham/${e}`,BY_CATEGORY:e=>`/api/sanpham/category/${e}`,BY_CATEGORY_ACTIVE:e=>`/api/sanpham/category/${e}/active`,WITH_STOCK_LIST:"/api/sanpham/with-tonkho",BY_ID_WITH_STOCK:e=>`/api/sanpham/${e}/with-tonkho`},CART:{BY_CUSTOMER:e=>`/api/giohang/by-khachhang/${e}`,BY_CUSTOMER_WITH_ITEMS:e=>`/api/giohang/by-khachhang/${e}/with-items`,UPDATE_STATUS:e=>`/api/giohang/by-khachhang/${e}/status`,CLEAR_ITEMS:e=>`/api/giohang/by-khachhang/${e}/items`,SYNC:"/api/giohang/sync",CURRENT_USER:"/api/giohang/current-user"},CART_ITEMS:{ADD:"/api/giohang/items",UPDATE_QTY:e=>`/api/giohang/items/${e}/quantity`,REMOVE:e=>`/api/giohang/items/${e}`},HOADON:{CREATE_FROM_CART:"/api/hoadon/from-cart",BY_CUSTOMER:e=>`/api/hoadon/by-khachhang/${e}`,BY_ID:e=>`/api/hoadon/${e}`,UPDATE_STATUS:e=>`/api/hoadon/${e}/trangthai`},IMAGES:{PRODUCT_LIST:e=>`/api/hinhanh/product/${e}`,SERVE_IMAGE:e=>`/api/upload/serve-image/${e}`,PRODUCT_IMAGES:e=>[`/api/upload/serve-image/${e}_main.jfif`,`/api/upload/serve-image/${e}_main1.jfif`,`/api/upload/serve-image/${e}_main2.jfif`]},INVENTORY:{ALL_DETAILS:"/api/tonkhochitiet",BY_ID:e=>`/api/tonkhochitiet/${e}`,BY_PRODUCT:e=>`/api/tonkhochitiet/product/${e}`,BY_WAREHOUSE:e=>`/api/tonkhochitiet/warehouse/${e}`,COMPARE_MASP:"/api/tonkhochitiet/compare-masp"}},nr="easymart-token",tf=1,nf=(e,t,n=1,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let a=`${e}=${t||""}${r}; path=/`;s&&(a+="; Secure"),o&&(a+="; HttpOnly"),a+="; SameSite=Strict",document.cookie=a},sf=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},of=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},rf=e=>{{const t=window.location.protocol==="https:";nf(nr,e,tf,t,!1)}},Re=()=>{let e=null;return e=sf(nr),e},af=()=>{of(nr)},lf="modulepreload",cf=function(e){return"/"+e},ya={},Ke=function(t,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");o=c(n.map(d=>{if(d=cf(d),d in ya)return;ya[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const g=document.createElement("link");if(g.rel=u?"stylesheet":lf,u||(g.as="script"),g.crossOrigin="",g.href=d,l&&g.setAttribute("nonce",l),document.head.appendChild(g),u)return new Promise((m,y)=>{g.addEventListener("load",m),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return o.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},uf=(e,t,n=7,s=!1,o=!1)=>{let r="";if(n){const l=new Date;l.setTime(l.getTime()+n*24*60*60*1e3),r=`; expires=${l.toUTCString()}`}let a=`${e}=${t||""}${r}; path=/`;s&&(a+="; Secure"),o&&(a+="; HttpOnly"),a+="; SameSite=Strict",document.cookie=a},df=e=>{const t=e+"=",n=document.cookie.split(";");for(let s=0;s<n.length;s++){let o=n[s];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(t)===0)return o.substring(t.length,o.length)}return null},ff=e=>{document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Strict`},sr=(e,t)=>{uf(e,t,7,!1,!1)},pt=e=>df(e),or=e=>{ff(e)},Me=z(null),hf=ee(()=>!!Me.value),nl=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);Me.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error loading user data:",t),localStorage.removeItem("easymart-user"),Me.value=null}},ss=e=>{const t={id:e.id,name:e.name,avatar:e.avatar,role:e.role,loginMethod:e.loginMethod,displayName:e.name||e.email?.split("@")[0]||"User"};localStorage.setItem("easymart-user",JSON.stringify(t)),Me.value=e,e.triggerEvent!==!1&&window.dispatchEvent(new CustomEvent("user-updated",{detail:t}))},Ys=e=>{try{if(!e)return null;const t=JSON.parse(atob(e.split(".")[1]));return{email:t.sub,issuer:t.iss,role:t.role,exp:t.exp,iat:t.iat,raw:t}}catch(t){return console.error("Error decoding token:",t),null}},zs=e=>{try{if(!e)return!1;const t=Ys(e);if(!t)return!1;const n=Math.floor(Date.now()/1e3);return t.exp>n}catch{return!1}},gf=()=>{const e=pt("easymart-token");if(!e||!zs(e)){or("easymart-token"),localStorage.removeItem("easymart-user"),Me.value=null;return}const t=Ys(e);if(t){const n={id:null,email:t.email,name:t.email.split("@")[0],role:t.role,loginMethod:"token",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.email.split("@")[0])}&background=28a745&color=fff`,tokenInfo:{issuer:t.issuer,exp:new Date(t.exp*1e3),iat:new Date(t.iat*1e3)}};Me.value=n,console.log(" User initialized from token:",n),console.log(" Token payload:",t.raw),setTimeout(async()=>{try{console.log(" Fetching complete user info in background..."),await rl()}catch(s){console.warn(" Could not fetch complete user info in background:",s)}},1e3)}},pf=()=>{const e=pt("easymart-token");if(console.log(" Current token:",e),e){const t=Ys(e);if(console.log(" Decoded token:",t),console.log(" Token valid:",zs(e)),t&&t.exp){const n=new Date(t.exp*1e3),s=new Date;console.log(" Token expires:",n),console.log(" Current time:",s),console.log(" Time until expiry:",Math.round((n-s)/1e3/60),"minutes")}}else console.log(" No token found")},sl=async e=>{try{if(!e)return!1;const t=await fetch(`${fe.BASE_URL}/api/auth/validate-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({token:e})});if(!t.ok)return!1;const n=await t.json();if(n&&n.result&&n.result.valid===!0){const s=Me.value;return(!s||!s.id||s.email!==n.result.username)&&await ol(n.result),!0}else return!1}catch(t){return console.error(" Error validating token:",t),!1}},ol=async e=>{try{const{username:t,role:n,expiration:s}=e,o=await rr(t);if(o&&o.success&&o.user){const r={id:o.user.maNguoiDung||o.user.id,email:t,name:o.user.tenNguoiDung||o.user.hoTen||t.split("@")[0],phone:o.user.soDienThoai||o.user.sdt||"",address:o.user.diaChi||"",role:n,avatar:o.user.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(o.user.tenNguoiDung||t.split("@")[0])}&background=28a745&color=fff`,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};Me.value=r,localStorage.setItem("easymart-user",JSON.stringify(r)),window.dispatchEvent(new CustomEvent("user-updated",{detail:r}))}else{const r={id:null,email:t,name:t.split("@")[0],role:n,loginMethod:"token",tokenInfo:{expiration:new Date(s),role:n,lastValidated:new Date}};Me.value=r,localStorage.setItem("easymart-user",JSON.stringify(r))}}catch(t){console.error(" Error updating user from validation:",t)}},mf=async()=>{const e=pt("easymart-token");if(!e)return;if(!zs(e)){await Ro("Token  ht hn");return}await sl(e)||await Ro("Phin ng nhp khng hp l")},Ro=async e=>{console.log(" Performing auto-logout:",e),or("easymart-token"),localStorage.removeItem("easymart-user"),Me.value=null,alert(`${e}. Bn s c chuyn v trang ng nhp.`),window.location.href="/login"},rl=async()=>{const e=Me.value;if(!e)return console.warn(" No user logged in"),null;if(e.id)return console.log(" User already has complete info:",e.id),e;if(e.email){console.log(" Fetching user ID for:",e.email);try{const t=await rr(e.email);if(t&&t.success&&t.user){const n={...e,id:t.user.maNguoiDung||t.user.id,name:t.user.tenNguoiDung||t.user.hoTen||e.name,phone:t.user.soDienThoai||t.user.sdt||e.phone||"",address:t.user.diaChi||e.address||""};return Me.value=n,localStorage.setItem("easymart-user",JSON.stringify(n)),console.log(" User info completed with ID:",n.id),n}}catch(t){console.error(" Error fetching complete user info:",t)}}return console.warn(" Could not complete user info"),e},vf=()=>{const e=localStorage.getItem("easymart-user");if(e)try{const t=JSON.parse(e);Me.value={...t,email:null,phone:null,totalOrders:0,totalSpent:0,joinDate:null}}catch(t){console.error("Error reloading user data:",t),localStorage.removeItem("easymart-user"),Me.value=null}},yf=async()=>{try{const e=pt("easymart-token");if(!e)return null;const t=await je(fe.USER.GET_BY_ID,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(t&&t.result)return Me.value=t.result,ss(t.result),t.result}catch(e){return console.error("Error fetching full user data:",e),null}},Cs=async()=>{try{const e=pt("easymart-token");if(!e)throw new Error("Khng c token xc thc");console.log(" Validating token for profile access..."),console.log(" Step 1: Calling validate-token API...");const t=await je(fe.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})});if(console.log(" Validate token response:",t),!t?.result?.valid)throw new Error("Token khng hp l hoc  ht hn");const{username:n,role:s,expiration:o}=t.result;console.log(" Token validated:",{username:n,role:s,expiration:o}),console.log(" Step 2: Calling GET_BY_EMAIL API...");const r=fe.USER.GET_BY_EMAIL.replace("{email}",n);console.log(" Email endpoint:",r);const a=await je(r,{method:"GET"});console.log(" User response:",a);let l=null;if(a?.result)l=a.result;else if(a?.data)l=a.data;else if(a?.maNguoiDung)l=a;else throw console.error(" Unexpected user response format:",a),new Error("Response format khng ng t API ngi dng");const{maNguoiDung:c,vaiTro:d}=l;if(console.log(" User info retrieved:",{maNguoiDung:c,vaiTro:d}),!c)throw new Error("Khng tm thy m ngi dng trong response");console.log(" Step 3: Calling customer API..."),console.log(" Step 3: Calling customer API...");let u=null,f=null;const g=[`/api/khachhang/by-nguoidung/${c}`,`/api/khachhang/${c}`,`/api/nguoidung/${c}`];for(let h=0;h<g.length;h++){const $=g[h];console.log(` Trying endpoint ${h+1}: ${$}`);try{const E=`${fe.BASE_URL}${$}`;if(console.log(` Full URL: ${E}`),f=await fetch(E,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),console.log(` Response ${h+1} status:`,f.status),console.log(` Response ${h+1} redirected:`,f.redirected),f.ok){const C=f.headers.get("content-type");if(console.log(` Response ${h+1} Content-Type:`,C),C&&C.includes("application/json")){const x=await f.json();if(console.log(` Endpoint ${h+1} success:`,x),x?.hoTen)console.log(" Response c hoTen - format customer data"),u={hoTen:x.hoTen,soDienThoai:x.sdt,ngaySinh:x.ngaySinh,diaChi:x.diaChi,ngayTao:x.ngayDangKy,tongDonHang:0,tongChiTieu:0,maKH:x.maKH,diemTichLuy:x.diemTichLuy,loaiKhachHang:x.loaiKhachHang,nguoiDung:x.nguoiDung,sdt:x.sdt};else if(x?.token){console.log(" Response ch c token - cn x l khc cho Google OAuth2 user");try{console.log(" Gi API /api/nguoidung  ly customer info...");const k=await fetch(`${fe.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(k.ok){const G=await k.json();console.log(" Customer info t /api/nguoidung:",G),u={hoTen:G.tenNguoiDung||n.split("@")[0],soDienThoai:G.soDienThoai||"",ngaySinh:G.ngaySinh||null,diaChi:G.diaChi||"",ngayTao:G.ngayTao||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:G.maNguoiDung,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:G.soDienThoai||""}}else{console.log(" Khng th ly customer info t /api/nguoidung");continue}}catch(k){console.log(" Li khi gi /api/nguoidung:",k.message);continue}}else if(x?.result)u=x.result;else if(x?.data)u=x.data;else if(console.log(" Response khng c hoTen, token, result, data - c th l Google OAuth2 user"),n.includes("@gmail.com")||n.includes("@fpt.edu.vn")){console.log(" Detected Google OAuth2 user, calling /api/nguoidung...");try{console.log(" Gi API /api/nguoidung  ly customer info...");const G=await fetch(`${fe.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(G.ok){const N=await G.json();console.log(" Customer info t /api/nguoidung:",N);let b="",P="";N.soDienThoai?b=N.soDienThoai:N.sdt?b=N.sdt:N.phone?b=N.phone:N.dienThoai&&(b=N.dienThoai),N.diaChi?P=N.diaChi:N.address?P=N.address:N.diaChiChiTiet&&(P=N.diaChiChiTiet),u={hoTen:N.tenNguoiDung||N.hoTen||n.split("@")[0],soDienThoai:b,ngaySinh:N.ngaySinh||null,diaChi:P,ngayTao:N.ngayTao||N.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:N.maNguoiDung||N.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:b}}else{console.log(" Khng th ly customer info t /api/nguoidung");continue}}catch(G){console.log(" Li khi gi /api/nguoidung:",G.message);continue}}else{console.log(` Endpoint ${h+1} response format khng xc nh:`,x);continue}console.log(` Found working endpoint: ${$}`);break}else{const x=await f.text();console.log(` Endpoint ${h+1} returned non-JSON:`,x.substring(0,200));continue}}else if(f.redirected)if(console.log(` Endpoint ${h+1} was redirected - trying /api/nguoidung directly...`),n.includes("@gmail.com")||n.includes("@fpt.edu.vn"))try{const x=await fetch(`${fe.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(x.ok){const k=await x.json();console.log(" Direct call to /api/nguoidung successful");let G=k.soDienThoai||k.sdt||k.phone||k.dienThoai||"",N=k.diaChi||k.address||k.diaChiChiTiet||"";u={hoTen:k.tenNguoiDung||k.hoTen||n.split("@")[0],soDienThoai:G,ngaySinh:k.ngaySinh||null,diaChi:N,ngayTao:k.ngayTao||k.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:k.maNguoiDung||k.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:G},console.log(" Found working solution: direct call to /api/nguoidung");break}else{console.log(" Direct call to /api/nguoidung failed with status:",x.status);continue}}catch(x){console.log(" Error in direct call to /api/nguoidung:",x.message);continue}else{console.log(` Endpoint ${h+1} failed with status:`,f.status);continue}else{console.log(` Endpoint ${h+1} failed with status:`,f.status);continue}}catch(E){console.log(` Endpoint ${h+1} error:`,E.message);continue}}if(!u)if(console.log(" No working customer endpoint found, creating basic data"),n.includes("@gmail.com")||n.includes("@fpt.edu.vn")){console.log(" Fallback: Creating OAuth2 user data structure");try{console.log(" Fallback: Th gi /api/nguoidung mt ln na...");const $=await fetch(`${fe.BASE_URL}/api/nguoidung/${c}`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if($.ok){const E=await $.json();console.log(" Fallback: Customer info t /api/nguoidung");let C=E.soDienThoai||E.sdt||E.phone||E.dienThoai||"",x=E.diaChi||E.address||E.diaChiChiTiet||"";u={hoTen:E.tenNguoiDung||E.hoTen||n.split("@")[0],soDienThoai:C,ngaySinh:E.ngaySinh||null,diaChi:x,ngayTao:E.ngayTao||E.ngayDangKy||new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,maKH:E.maNguoiDung||E.maKH||c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:C}}else console.log(" Fallback: Khng th ly customer info t /api/nguoidung"),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:""}}catch($){console.log(" Fallback: Li khi gi /api/nguoidung:",$.message),u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:"",maKH:c,diemTichLuy:0,loaiKhachHang:"OAuth2 User",sdt:""}}}else u={hoTen:n.split("@")[0],soDienThoai:"",ngayTao:new Date().toISOString().split("T")[0],tongDonHang:0,tongChiTieu:0,diaChi:""};console.log(" Final customer data:",u);const m=u.loaiKhachHang==="OAuth2 User",y={id:c,name:u.hoTen||n.split("@")[0],email:n,phone:u.soDienThoai||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(u.hoTen||n.split("@")[0])}&background=007bff&color=fff`,joinDate:u.ngayTao||new Date().toISOString().split("T")[0],totalOrders:u.tongDonHang||0,totalSpent:u.tongChiTieu||0,role:d===3?"CUSTOMER":"USER",loginMethod:m?"google":"traditional",customerInfo:u,userRole:d,userCode:c};return Me.value=y,ss({...y,triggerEvent:!1}),console.log(" Profile validation completed successfully"),{success:!0,user:y}}catch(e){return console.error(" Profile validation failed:",e),(e.message.includes("Token khng hp l")||e.message.includes("Khng c token"))&&ll(),{success:!1,error:e.message}}},bf=async e=>{try{const t=pt("easymart-token");if(!t)throw new Error("Khng c token xc thc");const n=await Cs();if(!n.success)throw new Error(n.error);const{userCode:s}=Me.value,o=`${fe.BASE_URL}/api/khachhang/by-nguoidung/${s}`;console.log(" Update customer endpoint:",o),console.log(" Update data being sent:",e);const r=await fetch(o,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(e)});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const a=await r.json();if(console.log(" Update response:",a),a?.success||a?.result?.success||a?.message?.includes("thnh cng"))return console.log(" Update successful, refreshing user data..."),await Cs(),{success:!0,message:"Cp nht profile thnh cng!"};if(console.log(" Update response format unexpected:",a),r.ok)return console.log(" Update successful (status 200), refreshing user data..."),await Cs(),{success:!0,message:"Cp nht profile thnh cng!"};throw new Error(a?.message||a?.error||"Cp nht profile tht bi")}catch(t){return console.error(" Update profile failed:",t),{success:!1,error:t.message}}},je=async(e,t={})=>{try{const n=await fetch(ef(e),{headers:{"Content-Type":"application/json",...t.headers},...t});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(n){throw console.error("API call error:",n),n}},_f=async(e,t)=>{try{if(e==="demo@easymart.vn"){const n={id:"DEMO_USER",name:"Demo User",email:e,phone:"0123456789",avatar:"https://ui-avatars.com/api/?name=Demo+User&background=007bff&color=fff",joinDate:new Date().toISOString().split("T")[0],totalOrders:5,totalSpent:15e5,role:"USER",loginMethod:"traditional"};return ss(n),{success:!0,user:n}}try{const n=await je(fe.AUTH.LOGIN,{method:"POST",body:JSON.stringify({email:e,matKhau:t})});if(n&&n.result&&n.result.authenticated){const s=n.result;s.token&&sr("easymart-token",s.token);const o={id:"USER_"+Date.now(),name:e.split("@")[0],email:e,phone:"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.split("@")[0])}&background=007bff&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"};ss(o);try{const r=await Ke(()=>Promise.resolve().then(()=>ur),void 0);if(r&&typeof r.useCart=="function"){const{syncLocalCartToDBViaEndpoint:a,persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=r.useCart();if(a?!(await a())?.success&&l&&await l():l&&await l(),c){const u=pt("easymart-token"),f="cart-merged-for-token";u&&sessionStorage.getItem(f)!==u&&(!await c()&&d&&await d(),sessionStorage.setItem(f,u))}}}catch(r){console.warn("Cart merge after login failed (non-blocking):",r?.message||r)}return{success:!0,user:o,message:s.message}}else return{success:!1,error:n?.result?.message||"Email hoc mt khu khng ng"}}catch(n){return console.error("Login API error:",n),{success:!1,error:"ng nhp tht bi. Vui lng kim tra li thng tin."}}}catch(n){return console.error("Login error:",n),{success:!1,error:"ng nhp tht bi. Vui lng th li."}}},wf=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Google OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Google credential payload:",t),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google login error:",t),{success:!1,error:"ng nhp vi Google tht bi. Vui lng th li."}}},Tf=async e=>{try{if(e.redirect)return{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Facebook OAuth2..."};if(e.credential){const t=JSON.parse(atob(e.credential.split(".")[1]));return console.log("Legacy Facebook credential payload:",t),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}}return{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook login error:",t),{success:!1,error:"ng nhp vi Facebook tht bi. Vui lng th li."}}},Cf=async(e,t,n="",s,o,r="")=>{try{if(s!==o)return{success:!1,error:"Mt khu khng khp!"};if(n&&n.trim()&&!/^[0-9]{10,11}$/.test(n))return{success:!1,error:"S in thoi phi c 10-11 ch s!"};try{const c=await il(t);if(c&&c.exists)return{success:!1,error:"Email  tn ti trong h thng!"}}catch(c){console.warn("Email check failed, proceeding anyway:",c)}const a={email:t,matKhau:s,hoTen:e,sdt:n||"",diaChi:r||""};console.log(" Sending register data:",a);const l=await je(fe.USER.REGISTER,{method:"POST",body:JSON.stringify(a)});if(console.log(" Received register response:",l),l&&l.login_info&&l.login_info.email){const c=l.login_info;return{success:!0,user:{id:"CUSTOMER_"+Date.now(),name:e,email:c.email,phone:n||"",address:r||"",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e)}&background=28a745&color=fff`,joinDate:new Date().toISOString().split("T")[0],totalOrders:0,totalSpent:0,role:"USER",loginMethod:"traditional"},message:c.message||"ng k thnh cng! Vui lng ng nhp  tip tc."}}else return{success:!1,error:"ng k tht bi - Khng nhn c thng tin xc nhn t server"}}catch(a){return console.error("Register error:",a),{success:!1,error:"ng k tht bi. Vui lng th li."}}},kf=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Google OAuth2..."}:e.credential?(console.log("Legacy Google register credential"),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Google register error:",t),{success:!1,error:"ng k vi Google tht bi. Vui lng th li."}}},Sf=async e=>{try{return e.redirect?{success:!0,redirect:!0,message:e.message||"ang chuyn hng ti Facebook OAuth2..."}:e.credential?(console.log("Legacy Facebook register credential"),{success:!1,error:"Vui lng s dng OAuth2 flow mi"}):{success:!1,error:"Invalid response format"}}catch(t){return console.error("Facebook register error:",t),{success:!1,error:"ng k vi Facebook tht bi. Vui lng th li."}}},Ef=async()=>{try{const e=await je(fe.OAUTH2.GET_JWT_TOKEN);if(e.success)return sr("easymart-token",e.result.jwt_token),e.result;throw new Error(e.message||"Khng th ly JWT token")}catch(e){throw console.error("Get JWT token error:",e),e}},Af=async()=>{try{const e=pt("easymart-token");if(!e)throw new Error("Khng c token xc thc");const t=await je(fe.OAUTH2.USER_INFO,{headers:{Authorization:`Bearer ${e}`}});if(t.success)return t.result;throw new Error(t.message||"Khng th ly thng tin user")}catch(e){throw console.error("Get user info error:",e),e}},$f=async()=>{try{return await je(fe.OAUTH2.TEST_CONFIG)}catch(e){throw console.error("Test OAuth2 config error:",e),e}},al=async e=>{try{return await je(`${fe.OAUTH2.CHECK_EMAIL}?email=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check email duplicate error:",t),t}},il=async e=>{try{const t=fe.USER.CHECK_EMAIL.replace("{email}",encodeURIComponent(e));return await je(t)}catch(t){throw console.error("Check user email exists error:",t),t}},rr=async e=>{try{const t=fe.USER.GET_BY_EMAIL.replace("{email}",encodeURIComponent(e));return await je(t)}catch(t){throw console.error("Get user by email error:",t),t}},If=async e=>{try{return await je(`${fe.OAUTH2.CHECK_SUB}?sub=${encodeURIComponent(e)}`)}catch(t){throw console.error("Check OAuth2 sub error:",t),t}},xf=async()=>{try{const e=pt("easymart-token");return e?await je(fe.AUTH.STATUS,{method:"GET",headers:{Authorization:`Bearer ${e}`}}):{success:!1,error:"No token found"}}catch(e){return console.error("Check auth status error:",e),{success:!1,error:"Failed to check auth status"}}},Rf=async e=>{try{return await je(fe.AUTH.VALIDATE_TOKEN,{method:"POST",body:JSON.stringify({token:e})})}catch(t){return console.error("Validate token error:",t),{success:!1,error:"Token validation failed"}}},Pf=async()=>{try{const e=pt("easymart-token"),t=localStorage.getItem("easymart-user");if(e&&t){const r=JSON.parse(t);try{const a=await Ke(()=>Promise.resolve().then(()=>ur),void 0);if(a&&typeof a.useCart=="function"){const{persistLocalToBackend:l,reloadCartFromBackend:c,mergeWithBackendOnLogin:d}=a.useCart();if(l&&await l(),c){const u="cart-merged-for-token";sessionStorage.getItem(u)!==e&&(!await c()&&d&&await d(),sessionStorage.setItem(u,e))}}}catch(a){console.warn("Cart merge after OAuth2 login failed (non-blocking):",a?.message||a)}return{success:!0,user:r}}const n=new URLSearchParams(window.location.search),s=n.get("code"),o=n.get("error");if(o)return console.error("OAuth2 error:",o),{success:!1,error:`OAuth2 li: ${o}`};if(s){console.log("Legacy OAuth2 callback with code:",s);try{const r=await je(fe.OAUTH2.USER_INFO),a=await je(fe.OAUTH2.GET_JWT_TOKEN);if(r.success&&a.success){const l=r.result,c=a.result,d=l.email||c.user_email,u=await al(d);if(u.success&&u.result.exists){const f={id:l.maNguoiDung||c.user_info?.maNguoiDung||"OAUTH_USER",name:l.tenNguoiDung||c.user_info?.tenNguoiDung||"OAuth User",email:d,phone:l.soDienThoai||c.user_info?.soDienThoai||"",avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||"OAuth User")}&background=007bff&color=fff`,joinDate:l.ngayTao||new Date().toISOString().split("T")[0],totalOrders:l.tongDonHang||0,totalSpent:l.tongChiTieu||0,role:l.vaiTro||c.user_role||"USER",loginMethod:"google",sub:l.sub||c.user_info?.sub};return sr("easymart-token",c.jwt_token),ss(f),{success:!0,user:f}}else return{success:!1,needsRegistration:!0,error:"Ti khon cha tn ti. Vui lng ng k trc.",userInfo:{name:l.tenNguoiDung||c.user_info?.tenNguoiDung||"OAuth User",email:d,avatar:l.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(l.tenNguoiDung||"OAuth User")}&background=007bff&color=fff`}}}}catch(r){return console.error("Failed to get user info from APIs:",r),{success:!1,error:"Khng th ly thng tin user t backend"}}}return null}catch(e){return console.error("OAuth2 callback error:",e),{success:!1,error:"X l OAuth2 callback tht bi"}}},ll=async()=>{try{try{const t=await Ke(()=>Promise.resolve().then(()=>ur),void 0);t&&typeof t.useCart=="function"&&(t.useCart().cart.value=[],console.log("[LOGOUT] Cart local state cleared, backend cart preserved"))}catch(t){console.warn("Clear cart state on logout failed (non-blocking):",t?.message||t)}try{localStorage.removeItem("easymart-selected-items"),localStorage.removeItem("easymart-redirect-after-login")}catch{}const e=pt("easymart-token");if(e)try{await je(fe.AUTH.LOGOUT,{method:"POST",headers:{Authorization:`Bearer ${e}`}})}catch(t){console.warn("Logout API call failed:",t)}return localStorage.removeItem("easymart-user"),or("easymart-token"),localStorage.removeItem("easymart-user-email"),localStorage.removeItem("easymart-user-role"),localStorage.removeItem("easymart-user-id"),sessionStorage.removeItem("oauth2-frontend-redirect"),sessionStorage.removeItem("google-credential"),sessionStorage.removeItem("oauth2-login-mode"),sessionStorage.removeItem("google-user-info"),sessionStorage.removeItem("pending-oauth-user-info"),sessionStorage.removeItem("pending-google-credential"),sessionStorage.removeItem("pending-facebook-credential"),Me.value=null,{success:!0}}catch(e){return console.error("Logout error:",e),localStorage.clear(),sessionStorage.clear(),Me.value=null,{success:!1,error:"ng xut c li, nhng  xa d liu local"}}};nl();function os(){return{user:Me,isLoggedIn:hf,login:_f,loginWithGoogle:wf,loginWithFacebook:Tf,register:Cf,registerWithGoogle:kf,registerWithFacebook:Sf,logout:ll,loadUser:nl,forceReloadUser:vf,getJWTToken:Ef,getUserInfo:Af,testOAuth2Config:$f,checkEmailDuplicate:al,checkUserEmailExists:il,getUserByEmail:rr,checkOAuth2Sub:If,checkAuthStatus:xf,validateToken:Rf,handleOAuth2Callback:Pf,fetchFullUserData:yf,validateProfileAccess:Cs,updateCustomerProfile:bf,decodeToken:Ys,isTokenValid:zs,initUserFromToken:gf,debugCurrentToken:pf,checkTokenValidity:sl,autoLogoutIfInvalid:mf,performAutoLogout:Ro,updateUserFromValidation:ol,ensureUserComplete:rl}}const be=z([]),Sn=z(null),En=z(!1),cl=()=>{be.value=[]},us=()=>{},kt=()=>{const e=Re();return e?{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"}},Of=e=>be.value.find(t=>t.productId===e),Df=ee(()=>be.value.reduce((e,t)=>e+t.quantity,0)),Lf=ee(()=>be.value.reduce((e,t)=>e+(t.product?.price||0)*t.quantity,0)),{user:nn,ensureUserComplete:Mf,validateProfileAccess:Nf}=os(),Qt=async()=>{try{const n=await fetch(`${fe.BASE_URL}${we.CART.CURRENT_USER}`,{headers:kt()});if(n.ok){const o=(await n.json().catch(()=>null))?.maKH||null;try{console.log("[CART][RESOLVE_KH] source=current-user maKH=",o)}catch{}if(o)return o}}catch{}if(!nn.value)return null;if(nn.value?.customerInfo?.maKH){try{console.log("[CART][RESOLVE_KH] source=customerInfo maKH=",nn.value.customerInfo.maKH)}catch{}return nn.value.customerInfo.maKH}const e=await Mf().catch(()=>nn.value);if(!e?.customerInfo?.maKH)try{await Nf()}catch{}const t=nn.value?.customerInfo?.maKH||null;try{console.log("[CART][RESOLVE_KH] userId=",e?.id,"maKH=",t)}catch{}return t},rs=async e=>{try{const t=Re();if(!t)return console.warn("[CART][PULL_ITEMS] No token available"),[];const n=`${fe.BASE_URL}${we.CART.BY_CUSTOMER_WITH_ITEMS(e)}`;console.log("[CART][PULL_ITEMS][REQ]",n,"with token:",t.substring(0,20)+"...");const s=await fetch(n,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!s.ok){console.error("[CART][PULL_ITEMS][FAIL] status=",s.status,"statusText=",s.statusText);const a=await s.text().catch(()=>"Unable to read response");if(console.error("[CART][PULL_ITEMS][RESPONSE_BODY]",a),s.status===401)return console.error("[CART][PULL_ITEMS] Unauthorized - token may be invalid"),[];if(s.status===404){console.error("[CART][PULL_ITEMS] With-items endpoint not found, trying basic cart endpoint...");const l=`${fe.BASE_URL}${we.CART.BY_CUSTOMER(e)}`;console.log("[CART][PULL_ITEMS][FALLBACK] Trying basic endpoint:",l);const c=await fetch(l,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(c.ok){const d=await c.json().catch(()=>({}));return console.log("[CART][PULL_ITEMS][FALLBACK] Basic cart data:",d),Array.isArray(d)?(console.warn("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned empty array - endpoint may be incorrect"),[]):d&&typeof d=="object"?(console.log("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned cart info:",d),[]):(console.warn("[CART][PULL_ITEMS][FALLBACK] Basic endpoint returned unexpected format:",d),[])}else{console.error("[CART][PULL_ITEMS][FALLBACK] Basic endpoint also failed:",c.status),console.log("[CART][PULL_ITEMS][FINAL_FALLBACK] Both endpoints failed, attempting to create cart via add endpoint...");try{const d=`${fe.BASE_URL}${we.CART_ITEMS.ADD}`,u=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({maSP:"DUMMY_SP",soLuong:1,donGiaHienTai:0})});if(u.ok){console.log("[CART][PULL_ITEMS][FINAL_FALLBACK] Successfully created cart via add endpoint");const f=await u.json().catch(()=>({}));return f.itemId&&await fetch(`${fe.BASE_URL}${we.CART_ITEMS.REMOVE(f.itemId)}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).catch(()=>{}),[]}else return console.warn("[CART][PULL_ITEMS][FINAL_FALLBACK] Failed to create cart via add endpoint:",u.status),[]}catch(d){return console.error("[CART][PULL_ITEMS][FINAL_FALLBACK] Error in final fallback:",d),[]}}}else return console.error("[CART][PULL_ITEMS] Other error status:",s.status),[]}const o=await s.json().catch(()=>({})),r=o?.items||[];return console.log("[CART][PULL_ITEMS][OK] maKH=",e,"count=",r.length,"tongTien=",o.tongTien),r.map(a=>({productId:a.sanPham?.maSP||a.maSP||a.productId,quantity:a.soLuong||a.quantity||1,itemId:a.maGHCT||a.maGioHangChiTiet||a.maCTGH||a.id||a.itemId,price:a.donGiaHienTai||0,product:a.sanPham||a.product||null,originalData:a}))}catch(t){return console.error("[CART][PULL_ITEMS][EXCEPTION]",t),[]}},ul=async()=>{if(!Re())return;const t=await Qt();if(!t)return;Sn.value=t;const n=await Qs();if(n&&n.maKH)console.log("[CART][MERGE] Sync successful"),await An();else{const s=await rs(t);be.value=s}En.value=!0},Uf=async()=>{await dl()},An=async()=>{if(!Re()){try{console.warn("[CART][RELOAD] No token available")}catch{}return!1}const t=await Qt();if(!t){try{console.warn("[CART][RELOAD] Could not resolve customer ID")}catch{}return!1}Sn.value=t;const n=await rs(t);be.value=Array.isArray(n)?n:[],En.value=!0;try{console.log("[CART][RELOAD] maKH=",t,"itemsCount=",be.value.length),be.value.length===0&&console.log("[CART][RELOAD] Cart is empty - this may be normal if backend endpoints are not fully implemented yet")}catch{}return!0},dl=async()=>{if(Re()){try{console.log("[GIOHANG][PERSIST_LOGOUT] local cart disabled, clearing state")}catch{}try{const t=await Qs();if(t&&t.maKH){console.log("[GIOHANG][PERSIST_LOGOUT] Sync successful, using maKH:",t.maKH),Sn.value=t.maKH,be.value=[],us();return}}catch(t){console.error("[GIOHANG][PERSIST_LOGOUT] Sync error:",t)}be.value=[]}},Qs=async()=>{try{const e=be.value.filter(s=>!s.inactive);if(e.length===0)return console.log("[CART][SYNC] No active items to sync"),null;const t={items:e.map(s=>({maSP:s.productId,soLuong:s.quantity}))};console.log("[CART][SYNC] Syncing items:",t);const n=await fetch(`${fe.BASE_URL}${we.CART.SYNC}`,{method:"POST",headers:kt(),body:JSON.stringify(t)});if(n.ok){const s=await n.json();return console.log("[CART][SYNC][SUCCESS]",s),{maKH:s.maKH,items:s.items||[],tongTien:s.tongTien||0}}else{const s=await n.json().catch(()=>({message:"Unknown error"}));throw console.error("[CART][SYNC][ERROR]",n.status,s),new Error(`Sync failed: ${s.message}`)}}catch(e){return console.error("[CART][SYNC][EXCEPTION]",e),null}},Hf=async()=>{try{console.log(" [CART][TEST] Testing cart API connection...");const e=Re();if(!e)return console.error(" [CART][TEST] No token found"),{success:!1,error:"No authentication token"};console.log(" [CART][TEST] Token found:",e.substring(0,20)+"...");const t=await Qt();if(!t)return console.error(" [CART][TEST] Could not resolve customer ID"),{success:!1,error:"Could not resolve customer ID"};console.log(" [CART][TEST] Customer ID resolved:",t);try{const n=`${fe.BASE_URL}${we.CART.CURRENT_USER}`;console.log(" [CART][TEST] Testing current-user endpoint:",n);const s=await fetch(n,{headers:kt()});if(console.log(" [CART][TEST] Current-user response status:",s.status),s.ok){const o=await s.json();console.log(" [CART][TEST] Current-user data:",o)}else{const o=await s.text().catch(()=>"Unable to read");console.error(" [CART][TEST] Current-user error:",o)}}catch(n){console.error(" [CART][TEST] Current-user exception:",n)}try{const n=`${fe.BASE_URL}${we.CART.BY_CUSTOMER(t)}`;console.log(" [CART][TEST] Testing basic cart endpoint:",n);const s=await fetch(n,{headers:kt()});if(console.log(" [CART][TEST] Basic cart response status:",s.status),s.ok){const o=await s.json();console.log(" [CART][TEST] Basic cart data:",o)}else{const o=await s.text().catch(()=>"Unable to read");console.error(" [CART][TEST] Basic cart error:",o)}}catch(n){console.error(" [CART][TEST] Basic cart exception:",n)}try{const n=`${fe.BASE_URL}${we.CART.BY_CUSTOMER_WITH_ITEMS(t)}`;console.log(" [CART][TEST] Testing with-items endpoint:",n);const s=await fetch(n,{headers:kt()});if(console.log(" [CART][TEST] With-items response status:",s.status),s.ok){const o=await s.json();return console.log(" [CART][TEST] With-items data:",o),{success:!0,maKH:t,data:o}}else{const o=await s.text().catch(()=>"Unable to read");return console.error(" [CART][TEST] With-items error:",o),{success:!1,error:`API returned ${s.status}: ${o}`}}}catch(n){return console.error(" [CART][TEST] With-items exception:",n),{success:!1,error:n.message}}}catch(e){return console.error(" [CART][TEST] General exception:",e),{success:!1,error:e.message}}},Js=async(e,t=1,n=null)=>{try{const s={maSP:e,soLuong:t};n!==null&&n>0&&(s.donGiaHienTai=n);const o=await fetch(`${fe.BASE_URL}${we.CART_ITEMS.ADD}`,{method:"POST",headers:kt(),body:JSON.stringify(s)});if(o.ok){const r=await o.json();return console.log("[CART][ADD_BACKEND] Success:",r),r}else{const r=await o.json().catch(()=>({message:"Unknown error"}));return console.error("[CART][ADD_BACKEND] Error:",o.status,r),null}}catch(s){return console.error("[CART][ADD_BACKEND] Exception:",s),null}},fl=async(e,t)=>{try{const n=await fetch(`${fe.BASE_URL}${we.CART_ITEMS.UPDATE_QTY(e)}?value=${t}`,{method:"PUT",headers:kt()});return n.ok?(console.log("[CART][UPDATE_QTY] Success for itemId:",e),!0):(console.error("[CART][UPDATE_QTY] Error:",n.status),!1)}catch(n){return console.error("[CART][UPDATE_QTY] Exception:",n),!1}},hl=async e=>{try{const t=await fetch(`${fe.BASE_URL}${we.CART_ITEMS.REMOVE(e)}`,{method:"DELETE",headers:kt()});return t.ok?(console.log("[CART][REMOVE_ITEM] Success for itemId:",e),!0):(console.error("[CART][REMOVE_ITEM] Error:",t.status),!1)}catch(t){return console.error("[CART][REMOVE_ITEM] Exception:",t),!1}},ar=async()=>{try{const e=await Qt();if(!e)return!1;const t=await fetch(`${fe.BASE_URL}${we.CART.CLEAR_ITEMS(e)}`,{method:"DELETE",headers:kt()});return t.ok?(console.log("[CART][CLEAR_ALL] Success for maKH:",e),!0):(console.error("[CART][CLEAR_ALL] Error:",t.status),!1)}catch(e){return console.error("[CART][CLEAR_ALL] Exception:",e),!1}},ir=async e=>{try{const t=await Qt();if(!t)return!1;const n=await fetch(`${fe.BASE_URL}${we.CART.UPDATE_STATUS(t)}?value=${e}`,{method:"PUT",headers:kt()});return n.ok?(console.log("[CART][UPDATE_STATUS] Success:",e),!0):(console.error("[CART][UPDATE_STATUS] Error:",n.status),!1)}catch(t){return console.error("[CART][UPDATE_STATUS] Exception:",t),!1}},lr=async()=>{if(!Re())return console.log("[CART][SYNC_IDS] No token available"),!1;const t=await Qt();if(!t)return console.log("[CART][SYNC_IDS] No customer ID available"),!1;try{console.log("[CART][SYNC_IDS] Syncing itemIds from backend...");const n=await rs(t);if(!n||n.length===0)return console.log("[CART][SYNC_IDS] No backend items found"),!1;let s=0;return be.value.forEach(o=>{const r=n.find(a=>a.productId===o.productId);r&&r.itemId?(!o.itemId||o.itemId!==r.itemId)&&(o.itemId=r.itemId,s++,console.log("[CART][SYNC_IDS] Updated itemId for",o.productId,":",r.itemId)):console.warn("[CART][SYNC_IDS] No backend item found for",o.productId)}),s>0?(us(),console.log("[CART][SYNC_IDS] Synced",s,"itemIds")):console.log("[CART][SYNC_IDS] No itemIds needed syncing"),s>0}catch(n){return console.error("[CART][SYNC_IDS] Error syncing itemIds:",n),!1}},Bf=async()=>{if(!Re())throw new Error("Cn ng nhp  thanh ton");try{if(console.log("[CART][CHECKOUT] Processing checkout..."),await ir(1))return console.log("[CART][CHECKOUT] Successfully updated cart status to Paid"),be.value=[],us(),En.value=!1,{success:!0,message:"Thanh ton thnh cng"};throw new Error("Khng th cp nht trng thi gi hng")}catch(t){return console.error("[CART][CHECKOUT] Error:",t),{success:!1,error:t.message}}},Kf=async()=>{if(!Re())throw new Error("Cn ng nhp  hy gi hng");try{if(console.log("[CART][CANCEL] Cancelling cart..."),await ir(2))return console.log("[CART][CANCEL] Successfully cancelled cart"),be.value=[],us(),En.value=!1,{success:!0,message:" hy gi hng"};throw new Error("Khng th hy gi hng")}catch(t){return console.error("[CART][CANCEL] Error:",t),{success:!1,error:t.message}}},cr=async(e,t=1,n=null)=>{try{console.log("[CART][ADD] productId=",e,"quantity=",t)}catch{}if(!Re()){try{sessionStorage.setItem("pending-cart-add",JSON.stringify({productId:e,quantity:t})),typeof window<"u"&&(sessionStorage.setItem("easymart-redirect-after-login",window.location.pathname||"/"),window.location.href="/login")}catch{}return{success:!1,needsLogin:!0}}let o=!0,r=n,a=null;try{if(n)typeof n.trangThai<"u"?(o=n.trangThai===1,a=n.trangThai):typeof n.isActive<"u"?(o=!!n.isActive,a=n.isActive?"active":"inactive"):(o=!0,a="unknown");else{const l=await fetch(`${fe.BASE_URL}${we.PRODUCTS.BY_ID(e)}`);if(l.ok){const c=await l.json();r=c,typeof c.trangThai<"u"?(o=c.trangThai===1,a=c.trangThai):typeof c.isActive<"u"&&(o=!!c.isActive,a=c.isActive?"active":"inactive")}}}catch(l){console.warn("[CART][ADD] Could not check product status:",l),o=!0,a="unknown"}if(!o)return console.warn("[CART][ADD] Product is inactive, skip add:",e,"status:",a),typeof window<"u"&&alert(` Sn phm ${e} hin khng kh dng!

Trng thi: ${a===0?"Ngng bn":"Khng kh dng"}

Vui lng chn sn phm khc hoc lin h admin  kch hot sn phm.`),{success:!1,inactive:!0,message:`Sn phm ${e} hin khng kh dng (trng thi: ${a})`};try{console.log("[CART][ADD] Adding to backend:",e,"quantity:",t);const l=r?.giaHienTai||r?.price||0;if(await Js(e,t,l))return await An(),{success:!0,message:` thm ${t} sn phm vo gi hng`}}catch(l){return console.error("[CART][ADD] Backend add error:",l),typeof window<"u"&&alert(` Khng th thm sn phm vo gi hng!

Li: ${l.message||"Li khng xc nh"}

Vui lng th li sau hoc lin h admin.`),{success:!1,error:l.message||"Khng th thm vo gi hng"}}return{success:!1,error:"Khng th thm vo gi hng"}},Po=async e=>{const t=be.value.findIndex(n=>n.productId===e);if(t!==-1){const n=be.value[t];if(Re())try{if(!n.itemId){console.log("[CART][REMOVE] Item missing itemId, syncing from backend..."),await lr();const o=be.value.find(r=>r.productId===e);o?.itemId&&(n.itemId=o.itemId)}if(n.itemId)console.log("[CART][REMOVE] Removing from backend:",n.itemId),await hl(n.itemId)?console.log("[CART][REMOVE] Successfully removed from backend"):console.warn("[CART][REMOVE] Failed to remove from backend, continuing with local removal");else{console.log("[CART][REMOVE] No itemId found, using fallback method");const o=be.value.filter(r=>r.productId!==e);await ar();for(const r of o)r.inactive||await Js(r.productId,r.quantity,r.product?.giaHienTai||r.price||0)}}catch(o){console.error("[CART][REMOVE] Backend removal error:",o)}be.value.splice(t,1),console.log("[CART][REMOVE] Removed from local cart:",e)}},Ff=async(e,t)=>{const n=Of(e);if(n)if(t<=0)await Po(e);else{if(Re())try{if(!n.itemId){console.log("[CART][UPDATE_QTY] Item missing itemId, syncing from backend..."),await lr();const o=be.value.find(r=>r.productId===e);o?.itemId&&(n.itemId=o.itemId)}if(n.itemId)console.log("[CART][UPDATE_QTY] Updating backend quantity:",n.itemId,"to",t),await fl(n.itemId,t)?console.log("[CART][UPDATE_QTY] Successfully updated backend"):console.warn("[CART][UPDATE_QTY] Failed to update backend, continuing with local update");else{console.log("[CART][UPDATE_QTY] No itemId found, using fallback method"),await Po(e),await cr(e,t,n.product);return}}catch(o){console.error("[CART][UPDATE_QTY] Backend update error:",o)}n.quantity=t,console.log("[CART][UPDATE_QTY] Updated local quantity:",e,"to",t)}},Vf=async()=>{if(Re())try{console.log("[CART][CLEAR] Clearing backend cart..."),await ar()?console.log("[CART][CLEAR] Successfully cleared backend cart"):console.warn("[CART][CLEAR] Failed to clear backend cart, continuing with local clear")}catch(t){console.error("[CART][CLEAR] Backend clear error:",t)}be.value=[],console.log("[CART][CLEAR] Cleared local cart")},Gf=e=>be.value.map(t=>{const n=e.find(s=>s.id===t.productId);return{...t,product:n||t.product}}).filter(t=>t.product),jf=e=>be.value.reduce((t,n)=>{const s=e.find(o=>o.id===n.productId);return t+(s?s.price*n.quantity:0)},0);cl();st(nn,async(e,t)=>{const n=Re();if(e&&!t&&n){try{console.log("[GIOHANG][AUTH_WATCH] login detected")}catch{}try{const o=sessionStorage.getItem("pending-cart-add");if(o){const{productId:r,quantity:a}=JSON.parse(o);sessionStorage.removeItem("pending-cart-add"),console.log("[GIOHANG][AUTH_WATCH] Processing pending cart add:",r,a);const l=await cr(r,a);l.success?console.log("[GIOHANG][AUTH_WATCH] Successfully added pending item:",l.message):console.warn("[GIOHANG][AUTH_WATCH] Failed to add pending item:",l.error||l.message)}}catch(o){console.error("[GIOHANG][AUTH_WATCH] Error processing pending cart add:",o)}console.log("[GIOHANG][AUTH_WATCH] Reloading cart from backend..."),await An()?console.log("[GIOHANG][AUTH_WATCH] Cart reload successful, items count:",be.value.length):console.warn("[GIOHANG][AUTH_WATCH] Cart reload failed, but continuing...")}});const qf=async e=>{try{console.log("[GIOHANG][FALLBACK] Adding items to cart for maKH:",e);for(const t of be.value)if(t.inactive)console.log("[GIOHANG][FALLBACK] Skipping inactive item:",t.productId);else try{await Js(t.productId,t.quantity,t.product?.giaHienTai||t.product?.price||null)?console.log("[GIOHANG][FALLBACK] Item added successfully:",t.productId):console.error("[GIOHANG][FALLBACK] Failed to add item:",t.productId)}catch(n){console.error("[GIOHANG][FALLBACK] Exception adding item:",n)}}catch(t){console.error("[GIOHANG][FALLBACK] Error in fallback persist:",t)}};(async()=>{if(Re()){try{console.log("[GIOHANG][INIT] token present, syncing cart...")}catch{}if(be.value.length===0){console.log("[GIOHANG][INIT] Local cart empty, just reloading backend"),await An();return}const t=await Qs();t&&t.maKH?(console.log("[GIOHANG][INIT] Sync successful, using maKH:",t.maKH),Sn.value=t.maKH,(!t.items||t.items.length===0)&&(console.warn("[GIOHANG][INIT] Sync returned empty items, trying fallback..."),await qf(t.maKH)),await An()):(console.log("[GIOHANG][INIT] Sync failed, using fallback strategy"),await ul())}})();function Xs(){return{cart:be,backendCartId:Sn,backendReady:En,cartCount:Df,cartTotal:Lf,addToCart:cr,removeFromCart:Po,updateCartQuantity:Ff,clearCart:Vf,getCartItemsWithProducts:Gf,getCartTotal:jf,loadCart:cl,saveCart:us,addItemToBackendCart:Js,updateItemQuantityInBackend:fl,removeItemFromBackend:hl,clearBackendCart:ar,updateCartStatus:ir,syncItemIdsFromBackend:lr,checkoutCart:Bf,cancelCart:Kf,mergeWithBackendOnLogin:ul,persistLocalToBackendAndClear:dl,reloadCartFromBackend:An,syncLocalCartToDBViaEndpoint:Qs,testCartAPIConnection:Hf,debugCartState:()=>(console.log("=== CART DEBUG STATE ==="),console.log("Local cart items:",be.value.map(e=>({productId:e.productId,quantity:e.quantity,itemId:e.itemId,hasItemId:!!e.itemId,inactive:e.inactive}))),console.log("Backend cart ID:",Sn.value),console.log("Backend ready:",En.value),console.log("Token available:",!!Re()),be.value),getLocalCartSnapshot:()=>({count:be.value.length,items:be.value.map(e=>({productId:e.productId,quantity:e.quantity}))}),getBackendCartSnapshot:async()=>{if(!Re())return{maKH:null,items:[]};const t=await Qt();if(!t)return{maKH:null,items:[]};const n=await rs(t);return{maKH:t,items:n}},compareLocalAndBackend:async()=>{const e={count:be.value.length,items:be.value.map(c=>({productId:c.productId,quantity:c.quantity}))},t=Re();let n={maKH:null,items:[]};if(t){const c=await Qt();if(c){const d=await rs(c);n={maKH:c,items:d}}}const s=c=>{const d=new Map;for(const u of c){const f=String(u.productId);d.set(f,(d.get(f)||0)+(u.quantity||0))}return d},o=s(e.items),r=s(n.items),a=new Set([...o.keys(),...r.keys()]),l=[];for(const c of a){const d=o.get(c)||0,u=r.get(c)||0;l.push({productId:c,localQty:d,backendQty:u,equal:d===u})}return{local:e,backend:n,diff:l}}}}const ur=Object.freeze(Object.defineProperty({__proto__:null,persistCartOnLogout:Uf,useCart:Xs},Symbol.toStringTag,{value:"Module"})),Wf={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"i",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"y",:"y",:"y",:"y",:"y",:"d",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"I",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"Y",:"Y",:"Y",:"Y",:"Y",:"D"};function Yf(e){return!e||typeof e!="string"?"":e.split("").map(t=>Wf[t]||t).join("")}function Oo(e){return!e||typeof e!="string"?"":Yf(e.toLowerCase().trim())}function Do(e,t){if(!e||!t)return!1;const n=Oo(e),s=Oo(t);return n.includes(s)}function zf(e,t,n){return!e||!Array.isArray(e)||!t||!n||!Array.isArray(n)?e||[]:Oo(t)?e.filter(o=>n.some(r=>{const a=o[r];return a?Do(a,t):!1})):e}class on{static async getAllCategories(){try{const t=await fetch(`${It}${we.CATEGORIES.LIST}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return(await t.json()).map(s=>({id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:on.getCategoryIcon(s.tenLoai),color:on.getCategoryColor(s.tenLoai)}))}catch(t){return console.error("Error fetching categories:",t),on.getDefaultCategories()}}static async getCategoryById(t){try{const n=await fetch(`${It}${we.CATEGORIES.BY_ID(t)}`);if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const s=await n.json();return{id:s.maLoaiSP,name:s.tenLoai,description:s.moTa,parentId:s.loaiCha,displayOrder:s.thuTuHienThi,isDeleted:s.isDeleted,icon:on.getCategoryIcon(s.tenLoai),color:on.getCategoryColor(s.tenLoai)}}catch(n){return console.error(`Error fetching category ${t}:`,n),null}}static getCategoryIcon(t){if(!t)return"fas fa-tags";const n={"ti sng":"fas fa-leaf","rau c":"fas fa-carrot",tht:"fas fa-drumstick-bite",c:"fas fa-fish","tri cy":"fas fa-apple-alt","ng lnh":"fas fa-snowflake",kem:"fas fa-ice-cream","ng hp":"fas fa-box",hp:"fas fa-box",lon:"fas fa-cube"," ung":"fas fa-tint",nc:"fas fa-tint",sa:"fas fa-wine-bottle",tr:"fas fa-mug-hot","c ph":"fas fa-coffee",sa:"fas fa-baby","em b":"fas fa-baby","tr em":"fas fa-child","gia v":"fas fa-pepper-hot","du n":"fas fa-oil-can","nc mm":"fas fa-flask",mui:"fas fa-cube","ha phm":"fas fa-soap","ty ra":"fas fa-broom",git:"fas fa-tshirt","v sinh":"fas fa-spray-can"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("n")||s.includes("thc phm")?"fas fa-utensils":s.includes("")?"fas fa-shopping-basket":"fas fa-tags"}static getCategoryColor(t){if(!t)return"primary";const n={"ti sng":"success","rau c":"success",tht:"danger",c:"info","tri cy":"success","ng lnh":"info",kem:"info","ng hp":"warning",hp:"warning",lon:"warning"," ung":"primary",nc:"primary",sa:"info",tr:"success","c ph":"dark",sa:"info","em b":"info","tr em":"info","gia v":"danger","du n":"warning","nc mm":"danger",mui:"light","ha phm":"success","ty ra":"success",git:"info","v sinh":"success"},s=t.toLowerCase().trim();for(const[o,r]of Object.entries(n))if(s.includes(o))return r;return s.includes("n")||s.includes("thc phm")?"success":(s.includes(""),"primary")}static getDefaultCategories(){return[{id:"LSP001",name:"Ti sng",icon:"fas fa-leaf",color:"success",description:"Cc loi rau c qu ti"},{id:"LSP002",name:"ng lnh",icon:"fas fa-snowflake",color:"info",description:"Thc phm ng lnh"},{id:"LSP003",name:" ng hp",icon:"fas fa-box",color:"warning",description:"Thc phm ng hp"},{id:"LSP004",name:" ung",icon:"fas fa-tint",color:"primary",description:"Cc loi nc gii kht"},{id:"LSP005",name:"Sa & em b",icon:"fas fa-baby",color:"info",description:"Sn phm cho tr em"},{id:"LSP006",name:"Gia v & Du n",icon:"fas fa-pepper-hot",color:"danger",description:"Gia v v du n"},{id:"LSP007",name:"Ha phm & Ty ra",icon:"fas fa-soap",color:"success",description:"Sn phm v sinh"}]}}function xn(){const e=z([]),t=z([]),n=z([]),s=z(""),o=z(null),r=z({hours:0,minutes:0,seconds:0}),a=z(!1),{addToCart:l}=Xs(),c=[{id:1,name:"Ti Sng",icon:"fas fa-leaf",color:"success"},{id:2,name:"ng lnh",icon:"fas fa-snowflake",color:"info"},{id:3,name:" ng hp",icon:"fas fa-can-food",color:"warning"},{id:4,name:" Ung",icon:"fas fa-tint",color:"primary"},{id:5,name:"Sa & Em b",icon:"fas fa-baby",color:"info"},{id:6,name:"Gia V & Du n",icon:"fas fa-pepper-hot",color:"danger"},{id:7,name:"Ha Phm & Ty Ra",icon:"fas fa-soap",color:"success"}],d=[{id:1,title:"OMO Gim 20%",description:"p dng cho tt c sn phm OMO",code:"OMO20"},{id:2,title:"Nc git Ariel -15%",description:"n hng t 150k",code:"ARIEL15"},{id:3,title:"Snack Combo - Gim 10%",description:"Mua 2 tng 1",code:"SNACK10"},{id:4,title:"Gim 25k cho n hng > 300k",description:"p dng tt c sn phm",code:"SAVE25K"}],u=ee(()=>e.value.filter(b=>b.isFlashSale)),f=ee(()=>s.value.trim().length<2?[]:zf(e.value,s.value,["name","description"]).slice(0,5)),g=async b=>{try{const P=await fetch(`${It}${we.PRODUCTS.BY_CATEGORY_ACTIVE(b)}`);if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const S=(await P.json()).map(_=>({id:_.maSP||_.id,name:_.tenSP||_.name,price:_.giaHienTai||_.giaBan||_.price,originalPrice:_.giaGoc||_.originalPrice,categoryId:_.loaiSanPham?.maLoaiSP||_.categoryId,categoryName:_.loaiSanPham?.tenLoai||_.categoryName,image:`${It}${we.IMAGES.SERVE_IMAGE(_.maSP+"_main.jfif")}`,images:we.IMAGES.PRODUCT_IMAGES(_.maSP).map(j=>`${It}${j}`),description:_.moTa||_.description,isFlashSale:_.isFlashSale||!1,isActive:_.isActive!==!1,stock:_.trongLuong||_.stock||0,unit:_.donViTinh||_.unit||"ci",rating:_.danhGia||_.rating||4.5,reviews:_.danhGia||_.reviews||[]}));return await N(S)}catch(P){return console.error(`Failed to get products for category ${b} from API:`,P),[]}},m=b=>t.value.find(P=>P.id===b),y=b=>{const P=Number(b),D=Number.isFinite(P)?P:0;return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(D)},h=(b,P="success")=>{o.value={message:b,type:P},setTimeout(()=>{o.value=null},3e3)},$=b=>{h(` lu m khuyn mi: ${b}`,"success")},E=()=>{const b=new Date().getTime(),P=new Date;P.setHours(24,0,0,0);const D=P.getTime()-b;r.value={hours:Math.floor(D%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(D%(1e3*60*60)/(1e3*60)),seconds:Math.floor(D%(1e3*60)/1e3)}},C=()=>{E(),setInterval(E,1e3)},x=async()=>{n.value=d,C(),await Promise.all([k(),G()])},k=async()=>{try{a.value=!0;const b=await on.getAllCategories();t.value=b}catch(b){console.error("Failed to load categories from API, using defaults:",b),t.value=c}finally{a.value=!1}},G=async()=>{try{const b=await fetch(`${It}${we.PRODUCTS.LIST}`);if(!b.ok)throw new Error(`HTTP error! status: ${b.status}`);const D=(await b.json()).map(S=>({id:S.maSP||S.id,name:S.tenSP||S.name,price:S.giaHienTai||S.giaBan||S.price,originalPrice:S.giaGoc||S.originalPrice,categoryId:S.loaiSanPham?.maLoaiSP||S.categoryId,categoryName:S.loaiSanPham?.tenLoai||S.categoryName,image:`${It}${we.IMAGES.SERVE_IMAGE(S.maSP+"_main.jfif")}`,images:we.IMAGES.PRODUCT_IMAGES(S.maSP).map(_=>`${It}${_}`),description:S.moTa||S.description,isFlashSale:S.isFlashSale||!1,isActive:S.isActive!==!1,stock:S.trongLuong||S.stock||0,unit:S.donViTinh||S.unit||"ci",rating:S.danhGia||S.rating||4.5,reviews:S.danhGia||S.reviews||[]}));e.value=await N(D)}catch(b){console.error("Failed to load products from API:",b),e.value=[]}},N=async b=>await Promise.all(b.map(async D=>{const S=Number(D.price);if(Number.isFinite(S)&&S>0)return D;try{const B=await fetch(`${It}${we.PRODUCTS.BY_ID(D.id)}`);if(B.ok){const _=await B.json(),X=_.giaHienTai||_.giaBan||_.price||0;return{...D,price:X}}}catch{}return D}));return ct(()=>{x()}),{products:e,categories:t,coupons:n,searchQuery:s,notification:o,countdown:r,isLoadingCategories:a,flashSaleProducts:u,searchResults:f,getProductsByCategory:g,getCategoryById:m,formatPrice:y,showNotification:h,addToCart:l,saveCoupon:$,initializeData:x,loadCategories:k,loadProducts:G}}const Je=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n},Qf={class:"d-flex align-items-center justify-content-center rounded-circle me-3 bg-white bg-opacity-20",style:{width:"40px",height:"40px"}},Jf={class:"flex-grow-1"},Xf={class:"fw-medium lh-sm"},Zf={key:0,class:"mt-2 rounded-pill overflow-hidden bg-white bg-opacity-30",style:{height:"3px"}},eh={__name:"Notification",props:{message:{type:String,required:!0},type:{type:String,default:"success",validator:e=>["success","warning","danger","info"].includes(e)},duration:{type:Number,default:4e3},showProgress:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:t}){const n=e,s=t,o=z(100);let r=null,a=null;const l=ee(()=>{const f={success:"fas fa-check-circle",warning:"fas fa-exclamation-triangle",danger:"fas fa-times-circle",info:"fas fa-info-circle"};return f[n.type]||f.success}),c=()=>{d(),s("close")},d=()=>{r&&(clearInterval(r),r=null),a&&(clearTimeout(a),a=null)},u=()=>{if(!n.showProgress)return;const f=100/(n.duration/50);r=setInterval(()=>{o.value=Math.max(0,o.value-f)},50)};return ct(()=>{u(),a=setTimeout(()=>{c()},n.duration)}),Ut(()=>{d()}),(f,g)=>(A(),ls(ei,{to:"body"},[ce(js,{name:"notification","enter-active-class":"animate__animated animate__slideInRight animate__faster","leave-active-class":"animate__animated animate__slideOutRight animate__faster"},{default:Oe(()=>[i("div",{class:ve(["position-fixed top-0 end-0 m-3 shadow-lg rounded-3 border-0 notification-alert d-flex align-items-center",`alert-${e.type}`]),style:{"z-index":"9999","min-width":"350px","max-width":"450px","backdrop-filter":"blur(10px)"},role:"alert"},[i("div",Qf,[i("i",{class:ve(`${l.value} fs-5`)},null,2)]),i("div",Jf,[i("div",Xf,K(e.message),1),e.showProgress?(A(),I("div",Zf,[i("div",{class:"h-100 bg-white bg-opacity-80 rounded-pill",style:bn([{transition:"width 0.05s linear"},{width:o.value+"%"}])},null,4)])):he("",!0)]),i("button",{type:"button",class:"btn-close ms-3 opacity-75 hover-scale",onClick:c,"aria-label":"ng"})],2)]),_:1})]))}},th=Je(eh,[["__scopeId","data-v-fc51c166"]]),nh={class:"search-container"},sh={class:"search-icon"},oh={class:"fas fa-search"},rh={class:"spinner-border spinner-border-sm",role:"status"},ah=["placeholder","value"],ih={class:"search-actions"},lh={key:0,class:"quick-search"},ch={class:"dropdown-section"},uh={class:"recent-searches"},dh=["onClick"],fh={class:"dropdown-section"},hh={class:"popular-keywords"},gh=["onClick"],ph={key:1,class:"search-results"},mh={key:0,class:"no-results"},vh={key:1,class:"search-suggestions"},yh={class:"suggestion-items"},bh=["onClick"],_h={key:2,class:"product-results"},wh={class:"results-header"},Th={class:"section-title"},Ch={class:"product-list"},kh=["onClick"],Sh={class:"product-image"},Eh=["src","alt"],Ah={key:0,class:"product-badge"},$h={class:"product-info"},Ih={class:"product-name"},xh={class:"product-price"},Rh={key:0,class:"original-price"},Ph={class:"current-price"},Oh={class:"product-meta"},Dh={class:"product-rating"},Lh={key:0,class:"out-of-stock-label"},Mh={class:"product-actions"},Nh=["onClick","disabled"],Uh={key:3,class:"category-results"},Hh={class:"category-list"},Bh=["onClick"],Kh={class:"product-count"},Fh={__name:"SearchDropdown",props:{searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart","view-product","view-category"],setup(e,{emit:t}){const n=In(),s=e,o=t,r=z(null),a=z(!1),l=z(!1),c=z(-1),d=z(0),u=z(null),f=["Tm kim sn phm... (c th tm khng du)","Rau c qu ti ngon...","Tht c hi sn...","Sa v cc sn phm t sa...","Bnh ko  ung..."],g=Ot(["Rau xanh organic","Tht b c","Sa ti"]),m=Ot(["Rau organic","Tht ti","Hi sn","Tri cy","Sa ti","Bnh m"," ung","Gia v"]),y=ee(()=>f[d.value]),h=ee(()=>s.searchQuery.length<2?[]:m.filter(T=>Do(T,s.searchQuery)&&T.toLowerCase()!==s.searchQuery.toLowerCase()).slice(0,3)),$=ee(()=>s.searchResults.slice(0,5)),E=ee(()=>s.searchQuery.length<2?[]:[{id:1,name:"Rau c qu",icon:"fas fa-carrot",color:"success",productCount:24},{id:2,name:"Tht c",icon:"fas fa-fish",color:"danger",productCount:15},{id:3,name:"Sa",icon:"fas fa-glass-whiskey",color:"info",productCount:8}].filter(T=>Do(T.name,s.searchQuery))),C=ee(()=>window.innerWidth<=768),x=T=>{const Y=T.target.value;o("update-search",Y),Y.length>=2&&(l.value=!0,clearTimeout(u.value),u.value=setTimeout(()=>{l.value=!1},500)),a.value=!0,c.value=-1},k=()=>{a.value=!0},G=()=>{setTimeout(()=>{a.value=!1},200)},N=()=>{a.value=!1},b=()=>{r.value?.focus()},P=()=>{o("update-search",""),b()},D=()=>{s.searchQuery.trim()&&(S(s.searchQuery),a.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}}))},S=T=>{const Y=T.trim();Y&&!g.includes(Y)&&(g.unshift(Y),g.length>5&&g.pop())},B=T=>{o("update-search",T),b()},_=T=>{o("update-search",T),b()},X=T=>{o("update-search",T),S(T),b()},j=T=>{S(s.searchQuery),a.value=!1,o("view-product",T.id)},R=T=>{a.value=!1,o("view-category",T.id)},ue=T=>{o("add-to-cart",T)},J=()=>{S(s.searchQuery),a.value=!1,n.push({name:"Search",query:{q:s.searchQuery.trim()}})},q=T=>(!s.searchQuery||s.searchQuery.length<2,T),Le=T=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(T),Ne=T=>{if(!a.value)return;const Y=h.value.length+$.value.length;switch(T.key){case"ArrowDown":T.preventDefault(),c.value=Math.min(c.value+1,Y-1);break;case"ArrowUp":T.preventDefault(),c.value=Math.max(c.value-1,-1);break;case"Enter":if(T.preventDefault(),c.value>=0)if(c.value<h.value.length)X(h.value[c.value]);else{const F=c.value-h.value.length;j($.value[F])}else D();break;case"Escape":T.preventDefault(),a.value=!1,r.value?.blur();break}},Be=()=>{d.value=(d.value+1)%f.length};let de=null;return ct(()=>{de=setInterval(Be,3e3),document.addEventListener("click",T=>{T.target.closest(".search-container")||(a.value=!1)})}),Ut(()=>{de&&clearInterval(de)}),st(()=>s.searchQuery,T=>{T.length===0&&(l.value=!1)}),(T,Y)=>(A(),I("div",nh,[i("div",{class:"search-wrapper",onClick:b},[i("div",sh,[dt(i("i",oh,null,512),[[es,!l.value]]),dt(i("div",rh,Y[1]||(Y[1]=[i("span",{class:"visually-hidden"},"ang tm kim...",-1)]),512),[[es,l.value]])]),i("input",{ref_key:"searchInput",ref:r,type:"text",class:"form-control search-input",placeholder:y.value,value:e.searchQuery,onInput:x,onFocus:k,onBlur:G,onKeydown:Ne,autocomplete:"off",spellcheck:"false"},null,40,ah),i("div",ih,[e.searchQuery.length>0?(A(),I("button",{key:0,class:"btn btn-sm clear-btn",onClick:P,type:"button",title:"Xa tm kim"},Y[2]||(Y[2]=[i("i",{class:"fas fa-times"},null,-1)]))):he("",!0),i("button",{class:"btn btn-primary search-btn",onClick:D,type:"button",title:"Tm kim"},Y[3]||(Y[3]=[i("i",{class:"fas fa-search"},null,-1)]))])]),ce(js,{name:"dropdown"},{default:Oe(()=>[a.value?(A(),I("div",{key:0,class:"search-dropdown",onMousedown:Y[0]||(Y[0]=He(()=>{},["prevent"]))},[e.searchQuery.length===0?(A(),I("div",lh,[i("div",ch,[Y[5]||(Y[5]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-history text-muted me-2"}),W("Tm kim gn y ")],-1)),i("div",uh,[(A(!0),I(me,null,Pe(g,F=>(A(),I("button",{key:F,class:"btn btn-sm btn-outline-secondary recent-search-item",onClick:Se=>B(F)},[Y[4]||(Y[4]=i("i",{class:"fas fa-history me-2"},null,-1)),W(K(F),1)],8,dh))),128))])]),i("div",fh,[Y[6]||(Y[6]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-fire text-danger me-2"}),W("T kha ph bin ")],-1)),i("div",hh,[(A(!0),I(me,null,Pe(m,F=>(A(),I("button",{key:F,class:"btn btn-sm btn-outline-primary popular-keyword",onClick:Se=>_(F)},K(F),9,gh))),128))])])])):(A(),I("div",ph,[e.searchResults.length===0&&!l.value?(A(),I("div",mh,Y[7]||(Y[7]=[i("div",{class:"no-results-content"},[i("i",{class:"fas fa-search-minus text-muted"}),i("h6",null,"Khng tm thy kt qu"),i("p",null,"Th tm kim vi t kha khc")],-1)]))):he("",!0),h.value.length>0?(A(),I("div",vh,[Y[9]||(Y[9]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-lightbulb text-warning me-2"}),W("Gi  tm kim ")],-1)),i("div",yh,[(A(!0),I(me,null,Pe(h.value,(F,Se)=>(A(),I("button",{key:F,class:ve(["suggestion-item",{active:c.value===Se}]),onClick:O=>X(F)},[Y[8]||(Y[8]=i("i",{class:"fas fa-search me-2"},null,-1)),W(K(F),1)],10,bh))),128))])])):he("",!0),e.searchResults.length>0?(A(),I("div",_h,[i("div",wh,[i("h6",Th,[Y[10]||(Y[10]=i("i",{class:"fas fa-box text-primary me-2"},null,-1)),W(" Sn phm ("+K(e.searchResults.length)+") ",1)]),i("button",{class:"btn btn-sm btn-outline-primary view-all-btn",onClick:J}," Xem tt c ")]),i("div",Ch,[(A(!0),I(me,null,Pe($.value,(F,Se)=>(A(),I("div",{key:F.id,class:ve(["product-item",{active:c.value===h.value.length+Se,"out-of-stock":F.stock===0||F.inStock===!1}]),onClick:O=>j(F)},[i("div",Sh,[i("img",{src:F.image,alt:F.name,loading:"lazy"},null,8,Eh),F.discount?(A(),I("div",Ah," -"+K(F.discount)+"% ",1)):he("",!0)]),i("div",$h,[i("h6",Ih,K(q(F.name)),1),i("div",xh,[F.originalPrice?(A(),I("span",Rh,K(Le(F.originalPrice)),1)):he("",!0),i("span",Ph,K(Le(F.price)),1)]),i("div",Oh,[i("div",Dh,[Y[11]||(Y[11]=i("i",{class:"fas fa-star text-warning"},null,-1)),i("span",null,K(F.rating||4.5),1)]),F.stock===0||F.inStock===!1?(A(),I("div",Lh," Ht hng ")):he("",!0)])]),i("div",Mh,[i("button",{class:"btn btn-sm btn-primary quick-add-btn",onClick:He(O=>ue(F.id),["stop"]),disabled:F.stock===0||F.inStock===!1,title:"Thm vo gi hng"},Y[12]||(Y[12]=[i("i",{class:"fas fa-cart-plus"},null,-1)]),8,Nh)])],10,kh))),128))])])):he("",!0),E.value.length>0?(A(),I("div",Uh,[Y[13]||(Y[13]=i("h6",{class:"section-title"},[i("i",{class:"fas fa-layer-group text-success me-2"}),W("Danh mc ")],-1)),i("div",Hh,[(A(!0),I(me,null,Pe(E.value,F=>(A(),I("button",{key:F.id,class:"category-item",onClick:Se=>R(F)},[i("i",{class:ve(`${F.icon} text-${F.color} me-2`)},null,2),W(" "+K(F.name)+" ",1),i("span",Kh,"("+K(F.productCount)+")",1)],8,Bh))),128))])])):he("",!0)])),Y[14]||(Y[14]=i("div",{class:"search-footer"},[i("div",{class:"search-tips"},[i("small",{class:"text-muted"},[i("i",{class:"fas fa-keyboard me-1"}),W(" Enter  tm kim,   iu hng, Esc  ng ")])])],-1))],32)):he("",!0)]),_:1}),a.value&&C.value?(A(),I("div",{key:0,class:"search-overlay",onClick:N})):he("",!0)]))}},Vh=Je(Fh,[["__scopeId","data-v-5509d394"]]),Gh={class:"cart-dropdown"},jh={class:"nav-link px-3 py-2 rounded-pill position-relative cart-icon-wrapper"},qh={class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger cart-count",style:{"font-size":"0.7rem"}},Wh={class:"card shadow-lg border-0",style:{width:"350px"}},Yh={class:"card-header bg-primary text-white d-flex justify-content-between align-items-center"},zh={class:"mb-0"},Qh={class:"d-flex align-items-center"},Jh={class:"form-check me-3"},Xh=["checked"],Zh={class:"card-body p-0",style:{"max-height":"400px","overflow-y":"auto"}},eg={key:0,class:"text-center p-4"},tg={key:1},ng={class:"form-check me-2"},sg=["checked","onChange","id"],og={class:"flex-shrink-0 me-3"},rg=["src","alt"],ag={class:"flex-grow-1"},ig={class:"mb-1 text-truncate",style:{"max-width":"180px"}},lg={class:"d-flex justify-content-between align-items-center"},cg={class:"text-primary fw-bold"},ug={class:"quantity-controls d-flex align-items-center"},dg=["onClick","disabled"],fg={class:"mx-2 fw-bold"},hg=["onClick"],gg={class:"d-flex justify-content-between align-items-center mt-1"},pg={class:"text-muted"},mg=["onClick"],vg={key:0,class:"card-footer bg-light"},yg={class:"d-flex justify-content-between align-items-center mb-2"},bg={class:"text-muted"},_g={class:"text-primary"},wg={class:"d-grid gap-2"},Tg=["disabled"],Cg={__name:"CartDropdown",setup(e){const{cart:t,cartCount:n,removeFromCart:s,updateCartQuantity:o}=Xs(),{products:r,formatPrice:a,showNotification:l}=xn(),c=z(!1),d=z(new Set);let u=null;const f=ee(()=>t.value.map(b=>{const P=r.value.find(D=>D.id===b.productId);return{...b,product:P||b.product}}).filter(b=>b.product));ee(()=>f.value.reduce((b,P)=>b+(P.product?.price||0)*P.quantity,0));const g=ee(()=>f.value.filter(b=>d.value.has(b.productId))),m=ee(()=>g.value.reduce((b,P)=>b+(P.product?.price||0)*P.quantity,0)),y=ee(()=>f.value.length>0&&f.value.every(b=>d.value.has(b.productId))),h=()=>{c.value=!c.value},$=()=>{u&&clearTimeout(u),u=setTimeout(()=>{c.value=!1},200)},E=()=>{u&&(clearTimeout(u),u=null),c.value=!0},C=(b,P)=>{P<=0?x(b):o(b,P)},x=b=>{const P=f.value.find(D=>D.productId===b);P&&(s(b),l(` xa ${P.product.name} khi gi hng!`,"info"))},k=()=>{if(d.value.size===0){l("Vui lng chn sn phm  thanh ton!","warning");return}c.value=!1;const b=Array.from(d.value);localStorage.setItem("easymart-selected-items",JSON.stringify(b)),window.location.href="/checkout"},G=b=>{d.value.has(b)?d.value.delete(b):d.value.add(b)},N=()=>{y.value?d.value.clear():f.value.forEach(b=>{d.value.add(b.productId)})};return Ut(()=>{u&&clearTimeout(u)}),(b,P)=>{const D=cn("router-link");return A(),I("div",Gh,[i("div",{class:"cart-trigger position-relative",onClick:h,onMouseenter:E,onMouseleave:$},[i("div",jh,[P[2]||(P[2]=i("i",{class:"fas fa-shopping-bag fs-5"},null,-1)),i("span",qh,K(H(n)),1)]),P[3]||(P[3]=i("i",{class:"fas fa-chevron-down ms-1 text-muted",style:{"font-size":"0.7rem"}},null,-1))],32),dt(i("div",{class:"cart-dropdown-content position-absolute",onMouseenter:E,onMouseleave:$},[i("div",Wh,[i("div",Yh,[i("h6",zh,[P[4]||(P[4]=i("i",{class:"fas fa-shopping-cart me-2"},null,-1)),W("Gi hng ("+K(H(n))+") ",1)]),i("div",Qh,[i("div",Jh,[i("input",{class:"form-check-input",type:"checkbox",checked:y.value,onChange:N,id:"selectAllDropdown"},null,40,Xh),P[5]||(P[5]=i("label",{class:"form-check-label text-white small",for:"selectAllDropdown"}," Tt c ",-1))]),i("button",{class:"btn btn-sm btn-outline-light",onClick:P[0]||(P[0]=S=>c.value=!1)},P[6]||(P[6]=[i("i",{class:"fas fa-times"},null,-1)]))])]),i("div",Zh,[f.value.length===0?(A(),I("div",eg,P[7]||(P[7]=[i("i",{class:"fas fa-shopping-cart text-muted fs-1 mb-3"},null,-1),i("p",{class:"text-muted mb-0"},"Gi hng trng",-1),i("small",{class:"text-muted"},"Thm sn phm  bt u mua sm",-1)]))):(A(),I("div",tg,[(A(!0),I(me,null,Pe(f.value,S=>(A(),I("div",{key:S.productId,class:"cart-item d-flex align-items-center p-3 border-bottom"},[i("div",ng,[i("input",{class:"form-check-input",type:"checkbox",checked:d.value.has(S.productId),onChange:B=>G(S.productId),id:`dropdown-item-${S.productId}`},null,40,sg)]),i("div",og,[i("img",{src:S.product?.image||"https://via.placeholder.com/60",alt:S.product?.name||"Product",class:"rounded",style:{width:"60px",height:"60px","object-fit":"cover"}},null,8,rg)]),i("div",ag,[i("h6",ig,K(S.product?.name||"Sn phm"),1),i("div",lg,[i("span",cg,K(H(a)(S.product?.price||0)),1),i("div",ug,[i("button",{class:"btn btn-sm btn-outline-secondary",onClick:B=>C(S.productId,S.quantity-1),disabled:S.quantity<=1},P[8]||(P[8]=[i("i",{class:"fas fa-minus"},null,-1)]),8,dg),i("span",fg,K(S.quantity),1),i("button",{class:"btn btn-sm btn-outline-secondary",onClick:B=>C(S.productId,S.quantity+1)},P[9]||(P[9]=[i("i",{class:"fas fa-plus"},null,-1)]),8,hg)])]),i("div",gg,[i("small",pg," Tng: "+K(H(a)((S.product?.price||0)*S.quantity)),1),i("button",{class:"btn btn-sm btn-outline-danger",onClick:B=>x(S.productId)},P[10]||(P[10]=[i("i",{class:"fas fa-trash"},null,-1)]),8,mg)])])]))),128))]))]),f.value.length>0?(A(),I("div",vg,[i("div",yg,[i("small",bg," chn: "+K(d.value.size)+"/"+K(f.value.length)+" sn phm",1),i("strong",_g,K(H(a)(m.value)),1)]),i("div",wg,[ce(D,{to:"/cart",class:"btn btn-outline-primary btn-sm",onClick:P[1]||(P[1]=S=>c.value=!1)},{default:Oe(()=>P[11]||(P[11]=[i("i",{class:"fas fa-shopping-cart me-2"},null,-1),W("Xem gi hng ")])),_:1,__:[11]}),i("button",{class:"btn btn-primary btn-sm",onClick:k,disabled:d.value.size===0},[P[12]||(P[12]=i("i",{class:"fas fa-credit-card me-2"},null,-1)),W("Thanh ton ("+K(d.value.size)+") ",1)],8,Tg)])])):he("",!0)])],544),[[es,c.value]])])}}},kg=Je(Cg,[["__scopeId","data-v-8d4d668b"]]),Sg={class:"navbar navbar-expand-lg navbar-light main-nav shadow-sm py-3"},Eg={class:"container"},Ag={class:"flex-grow-1 mx-4"},$g={class:"collapse navbar-collapse",id:"navbarNav"},Ig={class:"navbar-nav ms-auto align-items-center"},xg=["aria-expanded"],Rg={class:"nav-item"},Pg={class:"dropdown-item-text text-center mb-2"},Og={class:"fw-bold"},Dg={class:"small text-muted"},Lg={__name:"Header",props:{categories:{type:Array,required:!0},searchQuery:{type:String,required:!0},searchResults:{type:Array,required:!0}},emits:["update-search","add-to-cart"],setup(e,{emit:t}){const{user:n,isLoggedIn:s,logout:o}=os(),r=In(),a=z(!1),l=z(!1),c=z(!1),d=z(!0),u=z(0),f=z("up"),g=z(null),m=z(null),y=()=>{g.value&&(clearTimeout(g.value),g.value=null),a.value=!0,l.value=!1,zn(()=>{const B=document.getElementById("category-trigger"),_=document.querySelector(".category-dropdown");if(B&&_){const X=B.getBoundingClientRect();_.style.top=`${X.bottom+8}px`,_.style.left=`${X.left}px`,_.style.right="auto"}})},h=()=>{g.value=setTimeout(()=>{a.value=!1},200)},$=()=>{g.value&&(clearTimeout(g.value),g.value=null)},E=()=>{m.value&&(clearTimeout(m.value),m.value=null),l.value=!0,a.value=!1,zn(()=>{const B=document.getElementById("account-trigger"),_=document.querySelector(".account-dropdown");if(B&&_){const X=B.getBoundingClientRect();_.style.top=`${X.bottom+8}px`,_.style.left=`${X.left}px`,_.style.right="auto"}})},C=()=>{m.value=setTimeout(()=>{l.value=!1},200)},x=()=>{m.value&&(clearTimeout(m.value),m.value=null)},k=B=>{!B.target.closest(".dropdown")&&!B.target.closest(".cart-dropdown")&&(a.value=!1,l.value=!1)},G=()=>{const B=window.scrollY;c.value=B>50,B>u.value?f.value="down":f.value="up",B<10?d.value=!0:f.value==="down"&&B>100?(d.value=!1,a.value=!1,l.value=!1):f.value==="up"&&(d.value=!0),N(),u.value=B},N=()=>{if(a.value){const B=document.getElementById("category-trigger"),_=document.querySelector(".category-dropdown");if(B&&_){const X=B.getBoundingClientRect();_.style.top=`${X.bottom+8}px`,_.style.left=`${X.left}px`,_.style.right="auto"}}if(l.value){const B=document.getElementById("account-trigger"),_=document.querySelector(".account-dropdown");if(B&&_){const X=B.getBoundingClientRect();_.style.top=`${X.bottom+8}px`,_.style.left=`${X.left}px`,_.style.right="auto"}}},b=()=>{N()};let P=null;const D=()=>{P===null&&(P=setTimeout(()=>{G(),P=null},10))},S=async()=>{try{const B=await o();l.value=!1,B.success||console.warn("Logout warning:",B.error),r.push("/")}catch(B){console.error("Logout error:",B),r.push("/")}};return ct(()=>{document.addEventListener("click",k),window.addEventListener("scroll",D,{passive:!0}),window.addEventListener("resize",b,{passive:!0});const B=()=>{};window.addEventListener("user-updated",B),G()}),Ut(()=>{document.removeEventListener("click",k),window.removeEventListener("scroll",D),window.removeEventListener("resize",b),window.removeEventListener("user-updated",handleUserUpdated),g.value&&clearTimeout(g.value),m.value&&clearTimeout(m.value),P!==null&&(clearTimeout(P),P=null)}),(B,_)=>{const X=cn("router-link");return A(),I(me,null,[i("header",{class:ve(["header-container fixed-top",{"header-scrolled":c.value,"header-visible":d.value,"header-hidden":!d.value}])},[i("div",{class:ve(["top-bar py-2 border-bottom",{"top-bar-hidden":!d.value}])},_[4]||(_[4]=[Dt('<div class="container" data-v-ebaba0a3><div class="row align-items-center" data-v-ebaba0a3><div class="col-md-6" data-v-ebaba0a3><small class="text-muted" data-v-ebaba0a3><i class="fas fa-phone-alt text-primary me-2" data-v-ebaba0a3></i>Hotline: 1900 1234 | <i class="fas fa-envelope text-primary ms-3 me-2" data-v-ebaba0a3></i>cskh@easymart.vn </small></div><div class="col-md-6 text-end" data-v-ebaba0a3><small class="text-muted" data-v-ebaba0a3><i class="fas fa-truck text-primary me-2" data-v-ebaba0a3></i>Min ph vn chuyn n hng t 200k </small></div></div></div>',1)]),2),i("nav",Sg,[i("div",Eg,[ce(X,{to:"/",class:"navbar-brand fw-bold text-primary fs-4"},{default:Oe(()=>_[5]||(_[5]=[i("i",{class:"fas fa-shopping-cart me-2"},null,-1),W("EasyMart ")])),_:1,__:[5]}),i("div",Ag,[ce(Vh,{searchQuery:e.searchQuery,searchResults:e.searchResults,onUpdateSearch:_[0]||(_[0]=j=>B.$emit("update-search",j)),onAddToCart:_[1]||(_[1]=j=>B.$emit("add-to-cart",j))},null,8,["searchQuery","searchResults"])]),_[8]||(_[8]=i("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav"},[i("span",{class:"navbar-toggler-icon"})],-1)),i("div",$g,[i("ul",Ig,[i("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:y,onMouseleave:h},[ce(X,{to:"/categories",class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",role:"button","aria-expanded":a.value,id:"category-trigger"},{default:Oe(()=>_[6]||(_[6]=[i("i",{class:"fas fa-th-large me-2"},null,-1),W("Danh mc ")])),_:1,__:[6]},8,["aria-expanded"])],32),i("li",{class:"nav-item dropdown me-3",style:{position:"static"},onMouseenter:E,onMouseleave:C},[i("a",{class:"nav-link dropdown-toggle px-3 py-2 rounded-pill",href:"#",role:"button","aria-expanded":l.value,id:"account-trigger"},_[7]||(_[7]=[i("i",{class:"fas fa-user me-2"},null,-1),W("Ti khon ")]),8,xg)],32),i("li",Rg,[ce(kg)])])])])])],2),(A(),ls(ei,{to:"body"},[a.value?(A(),I("ul",{key:0,class:ve(["dropdown-menu dropdown-menu-end category-dropdown",{show:a.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:$,onMouseleave:h},[(A(!0),I(me,null,Pe(e.categories,j=>(A(),I("li",{key:j.id},[ce(X,{to:{name:"Category",params:{id:j.id}},class:"dropdown-item rounded-2 mx-2 my-1",onClick:_[2]||(_[2]=R=>a.value=!1)},{default:Oe(()=>[i("i",{class:ve(`${j.icon} text-${j.color} me-3`)},null,2),W(K(j.name),1)]),_:2},1032,["to"])]))),128))],34)):he("",!0),l.value?(A(),I("ul",{key:1,class:ve(["dropdown-menu dropdown-menu-end account-dropdown",{show:l.value}]),style:{position:"fixed !important","z-index":"2147483647 !important"},onMouseenter:x,onMouseleave:C},[H(s)?(A(),I(me,{key:0},[i("li",Pg,[_[9]||(_[9]=i("i",{class:"fas fa-user-circle fa-2x text-primary mb-2"},null,-1)),i("div",Og,K(H(n)?.name||"Ti khon ca bn"),1),i("div",Dg,K(H(n)?.email),1)]),i("li",null,[ce(X,{to:"/profile",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Oe(()=>_[10]||(_[10]=[i("i",{class:"fas fa-user me-3 text-primary"},null,-1),W("Thng tin ti khon")])),_:1,__:[10]})]),i("li",null,[ce(X,{to:"/orders",class:"dropdown-item rounded-2 mx-2 my-1",onClick:_[3]||(_[3]=j=>l.value=!1)},{default:Oe(()=>_[11]||(_[11]=[i("i",{class:"fas fa-box me-3 text-success"},null,-1),W("n hng ca ti")])),_:1,__:[11]})]),i("li",null,[ce(X,{to:"/wishlist",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Oe(()=>_[12]||(_[12]=[i("i",{class:"fas fa-heart me-3 text-danger"},null,-1),W("Sn phm yu thch")])),_:1,__:[12]})]),_[14]||(_[14]=i("li",null,[i("hr",{class:"dropdown-divider"})],-1)),i("li",null,[i("a",{href:"#",class:"dropdown-item rounded-2 mx-2 my-1 text-danger",onClick:He(S,["prevent"])},_[13]||(_[13]=[i("i",{class:"fas fa-sign-out-alt me-3"},null,-1),W("ng xut")]))])],64)):(A(),I(me,{key:1},[i("li",null,[ce(X,{to:"/login",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Oe(()=>_[15]||(_[15]=[i("i",{class:"fas fa-sign-in-alt text-primary me-3"},null,-1),W("ng nhp")])),_:1,__:[15]})]),i("li",null,[ce(X,{to:"/register",class:"dropdown-item rounded-2 mx-2 my-1"},{default:Oe(()=>_[16]||(_[16]=[i("i",{class:"fas fa-user-plus text-primary me-3"},null,-1),W("ng k")])),_:1,__:[16]})])],64))],34)):he("",!0)]))],64)}}},Mg=Je(Lg,[["__scopeId","data-v-ebaba0a3"]]),Ng={class:"main-footer"},Ug={class:"footer-content"},Hg={class:"container"},Bg={class:"newsletter-section"},Kg={class:"row align-items-center"},Fg={class:"col-lg-6"},Vg={class:"newsletter-form"},Gg={class:"input-group"},jg=["disabled"],qg={key:0,class:"fas fa-paper-plane"},Wg={key:1,class:"spinner-border spinner-border-sm",role:"status"},Yg={class:"footer-main"},zg={class:"row g-4"},Qg={class:"col-lg-2 col-md-6"},Jg={class:"footer-section"},Xg={class:"footer-links"},Zg=["href","onClick"],ep={class:"col-lg-2 col-md-6"},tp={class:"footer-section"},np={class:"footer-links"},sp=["href","onClick"],op={class:"col-lg-3 col-md-12"},rp={class:"footer-section"},ap={class:"social-links"},ip=["href","title","onClick"],lp={class:"app-download"},cp={class:"download-buttons"},up={class:"footer-bottom"},dp={class:"row align-items-center"},fp={class:"col-md-6"},hp={class:"copyright"},gp={class:"copyright-text"},pp={class:"legal-links"},mp={class:"col-md-6"},vp={class:"footer-stats"},yp={class:"stat-item"},bp={class:"stat-item"},_p={class:"stat-item"},wp={__name:"Footer",setup(e){const t=z(""),n=z(!1),s=z(""),o=z(""),r=z(!1),a=ee(()=>new Date().getFullYear()),l=ee(()=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value)),c=ee(()=>o.value==="success"?"fas fa-check-circle":"fas fa-exclamation-circle"),d=Ot([{name:"Gii thiu EasyMart",url:"/about",icon:"fas fa-info-circle"},{name:"Danh sch ca hng",url:"/stores",icon:"fas fa-store"},{name:"Tin tc & S kin",url:"/news",icon:"fas fa-newspaper"},{name:"Tuyn dng",url:"/careers",icon:"fas fa-briefcase"},{name:"Nh u t",url:"/investors",icon:"fas fa-chart-line"}]),u=Ot([{name:"Trung tm tr gip",url:"/help",icon:"fas fa-question-circle"},{name:"Chnh sch i tr",url:"/return-policy",icon:"fas fa-undo-alt"},{name:"Phng thc thanh ton",url:"/payment",icon:"fas fa-credit-card"},{name:"Vn chuyn & Giao hng",url:"/shipping",icon:"fas fa-shipping-fast"},{name:"Khiu ni & Gp ",url:"/feedback",icon:"fas fa-comment-dots"}]),f=Ot([{name:"Facebook",url:"https://facebook.com/easymart",icon:"fab fa-facebook"},{name:"Instagram",url:"https://instagram.com/easymart",icon:"fab fa-instagram"},{name:"YouTube",url:"https://youtube.com/easymart",icon:"fab fa-youtube"},{name:"TikTok",url:"https://tiktok.com/@easymart",icon:"fab fa-tiktok"},{name:"Zalo",url:"https://zalo.me/easymart",icon:"fas fa-comments"}]),g=z(125e3),m=z(35e4),y=z(4.8),h=async()=>{if(!(!l.value||n.value)){n.value=!0,s.value="";try{await new Promise(D=>setTimeout(D,1500)),o.value="success",s.value="ng k thnh cng! Kim tra email  xc nhn.",t.value="",setTimeout(()=>{s.value=""},5e3)}catch{o.value="error",s.value="C li xy ra. Vui lng th li sau.",setTimeout(()=>{s.value=""},3e3)}finally{n.value=!1}}},$=D=>{console.log(`Navigating to: ${D.name}`)},E=D=>{console.log(`Opening ${D.name}`),window.open(D.url,"_blank")},C=D=>{console.log(`Downloading ${D} app`)},x=()=>{console.log("Show privacy policy")},k=()=>{console.log("Show terms of service")},G=()=>{console.log("Show cookie policy")},N=D=>new Intl.NumberFormat("vi-VN").format(D),b=()=>{window.scrollTo({top:0,behavior:"smooth"})},P=()=>{r.value=window.scrollY>300};return ct(()=>{window.addEventListener("scroll",P)}),Ut(()=>{window.removeEventListener("scroll",P)}),(D,S)=>(A(),I("footer",Ng,[i("div",Ug,[i("div",Hg,[i("div",Bg,[i("div",Kg,[S[4]||(S[4]=i("div",{class:"col-lg-6"},[i("div",{class:"newsletter-content"},[i("h4",{class:"newsletter-title"},"ng k nhn tin khuyn mi"),i("p",{class:"newsletter-subtitle"}," Nhn ngay thng tin v cc chng trnh u i mi nht t EasyMart ")])],-1)),i("div",Fg,[i("div",Vg,[i("div",Gg,[dt(i("input",{type:"email",class:"form-control newsletter-input",placeholder:"Nhp email ca bn...","onUpdate:modelValue":S[0]||(S[0]=B=>t.value=B),onKeyup:Gu(h,["enter"])},null,544),[[wn,t.value]]),i("button",{class:"btn btn-primary newsletter-btn",onClick:h,disabled:n.value||!l.value},[n.value?(A(),I("div",Wg,S[3]||(S[3]=[i("span",{class:"visually-hidden"},"Loading...",-1)]))):(A(),I("i",qg)),W(" "+K(n.value?"ang ng k...":"ng k"),1)],8,jg)]),s.value?(A(),I("div",{key:0,class:ve(["subscription-message",o.value])},[i("i",{class:ve(c.value)},null,2),W(" "+K(s.value),1)],2)):he("",!0)])])])]),i("div",Yg,[i("div",zg,[S[12]||(S[12]=Dt('<div class="col-lg-3 col-md-6" data-v-8ac511af><div class="footer-section" data-v-8ac511af><div class="company-info" data-v-8ac511af><div class="footer-logo" data-v-8ac511af><i class="fas fa-shopping-cart logo-icon" data-v-8ac511af></i><span class="logo-text" data-v-8ac511af>EasyMart</span></div><p class="company-description" data-v-8ac511af> Cng Ty C Phn Dch V Thng Mi Tng Hp EasyMart - Mang n nhng sn phm cht lng, dch v tn tm. </p><div class="company-certifications" data-v-8ac511af><div class="cert-item" data-v-8ac511af><i class="fas fa-certificate text-warning" data-v-8ac511af></i><span data-v-8ac511af>Chng nhn ISO 9001</span></div><div class="cert-item" data-v-8ac511af><i class="fas fa-shield-alt text-success" data-v-8ac511af></i><span data-v-8ac511af>An ton thc phm</span></div></div></div></div></div>',1)),i("div",Qg,[i("div",Jg,[S[5]||(S[5]=i("h6",{class:"footer-title"},"V Chng Ti",-1)),i("ul",Xg,[(A(!0),I(me,null,Pe(d,B=>(A(),I("li",{key:B.name,class:"footer-link-item"},[i("a",{href:B.url,class:"footer-link",onClick:He(_=>$(B),["prevent"])},[i("i",{class:ve(`${B.icon} me-2`)},null,2),W(K(B.name),1)],8,Zg)]))),128))])])]),i("div",ep,[i("div",tp,[S[6]||(S[6]=i("h6",{class:"footer-title"},"H Tr Khch Hng",-1)),i("ul",np,[(A(!0),I(me,null,Pe(u,B=>(A(),I("li",{key:B.name,class:"footer-link-item"},[i("a",{href:B.url,class:"footer-link",onClick:He(_=>$(B),["prevent"])},[i("i",{class:ve(`${B.icon} me-2`)},null,2),W(K(B.name),1)],8,sp)]))),128))])])]),S[13]||(S[13]=Dt('<div class="col-lg-2 col-md-6" data-v-8ac511af><div class="footer-section" data-v-8ac511af><h6 class="footer-title" data-v-8ac511af>Lin H</h6><div class="contact-info" data-v-8ac511af><div class="contact-item" data-v-8ac511af><i class="fas fa-map-marker-alt text-primary" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>a ch:</strong><span data-v-8ac511af>123 ng ABC, Qun XYZ, TP.HCM</span></div></div><div class="contact-item" data-v-8ac511af><i class="fas fa-phone-alt text-success" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>Hotline:</strong><a href="tel:19001234" data-v-8ac511af>1900 1234</a></div></div><div class="contact-item" data-v-8ac511af><i class="fas fa-envelope text-info" data-v-8ac511af></i><div class="contact-details" data-v-8ac511af><strong data-v-8ac511af>Email:</strong><a href="mailto:cskh@easymart.vn" data-v-8ac511af>cskh@easymart.vn</a></div></div></div></div></div>',1)),i("div",op,[i("div",rp,[S[10]||(S[10]=i("h6",{class:"footer-title"},"Kt Ni Vi Chng Ti",-1)),i("div",ap,[(A(!0),I(me,null,Pe(f,B=>(A(),I("a",{key:B.name,href:B.url,class:"social-link",title:B.name,onClick:He(_=>E(B),["prevent"])},[i("i",{class:ve(B.icon)},null,2)],8,ip))),128))]),i("div",lp,[S[9]||(S[9]=i("h6",{class:"download-title"},"Ti ng Dng",-1)),i("div",cp,[i("a",{href:"#",class:"download-btn",onClick:S[1]||(S[1]=He(B=>C("ios"),["prevent"]))},S[7]||(S[7]=[i("i",{class:"fab fa-apple"},null,-1),i("div",{class:"download-text"},[i("small",null,"Download on the"),i("strong",null,"App Store")],-1)])),i("a",{href:"#",class:"download-btn",onClick:S[2]||(S[2]=He(B=>C("android"),["prevent"]))},S[8]||(S[8]=[i("i",{class:"fab fa-google-play"},null,-1),i("div",{class:"download-text"},[i("small",null,"Get it on"),i("strong",null,"Google Play")],-1)]))])]),S[11]||(S[11]=Dt('<div class="payment-methods" data-v-8ac511af><h6 class="payment-title" data-v-8ac511af>Phng Thc Thanh Ton</h6><div class="payment-icons" data-v-8ac511af><i class="fab fa-cc-visa payment-icon" title="Visa" data-v-8ac511af></i><i class="fab fa-cc-mastercard payment-icon" title="Mastercard" data-v-8ac511af></i><i class="fas fa-money-bill-wave payment-icon" title="Tin mt" data-v-8ac511af></i><i class="fas fa-mobile-alt payment-icon" title="Mobile Banking" data-v-8ac511af></i></div></div>',1))])])])]),i("div",up,[i("div",dp,[i("div",fp,[i("div",hp,[i("p",gp,"  "+K(a.value)+" EasyMart. Tt c cc quyn c bo lu. ",1),i("div",pp,[i("a",{href:"#",onClick:He(x,["prevent"])},"Chnh sch bo mt"),S[14]||(S[14]=i("span",{class:"separator"},"|",-1)),i("a",{href:"#",onClick:He(k,["prevent"])},"iu khon s dng"),S[15]||(S[15]=i("span",{class:"separator"},"|",-1)),i("a",{href:"#",onClick:He(G,["prevent"])},"Chnh sch Cookie")])])]),i("div",mp,[i("div",vp,[i("div",yp,[S[16]||(S[16]=i("i",{class:"fas fa-users text-primary"},null,-1)),i("span",null,K(N(g.value))+"+ khch hng",1)]),i("div",bp,[S[17]||(S[17]=i("i",{class:"fas fa-shopping-bag text-success"},null,-1)),i("span",null,K(N(m.value))+"+ n hng",1)]),i("div",_p,[S[18]||(S[18]=i("i",{class:"fas fa-star text-warning"},null,-1)),i("span",null,K(y.value)+"/5 sao",1)])])])])])])]),ce(js,{name:"fade"},{default:Oe(()=>[r.value?(A(),I("button",{key:0,class:"back-to-top-btn",onClick:b,title:"Ln u trang"},S[19]||(S[19]=[i("i",{class:"fas fa-arrow-up"},null,-1)]))):he("",!0)]),_:1})]))}},Tp=Je(wp,[["__scopeId","data-v-8ac511af"]]),Cp={id:"app",class:"bg-white"},kp={class:"router-view-container"},Sp={__name:"App",setup(e){const{notification:t,categories:n,searchQuery:s,searchResults:o,addToCart:r}=xn();return In(),(a,l)=>{const c=cn("router-view");return A(),I("div",Cp,[H(t)?(A(),ls(th,{key:0,message:H(t).message,type:H(t).type},null,8,["message","type"])):he("",!0),ce(Mg,{categories:H(n),searchQuery:H(s),searchResults:H(o),onUpdateSearch:l[0]||(l[0]=d=>s.value=d),onAddToCart:H(r)},null,8,["categories","searchQuery","searchResults","onAddToCart"]),i("div",kp,[ce(c)]),ce(Tp)])}}},Ep={class:"hero-fullscreen mb-4"},Ap={id:"heroCarousel",class:"carousel slide carousel-fade hero-carousel-animated","data-bs-ride":"carousel","data-bs-interval":"4000"},$p={class:"carousel-indicators"},Ip=["data-bs-slide-to"],xp={class:"carousel-inner overflow-hidden"},Rp=["src","alt"],Pp={class:"carousel-caption animated-caption"},Op={class:"bg-dark bg-opacity-50 rounded-3 p-4"},Dp={class:"fw-bold"},Lp={class:"mb-0"},Mp={__name:"HeroCarousel",setup(e){const t=[{image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Sn phm ti ngon mi ngy",description:"Cht lng hng u - Gi c cnh tranh"},{image:"https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Mua sm tin li",description:"Giao hng tn ni - Thanh ton a dng"},{image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",title:"Khuyn mi hp dn",description:"Tit kim ln n 50% cho cc sn phm chn lc"}];return(n,s)=>(A(),I("div",Ep,[i("div",Ap,[i("div",$p,[(A(),I(me,null,Pe(t,(o,r)=>i("button",{key:r,type:"button","data-bs-target":"#heroCarousel","data-bs-slide-to":r,class:ve({active:r===0})},null,10,Ip)),64))]),i("div",xp,[(A(),I(me,null,Pe(t,(o,r)=>i("div",{key:r,class:ve(["carousel-item animated-slide",{active:r===0}])},[i("img",{src:o.image,class:"d-block w-100 carousel-image",style:{height:"400px","object-fit":"cover"},alt:o.title},null,8,Rp),i("div",Pp,[i("div",Op,[i("h3",Dp,K(o.title),1),i("p",Lp,K(o.description),1)])])],2)),64))]),s[0]||(s[0]=Dt('<button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev" data-v-a2750e6a><div class="bg-primary rounded-circle p-3" data-v-a2750e6a><span class="carousel-control-prev-icon" data-v-a2750e6a></span></div></button><button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next" data-v-a2750e6a><div class="bg-primary rounded-circle p-3" data-v-a2750e6a><span class="carousel-control-next-icon" data-v-a2750e6a></span></div></button>',2))])]))}},Np=Je(Mp,[["__scopeId","data-v-a2750e6a"]]);class go{static async getAllProductsWithStock(t){try{let n=`${fe.BASE_URL}${we.PRODUCTS.WITH_STOCK_LIST}`;t&&(n+=`?maKho=${encodeURIComponent(t)}`);const s=await fetch(n);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){throw console.error("Error fetching products with stock:",n),n}}static async getProductWithStock(t,n){try{let s=`${fe.BASE_URL}${we.PRODUCTS.BY_ID_WITH_STOCK(t)}`;n&&(s+=`?maKho=${encodeURIComponent(n)}`);const o=await fetch(s);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return await o.json()}catch(s){throw console.error(`Error fetching product ${t} with stock:`,s),s}}static async compareMaSP(t=void 0){try{let n=`${fe.BASE_URL}${we.INVENTORY.COMPARE_MASP}`;t&&(n+=`?type=${encodeURIComponent(t)}`);const s=await fetch(n);if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return await s.json()}catch(n){throw console.error("Error comparing maSP:",n),n}}static async getSanPhamOnlyMaSP(){return await this.compareMaSP("sanpham-only")}static async getTonKhoOnlyMaSP(){return await this.compareMaSP("tonkho-only")}static async getBothMaSP(){return await this.compareMaSP("both")}}function gl(){const e=z({}),t=z(!1),n=z(null),s=async(y,h)=>{if(!y)return 0;try{t.value=!0,n.value=null;const $=await go.getProductWithStock(y,h),E=$?.soLuongTon??$?.stock??0,C=h?`${y}@${h}`:`${y}`;return e.value[C]=E,E}catch($){return n.value=$.message,0}finally{t.value=!1}},o=async y=>{try{return t.value=!0,n.value=null,await go.getAllProductsWithStock(y)}catch(h){return n.value=h.message,[]}finally{t.value=!1}},r=ee(()=>y=>{const h=e.value[y];return typeof h=="number"?h>0:!1}),a=ee(()=>y=>{const h=e.value[y];return typeof h!="number"?"Khng xc nh":h===0?"Ht hng":h<=10?"Sp ht hng":"Cn hng"}),l=ee(()=>y=>{const h=e.value[y];return typeof h!="number"?"text-muted":h===0?"text-danger":h<=10?"text-warning":"text-success"}),c=ee(()=>y=>{const h=e.value[y];return typeof h!="number"?"fas fa-question-circle":h===0?"fas fa-times-circle":h<=10?"fas fa-exclamation-triangle":"fas fa-check-circle"}),d=(y,h)=>{const $=h?`${y}@${h}`:`${y}`,E=e.value[$];return typeof E=="number"?E:null},u=(y,h,$)=>{const E=$?`${y}@${$}`:`${y}`,C=d(y,$);C!==null&&(e.value[E]=Math.max(0,C-h))},f=(y,h)=>{const $=h?`${y}@${h}`:`${y}`;delete e.value[$]},g=()=>{e.value={}},m=async y=>{try{return t.value=!0,n.value=null,await go.compareMaSP(y)}catch(h){return n.value=h.message,y?[]:{sanPhamOnly:[],tonKhoOnly:[],both:[]}}finally{t.value=!1}};return{inventoryData:ee(()=>e.value),loading:ee(()=>t.value),error:ee(()=>n.value),getProductStock:s,getAllProductsWithStock:o,isProductInStock:r,getStockStatus:a,getStockStatusClass:l,getStockStatusIcon:c,getCurrentStock:d,updateStock:u,clearProductStock:f,clearAllStock:g,compareMaSP:m}}const Up={class:"position-relative overflow-hidden",style:{height:"200px"}},Hp=["src","alt"],Bp={class:"position-absolute top-0 start-0 end-0 bottom-0 d-flex flex-column justify-content-between p-3 product-overlay"},Kp={class:"d-flex flex-wrap gap-2"},Fp={key:0,class:"badge bg-danger rounded-pill"},Vp={key:1,class:"badge bg-success rounded-pill"},Gp={key:2,class:"badge bg-warning rounded-pill"},jp={class:"d-flex justify-content-center gap-2 quick-actions"},qp=["title"],Wp=["title"],Yp=["title"],zp={class:"card-body d-flex flex-column"},Qp={class:"d-flex align-items-center justify-content-between mb-2"},Jp={class:"d-flex gap-1"},Xp={key:1,class:"text-muted ms-2"},Zp={class:"card-title fw-semibold text-dark mb-3 lh-sm",style:{height:"2.8rem",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":"2","-webkit-box-orient":"vertical"}},em={class:"mb-auto"},tm={key:0,class:"text-muted text-decoration-line-through me-2",style:{"font-size":"0.875rem"}},nm={class:"fw-bold text-primary fs-5"},sm={class:"mt-3"},om=["disabled"],rm={key:0,class:"fas fa-cart-plus me-2"},am={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},ba=1,im={__name:"ProductCard",props:{product:{type:Object,required:!0},formatPrice:{type:Function,required:!0}},emits:["add-to-cart","view-detail","add-to-wishlist"],setup(e,{emit:t}){const n=e,s=t,o=z(!1),{getProductStock:r,getStockStatusClass:a}=gl(),l=z(null),c=z("text-muted"),d=ee(()=>n.product.originalPrice?Math.round((1-n.product.price/n.product.originalPrice)*100):0),u=ee(()=>n.product.isNew||Math.random()>.7),f=ee(()=>n.product.isBestSeller||Math.random()>.8),g=x=>{const k=Number(x);return Number.isFinite(k)?k:0},m=ee(()=>{const x=g(n.product.price),k=g(n.product.giaHienTai);return x>0?x:k>0?k:0}),y=async()=>{o.value=!0;try{await new Promise(x=>setTimeout(x,500)),s("add-to-cart",n.product.maSP||n.product.id)}finally{o.value=!1}},h=()=>{s("view-detail",n.product.maSP||n.product.id)},$=()=>{s("add-to-wishlist",n.product.maSP||n.product.id)},E=()=>{h()},C=async()=>{const x=[n.product?.maSP,n.product?.id,n.product?.maSanPham,n.product?.productId,n.product?.code].filter(Boolean);if(x.length>0){for(const k of x)try{const G=await r(k,ba);if(G!=null&&G>0){l.value=G,c.value=a.value(`${k}@${ba}`);return}}catch{continue}l.value=0,c.value="text-muted"}else l.value=0,c.value="text-muted"};return st(()=>n.product,()=>{C()},{immediate:!1,deep:!1}),ct(()=>{C()}),(x,k)=>(A(),I("div",{class:"card h-100 shadow-sm border-0 position-relative overflow-hidden product-card",onClick:E},[i("div",Up,[i("img",{src:e.product.image,class:"card-img-top w-100 h-100 object-fit-cover",alt:e.product.name,loading:"lazy"},null,8,Hp),i("div",Bp,[i("div",Kp,[d.value>0?(A(),I("span",Fp," -"+K(d.value)+"% ",1)):he("",!0),u.value?(A(),I("span",Vp," Mi ")):he("",!0),f.value?(A(),I("span",Gp," Bn chy ")):he("",!0)]),i("div",jp,[i("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:He(y,["stop"]),title:"Thm "+e.product.name+" vo gi hng",style:{width:"40px",height:"40px"}},k[0]||(k[0]=[i("i",{class:"fas fa-cart-plus"},null,-1)]),8,qp),i("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:He(h,["stop"]),title:"Xem chi tit "+e.product.name,style:{width:"40px",height:"40px"}},k[1]||(k[1]=[i("i",{class:"fas fa-eye"},null,-1)]),8,Wp),i("button",{class:"btn btn-light btn-sm rounded-circle p-2",onClick:He($,["stop"]),title:"Thm "+e.product.name+" vo yu thch",style:{width:"40px",height:"40px"}},k[2]||(k[2]=[i("i",{class:"fas fa-heart"},null,-1)]),8,Yp)])])]),i("div",zp,[i("div",Qp,[i("div",Jp,[(A(),I(me,null,Pe(5,G=>i("i",{key:G,class:ve(["fas fa-star",G<=e.product.rating?"text-warning":"text-muted"]),style:{"font-size":"0.875rem"}},null,2)),64))]),l.value!==null?(A(),I("small",{key:0,class:ve([c.value,"ms-2"])},"("+K(l.value)+")",3)):(A(),I("small",Xp,"(ang ti...)"))]),i("h6",Zp,K(e.product.name),1),i("div",em,[e.product.originalPrice?(A(),I("span",tm,K(e.formatPrice(g(e.product.originalPrice))),1)):he("",!0),i("span",nm,K(e.formatPrice(m.value)),1)]),i("div",sm,[i("button",{class:"btn btn-primary w-100 fw-semibold rounded-3 py-2",onClick:He(y,["stop"]),disabled:o.value},[o.value?(A(),I("div",am,k[3]||(k[3]=[i("span",{class:"visually-hidden"},"Loading...",-1)]))):(A(),I("i",rm)),W(" "+K(o.value?"ang thm...":"Thm gi hng"),1)],8,om)])])]))}},pl=Je(im,[["__scopeId","data-v-0b0cc175"]]),lm=["id"],cm={class:"container"},um={class:"d-flex flex-column flex-md-row align-items-center justify-content-between mb-4 p-4 bg-light rounded-4 shadow-sm"},dm={class:"d-flex align-items-center gap-4 mb-3 mb-md-0"},fm={class:"bg-white rounded-4 p-3 shadow-sm border",style:{width:"90px",height:"90px",display:"flex","align-items":"center","justify-content":"center"}},hm={class:"fw-bold text-dark mb-2 fs-2"},gm={key:0,class:"text-muted mb-3 fs-6"},pm={class:"d-flex flex-wrap gap-3"},mm={class:"badge bg-primary bg-opacity-10 text-primary p-2 rounded-pill"},vm={class:"badge bg-warning bg-opacity-10 text-warning p-2 rounded-pill"},ym={key:0,class:"badge bg-danger p-2 rounded-pill"},bm={class:"d-flex align-items-center gap-3"},_m={class:"mt-4 mb-5"},wm={key:0,class:"text-center py-5"},Tm={key:1},Cm={key:2,class:"text-center py-5"},km={class:"text-center mt-5 p-4 bg-light bg-opacity-50 rounded-4 border"},Sm={key:0,class:"d-flex flex-column align-items-center gap-3 py-4"},Em={key:1},Am={key:0,class:"d-flex justify-content-center align-items-center gap-3 flex-wrap"},$m={key:1,class:"mt-3"},Im={key:2,class:"text-muted"},xm={class:"mt-3"},Rm={key:0,class:"mt-5 pt-4 border-top"},Pm={class:"row g-3"},Om={class:"d-flex align-items-center gap-3 p-3 bg-white rounded-3 shadow-sm border feature-item"},Dm={class:"fw-semibold text-dark"},Lm={__name:"CategorySection",props:{category:{type:Object,required:!0},products:{type:Array,required:!0},isLoadingProducts:{type:Boolean,default:!1},formatPrice:{type:Function,required:!0},initialDisplayCount:{type:Number,default:8}},emits:["add-to-cart","view-product","add-to-wishlist","show-more","show-all","load-products"],setup(e,{emit:t}){const n=e,s=t,o=z("default"),r=z(n.initialDisplayCount),a=z(!1),l=z(!1),c=ee(()=>{let N=[...n.products].map(b=>({...b,price:Number.isFinite(Number(b.price))&&Number(b.price)>0?Number(b.price):Number(b.giaHienTai)||0}));switch(o.value){case"name":return N.sort((b,P)=>b.name.localeCompare(P.name,"vi"));case"price-low":return N.sort((b,P)=>b.price-P.price);case"price-high":return N.sort((b,P)=>P.price-b.price);case"newest":return N.sort((b,P)=>new Date(P.createdAt||Date.now())-new Date(b.createdAt||Date.now()));case"popular":return N.sort((b,P)=>(P.popularity||0)-(b.popularity||0));default:return N}}),d=ee(()=>c.value.slice(0,r.value)),u=ee(()=>r.value<n.products.length),f=ee(()=>n.products.length-r.value),g=ee(()=>n.products.length===0?0:n.products.reduce((b,P)=>b+(P.rating||4.5),0)/n.products.length),m=ee(()=>n.products.some(N=>N.isNew||Math.random()>.8)),y=()=>({primary:"#0d6efd",success:"#198754",danger:"#dc3545",warning:"#ffc107",info:"#0dcaf0",secondary:"#6c757d"})[n.category.color]||"#0d6efd",h=()=>{},$=async()=>{a.value=!0,l.value=!0,await new Promise(N=>setTimeout(N,1e3)),r.value=Math.min(r.value+n.initialDisplayCount,n.products.length),a.value=!1,l.value=!1,s("show-more",{categoryId:n.category.id,displayCount:r.value})},E=()=>{r.value=n.products.length,s("show-all",{categoryId:n.category.id,totalProducts:n.products.length})},C=()=>{r.value=n.initialDisplayCount,document.getElementById(`category-${n.category.id}`)?.scrollIntoView({behavior:"smooth",block:"start"})},x=N=>{s("add-to-cart",N)},k=N=>{s("view-product",N)},G=N=>{s("add-to-wishlist",N)};return st(()=>n.category.id,()=>{r.value=n.initialDisplayCount,o.value="default"}),(N,b)=>{const P=cn("router-link");return e.products.length>0?(A(),I("section",{key:0,class:"py-5 my-4",id:`category-${e.category.id}`},[i("div",cm,[i("div",um,[i("div",dm,[i("div",fm,[i("i",{class:ve(`${e.category.icon} fs-1`),style:bn({color:y()})},null,6)]),i("div",null,[i("h2",hm,K(e.category.name),1),e.category.description?(A(),I("p",gm,K(e.category.description),1)):he("",!0),i("div",pm,[i("span",mm,[b[2]||(b[2]=i("i",{class:"fas fa-box me-2"},null,-1)),W(" "+K(e.products.length)+" sn phm ",1)]),i("span",vm,[b[3]||(b[3]=i("i",{class:"fas fa-star me-2"},null,-1)),W(" "+K(g.value.toFixed(1))+" sao ",1)]),m.value?(A(),I("span",ym,b[4]||(b[4]=[i("i",{class:"fas fa-sparkles me-2"},null,-1),W(" C sn phm mi ")]))):he("",!0)])])]),i("div",bm,[b[6]||(b[6]=i("div",{class:"bg-primary bg-opacity-10 border border-primary border-opacity-25 rounded-3 px-3 py-2"},[i("span",{class:"text-primary fw-semibold small"},[i("i",{class:"fas fa-th me-2"}),W(" Hin th dng li ")])],-1)),i("div",null,[dt(i("select",{"onUpdate:modelValue":b[0]||(b[0]=D=>o.value=D),class:"form-select form-select-sm rounded-3 border-primary border-opacity-25 fw-semibold",onChange:h,style:{"min-width":"160px"}},b[5]||(b[5]=[Dt('<option value="default" data-v-996cfb6f>Mc nh</option><option value="name" data-v-996cfb6f>Tn A-Z</option><option value="price-low" data-v-996cfb6f>Gi thp - cao</option><option value="price-high" data-v-996cfb6f>Gi cao - thp</option><option value="newest" data-v-996cfb6f>Mi nht</option><option value="popular" data-v-996cfb6f>Ph bin</option>',6)]),544),[[Fi,o.value]])])])]),i("div",_m,[e.isLoadingProducts?(A(),I("div",wm,b[7]||(b[7]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti sn phm...")],-1),i("p",{class:"text-muted mt-3"},"ang ti sn phm trong danh mc...",-1)]))):e.products.length>0?(A(),I("div",Tm,[ce(Ou,{name:"products",tag:"div",class:"row g-3"},{default:Oe(()=>[(A(!0),I(me,null,Pe(d.value,(D,S)=>(A(),I("div",{key:D.id,class:ve(["col-12","col-sm-6","col-md-4","col-lg-3","product-item"]),style:bn({animationDelay:`${S*.1}s`})},[ce(pl,{product:D,formatPrice:e.formatPrice,onAddToCart:x,onViewDetail:k,onAddToWishlist:G},null,8,["product","formatPrice"])],4))),128))]),_:1})])):(A(),I("div",Cm,[b[9]||(b[9]=i("div",{class:"empty-icon mb-4"},[i("i",{class:"fas fa-box-open fa-4x text-muted"})],-1)),b[10]||(b[10]=i("h4",{class:"text-muted mb-3"},"Cha c sn phm no",-1)),b[11]||(b[11]=i("p",{class:"text-muted mb-4"},"Danh mc ny cha c sn phm no c thm vo",-1)),i("button",{class:"btn btn-primary",onClick:b[1]||(b[1]=D=>s("load-products",e.category.id))},b[8]||(b[8]=[i("i",{class:"fas fa-refresh me-2"},null,-1),W("Ti li sn phm ")]))]))]),i("div",km,[a.value?(A(),I("div",Sm,b[12]||(b[12]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti...")],-1),i("p",{class:"text-muted fw-semibold mb-0 fs-6"},"ang ti thm sn phm...",-1)]))):(A(),I("div",Em,[u.value?(A(),I("div",Am,[i("button",{class:"btn btn-primary fw-bold px-4 py-2 rounded-3",onClick:$},[b[13]||(b[13]=i("i",{class:"fas fa-plus me-2"},null,-1)),W("Xem thm "+K(f.value)+" sn phm ",1)]),i("button",{class:"btn btn-outline-primary fw-bold px-4 py-2 rounded-3",onClick:E},b[14]||(b[14]=[i("i",{class:"fas fa-expand me-2"},null,-1),W("Hin th tt c ")])),ce(P,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Oe(()=>b[15]||(b[15]=[i("i",{class:"fas fa-arrow-right me-2"},null,-1),W("Xem trang danh mc ")])),_:1,__:[15]},8,["to"])])):d.value.length>e.initialDisplayCount?(A(),I("div",$m,[i("button",{class:"btn btn-outline-secondary fw-semibold px-4 py-2 rounded-3",onClick:C},b[16]||(b[16]=[i("i",{class:"fas fa-compress me-2"},null,-1),W("Thu gn ")])),ce(P,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3 ms-2"},{default:Oe(()=>b[17]||(b[17]=[i("i",{class:"fas fa-arrow-right me-2"},null,-1),W("Xem trang danh mc ")])),_:1,__:[17]},8,["to"])])):(A(),I("div",Im,[b[19]||(b[19]=i("i",{class:"fas fa-check-circle text-success me-2"},null,-1)),b[20]||(b[20]=W("  hin th tt c sn phm trong danh mc ")),i("div",xm,[ce(P,{to:{name:"Category",params:{id:e.category.id}},class:"btn btn-outline-success fw-bold px-4 py-2 rounded-3"},{default:Oe(()=>b[18]||(b[18]=[i("i",{class:"fas fa-arrow-right me-2"},null,-1),W("Xem trang danh mc ")])),_:1,__:[18]},8,["to"])])]))]))]),N.categoryFeatures&&N.categoryFeatures.length>0?(A(),I("div",Rm,[b[21]||(b[21]=i("h5",{class:"fw-bold text-dark text-center mb-4"},"c im danh mc",-1)),i("div",Pm,[(A(!0),I(me,null,Pe(N.categoryFeatures,D=>(A(),I("div",{key:D.id,class:"col-md-6 col-lg-4"},[i("div",Om,[i("i",{class:ve(`${D.icon} fs-4 text-primary`)},null,2),i("span",Dm,K(D.text),1)])]))),128))])])):he("",!0)])],8,lm)):he("",!0)}}},Mm=Je(Lm,[["__scopeId","data-v-996cfb6f"]]),Nm={class:"coupon-button-widget"},Um={class:"coupon-text"},Hm={class:"coupon-count"},Bm={class:"coupon-modal-body"},Km={class:"coupon-list"},Fm={class:"coupon-item-left"},Vm={class:"coupon-discount"},Gm={class:"discount-value"},jm={class:"discount-unit"},qm={class:"coupon-item-right"},Wm={class:"coupon-info"},Ym={class:"coupon-title"},zm={class:"coupon-description"},Qm={class:"coupon-details"},Jm={class:"coupon-code"},Xm={class:"code-value"},Zm={class:"coupon-expiry"},ev=["onClick","disabled"],tv={class:"text-center mt-4"},nv={__name:"CouponButtonWidget",props:{showOnScroll:{type:Boolean,default:!0},scrollThreshold:{type:Number,default:300}},emits:["coupon-copied"],setup(e,{emit:t}){const n=e,s=t,o=z(!1),r=z(!1),a=z(new Set),l=z([{id:1,code:"SAVE10",title:"Gim 10%",description:"Gim 10% cho n hng t 200k",discount:"10",unit:"%",type:"percentage",expiry:"2024-12-31",minOrderValue:2e5,maxDiscount:5e4},{id:2,code:"FREESHIP",title:"Min ph vn chuyn",description:"Min ph ship cho n t 150k",discount:"Free",unit:"Ship",type:"shipping",expiry:"2024-12-31",minOrderValue:15e4,maxDiscount:3e4},{id:3,code:"FRESH50",title:"Gim 50K",description:"Gim 50K cho n hng t 300k",discount:"50K",unit:"",type:"fixed",expiry:"2024-12-31",minOrderValue:3e5,maxDiscount:5e4}]),c=()=>{r.value=!r.value},d=()=>{r.value=!1},u=()=>{n.showOnScroll&&(o.value=window.scrollY>n.scrollThreshold)},f=m=>{const y=new Date(m),h=new Date,$=y.getTime()-h.getTime(),E=Math.ceil($/(1e3*60*60*24));return E<0?" ht hn":E===0?"Ht hn hm nay":E===1?"Ht hn ngy mai":E<7?`Cn ${E} ngy`:y.toLocaleDateString("vi-VN",{day:"2-digit",month:"2-digit",year:"numeric"})},g=async m=>{try{await navigator.clipboard.writeText(m.code),a.value.add(m.code),setTimeout(()=>{a.value.delete(m.code)},3e3),s("coupon-copied",m.code)}catch{const h=document.createElement("textarea");h.value=m.code,document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h),a.value.add(m.code),setTimeout(()=>{a.value.delete(m.code)},3e3),s("coupon-copied",m.code)}};return ct(()=>{n.showOnScroll?(window.addEventListener("scroll",u),u()):o.value=!0}),Ut(()=>{n.showOnScroll&&window.removeEventListener("scroll",u)}),(m,y)=>{const h=cn("router-link");return A(),I("div",Nm,[i("div",{class:ve(["floating-coupon-btn",{show:o.value}]),onClick:c,title:"Xem m khuyn mi"},[y[2]||(y[2]=i("div",{class:"coupon-icon"},[i("i",{class:"fas fa-ticket-alt"})],-1)),i("div",Um,[y[1]||(y[1]=i("div",{class:"coupon-label"},"M gim gi",-1)),i("div",Hm,K(l.value.length)+" m",1)]),y[3]||(y[3]=i("div",{class:"coupon-pulse"},null,-1))],2),r.value?(A(),I("div",{key:0,class:"coupon-modal-overlay",onClick:d},[i("div",{class:"coupon-modal",onClick:y[0]||(y[0]=He(()=>{},["stop"]))},[i("div",{class:"coupon-modal-header"},[y[5]||(y[5]=i("h5",{class:"modal-title"},[i("i",{class:"fas fa-gift me-2"}),W(" M Khuyn Mi C Sn ")],-1)),i("button",{type:"button",class:"btn-close-custom",onClick:d},y[4]||(y[4]=[i("i",{class:"fas fa-times"},null,-1)]))]),i("div",Bm,[i("div",Km,[(A(!0),I(me,null,Pe(l.value,$=>(A(),I("div",{key:$.code,class:ve(["coupon-item",`coupon-${$.type}`])},[i("div",Fm,[i("div",Vm,[i("span",Gm,K($.discount),1),i("span",jm,K($.unit),1)])]),i("div",qm,[i("div",Wm,[i("h6",Ym,K($.title),1),i("p",zm,K($.description),1),i("div",Qm,[i("div",Jm,[y[6]||(y[6]=i("span",{class:"code-label"},"M:",-1)),i("span",Xm,K($.code),1)]),i("div",Zm,[y[7]||(y[7]=i("i",{class:"fas fa-clock"},null,-1)),i("span",null,K(f($.expiry)),1)])])]),i("button",{class:"btn coupon-copy-btn",onClick:E=>g($),disabled:a.value.has($.code)},[i("i",{class:ve([a.value.has($.code)?"fas fa-check":"fas fa-copy","me-2"])},null,2),W(" "+K(a.value.has($.code)?" copy":"Copy m"),1)],8,ev)])],2))),128))]),i("div",tv,[ce(h,{to:"/promotions",class:"btn btn-outline-primary",onClick:d},{default:Oe(()=>y[8]||(y[8]=[i("i",{class:"fas fa-plus me-2"},null,-1),W(" Xem tt c m khuyn mi ")])),_:1,__:[8]})])])])])):he("",!0)])}}},ml=Je(nv,[["__scopeId","data-v-1a4edbb6"]]),sv={id:"productCategories"},ov={key:0,class:"text-center py-5"},rv={__name:"Home",setup(e){const t=In(),n=z(!1),{categories:s,getProductsByCategory:o,formatPrice:r,addToCart:a,isLoadingCategories:l}=xn(),c=z({}),d=z({}),u=h=>{t.push({name:"ProductDetail",params:{id:h}})},f=async h=>{if(c.value[h])return c.value[h];try{d.value[h]=!0;const $=await o(h);return c.value[h]=$,$}catch($){return console.error(`Failed to load products for category ${h}:`,$),[]}finally{d.value[h]=!1}},g=()=>{t.push({name:"Promotions"})},m=h=>{},y=()=>{const h=window.scrollY;n.value=h>300};return ct(()=>{window.addEventListener("scroll",y),y(),st(s,async h=>{if(h.length>0){const $=h.slice(0,3);for(const E of $)await f(E.id)}},{immediate:!0})}),Ut(()=>{window.removeEventListener("scroll",y)}),(h,$)=>(A(),I("div",null,[ce(Np),i("div",sv,[H(l)?(A(),I("div",ov,$[0]||($[0]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti danh mc...")],-1),i("p",{class:"text-muted mt-3"},"ang ti danh mc sn phm...",-1)]))):(A(!0),I(me,{key:1},Pe(H(s),E=>(A(),ls(Mm,{key:E.id,category:E,products:c.value[E.id]||[],isLoadingProducts:d.value[E.id],formatPrice:H(r),onAddToCart:H(a),onViewProduct:u,onLoadProducts:f},null,8,["category","products","isLoadingProducts","formatPrice","onAddToCart"]))),128))]),ce(ml,{"show-on-scroll":!0,"scroll-threshold":300,onCouponCopied:m}),ce(js,{name:"fade"},{default:Oe(()=>[n.value?(A(),I("button",{key:0,class:"promotion-btn",onClick:g,title:"Xem khuyn mi"},$[1]||($[1]=[i("i",{class:"fas fa-gift"},null,-1)]))):he("",!0)]),_:1})]))}},av=Je(rv,[["__scopeId","data-v-5b3a3dba"]]);function iv(e){const{products:t,categories:n,addToCart:s,formatPrice:o,showNotification:r}=xn(),a=z(null),l=z({}),c=z([]),d=z([]),u=z(1),f=z(0),g=z("description"),m=z(!1),y=ee(()=>a.value?l.value[a.value.id]||{description:"Sn phm cht lng cao, c chn lc k cng  m bo ti ngon v an ton cho sc khe. c nui trng theo quy trnh khp kn, m bo v sinh an ton thc phm.",nutrition:"Giu protein, t cht bo, cung cp cc vitamin v khong cht thit yu cho c th. c bit tt cho vic pht trin c bp v duy tr sc khe tng th.",storage:"Bo qun trong t lnh t 0-4C, s dng trong vng 2-3 ngy sau khi m gi",origin:"Vit Nam - ng bng sng Cu Long"}:null),h=ee(()=>a.value?a.value.reviews||c.value[a.value.id]||[{id:1,name:"Nguyn Vn A",rating:5,content:"Sn phm rt tt, ti ngon! Cht lng vt mong i, s tip tc ng h.",date:"2025-01-01"},{id:2,name:"Trn Th B",rating:4,content:"Cht lng n, s mua li. Gi c hp l, giao hng nhanh.",date:"2025-01-02"},{id:3,name:"L Vn C",rating:5,content:"Tuyt vi! Gia nh ti rt hi lng vi sn phm ny.",date:"2025-01-03"}]:[]),$=ee(()=>{if(!a.value)return[];if(a.value?.images&&a.value.images.length>0)return a.value.images.map((ue,J)=>({id:J+1,url:ue,alt:J===0?"Hnh chnh":`Gc nhn ${J+1}`,isMain:J===0}));const R=a.value?.image||"https://via.placeholder.com/800x600?text=No+Image";return d.value[a.value.id]||[{id:1,url:R,alt:"Hnh chnh",isMain:!0},{id:2,url:R,alt:"Gc nhn 2",isMain:!1},{id:3,url:R,alt:"Gc nhn 3",isMain:!1}]}),E=ee(()=>h.value.length===0?0:h.value.reduce((R,ue)=>R+ue.rating,0)/h.value.length),C=ee(()=>!a.value||!a.value.originalPrice?0:Math.round((1-a.value.price/a.value.originalPrice)*100)),x=ee(()=>a.value?t.value.filter(R=>R.categoryId===a.value.categoryId&&(R.maSP||R.id)!==(a.value.maSP||a.value.id)).slice(0,4):[]),k=ee(()=>a.value?n.value.find(R=>R.id===a.value.categoryId):null),G=ee(()=>{const R=[{name:"Trang ch",href:"#",icon:"fas fa-home"}];return k.value&&R.push({name:k.value.name,href:`#category-${k.value.id}`}),a.value&&R.push({name:a.value.name,active:!0}),R}),N=async R=>{console.log(" loadProduct called with ID:",R),console.log(" Current products.value:",t.value),m.value=!0;try{const ue=`http://localhost:8080/api/sanpham/${R}`;console.log(" Calling API:",ue);const J=await fetch(ue);if(console.log(" API Response status:",J.status),console.log(" API Response ok:",J.ok),!J.ok)throw new Error(`HTTP error! status: ${J.status}`);const q=await J.json();console.log(" API Response data:",q);const Le={id:q.maSP||q.id,name:q.tenSP||q.name,price:q.giaHienTai||q.giaBan||q.price,originalPrice:q.giaGoc||q.originalPrice,categoryId:q.loaiSanPham?.maLoaiSP||q.categoryId,categoryName:q.loaiSanPham?.tenLoai||q.categoryName,image:`http://localhost:8080/api/upload/serve-image/${q.maSP}_main.jfif`,images:[`http://localhost:8080/api/upload/serve-image/${q.maSP}_main.jfif`,`http://localhost:8080/api/upload/serve-image/${q.maSP}_main1.jfif`,`http://localhost:8080/api/upload/serve-image/${q.maSP}_main2.jfif`],description:q.moTa||q.description,isFlashSale:q.isFlashSale||!1,isActive:q.isActive!==!1,stock:q.trongLuong||q.stock||0,unit:q.donViTinh||q.unit||"ci",rating:q.danhGia||q.rating||4.5,reviews:q.danhGia||q.reviews||[],weight:q.trongLuong||null,weightUnit:q.donViTinh||null,shelfLifeDays:q.hanSuDung||null};a.value=Le,f.value=0,u.value=1}catch(ue){console.error(` Failed to load product ${R} from API:`,ue);const J=t.value.find(q=>q.id===R||q.id===String(R)||q.id===parseInt(R)||q.maSP===R||q.maSP===String(R));J?(a.value=J,f.value=0,u.value=1):(console.error(" Product not found in local data either"),a.value=null)}finally{m.value=!1}},b=(R,ue=10)=>{const J=Math.max(1,Math.min(ue,u.value+R));u.value=J},P=R=>{f.value=R},D=()=>{a.value&&s(a.value.maSP||a.value.id,u.value)},S=()=>{if(!a.value){r("Khng tm thy sn phm!","error");return}if(!JSON.parse(localStorage.getItem("easymart-user")||"null")){D(),localStorage.setItem("easymart-selected-items",JSON.stringify([a.value.maSP||a.value.id])),localStorage.setItem("easymart-redirect-after-login","/checkout"),r("Vui lng ng nhp  tin hnh thanh ton!","warning"),setTimeout(()=>{window.location.href="/login"},800);return}D(),localStorage.setItem("easymart-selected-items",JSON.stringify([a.value.maSP||a.value.id])),r("Chuyn n trang thanh ton...","info"),setTimeout(()=>{window.location.href="/checkout"},800)},B=()=>{r(" thm vo danh sch yu thch!","success")},_=()=>{navigator.share&&a.value?navigator.share({title:a.value.name,text:`Xem sn phm tuyt vi ny ti EasyMart: ${a.value.name}`,url:window.location.href}).catch(()=>{R()}):R();function R(){navigator.clipboard.writeText(window.location.href).then(()=>{r(" copy link sn phm!","info")})}},X=()=>{r("Tnh nng so snh s c trong phin bn tip theo!","info")},j=R=>{g.value=R};return ct(()=>{e&&N(e)}),{currentProduct:a,quantity:u,selectedImageIndex:f,activeTab:g,isLoading:m,currentProductDetail:y,currentReviews:h,currentImages:$,averageRating:E,discountPercentage:C,relatedProducts:x,currentCategory:k,breadcrumbs:G,loadProduct:N,changeQuantity:b,changeMainImage:P,addToCartWithQuantity:D,buyNow:S,addToWishlist:B,shareProduct:_,compareProduct:X,setActiveTab:j,formatPrice:o,addToCart:s}}const lv={class:"product-reviews"},cv={class:"row"},uv={class:"col-lg-10 mx-auto"},dv={class:"mb-4 text-center"},fv={class:"d-flex justify-content-center align-items-center mb-3"},hv={class:"text-muted"},gv={class:"row g-4"},pv={class:"card mb-3 border-primary"},mv={class:"card-body"},vv={class:"d-flex justify-content-between align-items-start mb-2"},yv={class:"card-title mb-0 text-primary"},bv={class:"text-muted"},_v={class:"text-warning mb-2"},wv={class:"card-text"},Tv={key:0,class:"text-center text-muted py-5"},Cv={__name:"ProductReviews",props:{product:{type:Object,required:!0},reviews:{type:Array,required:!1}},setup(e){const t=e,n=ee(()=>(console.log(" ProductReviews - Props reviews:",t.reviews),console.log(" ProductReviews - Reviews length:",t.reviews?.length||0),t.reviews||[]));return(s,o)=>(A(),I("div",lv,[i("div",cv,[i("div",uv,[i("div",dv,[o[2]||(o[2]=i("h5",{class:"text-primary mb-3"},"nh gi t khch hng",-1)),i("div",fv,[o[1]||(o[1]=Dt('<div class="text-warning fs-3 me-3" data-v-bc63e91b><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star" data-v-bc63e91b></i><i class="fas fa-star-half-alt" data-v-bc63e91b></i></div>',1)),i("div",null,[o[0]||(o[0]=i("div",{class:"fs-4 fw-bold text-primary"},"4.5/5",-1)),i("small",hv,"("+K(n.value.length)+" nh gi)",1)])])]),i("div",gv,[(A(!0),I(me,null,Pe(n.value,r=>(A(),I("div",{class:"col-12",key:r.id},[i("div",pv,[i("div",mv,[i("div",vv,[i("h6",yv,K(r.name),1),i("small",bv,K(r.date),1)]),i("div",_v,[(A(!0),I(me,null,Pe(r.rating,a=>(A(),I("i",{key:a,class:"fas fa-star"}))),128)),(A(!0),I(me,null,Pe(5-r.rating,a=>(A(),I("i",{key:a+r.rating,class:"far fa-star"}))),128))]),i("p",wv,K(r.content),1)])])]))),128))]),n.value.length===0?(A(),I("div",Tv,o[3]||(o[3]=[i("i",{class:"fas fa-info-circle fa-2x mb-3"},null,-1),i("div",null,"Cha c nh gi no cho sn phm ny.",-1)]))):he("",!0)])])]))}},kv=Je(Cv,[["__scopeId","data-v-bc63e91b"]]),Sv={class:"write-review-section"},Ev={key:0,class:"text-center mb-4"},Av={key:1,class:"text-center mb-4"},$v={key:2,class:"card shadow-sm border-0 mb-4"},Iv={class:"card-body"},xv={class:"d-flex align-items-center mb-3 p-3 bg-light rounded"},Rv=["src","alt"],Pv={class:"mb-0"},Ov={class:"text-muted"},Dv={class:"mb-3"},Lv={class:"rating-input d-flex align-items-center gap-3"},Mv={class:"star-rating"},Nv=["onClick","onMouseover"],Uv={class:"text-muted"},Hv={class:"mb-3"},Bv={class:"form-text"},Kv={class:"mb-3"},Fv={class:"mb-4"},Vv={class:"form-check"},Gv={class:"d-flex gap-2"},jv=["disabled"],qv={key:0,class:"fas fa-paper-plane me-2"},Wv={key:1,class:"spinner-border spinner-border-sm me-2",role:"status"},Yv=["disabled"],zv={key:3,class:"alert alert-success alert-dismissible fade show",role:"alert"},Qv={__name:"WriteReview",props:{product:{type:Object,required:!0}},emits:["review-submitted"],setup(e,{emit:t}){const n=t,{user:s,isLoggedIn:o}=os(),r=z(!1),a=z(0),l=z(0),c=z(""),d=z(""),u=z(!1),f=z(!1),g=z(!1),m=ee(()=>{switch(l.value||a.value){case 1:return"Rt t";case 2:return"T";case 3:return"Bnh thng";case 4:return"Tt";case 5:return"Tuyt vi";default:return"Chn s sao"}}),y=async()=>{if(!(a.value===0||c.value.trim().length<10)){f.value=!0;try{await new Promise(C=>setTimeout(C,1500));const E={id:Date.now(),name:s.value.name,email:s.value.email,avatar:s.value.avatar,rating:a.value,title:d.value.trim()||null,content:c.value.trim(),wouldRecommend:u.value,date:new Date().toISOString().split("T")[0],isVerifiedPurchase:!0};n("review-submitted",E),g.value=!0,$(),setTimeout(()=>{g.value=!1},5e3)}catch(E){console.error("Error submitting review:",E)}finally{f.value=!1}}},h=()=>{$()},$=()=>{r.value=!1,a.value=0,l.value=0,c.value="",d.value="",u.value=!1};return(E,C)=>{const x=cn("router-link");return A(),I("div",Sv,[!H(o)&&!r.value?(A(),I("div",Ev,[C[7]||(C[7]=i("div",{class:"alert alert-info"},[i("i",{class:"fas fa-info-circle me-2"}),i("strong",null,"Bn cn ng nhp  vit nh gi")],-1)),ce(x,{to:"/login",class:"btn btn-primary"},{default:Oe(()=>C[6]||(C[6]=[i("i",{class:"fas fa-sign-in-alt me-2"},null,-1),W("ng nhp ngay ")])),_:1,__:[6]})])):H(o)&&!r.value?(A(),I("div",Av,[i("button",{class:"btn btn-success btn-lg",onClick:C[0]||(C[0]=k=>r.value=!0)},C[8]||(C[8]=[i("i",{class:"fas fa-pen me-2"},null,-1),W("Vit nh gi ")]))])):he("",!0),r.value&&H(o)?(A(),I("div",$v,[C[14]||(C[14]=i("div",{class:"card-header bg-primary text-white"},[i("h5",{class:"mb-0"},[i("i",{class:"fas fa-star me-2"}),W("Vit nh gi cho sn phm ny ")])],-1)),i("div",Iv,[i("form",{onSubmit:He(y,["prevent"])},[i("div",xv,[i("img",{src:H(s).avatar,class:"rounded-circle me-3",width:"50",height:"50",alt:H(s).name},null,8,Rv),i("div",null,[i("h6",Pv,K(H(s).name),1),i("small",Ov,K(H(s).email),1)])]),i("div",Dv,[C[9]||(C[9]=i("label",{class:"form-label fw-semibold"},"nh gi ca bn *",-1)),i("div",Lv,[i("div",Mv,[(A(),I(me,null,Pe(5,k=>i("i",{key:k,class:ve(["fas fa-star star-clickable",k<=a.value?"text-warning":"text-muted"]),onClick:G=>a.value=k,onMouseover:G=>l.value=k,onMouseleave:C[1]||(C[1]=G=>l.value=0),style:{cursor:"pointer","font-size":"1.5rem","margin-right":"0.25rem"}},null,42,Nv)),64))]),i("span",Uv,K(m.value),1)])]),i("div",Hv,[C[10]||(C[10]=i("label",{for:"reviewContent",class:"form-label fw-semibold"},"Ni dung nh gi *",-1)),dt(i("textarea",{"onUpdate:modelValue":C[2]||(C[2]=k=>c.value=k),class:"form-control",id:"reviewContent",rows:"4",required:"",placeholder:"Chia s tri nghim ca bn v sn phm ny...",maxlength:"500"},null,512),[[wn,c.value]]),i("div",Bv,K(c.value.length)+"/500 k t",1)]),i("div",Kv,[C[11]||(C[11]=i("label",{for:"reviewTitle",class:"form-label fw-semibold"},"Tiu  nh gi (ty chn)",-1)),dt(i("input",{"onUpdate:modelValue":C[3]||(C[3]=k=>d.value=k),type:"text",class:"form-control",id:"reviewTitle",placeholder:"V d: Sn phm tuyt vi!",maxlength:"100"},null,512),[[wn,d.value]])]),i("div",Fv,[i("div",Vv,[dt(i("input",{"onUpdate:modelValue":C[4]||(C[4]=k=>u.value=k),class:"form-check-input",type:"checkbox",id:"wouldRecommend"},null,512),[[Ki,u.value]]),C[12]||(C[12]=i("label",{class:"form-check-label",for:"wouldRecommend"},[i("i",{class:"fas fa-thumbs-up me-2"}),W("Ti s gii thiu sn phm ny cho bn b ")],-1))])]),i("div",Gv,[i("button",{type:"submit",class:"btn btn-success",disabled:f.value||a.value===0||c.value.trim().length<10},[f.value?he("",!0):(A(),I("i",qv)),f.value?(A(),I("span",Wv)):he("",!0),W(" "+K(f.value?"ang gi...":"Gi nh gi"),1)],8,jv),i("button",{type:"button",class:"btn btn-outline-secondary",onClick:h,disabled:f.value},C[13]||(C[13]=[i("i",{class:"fas fa-times me-2"},null,-1),W("Hy ")]),8,Yv)])],32)])])):he("",!0),g.value?(A(),I("div",zv,[C[15]||(C[15]=i("i",{class:"fas fa-check-circle me-2"},null,-1)),C[16]||(C[16]=i("strong",null,"Cm n bn!",-1)),C[17]||(C[17]=W(" nh gi ca bn  c gi thnh cng. ")),i("button",{type:"button",class:"btn-close",onClick:C[5]||(C[5]=k=>g.value=!1)})])):he("",!0)])}}},Jv=Je(Qv,[["__scopeId","data-v-d2a00896"]]),Xv={id:"productDetail",class:"bg-white"},Zv={class:"container mt-4"},ey={"aria-label":"breadcrumb"},ty={class:"breadcrumb mb-0"},ny={class:"breadcrumb-item"},sy={key:0,class:"breadcrumb-item"},oy=["href"],ry={key:1,class:"breadcrumb-item active"},ay={class:"container my-5"},iy={key:0,class:"row"},ly={key:1,class:"row"},cy={class:"col-12 text-center"},uy={class:"debug-info mt-4 p-3 bg-light rounded text-start"},dy={key:2,class:"row animate-fade-in"},fy={class:"col-lg-6"},hy={class:"position-relative"},gy=["src","alt"],py={class:"row g-2 mt-3"},my={class:"product-thumbnail-container"},vy=["src","onClick","alt"],yy={class:"col-lg-6"},by={class:"ps-lg-4"},_y={class:"fs-2 fw-bold text-dark mb-3"},wy={class:"mb-3"},Ty={key:0,class:"feature-badge"},Cy={class:"d-flex align-items-center mb-3"},ky={class:"text-warning me-3"},Sy={class:"text-muted ms-3"},Ey={class:"mb-4"},Ay={key:0,class:"discount-badge"},$y={class:"d-flex align-items-baseline"},Iy={key:0,class:"original-price"},xy={class:"detail-price"},Ry={key:1,class:"text-muted"},Py={class:"stock-info mb-4"},Oy={class:"row"},Dy={class:"col-6"},Ly={class:"text-center"},My={class:"mt-2"},Ny={class:"small text-muted"},Uy={key:0},Hy={key:1},By={class:"row g-3 mb-4"},Ky={class:"col-md-4"},Fy={class:"quantity-selector d-flex"},Vy=["disabled"],Gy=["max","disabled"],jy=["disabled"],qy={key:0,class:"text-danger"},Wy={key:1,class:"text-muted"},Yy={class:"col-md-8"},zy={class:"d-flex gap-2"},Qy=["disabled"],Jy=["disabled"],Xy={class:"row g-2 mt-3"},Zy={class:"col-4"},eb={class:"col-4"},tb={class:"col-4"},nb={key:0,class:"container my-5"},sb={class:"nav nav-pills product-tabs justify-content-center mb-4",role:"tablist"},ob={class:"nav-item",role:"presentation"},rb={class:"nav-item",role:"presentation"},ab={class:"tab-content",style:{"min-height":"400px",background:"white","border-radius":"10px",padding:"20px"}},ib={class:"tab-pane",style:{display:"block"}},lb={class:"row"},cb={class:"col-lg-8 mx-auto"},ub={class:"card border-0 shadow-sm rounded-4"},db={class:"card-body p-5"},fb={class:"text-primary mb-4"},hb={class:"lead"},gb={class:"mt-4"},pb={class:"list-unstyled small mb-0"},mb={key:0},vb={key:0},yb={key:1},bb={key:2},_b={class:"tab-pane",style:{display:"block",width:"100%"}},wb={key:1,class:"container my-5"},Tb={class:"row g-4"},_a=1,Cb={__name:"ProductDetail",props:{productId:{type:[Number,String],required:!0}},emits:["go-home","view-product"],setup(e,{emit:t}){const n=e,{products:s,addToCart:o,formatPrice:r,showNotification:a}=xn(),{currentProduct:l,quantity:c,selectedImageIndex:d,activeTab:u,currentReviews:f,currentImages:g,discountPercentage:m,relatedProducts:y,currentCategory:h,isLoading:$,loadProduct:E,changeQuantity:C,addToCartWithQuantity:x,buyNow:k,addToWishlist:G,shareProduct:N,compareProduct:b}=iv(n.productId),{getProductStock:P,getStockStatus:D,getStockStatusClass:S,getStockStatusIcon:B}=gl(),_=ee(()=>{const de=l.value?.maSP||l.value?.id;return de?`${de}@${_a}`:null}),X=z(null),j=z("ang kim tra..."),R=z("text-muted"),ue=z("fas fa-spinner fa-spin"),J=z("text-muted"),q=ee(()=>l.value?.description||"Sn phm cht lng cao, c chn lc k cng  m bo ti ngon v an ton cho sc khe. c nui trng theo quy trnh khp kn, m bo v sinh an ton thc phm."),Le=de=>{console.log(" New review submitted:",de),l.value&&l.value.reviews&&l.value.reviews.unshift(de),a("Cm n bn  nh gi sn phm!","success")},Ne=async()=>{const de=l.value?.maSP||l.value?.id;if(de)try{const T=await P(de,_a);X.value=T,_.value&&(j.value=D.value(_.value),R.value=S.value(_.value),ue.value=B.value(_.value),J.value=R.value)}catch(T){console.error("Error loading stock info:",T),j.value="Khng xc nh",R.value="text-muted",ue.value="fas fa-question-circle",J.value="text-muted"}};st(()=>n.productId,async de=>{console.log(" ProductDetail - ProductId changed to:",de),console.log(" ProductDetail - currentProduct before load:",l.value),de&&(await E(de),console.log(" ProductDetail - currentProduct after load:",l.value),await Ne())},{immediate:!0}),st(f,de=>{console.log(" ProductDetail - currentReviews changed:",de),console.log(" ProductDetail - currentReviews length:",de?.length||0)},{immediate:!0}),st(l,async de=>{(de?.maSP||de?.id)&&await Ne()},{immediate:!1,deep:!1}),st(u,de=>{console.log(" ProductDetail - activeTab changed to:",de)},{immediate:!0}),ct(async()=>{console.log(" ProductDetail - Component mounted with productId:",n.productId),console.log(" ProductDetail - currentProduct on mount:",l.value),n.productId&&(await E(n.productId),console.log(" ProductDetail - currentProduct after mount load:",l.value),await Ne())});const Be=de=>{a(` copy m khuyn mi: ${de}`,"success")};return(de,T)=>(A(),I("div",Xv,[i("div",Zv,[i("nav",ey,[i("ol",ty,[i("li",ny,[i("a",{href:"#",onClick:T[0]||(T[0]=He(Y=>de.$emit("go-home"),["prevent"])),class:"text-decoration-none"},T[13]||(T[13]=[i("i",{class:"fas fa-home me-1"},null,-1),W("Trang ch ")]))]),H(h)?(A(),I("li",sy,[i("a",{href:`#category-${H(h).id}`,class:"text-decoration-none"},K(H(h).name),9,oy)])):he("",!0),H(l)?(A(),I("li",ry,K(H(l).name),1)):he("",!0)])])]),i("div",ay,[!H(l)&&H($)?(A(),I("div",iy,T[14]||(T[14]=[i("div",{class:"col-12 text-center py-5"},[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"ang ti sn phm...")]),i("p",{class:"text-muted mt-3"},"ang ti thng tin sn phm...")],-1)]))):H(l)?(A(),I("div",dy,[i("div",fy,[i("div",hy,[i("img",{src:H(g)[H(d)]?.url||H(l).image,class:"w-100 product-image-main shadow-product",alt:H(l).name},null,8,gy),T[24]||(T[24]=i("div",{class:"position-absolute top-0 end-0 m-3 bg-dark bg-opacity-75 text-white p-2 rounded"},[i("i",{class:"fas fa-search-plus me-1"}),W("Zoom ")],-1))]),i("div",py,[(A(!0),I(me,null,Pe(H(g),(Y,F)=>(A(),I("div",{key:F,class:"col-3"},[i("div",my,[i("img",{src:Y.url,class:ve(["w-100 product-thumbnail",{active:F===H(d)}]),onClick:Se=>d.value=F,alt:Y.alt},null,10,vy)])]))),128))])]),i("div",yy,[i("div",by,[i("h1",_y,K(H(l).name),1),i("div",wy,[T[25]||(T[25]=i("span",{class:"feature-badge"},"Ti sng",-1)),T[26]||(T[26]=i("span",{class:"feature-badge"},"Cht lng cao",-1)),T[27]||(T[27]=i("span",{class:"feature-badge"},"An ton",-1)),H(l).originalPrice?(A(),I("span",Ty,"Gim gi")):he("",!0)]),i("div",Cy,[i("div",ky,[(A(),I(me,null,Pe(5,Y=>i("i",{key:Y,class:"fas fa-star"})),64)),T[28]||(T[28]=i("span",{class:"text-dark ms-2 fw-semibold"},"4.8",-1))]),T[30]||(T[30]=i("span",{class:"text-muted"},"|",-1)),i("span",Sy,[T[29]||(T[29]=i("i",{class:"fas fa-shopping-cart me-1"},null,-1)),W(K(Math.floor(Math.random()*500)+100)+"  bn ",1)])]),i("div",Ey,[H(m)>0?(A(),I("div",Ay," -"+K(H(m))+"% GIM GI ",1)):he("",!0),i("div",$y,[H(l).originalPrice?(A(),I("span",Iy,K(H(r)(H(l).originalPrice)),1)):he("",!0),i("span",xy,K(H(r)(H(l).price)),1)]),H(l).originalPrice?(A(),I("small",Ry," Tit kim: "+K(H(r)(H(l).originalPrice-H(l).price)),1)):he("",!0)]),i("div",Py,[i("div",Oy,[i("div",Dy,[i("div",Ly,[i("i",{class:ve([ue.value,J.value])},null,2),i("div",My,[i("strong",{class:ve(R.value)},K(j.value),3),i("div",Ny,[X.value!==null?(A(),I("span",Uy,"Cn "+K(X.value)+" sn phm",1)):(A(),I("span",Hy,"ang kim tra..."))])])])]),T[31]||(T[31]=Dt('<div class="col-6" data-v-2113b530><div class="text-center" data-v-2113b530><i class="fas fa-shield-alt text-primary fs-4" data-v-2113b530></i><div class="mt-2" data-v-2113b530><strong class="text-primary" data-v-2113b530>Cht lng</strong><div class="small text-muted" data-v-2113b530>m bo ti ngon</div></div></div></div>',1))])]),i("div",By,[i("div",Ky,[T[34]||(T[34]=i("label",{class:"form-label fw-semibold"},"S lng:",-1)),i("div",Fy,[i("button",{class:"quantity-btn",onClick:T[2]||(T[2]=Y=>H(C)(-1,X.value)),disabled:X.value===0},T[32]||(T[32]=[i("i",{class:"fas fa-minus"},null,-1)]),8,Vy),dt(i("input",{type:"number",class:"form-control quantity-input","onUpdate:modelValue":T[3]||(T[3]=Y=>Ge(c)?c.value=Y:null),min:1,max:X.value||10,disabled:X.value===0},null,8,Gy),[[wn,H(c)]]),i("button",{class:"quantity-btn",onClick:T[4]||(T[4]=Y=>H(C)(1,X.value)),disabled:X.value===0},T[33]||(T[33]=[i("i",{class:"fas fa-plus"},null,-1)]),8,jy)]),X.value===0?(A(),I("small",qy,"Sn phm  ht hng")):X.value!==null?(A(),I("small",Wy,"Cn "+K(X.value)+" sn phm",1)):he("",!0)]),i("div",Yy,[T[37]||(T[37]=i("label",{class:"form-label fw-semibold"},"Hnh ng:",-1)),i("div",zy,[i("button",{class:"btn add-to-cart-btn text-white flex-fill",onClick:T[5]||(T[5]=(...Y)=>H(x)&&H(x)(...Y)),disabled:X.value===0},[T[35]||(T[35]=i("i",{class:"fas fa-cart-plus me-2"},null,-1)),W(K(X.value===0?"Ht hng":"Thm vo gi"),1)],8,Qy),i("button",{class:"btn buy-now-btn text-white flex-fill",onClick:T[6]||(T[6]=(...Y)=>H(k)&&H(k)(...Y)),disabled:X.value===0},[T[36]||(T[36]=i("i",{class:"fas fa-bolt me-2"},null,-1)),W(K(X.value===0?"Ht hng":"Mua ngay"),1)],8,Jy)])])]),T[41]||(T[41]=Dt('<div class="delivery-info p-3" data-v-2113b530><h6 class="fw-bold text-success mb-3" data-v-2113b530><i class="fas fa-shipping-fast me-2" data-v-2113b530></i>Thng tin giao hng </h6><div class="row g-3" data-v-2113b530><div class="col-md-6" data-v-2113b530><div class="d-flex align-items-center" data-v-2113b530><i class="fas fa-clock text-success me-3" data-v-2113b530></i><div data-v-2113b530><strong data-v-2113b530>Giao hng nhanh</strong><div class="small text-muted" data-v-2113b530>Trong 2 gi</div></div></div></div><div class="col-md-6" data-v-2113b530><div class="d-flex align-items-center" data-v-2113b530><i class="fas fa-truck text-success me-3" data-v-2113b530></i><div data-v-2113b530><strong data-v-2113b530>Min ph ship</strong><div class="small text-muted" data-v-2113b530>n t 200k</div></div></div></div></div></div>',1)),i("div",Xy,[i("div",Zy,[i("button",{class:"btn btn-outline-primary w-100 rounded-pill",onClick:T[7]||(T[7]=(...Y)=>H(G)&&H(G)(...Y))},T[38]||(T[38]=[i("i",{class:"fas fa-heart me-1"},null,-1),W("Yu thch ")]))]),i("div",eb,[i("button",{class:"btn btn-outline-secondary w-100 rounded-pill",onClick:T[8]||(T[8]=(...Y)=>H(N)&&H(N)(...Y))},T[39]||(T[39]=[i("i",{class:"fas fa-share-alt me-1"},null,-1),W("Chia s ")]))]),i("div",tb,[i("button",{class:"btn btn-outline-info w-100 rounded-pill",onClick:T[9]||(T[9]=(...Y)=>H(b)&&H(b)(...Y))},T[40]||(T[40]=[i("i",{class:"fas fa-balance-scale me-1"},null,-1),W("So snh ")]))])])])])])):(A(),I("div",ly,[i("div",cy,[T[22]||(T[22]=i("h3",null,"Khng tm thy sn phm",-1)),T[23]||(T[23]=i("p",{class:"text-muted"},"Sn phm bn tm kim khng tn ti.",-1)),i("div",uy,[T[20]||(T[20]=i("h6",{class:"text-muted"},"Debug Info:",-1)),i("p",null,[T[15]||(T[15]=i("strong",null,"Product ID:",-1)),W(" "+K(n.productId),1)]),i("p",null,[T[16]||(T[16]=i("strong",null,"Current Product:",-1)),W(" "+K(H(l)),1)]),i("p",null,[T[17]||(T[17]=i("strong",null,"Is Loading:",-1)),W(" "+K(H($)),1)]),i("p",null,[T[18]||(T[18]=i("strong",null,"Products Count:",-1)),W(" "+K(H(s).length),1)]),i("p",null,[T[19]||(T[19]=i("strong",null,"Available Product IDs:",-1)),W(" "+K(H(s).map(Y=>Y.id).join(", ")),1)])]),i("button",{class:"btn btn-primary mt-3",onClick:T[1]||(T[1]=Y=>de.$emit("go-home"))},T[21]||(T[21]=[i("i",{class:"fas fa-home me-2"},null,-1),W("V trang ch ")]))])]))]),H(l)?(A(),I("div",nb,[i("ul",sb,[i("li",ob,[i("button",{class:ve(["nav-link",{active:H(u)==="description"}]),onClick:T[10]||(T[10]=Y=>u.value="description")},T[42]||(T[42]=[i("i",{class:"fas fa-info-circle me-2"},null,-1),W("M t sn phm ")]),2)]),i("li",rb,[i("button",{class:ve(["nav-link",{active:H(u)==="reviews"}]),onClick:T[11]||(T[11]=Y=>u.value="reviews")},T[43]||(T[43]=[i("i",{class:"fas fa-star me-2"},null,-1),W("nh gi ")]),2)])]),i("div",ab,[dt(i("div",ib,[i("div",lb,[i("div",cb,[i("div",ub,[i("div",db,[i("h5",fb,[T[44]||(T[44]=i("i",{class:"fas fa-info-circle me-2"},null,-1)),W("V sn phm "+K(H(l).name),1)]),i("p",hb,K(q.value),1),T[53]||(T[53]=i("div",{class:"feature-highlight"},[i("h6",{class:"text-primary mb-2"},[i("i",{class:"fas fa-certificate me-2"}),W("Cam kt cht lng ")]),i("p",{class:"mb-0"}," Chng ti cam kt 100% sn phm ti ngon, an ton. Nu khng hi lng, hon tin trong 24h. ")],-1)),i("div",gb,[T[52]||(T[52]=i("h6",{class:"text-primary mb-3"},[i("i",{class:"fas fa-list-ul me-2"}),W("Thng s sn phm ")],-1)),i("ul",pb,[H(l).weight?(A(),I("li",mb,[T[45]||(T[45]=i("i",{class:"fas fa-weight-hanging text-muted me-2"},null,-1)),T[46]||(T[46]=W(" Trng lng: ")),i("strong",null,K(H(l).weight),1),T[47]||(T[47]=W()),H(l).weightUnit?(A(),I("span",vb,K(H(l).weightUnit),1)):he("",!0)])):he("",!0),H(l).weightUnit&&!H(l).weight?(A(),I("li",yb,[T[48]||(T[48]=i("i",{class:"fas fa-balance-scale text-muted me-2"},null,-1)),T[49]||(T[49]=W(" n v tnh: ")),i("strong",null,K(H(l).weightUnit),1)])):he("",!0),H(l).shelfLifeDays?(A(),I("li",bb,[T[50]||(T[50]=i("i",{class:"fas fa-hourglass-half text-muted me-2"},null,-1)),T[51]||(T[51]=W(" Hn s dng: ")),i("strong",null,K(H(l).shelfLifeDays)+" ngy",1)])):he("",!0)])])])])])])],512),[[es,H(u)==="description"]]),dt(i("div",_b,[ce(Jv,{product:H(l),onReviewSubmitted:Le},null,8,["product"]),ce(kv,{product:H(l),reviews:H(f)},null,8,["product","reviews"])],512),[[es,H(u)==="reviews"]])])])):he("",!0),H(y).length>0?(A(),I("div",wb,[T[54]||(T[54]=i("h3",{class:"section-title fs-2 fw-bold text-dark mb-4"},[i("i",{class:"fas fa-heart text-danger me-3"}),W("Sn phm lin quan ")],-1)),i("div",Tb,[(A(!0),I(me,null,Pe(H(y),Y=>(A(),I("div",{key:Y.id,class:"col-lg-3 col-md-4 col-sm-6"},[ce(pl,{product:Y,formatPrice:H(r),onAddToCart:H(o),onViewDetail:T[12]||(T[12]=F=>de.$emit("view-product",F))},null,8,["product","formatPrice","onAddToCart"])]))),128))])])):he("",!0),ce(ml,{"show-on-scroll":!0,"scroll-threshold":300,onCouponCopied:Be})]))}},kb=Je(Cb,[["__scopeId","data-v-2113b530"]]),Sb={__name:"ProductDetail",setup(e){const t=In(),n=Zd(),s=ee(()=>n.params.id),o=()=>{t.push({name:"Home"})},r=a=>{t.push({name:"ProductDetail",params:{id:a}})};return(a,l)=>(A(),I("div",null,[ce(kb,{productId:s.value,onGoHome:o,onViewProduct:r},null,8,["productId"])]))}},Eb=Je(Sb,[["__scopeId","data-v-2119db9b"]]);class dn{static async createOrderFromCart(t){try{console.log(" OrderService.createOrderFromCart - Starting invoice creation..."),console.log(" Order data received:",JSON.stringify(t,null,2));const n=Re();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");console.log(" JWT token found:",n.substring(0,20)+"...");const s=`${fe.BASE_URL}${we.HOADON.CREATE_FROM_CART}`;if(console.log(" Calling API:",s),console.log(" Request payload:"),console.log("   - maKH:",t.maKH),console.log("   - maNV:",t.maNV||"N/A"),console.log("   - ghiChu:",t.ghiChu||"N/A"),console.log("   - selectedCartItemIds:",t.selectedCartItemIds),console.log("   - trangThai:",t.trangThai||0),!t.selectedCartItemIds||t.selectedCartItemIds.length===0)throw new Error("Phi chn t nht mt item t gi hng  to ha n");console.log(" Creating invoice with selectedCartItemIds:"),console.log("   - selectedCartItemIds:",t.selectedCartItemIds),console.log("   - selectedCartItemIds count:",t.selectedCartItemIds?.length||0);const o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)});if(console.log(" API Response status:",o.status),console.log(" API Response ok:",o.ok),console.log(" API Response headers:",Object.fromEntries(o.headers.entries())),!o.ok){const a=await o.json().catch(()=>null);console.error(" API Error response:",a);let l="To ha n tht bi";throw a?.message?l=a.message:a?.error?l=a.error:o.statusText&&(l+=`: ${o.statusText}`),new Error(l)}const r=await o.json();if(console.log(" Invoice creation successful!"),console.log(" Full API Response data:",JSON.stringify(r,null,2)),r.success||(console.warn(" Response success = false, but HTTP status is OK"),console.warn("   - Message:",r.message||"N/A"),console.warn("   - Error:",r.error||"N/A")),console.log(`
 === INVOICE DETAILS (HOADON) ===`),r.result?(console.log(" Invoice result object found in response"),console.log(`   - M ha n: ${r.result.maHD||"N/A"}`),console.log(`   - M khch hng: ${r.result.maKH||"N/A"}`),console.log(`   - M nhn vin: ${r.result.maNV||"N/A"}`),console.log(`   - M khuyn mi: ${r.result.maKM||"N/A"}`),console.log(`   - Ngy lp: ${r.result.ngayLap||"N/A"}`),console.log(`   - Tng tin hng: ${r.result.tongTienHang||"N/A"}`),console.log(`   - Tin gim gi: ${r.result.tienGiamGia||"N/A"}`),console.log(`   - Tng tin: ${r.result.tongTien||"N/A"}`),console.log(`   - Trng thi: ${r.result.trangThai||"N/A"}`),console.log(`   - im tch ly: ${r.result.diemTichLuy||"N/A"}`),console.log(`   - Ghi ch: ${r.result.ghiChu||"N/A"}`)):console.log(" Invoice result object missing from response"),console.log(`
 === INVOICE ITEMS (CHITIETHOADON) ===`),r.result&&r.result.items){console.log(` Chi tit ha n found: ${r.result.items.length} items`),r.result.items.forEach((d,u)=>{console.log(`
    Item ${u+1}:`),console.log(`      - M sn phm: ${d.maSP||"N/A"}`),console.log(`      - Tn sn phm: ${d.tenSP||"N/A"}`),console.log(`      - S lng: ${d.soLuong||"N/A"}`),console.log(`      - n gi bn: ${d.donGiaBan||d.donGia||"N/A"}`),console.log(`      - Thnh tin: ${d.thanhTien||"N/A"}`),console.log(`      - Gim gi: ${d.giamGia||"N/A"}`),console.log(`      - Thnh tin sau gim: ${d.thanhTienSauGiam||"N/A"}`)});const a=r.result.items.length,l=r.result.items.reduce((d,u)=>d+(u.soLuong||0),0),c=r.result.items.reduce((d,u)=>d+(u.thanhTien||0),0);console.log(`
 === SUMMARY ===`),console.log(`   - Tng s sn phm: ${a}`),console.log(`   - Tng s lng: ${l}`),console.log(`   - Tng thnh tin: ${c}`),console.log(`   - Tng tin ha n: ${r.result.tongTien||"N/A"}`)}else console.log(" Chi tit ha n missing or empty"),r.result&&(console.log("   - Invoice result exists but no items"),console.log("   - Result keys:",Object.keys(r.result)));return console.log(`
 === RESPONSE STRUCTURE ===`),console.log("   - Response keys:",Object.keys(r)),console.log("   - success:",r.success),console.log("   - message:",r.message||"N/A"),console.log("   - error:",r.error||"N/A"),console.log("   - result exists:",!!r.result),console.log("   - items exists:",!!(r.result&&r.result.items)),r}catch(n){throw console.error(" Error creating invoice from cart:",n),console.error("   - Error name:",n.name),console.error("   - Error message:",n.message),console.error("   - Error stack:",n.stack),n}}static async getOrdersByCustomer(t){try{const n=Re();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=await fetch(`${fe.BASE_URL}${we.HOADON.BY_CUSTOMER(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`Ly ha n tht bi: ${s.statusText}`);return await s.json()}catch(n){throw console.error(`Error getting invoices for customer ${t}:`,n),n}}static async getOrderById(t){try{const n=Re();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=await fetch(`${fe.BASE_URL}${we.HOADON.BY_ID(t)}`,{method:"GET",headers:{Authorization:`Bearer ${n}`}});if(!s.ok)throw new Error(`Ly ha n tht bi: ${s.statusText}`);return await s.json()}catch(n){throw console.error(`Error getting invoice ${t}:`,n),n}}static async getOrderDetails(t){try{console.log(" Getting order details for maHD:",t);const n=Re();if(!n)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const s=await fetch(`${fe.BASE_URL}/api/chitiethoadon/${t}`,{method:"GET",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(console.log(" Order details API response status:",s.status),!s.ok)throw new Error(`Ly chi tit ha n tht bi: ${s.statusText}`);const o=await s.json();return console.log(" Order details received:",o),o}catch(n){throw console.error(`Error getting order details for ${t}:`,n),n}}static async updateOrderStatus(t,n){try{const s=Re();if(!s)throw new Error("Khng c token xc thc. Vui lng ng nhp li.");const o=await fetch(`${fe.BASE_URL}${we.HOADON.UPDATE_STATUS(t)}?trangThaiMoi=${encodeURIComponent(n)}`,{method:"PATCH",headers:{Authorization:`Bearer ${s}`}});if(!o.ok)throw new Error(`Cp nht trng thi ha n tht bi: ${o.statusText}`);return await o.json()}catch(s){throw console.error(`Error updating invoice ${t} status:`,s),s}}}function Ab(){const e=z([]),t=z(null),n=z(!1),s=z(null),o=async y=>{try{console.log(" useOrders.createOrderFromCart - Starting..."),console.log(" Order data:",JSON.stringify(y,null,2)),n.value=!0,s.value=null,console.log(" Calling OrderService.createOrderFromCart...");const h=await dn.createOrderFromCart(y);return console.log(" Service result received:",JSON.stringify(h,null,2)),h.success&&h.result?(console.log(" Invoice created successfully, updating local state..."),console.log(`   - Invoice ID: ${h.result.maHD||h.result.id}`),console.log(`   - Customer: ${h.result.maKH}`),console.log(`   - Status: ${h.result.trangThai}`),e.value.unshift(h.result),t.value=h.result,console.log(" Local state updated:"),console.log(`   - Total invoices: ${e.value.length}`),console.log(`   - Current invoice set: ${t.value?"Yes":"No"}`)):(console.log(" Invoice creation result missing success or result data"),console.log("   - success:",h.success),console.log("   - result:",h.result?"Present":"Missing")),h}catch(h){throw console.error(" Error in useOrders.createOrderFromCart:",h),s.value=h.message,console.error("Error creating order from cart:",h),h}finally{n.value=!1,console.log(" createOrderFromCart completed, loading set to false")}},r=async y=>{try{n.value=!0,s.value=null,console.log(" Loading orders for customer:",y);const h=await dn.getOrdersByCustomer(y);let $=[];h&&h.success&&Array.isArray(h.result)?$=h.result:Array.isArray(h)?$=h:(console.warn(" Unexpected response format:",h),$=[]),console.log(` Loading details for ${$.length} orders...`);const E=await Promise.all($.map(async C=>{try{console.log(` Loading details for order ${C.maHD}`);const x=await dn.getOrderDetails(C.maHD);let k=[];return x&&x.success&&Array.isArray(x.result)?k=x.result:Array.isArray(x)?k=x:(console.warn(` Unexpected details format for order ${C.maHD}:`,x),k=[]),console.log(` Loaded ${k.length} items for order ${C.maHD}`),{...C,chiTietHoaDon:k}}catch(x){return console.error(` Error loading details for order ${C.maHD}:`,x),{...C,chiTietHoaDon:[]}}}));return e.value=E,console.log(" Orders with details loaded, count:",e.value.length),E}catch(h){return s.value=h.message,console.error("Error loading customer invoices:",h),[]}finally{n.value=!1}},a=async y=>{try{n.value=!0,s.value=null;const h=await dn.getOrderById(y);return t.value=h,h}catch(h){return s.value=h.message,console.error("Error loading invoice by ID:",h),null}finally{n.value=!1}},l=async(y,h)=>{try{n.value=!0,s.value=null;const $=await dn.updateOrderStatus(y,h),E=e.value.findIndex(C=>C.id===y||C.maHD===y);return E!==-1&&(e.value[E].trangThai=h),t.value&&(t.value.id===y||t.value.maHD===y)&&(t.value.trangThai=h),$}catch($){throw s.value=$.message,console.error("Error updating invoice status:",$),$}finally{n.value=!1}},c=y=>{e.value=e.value.filter(h=>h.id!==y&&h.maHD!==y),t.value&&(t.value.id===y||t.value.maHD===y)&&(t.value=null)},d=()=>{e.value=[],t.value=null},u=y=>e.value.find(h=>h.id===y||h.maHD===y)||null,f=y=>e.value.filter(h=>h.trangThai===y),g=async y=>{try{return n.value=!0,s.value=null,await dn.getOrderDetails(y)}catch(h){return s.value=h.message,console.error("Error loading order details:",h),null}finally{n.value=!1}},m=y=>!y||!y.items?0:y.items.reduce((h,$)=>{const E=$.donGia||$.giaBan||$.gia||0,C=$.soLuong||0;return h+E*C},0);return{orders:ee(()=>e.value),currentOrder:ee(()=>t.value),loading:ee(()=>n.value),error:ee(()=>s.value),createOrderFromCart:o,loadCustomerOrders:r,loadOrderById:a,loadOrderDetails:g,updateOrderStatus:l,removeOrderFromList:c,clearOrders:d,findOrderById:u,filterOrdersByStatus:f,calculateOrderTotal:m}}const $b={class:"cart-page"},Ib={class:"container py-5 mt-5"},xb={"aria-label":"breadcrumb",class:"mb-4"},Rb={class:"breadcrumb"},Pb={class:"breadcrumb-item"},Ob={key:0,class:"row"},Db={class:"col-lg-8"},Lb={class:"card"},Mb={class:"card-body"},Nb={class:"table-responsive"},Ub={class:"table align-middle"},Hb={class:"table-light"},Bb={width:"50"},Kb={class:"form-check"},Fb=["checked"],Vb={class:"form-check"},Gb=["checked","onChange","id"],jb={class:"d-flex align-items-center"},qb=["src","alt","onClick"],Wb=["onClick"],Yb={class:"text-muted"},zb={class:"fw-bold text-danger"},Qb={class:"quantity-controls"},Jb=["onClick","disabled"],Xb={class:"quantity-display"},Zb=["onClick"],e1={class:"fw-bold text-danger fs-6"},t1=["onClick"],n1={class:"col-lg-4"},s1={class:"card sticky-top",style:{top:"100px"}},o1={class:"card-body"},r1={class:"order-summary"},a1={class:"d-flex justify-content-between mb-2"},i1={class:"d-flex justify-content-between mb-2"},l1={key:0,class:"small text-success mb-2"},c1={key:1,class:"small text-muted mb-2"},u1={class:"d-flex justify-content-between mb-3"},d1={class:"text-danger fs-5"},f1=["disabled"],h1={key:1,class:"row"},g1={class:"col-12"},p1={class:"empty-cart text-center py-5"},m1={__name:"Cart",setup(e){const t=In(),{formatPrice:n,getCategoryById:s,products:o,showNotification:r}=xn(),{cart:a,cartCount:l,removeFromCart:c,updateCartQuantity:d,reloadCartFromBackend:u,getBackendCartSnapshot:f}=Xs(),{createOrderFromCart:g}=Ab(),m=z(new Set);z("123 ng ABC, Qun 1, TP.HCM");const y=ee(()=>a.value.map(j=>{const R=o.value.find(ue=>ue.id===j.productId);return{...j,product:R}}).filter(j=>j.product)),h=ee(()=>y.value.reduce((j,R)=>j+(R.product?.price||0)*R.quantity,0)),$=ee(()=>h.value>=2e5?0:3e4);ee(()=>h.value+$.value),ee(()=>y.value.reduce((j,R)=>j+R.quantity,0));const E=ee(()=>y.value.filter(j=>m.value.has(j.productId))),C=ee(()=>E.value.reduce((j,R)=>j+(R.product?.price||0)*R.quantity,0)),x=ee(()=>C.value>=2e5?0:3e4),k=ee(()=>C.value+x.value),G=ee(()=>E.value.reduce((j,R)=>j+R.quantity,0)),N=ee(()=>y.value.length>0&&y.value.every(j=>m.value.has(j.productId))),b=j=>{t.push({name:"ProductDetail",params:{id:j}})},P=j=>{const R=s(j);return R?R.name:"Khng xc nh"},D=(j,R)=>{if(R<=0){const ue=y.value.find(J=>J.productId===j);S(j,ue?.product?.name||"Sn phm")}else d(j,R)},S=(j,R)=>{confirm(`Bn c chc mun xa "${R}" khi gi hng?`)&&(c(j),m.value.delete(j),r(` xa ${R} khi gi hng!`,"info"))},B=async()=>{try{if(m.value.size===0){r("Vui lng chn sn phm  thanh ton!","warning");return}const j=JSON.parse(localStorage.getItem("easymart-user")||"null");if(!j){const F=Array.from(m.value);localStorage.setItem("easymart-selected-items",JSON.stringify(F)),localStorage.setItem("easymart-redirect-after-login","/checkout"),r("Vui lng ng nhp  tin hnh thanh ton!","warning"),t.push("/login");return}console.log(" Loading cart data before checkout..."),await u();const R=a.value;try{console.log(" Backend cart items:",R),console.log(" Backend cart items type:",typeof R),console.log(" Backend cart items length:",R?.length)}catch(F){console.error(" Error logging backend cart items:",F),r("Li khi x l d liu gi hng. Vui lng th li.","error");return}console.log(" User object from localStorage:",j);const ue=await f(),J=ue.maKH||j?.maKH||j?.id||j?.maNguoiDung||localStorage.getItem("easymart-user-id");if(console.log(" maKH resolved:",J),console.log(" cartSnapshot.maKH:",ue.maKH),!J){r("Khng th xc nh m khch hng. Vui lng ng nhp li.","error");return}const q=j?.maNV||"NV001";console.log(" User info for checkout:"),console.log("   - user object:",j),console.log("   - maKH resolved:",J),console.log("   - maNV resolved:",q),console.log(" selectedItems.value:",m.value);const Le=Array.from(m.value);console.log(" Selected product IDs:",Le),console.log(" Filtering backend items..."),console.log(" backendCartItems:",R),console.log(" selectedProductIds:",Le);const Ne=R.filter(F=>(console.log(" Checking backendItem:",F),console.log(" backendItem.productId:",F.productId),console.log(" selectedProductIds.includes(backendItem.productId):",Le.includes(F.productId)),Le.includes(F.productId)));console.log(" Selected backend items:",Ne);try{console.log(" Backend cart items structure:"),R.forEach((F,Se)=>{console.log(`   Item ${Se}:`,{keys:Object.keys(F),values:Object.values(F)})}),console.log(" Selected backend items structure:"),Ne.forEach((F,Se)=>{console.log(`   Selected Item ${Se}:`,{keys:Object.keys(F),values:Object.values(F)}),console.log(`   Selected Item ${Se} details:`,{productId:F.productId,itemId:F.itemId,quantity:F.quantity,price:F.price}),console.log(`   Selected Item ${Se} original data:`,F.originalData)})}catch(F){console.error(" Error logging cart structure:",F),r("Li khi x l cu trc gi hng. Vui lng th li.","error");return}const Be=F=>F.itemId,de=Ne.filter(F=>!Be(F));if(de.length>0){console.warn(" Some selected items are missing cart item ID. Items:",de.map(F=>F.productId)),console.log(" Available fields for missing items:"),de.forEach(F=>{console.log(`   Product ${F.productId}:`,Object.keys(F))}),r("Khng th to ha n: mt s sn phm cha c ID gi hng. Vui lng lm mi gi hng v th li.","error");return}const T=Ne.map(F=>String(Be(F)));console.log(" Selected cart item IDs:",T);const Y={maKH:J,maNV:q||"NV001",selectedCartItemIds:T,trangThai:0};console.log(" Building invoice payload from cart:"),console.log("   - maKH:",Y.maKH),console.log("   - maNV:",Y.maNV),console.log("   - selectedCartItemIds:",Y.selectedCartItemIds),console.log("   - trangThai:",Y.trangThai);try{r("ang to ha n t gi...","info"),console.log(" Calling createOrderFromCart with payload:",Y);const F=await g(Y);if(console.log(" createOrderFromCart result:",F),F?.success){r("To ha n thnh cng!","success");const Se={maHD:F.result?.maHD,maKH:F.result?.maKH,items:F.result?.items||[],tongTien:F.result?.tongTien,ngayLap:F.result?.ngayLap,trangThai:F.result?.trangThai};localStorage.setItem("easymart-invoice",JSON.stringify(Se)),localStorage.setItem("easymart-selected-items",JSON.stringify(T)),console.log(" Items  c chuyn sang ha n, backend s xa khi gi hng"),setTimeout(()=>{t.push("/checkout")},1e3)}else r(F?.message||"Khng th to ha n","error")}catch(F){console.error(" Checkout failed:",F),r(F?.message||"Thanh ton tht bi","error")}}catch(j){console.error(" Checkout function error:",j),r("Li khng mong mun trong qu trnh thanh ton. Vui lng th li.","error")}},_=j=>{m.value.has(j)?m.value.delete(j):m.value.add(j)},X=()=>{N.value?m.value.clear():y.value.forEach(j=>{m.value.add(j.productId)})};return(j,R)=>{const ue=cn("router-link");return A(),I("div",$b,[i("div",Ib,[i("nav",xb,[i("ol",Rb,[i("li",Pb,[ce(ue,{to:"/",class:"text-decoration-none"},{default:Oe(()=>R[0]||(R[0]=[i("i",{class:"fas fa-home"},null,-1),W(" Trang ch ")])),_:1,__:[0]})]),R[1]||(R[1]=i("li",{class:"breadcrumb-item active","aria-current":"page"},[i("i",{class:"fas fa-shopping-cart"}),W(" Gi hng ")],-1))])]),R[23]||(R[23]=i("h2",{class:"mb-4"},[i("i",{class:"fas fa-shopping-cart text-primary me-2"}),W(" Gi hng ca bn ")],-1)),H(a).length>0?(A(),I("div",Ob,[i("div",Db,[i("div",Lb,[i("div",Mb,[i("div",Nb,[i("table",Ub,[i("thead",Hb,[i("tr",null,[i("th",Bb,[i("div",Kb,[i("input",{class:"form-check-input",type:"checkbox",checked:N.value,onChange:X,id:"selectAll"},null,40,Fb),R[2]||(R[2]=i("label",{class:"form-check-label",for:"selectAll"}," Tt c ",-1))])]),R[3]||(R[3]=i("th",null,"Sn phm",-1)),R[4]||(R[4]=i("th",null,"n gi",-1)),R[5]||(R[5]=i("th",null,"S lng",-1)),R[6]||(R[6]=i("th",null,"Thnh tin",-1)),R[7]||(R[7]=i("th",null,null,-1))])]),i("tbody",null,[(A(!0),I(me,null,Pe(y.value,J=>(A(),I("tr",{key:J.productId},[i("td",null,[i("div",Vb,[i("input",{class:"form-check-input",type:"checkbox",checked:m.value.has(J.productId),onChange:q=>_(J.productId),id:`item-${J.productId}`},null,40,Gb)])]),i("td",null,[i("div",jb,[i("img",{src:J.product?.image,alt:J.product?.name,class:"cart-item-image me-3",onClick:q=>b(J.productId)},null,8,qb),i("div",null,[i("h6",{class:"mb-1 product-name",onClick:q=>b(J.productId)},K(J.product?.name),9,Wb),i("small",Yb," Danh mc: "+K(P(J.product?.categoryId)),1)])])]),i("td",null,[i("span",zb,K(H(n)(J.product?.price||0)),1)]),i("td",null,[i("div",Qb,[i("button",{class:"btn btn-outline-secondary btn-sm",onClick:q=>D(J.productId,J.quantity-1),disabled:J.quantity<=1},R[8]||(R[8]=[i("i",{class:"fas fa-minus"},null,-1)]),8,Jb),i("span",Xb,K(J.quantity),1),i("button",{class:"btn btn-outline-secondary btn-sm",onClick:q=>D(J.productId,J.quantity+1)},R[9]||(R[9]=[i("i",{class:"fas fa-plus"},null,-1)]),8,Zb)])]),i("td",null,[i("span",e1,K(H(n)((J.product?.price||0)*J.quantity)),1)]),i("td",null,[i("button",{class:"btn btn-outline-danger btn-sm",onClick:q=>S(J.productId,J.product?.name),title:"Xa sn phm"},R[10]||(R[10]=[i("i",{class:"fas fa-trash"},null,-1)]),8,t1)])]))),128))])])])])])]),i("div",n1,[i("div",s1,[R[18]||(R[18]=i("div",{class:"card-header bg-primary text-white"},[i("h5",{class:"mb-0"},[i("i",{class:"fas fa-receipt me-2"}),W(" Tng kt n hng ")])],-1)),i("div",o1,[i("div",r1,[i("div",a1,[i("span",null," chn ("+K(G.value)+" sn phm):",1),i("span",null,K(H(n)(C.value)),1)]),i("div",i1,[R[11]||(R[11]=i("span",null,"Ph vn chuyn:",-1)),i("span",{class:ve(x.value===0?"text-success":"")},K(x.value===0?"Min ph":H(n)(x.value)),3)]),x.value===0?(A(),I("div",l1,R[12]||(R[12]=[i("i",{class:"fas fa-check-circle me-1"},null,-1),W(" Bn c min ph vn chuyn! ")]))):C.value>0?(A(),I("div",c1,[R[13]||(R[13]=i("i",{class:"fas fa-info-circle me-1"},null,-1)),W(" Mua thm "+K(H(n)(2e5-C.value))+"  c min ph ship ",1)])):he("",!0),R[17]||(R[17]=i("hr",null,null,-1)),i("div",u1,[R[14]||(R[14]=i("strong",{class:"fs-5"},"Tng cng:",-1)),i("strong",d1,K(H(n)(k.value)),1)]),i("button",{class:"btn btn-primary w-100 mb-2 py-2",onClick:B,disabled:m.value.size===0},R[15]||(R[15]=[i("i",{class:"fas fa-credit-card me-2"},null,-1),W(" Tin hnh thanh ton ")]),8,f1),ce(ue,{to:"/",class:"btn btn-outline-secondary w-100"},{default:Oe(()=>R[16]||(R[16]=[i("i",{class:"fas fa-arrow-left me-2"},null,-1),W(" Tip tc mua sm ")])),_:1,__:[16]})])])])])])):(A(),I("div",h1,[i("div",g1,[i("div",p1,[R[20]||(R[20]=i("div",{class:"empty-cart-icon mb-4"},[i("i",{class:"fas fa-shopping-cart fa-5x text-muted"})],-1)),R[21]||(R[21]=i("h3",{class:"text-muted mb-3"},"Gi hng trng",-1)),R[22]||(R[22]=i("p",{class:"text-muted mb-4"},"Bn cha c sn phm no trong gi hng",-1)),ce(ue,{to:"/",class:"btn btn-primary btn-lg"},{default:Oe(()=>R[19]||(R[19]=[i("i",{class:"fas fa-shopping-bag me-2"},null,-1),W(" Bt u mua sm ")])),_:1,__:[19]})])])]))])])}}},v1=Je(m1,[["__scopeId","data-v-90b9c2bf"]]),y1=[{path:"/",name:"Home",component:av,meta:{title:"EasyMart - Siu th thc phm online",description:"Mua sm thc phm ti sng, hng ha cht lng cao vi gi tt nht"}},{path:"/promotions",name:"Promotions",component:()=>Ke(()=>import("./Promotions-DxAgVKtf.js"),__vite__mapDeps([0,1])),meta:{title:"Khuyn mi - EasyMart",description:"Khm ph cc u i v m gim gi hp dn ti EasyMart"}},{path:"/product/:id",name:"ProductDetail",component:Eb,props:!0,meta:{title:"Chi tit sn phm - EasyMart",description:"Xem chi tit sn phm vi thng tin y , hnh nh cht lng cao"}},{path:"/cart",name:"Cart",component:v1,meta:{title:"Gi hng - EasyMart",description:"Xem v qun l sn phm trong gi hng ca bn"}},{path:"/checkout",name:"Checkout",component:()=>Ke(()=>import("./Checkout-CUBi731r.js"),__vite__mapDeps([2,3])),meta:{title:"Thanh ton - EasyMart",description:"Tin hnh thanh ton n hng"}},{path:"/payment-success",name:"PaymentSuccess",component:()=>Ke(()=>import("./PaymentSuccess-BAbGEoL6.js"),__vite__mapDeps([4,5])),meta:{title:"Thanh ton thnh cng - EasyMart",description:"Xc nhn n hng  c thanh ton thnh cng"}},{path:"/search",name:"Search",component:()=>Ke(()=>import("./Search-DcD-tK2v.js"),__vite__mapDeps([6,7])),meta:{title:"Tm kim sn phm - EasyMart",description:"Tm kim v khm ph hng nghn sn phm cht lng ti EasyMart"}},{path:"/categories",name:"Categories",component:()=>Ke(()=>import("./Categories-DVV6Mhlf.js"),__vite__mapDeps([8,9])),meta:{title:"Danh mc sn phm - EasyMart",description:"Khm ph tt c danh mc sn phm ti EasyMart"}},{path:"/category/:id",name:"Category",component:()=>Ke(()=>import("./Category-DfQ5Adph.js"),__vite__mapDeps([10,11])),props:!0,meta:{title:"Danh mc sn phm - EasyMart",description:"Xem tt c sn phm trong danh mc"}},{path:"/about",name:"About",component:()=>Ke(()=>import("./About-XCDrGJEQ.js"),__vite__mapDeps([12,13])),meta:{title:"Gii thiu - EasyMart",description:"Thng tin v EasyMart - Siu th thc phm online uy tn"}},{path:"/contact",name:"Contact",component:()=>Ke(()=>import("./Contact-B30jjcXg.js"),__vite__mapDeps([14,15])),meta:{title:"Lin h - EasyMart",description:"Thng tin lin h v h tr khch hng"}},{path:"/login",name:"Login",component:()=>Ke(()=>import("./Login-CbmnDf1U.js"),__vite__mapDeps([16,17,18,19])),meta:{title:"ng nhp - EasyMart",description:"ng nhp vo ti khon EasyMart ca bn"}},{path:"/register",name:"Register",component:()=>Ke(()=>import("./Register-BIAH007S.js"),__vite__mapDeps([20,17,18,21])),meta:{title:"ng k - EasyMart",description:"To ti khon mi ti EasyMart"}},{path:"/forgot-password",name:"ForgotPassword",component:()=>Ke(()=>import("./ForgotPassword-DUDTU-wH.js"),__vite__mapDeps([22,23])),meta:{title:"Qun mt khu - EasyMart",description:"t li mt khu ti khon EasyMart ca bn"}},{path:"/profile",name:"Profile",component:()=>Ke(()=>import("./Profile-D8mA0_64.js"),__vite__mapDeps([24,25])),meta:{title:"H s c nhn - EasyMart",description:"Qun l thng tin c nhn v ti khon EasyMart"}},{path:"/orders",name:"Orders",component:()=>Ke(()=>import("./Orders-BJABqWIw.js"),__vite__mapDeps([26,27])),meta:{title:"n hng ca ti - EasyMart",description:"Xem v qun l tt c n hng ca bn ti EasyMart"}},{path:"/oauth2/success",name:"OAuth2Success",component:()=>Ke(()=>import("./OAuth2Success-jTegFWck.js"),__vite__mapDeps([28,29])),meta:{title:"ng nhp thnh cng - EasyMart",description:"ang x l ng nhp OAuth2..."}},{path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/"}],dr=Jd({history:Ed(),routes:y1,scrollBehavior(e,t,n){return n||{top:0}}});dr.beforeEach((e,t,n)=>{if(e.meta.title&&(document.title=e.meta.title),e.meta.description){const o=document.querySelector('meta[name="description"]');o&&o.setAttribute("content",e.meta.description)}if(["Checkout","PaymentSuccess","Orders","Profile"].includes(e.name)&&!JSON.parse(localStorage.getItem("easymart-user")||"null")){localStorage.setItem("easymart-redirect-after-login",e.fullPath),n({name:"Login"});return}n()});dr.afterEach(()=>{});async function b1(e,t={}){const n=Re();if(!n)throw new Error("No JWT token found. Please login again.");const s={headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",...t.headers}},o=e.startsWith("http")?e:`${fe.BASE_URL}${e}`;try{const r=await fetch(o,{...t,...s,headers:{...s.headers,...t.headers}});if(!r.ok){if(r.status===401){console.warn("JWT token expired or invalid"),af(),localStorage.removeItem("easymart-user"),window.location.href="/login";return}const a=await r.json().catch(()=>null);throw new Error(a?.message||`API call failed: ${r.statusText}`)}return await r.json()}catch(r){throw console.error("API call error:",r),r}}function _1(){const e=Re();if(!e)return!1;try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3);return t.exp>n}catch(t){return console.error("Error validating token:",t),!1}}async function wa(){const e=Re();if(e)try{const t=JSON.parse(atob(e.split(".")[1])),n=Math.floor(Date.now()/1e3),s=t.exp-n;if(s<300&&s>0){console.log("Token expiring soon, attempting refresh...");const o=await b1("/api/oauth2/get-jwt-token");o.success&&o.result.jwt_token&&(rf(o.result.jwt_token),console.log(" Token refreshed successfully"))}}catch(t){console.error("Auto-refresh failed:",t)}}function w1(){return wa(),setInterval(wa,6e4)}const vl=Wu(Sp);vl.use(dr);_1()&&(console.log("Starting JWT token auto-refresh..."),w1());typeof window<"u"&&(setInterval(async()=>{const{autoLogoutIfInvalid:e}=os();await e()},3e4),window.addEventListener("focus",async()=>{const{autoLogoutIfInvalid:e}=os();await e()}),console.log(" Auto-logout checking enabled (30s interval + on focus)"));vl.mount("#app");export{fe as A,Zd as B,zf as C,st as D,Fi as E,me as F,Gu as G,zn as H,Do as I,ml as J,It as K,Ot as L,T1 as M,Ki as N,ef as O,pl as P,es as Q,Ab as R,Re as S,rf as T,Je as _,i as a,Dt as b,I as c,he as d,Pe as e,ve as f,W as g,ct as h,ce as i,Oe as j,cn as k,H as l,In as m,bn as n,A as o,Xs as p,ee as q,z as r,dt as s,K as t,xn as u,wn as v,He as w,os as x,Hu as y,we as z};
